var $7=Object.defineProperty;var OP=e=>{throw TypeError(e)};var D7=(e,t,n)=>t in e?$7(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ge=(e,t,n)=>D7(e,typeof t!="symbol"?t+"":t,n),zj=(e,t,n)=>t.has(e)||OP("Cannot "+n);var de=(e,t,n)=>(zj(e,t,"read from private field"),n?n.call(e):t.get(e)),vt=(e,t,n)=>t.has(e)?OP("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),et=(e,t,n,s)=>(zj(e,t,"write to private field"),s?s.call(e,n):t.set(e,n),n),Rt=(e,t,n)=>(zj(e,t,"access private method"),n);var fx=(e,t,n,s)=>({set _(a){et(e,t,a,n)},get _(){return de(e,t,s)}});function R7(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(s,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();var Ah=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ar(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var PO={exports:{}},Sy={},AO={exports:{}},Yt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wp=Symbol.for("react.element"),z7=Symbol.for("react.portal"),F7=Symbol.for("react.fragment"),B7=Symbol.for("react.strict_mode"),q7=Symbol.for("react.profiler"),U7=Symbol.for("react.provider"),V7=Symbol.for("react.context"),W7=Symbol.for("react.forward_ref"),K7=Symbol.for("react.suspense"),H7=Symbol.for("react.memo"),G7=Symbol.for("react.lazy"),IP=Symbol.iterator;function Z7(e){return e===null||typeof e!="object"?null:(e=IP&&e[IP]||e["@@iterator"],typeof e=="function"?e:null)}var kO={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},EO=Object.assign,TO={};function vm(e,t,n){this.props=e,this.context=t,this.refs=TO,this.updater=n||kO}vm.prototype.isReactComponent={};vm.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};vm.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function OO(){}OO.prototype=vm.prototype;function O2(e,t,n){this.props=e,this.context=t,this.refs=TO,this.updater=n||kO}var I2=O2.prototype=new OO;I2.constructor=O2;EO(I2,vm.prototype);I2.isPureReactComponent=!0;var MP=Array.isArray,IO=Object.prototype.hasOwnProperty,M2={current:null},MO={key:!0,ref:!0,__self:!0,__source:!0};function LO(e,t,n){var s,a={},i=null,o=null;if(t!=null)for(s in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)IO.call(t,s)&&!MO.hasOwnProperty(s)&&(a[s]=t[s]);var l=arguments.length-2;if(l===1)a.children=n;else if(1<l){for(var d=Array(l),u=0;u<l;u++)d[u]=arguments[u+2];a.children=d}if(e&&e.defaultProps)for(s in l=e.defaultProps,l)a[s]===void 0&&(a[s]=l[s]);return{$$typeof:wp,type:e,key:i,ref:o,props:a,_owner:M2.current}}function Q7(e,t){return{$$typeof:wp,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function L2(e){return typeof e=="object"&&e!==null&&e.$$typeof===wp}function Y7(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var LP=/\/+/g;function Fj(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Y7(""+e.key):t.toString(36)}function tg(e,t,n,s,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case wp:case z7:o=!0}}if(o)return o=e,a=a(o),e=s===""?"."+Fj(o,0):s,MP(a)?(n="",e!=null&&(n=e.replace(LP,"$&/")+"/"),tg(a,t,n,"",function(u){return u})):a!=null&&(L2(a)&&(a=Q7(a,n+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(LP,"$&/")+"/")+e)),t.push(a)),1;if(o=0,s=s===""?".":s+":",MP(e))for(var l=0;l<e.length;l++){i=e[l];var d=s+Fj(i,l);o+=tg(i,t,n,d,a)}else if(d=Z7(e),typeof d=="function")for(e=d.call(e),l=0;!(i=e.next()).done;)i=i.value,d=s+Fj(i,l++),o+=tg(i,t,n,d,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function px(e,t,n){if(e==null)return e;var s=[],a=0;return tg(e,s,"","",function(i){return t.call(n,i,a++)}),s}function X7(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var is={current:null},rg={transition:null},J7={ReactCurrentDispatcher:is,ReactCurrentBatchConfig:rg,ReactCurrentOwner:M2};function $O(){throw Error("act(...) is not supported in production builds of React.")}Yt.Children={map:px,forEach:function(e,t,n){px(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return px(e,function(){t++}),t},toArray:function(e){return px(e,function(t){return t})||[]},only:function(e){if(!L2(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Yt.Component=vm;Yt.Fragment=F7;Yt.Profiler=q7;Yt.PureComponent=O2;Yt.StrictMode=B7;Yt.Suspense=K7;Yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=J7;Yt.act=$O;Yt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=EO({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=M2.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(d in t)IO.call(t,d)&&!MO.hasOwnProperty(d)&&(s[d]=t[d]===void 0&&l!==void 0?l[d]:t[d])}var d=arguments.length-2;if(d===1)s.children=n;else if(1<d){l=Array(d);for(var u=0;u<d;u++)l[u]=arguments[u+2];s.children=l}return{$$typeof:wp,type:e.type,key:a,ref:i,props:s,_owner:o}};Yt.createContext=function(e){return e={$$typeof:V7,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:U7,_context:e},e.Consumer=e};Yt.createElement=LO;Yt.createFactory=function(e){var t=LO.bind(null,e);return t.type=e,t};Yt.createRef=function(){return{current:null}};Yt.forwardRef=function(e){return{$$typeof:W7,render:e}};Yt.isValidElement=L2;Yt.lazy=function(e){return{$$typeof:G7,_payload:{_status:-1,_result:e},_init:X7}};Yt.memo=function(e,t){return{$$typeof:H7,type:e,compare:t===void 0?null:t}};Yt.startTransition=function(e){var t=rg.transition;rg.transition={};try{e()}finally{rg.transition=t}};Yt.unstable_act=$O;Yt.useCallback=function(e,t){return is.current.useCallback(e,t)};Yt.useContext=function(e){return is.current.useContext(e)};Yt.useDebugValue=function(){};Yt.useDeferredValue=function(e){return is.current.useDeferredValue(e)};Yt.useEffect=function(e,t){return is.current.useEffect(e,t)};Yt.useId=function(){return is.current.useId()};Yt.useImperativeHandle=function(e,t,n){return is.current.useImperativeHandle(e,t,n)};Yt.useInsertionEffect=function(e,t){return is.current.useInsertionEffect(e,t)};Yt.useLayoutEffect=function(e,t){return is.current.useLayoutEffect(e,t)};Yt.useMemo=function(e,t){return is.current.useMemo(e,t)};Yt.useReducer=function(e,t,n){return is.current.useReducer(e,t,n)};Yt.useRef=function(e){return is.current.useRef(e)};Yt.useState=function(e){return is.current.useState(e)};Yt.useSyncExternalStore=function(e,t,n){return is.current.useSyncExternalStore(e,t,n)};Yt.useTransition=function(){return is.current.useTransition()};Yt.version="18.3.1";AO.exports=Yt;var N=AO.exports;const R=ar(N),$2=R7({__proto__:null,default:R},[N]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eB=N,tB=Symbol.for("react.element"),rB=Symbol.for("react.fragment"),nB=Object.prototype.hasOwnProperty,sB=eB.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,aB={key:!0,ref:!0,__self:!0,__source:!0};function DO(e,t,n){var s,a={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(s in t)nB.call(t,s)&&!aB.hasOwnProperty(s)&&(a[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)a[s]===void 0&&(a[s]=t[s]);return{$$typeof:tB,type:e,key:i,ref:o,props:a,_owner:sB.current}}Sy.Fragment=rB;Sy.jsx=DO;Sy.jsxs=DO;PO.exports=Sy;var r=PO.exports,RO={exports:{}},Gs={},zO={exports:{}},FO={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(q,U){var Q=q.length;q.push(U);e:for(;0<Q;){var he=Q-1>>>1,ue=q[he];if(0<a(ue,U))q[he]=U,q[Q]=ue,Q=he;else break e}}function n(q){return q.length===0?null:q[0]}function s(q){if(q.length===0)return null;var U=q[0],Q=q.pop();if(Q!==U){q[0]=Q;e:for(var he=0,ue=q.length,ce=ue>>>1;he<ce;){var G=2*(he+1)-1,J=q[G],ye=G+1,Se=q[ye];if(0>a(J,Q))ye<ue&&0>a(Se,J)?(q[he]=Se,q[ye]=Q,he=ye):(q[he]=J,q[G]=Q,he=G);else if(ye<ue&&0>a(Se,Q))q[he]=Se,q[ye]=Q,he=ye;else break e}}return U}function a(q,U){var Q=q.sortIndex-U.sortIndex;return Q!==0?Q:q.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var d=[],u=[],h=1,m=null,p=3,g=!1,y=!1,x=!1,v=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(q){for(var U=n(u);U!==null;){if(U.callback===null)s(u);else if(U.startTime<=q)s(u),U.sortIndex=U.expirationTime,t(d,U);else break;U=n(u)}}function C(q){if(x=!1,S(q),!y)if(n(d)!==null)y=!0,E(_);else{var U=n(u);U!==null&&V(C,U.startTime-q)}}function _(q,U){y=!1,x&&(x=!1,j(T),T=-1),g=!0;var Q=p;try{for(S(U),m=n(d);m!==null&&(!(m.expirationTime>U)||q&&!z());){var he=m.callback;if(typeof he=="function"){m.callback=null,p=m.priorityLevel;var ue=he(m.expirationTime<=U);U=e.unstable_now(),typeof ue=="function"?m.callback=ue:m===n(d)&&s(d),S(U)}else s(d);m=n(d)}if(m!==null)var ce=!0;else{var G=n(u);G!==null&&V(C,G.startTime-U),ce=!1}return ce}finally{m=null,p=Q,g=!1}}var A=!1,k=null,T=-1,O=5,M=-1;function z(){return!(e.unstable_now()-M<O)}function F(){if(k!==null){var q=e.unstable_now();M=q;var U=!0;try{U=k(!0,q)}finally{U?Z():(A=!1,k=null)}}else A=!1}var Z;if(typeof b=="function")Z=function(){b(F)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,$=D.port2;D.port1.onmessage=F,Z=function(){$.postMessage(null)}}else Z=function(){v(F,0)};function E(q){k=q,A||(A=!0,Z())}function V(q,U){T=v(function(){q(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(q){q.callback=null},e.unstable_continueExecution=function(){y||g||(y=!0,E(_))},e.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<q?Math.floor(1e3/q):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(d)},e.unstable_next=function(q){switch(p){case 1:case 2:case 3:var U=3;break;default:U=p}var Q=p;p=U;try{return q()}finally{p=Q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(q,U){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var Q=p;p=q;try{return U()}finally{p=Q}},e.unstable_scheduleCallback=function(q,U,Q){var he=e.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?he+Q:he):Q=he,q){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=Q+ue,q={id:h++,callback:U,priorityLevel:q,startTime:Q,expirationTime:ue,sortIndex:-1},Q>he?(q.sortIndex=Q,t(u,q),n(d)===null&&q===n(u)&&(x?(j(T),T=-1):x=!0,V(C,Q-he))):(q.sortIndex=ue,t(d,q),y||g||(y=!0,E(_))),q},e.unstable_shouldYield=z,e.unstable_wrapCallback=function(q){var U=p;return function(){var Q=p;p=U;try{return q.apply(this,arguments)}finally{p=Q}}}})(FO);zO.exports=FO;var iB=zO.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oB=N,Ws=iB;function Ve(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var BO=new Set,rf={};function ad(e,t){Tu(e,t),Tu(e+"Capture",t)}function Tu(e,t){for(rf[e]=t,e=0;e<t.length;e++)BO.add(t[e])}var vo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gw=Object.prototype.hasOwnProperty,lB=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$P={},DP={};function cB(e){return gw.call(DP,e)?!0:gw.call($P,e)?!1:lB.test(e)?DP[e]=!0:($P[e]=!0,!1)}function dB(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function uB(e,t,n,s){if(t===null||typeof t>"u"||dB(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function os(e,t,n,s,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var kn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){kn[e]=new os(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];kn[t]=new os(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){kn[e]=new os(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){kn[e]=new os(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){kn[e]=new os(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){kn[e]=new os(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){kn[e]=new os(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){kn[e]=new os(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){kn[e]=new os(e,5,!1,e.toLowerCase(),null,!1,!1)});var D2=/[\-:]([a-z])/g;function R2(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(D2,R2);kn[t]=new os(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(D2,R2);kn[t]=new os(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(D2,R2);kn[t]=new os(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){kn[e]=new os(e,1,!1,e.toLowerCase(),null,!1,!1)});kn.xlinkHref=new os("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){kn[e]=new os(e,1,!1,e.toLowerCase(),null,!0,!0)});function z2(e,t,n,s){var a=kn.hasOwnProperty(t)?kn[t]:null;(a!==null?a.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(uB(t,n,a,s)&&(n=null),s||a===null?cB(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=n===null?a.type===3?!1:"":n:(t=a.attributeName,s=a.attributeNamespace,n===null?e.removeAttribute(t):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var Oo=oB.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,xx=Symbol.for("react.element"),Fd=Symbol.for("react.portal"),Bd=Symbol.for("react.fragment"),F2=Symbol.for("react.strict_mode"),vw=Symbol.for("react.profiler"),qO=Symbol.for("react.provider"),UO=Symbol.for("react.context"),B2=Symbol.for("react.forward_ref"),yw=Symbol.for("react.suspense"),jw=Symbol.for("react.suspense_list"),q2=Symbol.for("react.memo"),Go=Symbol.for("react.lazy"),VO=Symbol.for("react.offscreen"),RP=Symbol.iterator;function ih(e){return e===null||typeof e!="object"?null:(e=RP&&e[RP]||e["@@iterator"],typeof e=="function"?e:null)}var zr=Object.assign,Bj;function kh(e){if(Bj===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Bj=t&&t[1]||""}return`
`+Bj+e}var qj=!1;function Uj(e,t){if(!e||qj)return"";qj=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var s=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){s=u}e.call(t.prototype)}else{try{throw Error()}catch(u){s=u}e()}}catch(u){if(u&&s&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=s.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var d=`
`+a[o].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=o&&0<=l);break}}}finally{qj=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?kh(e):""}function mB(e){switch(e.tag){case 5:return kh(e.type);case 16:return kh("Lazy");case 13:return kh("Suspense");case 19:return kh("SuspenseList");case 0:case 2:case 15:return e=Uj(e.type,!1),e;case 11:return e=Uj(e.type.render,!1),e;case 1:return e=Uj(e.type,!0),e;default:return""}}function bw(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Bd:return"Fragment";case Fd:return"Portal";case vw:return"Profiler";case F2:return"StrictMode";case yw:return"Suspense";case jw:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case UO:return(e.displayName||"Context")+".Consumer";case qO:return(e._context.displayName||"Context")+".Provider";case B2:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case q2:return t=e.displayName||null,t!==null?t:bw(e.type)||"Memo";case Go:t=e._payload,e=e._init;try{return bw(e(t))}catch{}}return null}function hB(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return bw(t);case 8:return t===F2?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function El(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function WO(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function fB(e){var t=WO(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){s=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function gx(e){e._valueTracker||(e._valueTracker=fB(e))}function KO(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=WO(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function _g(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ww(e,t){var n=t.checked;return zr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function zP(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=El(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function HO(e,t){t=t.checked,t!=null&&z2(e,"checked",t,!1)}function Nw(e,t){HO(e,t);var n=El(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Sw(e,t.type,n):t.hasOwnProperty("defaultValue")&&Sw(e,t.type,El(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function FP(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Sw(e,t,n){(t!=="number"||_g(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Eh=Array.isArray;function su(e,t,n,s){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&s&&(e[n].defaultSelected=!0)}else{for(n=""+El(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,s&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function _w(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ve(91));return zr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function BP(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Ve(92));if(Eh(n)){if(1<n.length)throw Error(Ve(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:El(n)}}function GO(e,t){var n=El(t.value),s=El(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function qP(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ZO(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Cw(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ZO(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var vx,QO=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,a){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(vx=vx||document.createElement("div"),vx.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=vx.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function nf(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Dh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pB=["Webkit","ms","Moz","O"];Object.keys(Dh).forEach(function(e){pB.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Dh[t]=Dh[e]})});function YO(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Dh.hasOwnProperty(e)&&Dh[e]?(""+t).trim():t+"px"}function XO(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,a=YO(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,a):e[n]=a}}var xB=zr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Pw(e,t){if(t){if(xB[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ve(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ve(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ve(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ve(62))}}function Aw(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kw=null;function U2(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ew=null,au=null,iu=null;function UP(e){if(e=_p(e)){if(typeof Ew!="function")throw Error(Ve(280));var t=e.stateNode;t&&(t=ky(t),Ew(e.stateNode,e.type,t))}}function JO(e){au?iu?iu.push(e):iu=[e]:au=e}function eI(){if(au){var e=au,t=iu;if(iu=au=null,UP(e),t)for(e=0;e<t.length;e++)UP(t[e])}}function tI(e,t){return e(t)}function rI(){}var Vj=!1;function nI(e,t,n){if(Vj)return e(t,n);Vj=!0;try{return tI(e,t,n)}finally{Vj=!1,(au!==null||iu!==null)&&(rI(),eI())}}function sf(e,t){var n=e.stateNode;if(n===null)return null;var s=ky(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Ve(231,t,typeof n));return n}var Tw=!1;if(vo)try{var oh={};Object.defineProperty(oh,"passive",{get:function(){Tw=!0}}),window.addEventListener("test",oh,oh),window.removeEventListener("test",oh,oh)}catch{Tw=!1}function gB(e,t,n,s,a,i,o,l,d){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(h){this.onError(h)}}var Rh=!1,Cg=null,Pg=!1,Ow=null,vB={onError:function(e){Rh=!0,Cg=e}};function yB(e,t,n,s,a,i,o,l,d){Rh=!1,Cg=null,gB.apply(vB,arguments)}function jB(e,t,n,s,a,i,o,l,d){if(yB.apply(this,arguments),Rh){if(Rh){var u=Cg;Rh=!1,Cg=null}else throw Error(Ve(198));Pg||(Pg=!0,Ow=u)}}function id(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function sI(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function VP(e){if(id(e)!==e)throw Error(Ve(188))}function bB(e){var t=e.alternate;if(!t){if(t=id(e),t===null)throw Error(Ve(188));return t!==e?null:e}for(var n=e,s=t;;){var a=n.return;if(a===null)break;var i=a.alternate;if(i===null){if(s=a.return,s!==null){n=s;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return VP(a),e;if(i===s)return VP(a),t;i=i.sibling}throw Error(Ve(188))}if(n.return!==s.return)n=a,s=i;else{for(var o=!1,l=a.child;l;){if(l===n){o=!0,n=a,s=i;break}if(l===s){o=!0,s=a,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,s=a;break}if(l===s){o=!0,s=i,n=a;break}l=l.sibling}if(!o)throw Error(Ve(189))}}if(n.alternate!==s)throw Error(Ve(190))}if(n.tag!==3)throw Error(Ve(188));return n.stateNode.current===n?e:t}function aI(e){return e=bB(e),e!==null?iI(e):null}function iI(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=iI(e);if(t!==null)return t;e=e.sibling}return null}var oI=Ws.unstable_scheduleCallback,WP=Ws.unstable_cancelCallback,wB=Ws.unstable_shouldYield,NB=Ws.unstable_requestPaint,Hr=Ws.unstable_now,SB=Ws.unstable_getCurrentPriorityLevel,V2=Ws.unstable_ImmediatePriority,lI=Ws.unstable_UserBlockingPriority,Ag=Ws.unstable_NormalPriority,_B=Ws.unstable_LowPriority,cI=Ws.unstable_IdlePriority,_y=null,wi=null;function CB(e){if(wi&&typeof wi.onCommitFiberRoot=="function")try{wi.onCommitFiberRoot(_y,e,void 0,(e.current.flags&128)===128)}catch{}}var Ba=Math.clz32?Math.clz32:kB,PB=Math.log,AB=Math.LN2;function kB(e){return e>>>=0,e===0?32:31-(PB(e)/AB|0)|0}var yx=64,jx=4194304;function Th(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function kg(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,a=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~a;l!==0?s=Th(l):(i&=o,i!==0&&(s=Th(i)))}else o=n&~a,o!==0?s=Th(o):i!==0&&(s=Th(i));if(s===0)return 0;if(t!==0&&t!==s&&!(t&a)&&(a=s&-s,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(s&4&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-Ba(t),a=1<<n,s|=e[n],t&=~a;return s}function EB(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function TB(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Ba(i),l=1<<o,d=a[o];d===-1?(!(l&n)||l&s)&&(a[o]=EB(l,t)):d<=t&&(e.expiredLanes|=l),i&=~l}}function Iw(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function dI(){var e=yx;return yx<<=1,!(yx&4194240)&&(yx=64),e}function Wj(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Np(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ba(t),e[t]=n}function OB(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-Ba(n),i=1<<a;t[a]=0,s[a]=-1,e[a]=-1,n&=~i}}function W2(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-Ba(n),a=1<<s;a&t|e[s]&t&&(e[s]|=t),n&=~a}}var mr=0;function uI(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var mI,K2,hI,fI,pI,Mw=!1,bx=[],xl=null,gl=null,vl=null,af=new Map,of=new Map,Yo=[],IB="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function KP(e,t){switch(e){case"focusin":case"focusout":xl=null;break;case"dragenter":case"dragleave":gl=null;break;case"mouseover":case"mouseout":vl=null;break;case"pointerover":case"pointerout":af.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":of.delete(t.pointerId)}}function lh(e,t,n,s,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:i,targetContainers:[a]},t!==null&&(t=_p(t),t!==null&&K2(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function MB(e,t,n,s,a){switch(t){case"focusin":return xl=lh(xl,e,t,n,s,a),!0;case"dragenter":return gl=lh(gl,e,t,n,s,a),!0;case"mouseover":return vl=lh(vl,e,t,n,s,a),!0;case"pointerover":var i=a.pointerId;return af.set(i,lh(af.get(i)||null,e,t,n,s,a)),!0;case"gotpointercapture":return i=a.pointerId,of.set(i,lh(of.get(i)||null,e,t,n,s,a)),!0}return!1}function xI(e){var t=xc(e.target);if(t!==null){var n=id(t);if(n!==null){if(t=n.tag,t===13){if(t=sI(n),t!==null){e.blockedOn=t,pI(e.priority,function(){hI(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ng(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Lw(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);kw=s,n.target.dispatchEvent(s),kw=null}else return t=_p(n),t!==null&&K2(t),e.blockedOn=n,!1;t.shift()}return!0}function HP(e,t,n){ng(e)&&n.delete(t)}function LB(){Mw=!1,xl!==null&&ng(xl)&&(xl=null),gl!==null&&ng(gl)&&(gl=null),vl!==null&&ng(vl)&&(vl=null),af.forEach(HP),of.forEach(HP)}function ch(e,t){e.blockedOn===t&&(e.blockedOn=null,Mw||(Mw=!0,Ws.unstable_scheduleCallback(Ws.unstable_NormalPriority,LB)))}function lf(e){function t(a){return ch(a,e)}if(0<bx.length){ch(bx[0],e);for(var n=1;n<bx.length;n++){var s=bx[n];s.blockedOn===e&&(s.blockedOn=null)}}for(xl!==null&&ch(xl,e),gl!==null&&ch(gl,e),vl!==null&&ch(vl,e),af.forEach(t),of.forEach(t),n=0;n<Yo.length;n++)s=Yo[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<Yo.length&&(n=Yo[0],n.blockedOn===null);)xI(n),n.blockedOn===null&&Yo.shift()}var ou=Oo.ReactCurrentBatchConfig,Eg=!0;function $B(e,t,n,s){var a=mr,i=ou.transition;ou.transition=null;try{mr=1,H2(e,t,n,s)}finally{mr=a,ou.transition=i}}function DB(e,t,n,s){var a=mr,i=ou.transition;ou.transition=null;try{mr=4,H2(e,t,n,s)}finally{mr=a,ou.transition=i}}function H2(e,t,n,s){if(Eg){var a=Lw(e,t,n,s);if(a===null)tb(e,t,s,Tg,n),KP(e,s);else if(MB(a,e,t,n,s))s.stopPropagation();else if(KP(e,s),t&4&&-1<IB.indexOf(e)){for(;a!==null;){var i=_p(a);if(i!==null&&mI(i),i=Lw(e,t,n,s),i===null&&tb(e,t,s,Tg,n),i===a)break;a=i}a!==null&&s.stopPropagation()}else tb(e,t,s,null,n)}}var Tg=null;function Lw(e,t,n,s){if(Tg=null,e=U2(s),e=xc(e),e!==null)if(t=id(e),t===null)e=null;else if(n=t.tag,n===13){if(e=sI(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Tg=e,null}function gI(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(SB()){case V2:return 1;case lI:return 4;case Ag:case _B:return 16;case cI:return 536870912;default:return 16}default:return 16}}var dl=null,G2=null,sg=null;function vI(){if(sg)return sg;var e,t=G2,n=t.length,s,a="value"in dl?dl.value:dl.textContent,i=a.length;for(e=0;e<n&&t[e]===a[e];e++);var o=n-e;for(s=1;s<=o&&t[n-s]===a[i-s];s++);return sg=a.slice(e,1<s?1-s:void 0)}function ag(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function wx(){return!0}function GP(){return!1}function Zs(e){function t(n,s,a,i,o){this._reactName=n,this._targetInst=a,this.type=s,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?wx:GP,this.isPropagationStopped=GP,this}return zr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=wx)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=wx)},persist:function(){},isPersistent:wx}),t}var ym={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Z2=Zs(ym),Sp=zr({},ym,{view:0,detail:0}),RB=Zs(Sp),Kj,Hj,dh,Cy=zr({},Sp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Q2,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==dh&&(dh&&e.type==="mousemove"?(Kj=e.screenX-dh.screenX,Hj=e.screenY-dh.screenY):Hj=Kj=0,dh=e),Kj)},movementY:function(e){return"movementY"in e?e.movementY:Hj}}),ZP=Zs(Cy),zB=zr({},Cy,{dataTransfer:0}),FB=Zs(zB),BB=zr({},Sp,{relatedTarget:0}),Gj=Zs(BB),qB=zr({},ym,{animationName:0,elapsedTime:0,pseudoElement:0}),UB=Zs(qB),VB=zr({},ym,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),WB=Zs(VB),KB=zr({},ym,{data:0}),QP=Zs(KB),HB={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},GB={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ZB={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function QB(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ZB[e])?!!t[e]:!1}function Q2(){return QB}var YB=zr({},Sp,{key:function(e){if(e.key){var t=HB[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ag(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?GB[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Q2,charCode:function(e){return e.type==="keypress"?ag(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ag(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),XB=Zs(YB),JB=zr({},Cy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),YP=Zs(JB),eq=zr({},Sp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Q2}),tq=Zs(eq),rq=zr({},ym,{propertyName:0,elapsedTime:0,pseudoElement:0}),nq=Zs(rq),sq=zr({},Cy,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),aq=Zs(sq),iq=[9,13,27,32],Y2=vo&&"CompositionEvent"in window,zh=null;vo&&"documentMode"in document&&(zh=document.documentMode);var oq=vo&&"TextEvent"in window&&!zh,yI=vo&&(!Y2||zh&&8<zh&&11>=zh),XP=" ",JP=!1;function jI(e,t){switch(e){case"keyup":return iq.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bI(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var qd=!1;function lq(e,t){switch(e){case"compositionend":return bI(t);case"keypress":return t.which!==32?null:(JP=!0,XP);case"textInput":return e=t.data,e===XP&&JP?null:e;default:return null}}function cq(e,t){if(qd)return e==="compositionend"||!Y2&&jI(e,t)?(e=vI(),sg=G2=dl=null,qd=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return yI&&t.locale!=="ko"?null:t.data;default:return null}}var dq={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function eA(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!dq[e.type]:t==="textarea"}function wI(e,t,n,s){JO(s),t=Og(t,"onChange"),0<t.length&&(n=new Z2("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var Fh=null,cf=null;function uq(e){II(e,0)}function Py(e){var t=Wd(e);if(KO(t))return e}function mq(e,t){if(e==="change")return t}var NI=!1;if(vo){var Zj;if(vo){var Qj="oninput"in document;if(!Qj){var tA=document.createElement("div");tA.setAttribute("oninput","return;"),Qj=typeof tA.oninput=="function"}Zj=Qj}else Zj=!1;NI=Zj&&(!document.documentMode||9<document.documentMode)}function rA(){Fh&&(Fh.detachEvent("onpropertychange",SI),cf=Fh=null)}function SI(e){if(e.propertyName==="value"&&Py(cf)){var t=[];wI(t,cf,e,U2(e)),nI(uq,t)}}function hq(e,t,n){e==="focusin"?(rA(),Fh=t,cf=n,Fh.attachEvent("onpropertychange",SI)):e==="focusout"&&rA()}function fq(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Py(cf)}function pq(e,t){if(e==="click")return Py(t)}function xq(e,t){if(e==="input"||e==="change")return Py(t)}function gq(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Va=typeof Object.is=="function"?Object.is:gq;function df(e,t){if(Va(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var a=n[s];if(!gw.call(t,a)||!Va(e[a],t[a]))return!1}return!0}function nA(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function sA(e,t){var n=nA(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=nA(n)}}function _I(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?_I(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function CI(){for(var e=window,t=_g();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=_g(e.document)}return t}function X2(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function vq(e){var t=CI(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&_I(n.ownerDocument.documentElement,n)){if(s!==null&&X2(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=n.textContent.length,i=Math.min(s.start,a);s=s.end===void 0?i:Math.min(s.end,a),!e.extend&&i>s&&(a=s,s=i,i=a),a=sA(n,i);var o=sA(n,s);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>s?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var yq=vo&&"documentMode"in document&&11>=document.documentMode,Ud=null,$w=null,Bh=null,Dw=!1;function aA(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Dw||Ud==null||Ud!==_g(s)||(s=Ud,"selectionStart"in s&&X2(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Bh&&df(Bh,s)||(Bh=s,s=Og($w,"onSelect"),0<s.length&&(t=new Z2("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=Ud)))}function Nx(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Vd={animationend:Nx("Animation","AnimationEnd"),animationiteration:Nx("Animation","AnimationIteration"),animationstart:Nx("Animation","AnimationStart"),transitionend:Nx("Transition","TransitionEnd")},Yj={},PI={};vo&&(PI=document.createElement("div").style,"AnimationEvent"in window||(delete Vd.animationend.animation,delete Vd.animationiteration.animation,delete Vd.animationstart.animation),"TransitionEvent"in window||delete Vd.transitionend.transition);function Ay(e){if(Yj[e])return Yj[e];if(!Vd[e])return e;var t=Vd[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in PI)return Yj[e]=t[n];return e}var AI=Ay("animationend"),kI=Ay("animationiteration"),EI=Ay("animationstart"),TI=Ay("transitionend"),OI=new Map,iA="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ll(e,t){OI.set(e,t),ad(t,[e])}for(var Xj=0;Xj<iA.length;Xj++){var Jj=iA[Xj],jq=Jj.toLowerCase(),bq=Jj[0].toUpperCase()+Jj.slice(1);Ll(jq,"on"+bq)}Ll(AI,"onAnimationEnd");Ll(kI,"onAnimationIteration");Ll(EI,"onAnimationStart");Ll("dblclick","onDoubleClick");Ll("focusin","onFocus");Ll("focusout","onBlur");Ll(TI,"onTransitionEnd");Tu("onMouseEnter",["mouseout","mouseover"]);Tu("onMouseLeave",["mouseout","mouseover"]);Tu("onPointerEnter",["pointerout","pointerover"]);Tu("onPointerLeave",["pointerout","pointerover"]);ad("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ad("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ad("onBeforeInput",["compositionend","keypress","textInput","paste"]);ad("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ad("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ad("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Oh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wq=new Set("cancel close invalid load scroll toggle".split(" ").concat(Oh));function oA(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,jB(s,t,void 0,e),e.currentTarget=null}function II(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],a=s.event;s=s.listeners;e:{var i=void 0;if(t)for(var o=s.length-1;0<=o;o--){var l=s[o],d=l.instance,u=l.currentTarget;if(l=l.listener,d!==i&&a.isPropagationStopped())break e;oA(a,l,u),i=d}else for(o=0;o<s.length;o++){if(l=s[o],d=l.instance,u=l.currentTarget,l=l.listener,d!==i&&a.isPropagationStopped())break e;oA(a,l,u),i=d}}}if(Pg)throw e=Ow,Pg=!1,Ow=null,e}function Cr(e,t){var n=t[qw];n===void 0&&(n=t[qw]=new Set);var s=e+"__bubble";n.has(s)||(MI(t,e,2,!1),n.add(s))}function eb(e,t,n){var s=0;t&&(s|=4),MI(n,e,s,t)}var Sx="_reactListening"+Math.random().toString(36).slice(2);function uf(e){if(!e[Sx]){e[Sx]=!0,BO.forEach(function(n){n!=="selectionchange"&&(wq.has(n)||eb(n,!1,e),eb(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Sx]||(t[Sx]=!0,eb("selectionchange",!1,t))}}function MI(e,t,n,s){switch(gI(t)){case 1:var a=$B;break;case 4:a=DB;break;default:a=H2}n=a.bind(null,t,n,e),a=void 0,!Tw||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),s?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function tb(e,t,n,s,a){var i=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var l=s.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=s.return;o!==null;){var d=o.tag;if((d===3||d===4)&&(d=o.stateNode.containerInfo,d===a||d.nodeType===8&&d.parentNode===a))return;o=o.return}for(;l!==null;){if(o=xc(l),o===null)return;if(d=o.tag,d===5||d===6){s=i=o;continue e}l=l.parentNode}}s=s.return}nI(function(){var u=i,h=U2(n),m=[];e:{var p=OI.get(e);if(p!==void 0){var g=Z2,y=e;switch(e){case"keypress":if(ag(n)===0)break e;case"keydown":case"keyup":g=XB;break;case"focusin":y="focus",g=Gj;break;case"focusout":y="blur",g=Gj;break;case"beforeblur":case"afterblur":g=Gj;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=ZP;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=FB;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=tq;break;case AI:case kI:case EI:g=UB;break;case TI:g=nq;break;case"scroll":g=RB;break;case"wheel":g=aq;break;case"copy":case"cut":case"paste":g=WB;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=YP}var x=(t&4)!==0,v=!x&&e==="scroll",j=x?p!==null?p+"Capture":null:p;x=[];for(var b=u,S;b!==null;){S=b;var C=S.stateNode;if(S.tag===5&&C!==null&&(S=C,j!==null&&(C=sf(b,j),C!=null&&x.push(mf(b,C,S)))),v)break;b=b.return}0<x.length&&(p=new g(p,y,null,n,h),m.push({event:p,listeners:x}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",p&&n!==kw&&(y=n.relatedTarget||n.fromElement)&&(xc(y)||y[yo]))break e;if((g||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,g?(y=n.relatedTarget||n.toElement,g=u,y=y?xc(y):null,y!==null&&(v=id(y),y!==v||y.tag!==5&&y.tag!==6)&&(y=null)):(g=null,y=u),g!==y)){if(x=ZP,C="onMouseLeave",j="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(x=YP,C="onPointerLeave",j="onPointerEnter",b="pointer"),v=g==null?p:Wd(g),S=y==null?p:Wd(y),p=new x(C,b+"leave",g,n,h),p.target=v,p.relatedTarget=S,C=null,xc(h)===u&&(x=new x(j,b+"enter",y,n,h),x.target=S,x.relatedTarget=v,C=x),v=C,g&&y)t:{for(x=g,j=y,b=0,S=x;S;S=kd(S))b++;for(S=0,C=j;C;C=kd(C))S++;for(;0<b-S;)x=kd(x),b--;for(;0<S-b;)j=kd(j),S--;for(;b--;){if(x===j||j!==null&&x===j.alternate)break t;x=kd(x),j=kd(j)}x=null}else x=null;g!==null&&lA(m,p,g,x,!1),y!==null&&v!==null&&lA(m,v,y,x,!0)}}e:{if(p=u?Wd(u):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var _=mq;else if(eA(p))if(NI)_=xq;else{_=fq;var A=hq}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(_=pq);if(_&&(_=_(e,u))){wI(m,_,n,h);break e}A&&A(e,p,u),e==="focusout"&&(A=p._wrapperState)&&A.controlled&&p.type==="number"&&Sw(p,"number",p.value)}switch(A=u?Wd(u):window,e){case"focusin":(eA(A)||A.contentEditable==="true")&&(Ud=A,$w=u,Bh=null);break;case"focusout":Bh=$w=Ud=null;break;case"mousedown":Dw=!0;break;case"contextmenu":case"mouseup":case"dragend":Dw=!1,aA(m,n,h);break;case"selectionchange":if(yq)break;case"keydown":case"keyup":aA(m,n,h)}var k;if(Y2)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else qd?jI(e,n)&&(T="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(yI&&n.locale!=="ko"&&(qd||T!=="onCompositionStart"?T==="onCompositionEnd"&&qd&&(k=vI()):(dl=h,G2="value"in dl?dl.value:dl.textContent,qd=!0)),A=Og(u,T),0<A.length&&(T=new QP(T,e,null,n,h),m.push({event:T,listeners:A}),k?T.data=k:(k=bI(n),k!==null&&(T.data=k)))),(k=oq?lq(e,n):cq(e,n))&&(u=Og(u,"onBeforeInput"),0<u.length&&(h=new QP("onBeforeInput","beforeinput",null,n,h),m.push({event:h,listeners:u}),h.data=k))}II(m,t)})}function mf(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Og(e,t){for(var n=t+"Capture",s=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=sf(e,n),i!=null&&s.unshift(mf(e,i,a)),i=sf(e,t),i!=null&&s.push(mf(e,i,a))),e=e.return}return s}function kd(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function lA(e,t,n,s,a){for(var i=t._reactName,o=[];n!==null&&n!==s;){var l=n,d=l.alternate,u=l.stateNode;if(d!==null&&d===s)break;l.tag===5&&u!==null&&(l=u,a?(d=sf(n,i),d!=null&&o.unshift(mf(n,d,l))):a||(d=sf(n,i),d!=null&&o.push(mf(n,d,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Nq=/\r\n?/g,Sq=/\u0000|\uFFFD/g;function cA(e){return(typeof e=="string"?e:""+e).replace(Nq,`
`).replace(Sq,"")}function _x(e,t,n){if(t=cA(t),cA(e)!==t&&n)throw Error(Ve(425))}function Ig(){}var Rw=null,zw=null;function Fw(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Bw=typeof setTimeout=="function"?setTimeout:void 0,_q=typeof clearTimeout=="function"?clearTimeout:void 0,dA=typeof Promise=="function"?Promise:void 0,Cq=typeof queueMicrotask=="function"?queueMicrotask:typeof dA<"u"?function(e){return dA.resolve(null).then(e).catch(Pq)}:Bw;function Pq(e){setTimeout(function(){throw e})}function rb(e,t){var n=t,s=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(s===0){e.removeChild(a),lf(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=a}while(n);lf(t)}function yl(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function uA(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var jm=Math.random().toString(36).slice(2),pi="__reactFiber$"+jm,hf="__reactProps$"+jm,yo="__reactContainer$"+jm,qw="__reactEvents$"+jm,Aq="__reactListeners$"+jm,kq="__reactHandles$"+jm;function xc(e){var t=e[pi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[yo]||n[pi]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=uA(e);e!==null;){if(n=e[pi])return n;e=uA(e)}return t}e=n,n=e.parentNode}return null}function _p(e){return e=e[pi]||e[yo],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Wd(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ve(33))}function ky(e){return e[hf]||null}var Uw=[],Kd=-1;function $l(e){return{current:e}}function Tr(e){0>Kd||(e.current=Uw[Kd],Uw[Kd]=null,Kd--)}function Sr(e,t){Kd++,Uw[Kd]=e.current,e.current=t}var Tl={},Vn=$l(Tl),bs=$l(!1),Fc=Tl;function Ou(e,t){var n=e.type.contextTypes;if(!n)return Tl;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in n)a[i]=t[i];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function ws(e){return e=e.childContextTypes,e!=null}function Mg(){Tr(bs),Tr(Vn)}function mA(e,t,n){if(Vn.current!==Tl)throw Error(Ve(168));Sr(Vn,t),Sr(bs,n)}function LI(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var a in s)if(!(a in t))throw Error(Ve(108,hB(e)||"Unknown",a));return zr({},n,s)}function Lg(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Tl,Fc=Vn.current,Sr(Vn,e),Sr(bs,bs.current),!0}function hA(e,t,n){var s=e.stateNode;if(!s)throw Error(Ve(169));n?(e=LI(e,t,Fc),s.__reactInternalMemoizedMergedChildContext=e,Tr(bs),Tr(Vn),Sr(Vn,e)):Tr(bs),Sr(bs,n)}var Zi=null,Ey=!1,nb=!1;function $I(e){Zi===null?Zi=[e]:Zi.push(e)}function Eq(e){Ey=!0,$I(e)}function Dl(){if(!nb&&Zi!==null){nb=!0;var e=0,t=mr;try{var n=Zi;for(mr=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}Zi=null,Ey=!1}catch(a){throw Zi!==null&&(Zi=Zi.slice(e+1)),oI(V2,Dl),a}finally{mr=t,nb=!1}}return null}var Hd=[],Gd=0,$g=null,Dg=0,oa=[],la=0,Bc=null,ao=1,io="";function cc(e,t){Hd[Gd++]=Dg,Hd[Gd++]=$g,$g=e,Dg=t}function DI(e,t,n){oa[la++]=ao,oa[la++]=io,oa[la++]=Bc,Bc=e;var s=ao;e=io;var a=32-Ba(s)-1;s&=~(1<<a),n+=1;var i=32-Ba(t)+a;if(30<i){var o=a-a%5;i=(s&(1<<o)-1).toString(32),s>>=o,a-=o,ao=1<<32-Ba(t)+a|n<<a|s,io=i+e}else ao=1<<i|n<<a|s,io=e}function J2(e){e.return!==null&&(cc(e,1),DI(e,1,0))}function eS(e){for(;e===$g;)$g=Hd[--Gd],Hd[Gd]=null,Dg=Hd[--Gd],Hd[Gd]=null;for(;e===Bc;)Bc=oa[--la],oa[la]=null,io=oa[--la],oa[la]=null,ao=oa[--la],oa[la]=null}var Bs=null,Fs=null,Ir=!1,Da=null;function RI(e,t){var n=ua(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function fA(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Bs=e,Fs=yl(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Bs=e,Fs=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Bc!==null?{id:ao,overflow:io}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ua(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Bs=e,Fs=null,!0):!1;default:return!1}}function Vw(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ww(e){if(Ir){var t=Fs;if(t){var n=t;if(!fA(e,t)){if(Vw(e))throw Error(Ve(418));t=yl(n.nextSibling);var s=Bs;t&&fA(e,t)?RI(s,n):(e.flags=e.flags&-4097|2,Ir=!1,Bs=e)}}else{if(Vw(e))throw Error(Ve(418));e.flags=e.flags&-4097|2,Ir=!1,Bs=e}}}function pA(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Bs=e}function Cx(e){if(e!==Bs)return!1;if(!Ir)return pA(e),Ir=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Fw(e.type,e.memoizedProps)),t&&(t=Fs)){if(Vw(e))throw zI(),Error(Ve(418));for(;t;)RI(e,t),t=yl(t.nextSibling)}if(pA(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ve(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Fs=yl(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Fs=null}}else Fs=Bs?yl(e.stateNode.nextSibling):null;return!0}function zI(){for(var e=Fs;e;)e=yl(e.nextSibling)}function Iu(){Fs=Bs=null,Ir=!1}function tS(e){Da===null?Da=[e]:Da.push(e)}var Tq=Oo.ReactCurrentBatchConfig;function uh(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ve(309));var s=n.stateNode}if(!s)throw Error(Ve(147,e));var a=s,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(Ve(284));if(!n._owner)throw Error(Ve(290,e))}return e}function Px(e,t){throw e=Object.prototype.toString.call(t),Error(Ve(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function xA(e){var t=e._init;return t(e._payload)}function FI(e){function t(j,b){if(e){var S=j.deletions;S===null?(j.deletions=[b],j.flags|=16):S.push(b)}}function n(j,b){if(!e)return null;for(;b!==null;)t(j,b),b=b.sibling;return null}function s(j,b){for(j=new Map;b!==null;)b.key!==null?j.set(b.key,b):j.set(b.index,b),b=b.sibling;return j}function a(j,b){return j=Nl(j,b),j.index=0,j.sibling=null,j}function i(j,b,S){return j.index=S,e?(S=j.alternate,S!==null?(S=S.index,S<b?(j.flags|=2,b):S):(j.flags|=2,b)):(j.flags|=1048576,b)}function o(j){return e&&j.alternate===null&&(j.flags|=2),j}function l(j,b,S,C){return b===null||b.tag!==6?(b=db(S,j.mode,C),b.return=j,b):(b=a(b,S),b.return=j,b)}function d(j,b,S,C){var _=S.type;return _===Bd?h(j,b,S.props.children,C,S.key):b!==null&&(b.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Go&&xA(_)===b.type)?(C=a(b,S.props),C.ref=uh(j,b,S),C.return=j,C):(C=mg(S.type,S.key,S.props,null,j.mode,C),C.ref=uh(j,b,S),C.return=j,C)}function u(j,b,S,C){return b===null||b.tag!==4||b.stateNode.containerInfo!==S.containerInfo||b.stateNode.implementation!==S.implementation?(b=ub(S,j.mode,C),b.return=j,b):(b=a(b,S.children||[]),b.return=j,b)}function h(j,b,S,C,_){return b===null||b.tag!==7?(b=$c(S,j.mode,C,_),b.return=j,b):(b=a(b,S),b.return=j,b)}function m(j,b,S){if(typeof b=="string"&&b!==""||typeof b=="number")return b=db(""+b,j.mode,S),b.return=j,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case xx:return S=mg(b.type,b.key,b.props,null,j.mode,S),S.ref=uh(j,null,b),S.return=j,S;case Fd:return b=ub(b,j.mode,S),b.return=j,b;case Go:var C=b._init;return m(j,C(b._payload),S)}if(Eh(b)||ih(b))return b=$c(b,j.mode,S,null),b.return=j,b;Px(j,b)}return null}function p(j,b,S,C){var _=b!==null?b.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return _!==null?null:l(j,b,""+S,C);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case xx:return S.key===_?d(j,b,S,C):null;case Fd:return S.key===_?u(j,b,S,C):null;case Go:return _=S._init,p(j,b,_(S._payload),C)}if(Eh(S)||ih(S))return _!==null?null:h(j,b,S,C,null);Px(j,S)}return null}function g(j,b,S,C,_){if(typeof C=="string"&&C!==""||typeof C=="number")return j=j.get(S)||null,l(b,j,""+C,_);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case xx:return j=j.get(C.key===null?S:C.key)||null,d(b,j,C,_);case Fd:return j=j.get(C.key===null?S:C.key)||null,u(b,j,C,_);case Go:var A=C._init;return g(j,b,S,A(C._payload),_)}if(Eh(C)||ih(C))return j=j.get(S)||null,h(b,j,C,_,null);Px(b,C)}return null}function y(j,b,S,C){for(var _=null,A=null,k=b,T=b=0,O=null;k!==null&&T<S.length;T++){k.index>T?(O=k,k=null):O=k.sibling;var M=p(j,k,S[T],C);if(M===null){k===null&&(k=O);break}e&&k&&M.alternate===null&&t(j,k),b=i(M,b,T),A===null?_=M:A.sibling=M,A=M,k=O}if(T===S.length)return n(j,k),Ir&&cc(j,T),_;if(k===null){for(;T<S.length;T++)k=m(j,S[T],C),k!==null&&(b=i(k,b,T),A===null?_=k:A.sibling=k,A=k);return Ir&&cc(j,T),_}for(k=s(j,k);T<S.length;T++)O=g(k,j,T,S[T],C),O!==null&&(e&&O.alternate!==null&&k.delete(O.key===null?T:O.key),b=i(O,b,T),A===null?_=O:A.sibling=O,A=O);return e&&k.forEach(function(z){return t(j,z)}),Ir&&cc(j,T),_}function x(j,b,S,C){var _=ih(S);if(typeof _!="function")throw Error(Ve(150));if(S=_.call(S),S==null)throw Error(Ve(151));for(var A=_=null,k=b,T=b=0,O=null,M=S.next();k!==null&&!M.done;T++,M=S.next()){k.index>T?(O=k,k=null):O=k.sibling;var z=p(j,k,M.value,C);if(z===null){k===null&&(k=O);break}e&&k&&z.alternate===null&&t(j,k),b=i(z,b,T),A===null?_=z:A.sibling=z,A=z,k=O}if(M.done)return n(j,k),Ir&&cc(j,T),_;if(k===null){for(;!M.done;T++,M=S.next())M=m(j,M.value,C),M!==null&&(b=i(M,b,T),A===null?_=M:A.sibling=M,A=M);return Ir&&cc(j,T),_}for(k=s(j,k);!M.done;T++,M=S.next())M=g(k,j,T,M.value,C),M!==null&&(e&&M.alternate!==null&&k.delete(M.key===null?T:M.key),b=i(M,b,T),A===null?_=M:A.sibling=M,A=M);return e&&k.forEach(function(F){return t(j,F)}),Ir&&cc(j,T),_}function v(j,b,S,C){if(typeof S=="object"&&S!==null&&S.type===Bd&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case xx:e:{for(var _=S.key,A=b;A!==null;){if(A.key===_){if(_=S.type,_===Bd){if(A.tag===7){n(j,A.sibling),b=a(A,S.props.children),b.return=j,j=b;break e}}else if(A.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Go&&xA(_)===A.type){n(j,A.sibling),b=a(A,S.props),b.ref=uh(j,A,S),b.return=j,j=b;break e}n(j,A);break}else t(j,A);A=A.sibling}S.type===Bd?(b=$c(S.props.children,j.mode,C,S.key),b.return=j,j=b):(C=mg(S.type,S.key,S.props,null,j.mode,C),C.ref=uh(j,b,S),C.return=j,j=C)}return o(j);case Fd:e:{for(A=S.key;b!==null;){if(b.key===A)if(b.tag===4&&b.stateNode.containerInfo===S.containerInfo&&b.stateNode.implementation===S.implementation){n(j,b.sibling),b=a(b,S.children||[]),b.return=j,j=b;break e}else{n(j,b);break}else t(j,b);b=b.sibling}b=ub(S,j.mode,C),b.return=j,j=b}return o(j);case Go:return A=S._init,v(j,b,A(S._payload),C)}if(Eh(S))return y(j,b,S,C);if(ih(S))return x(j,b,S,C);Px(j,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,b!==null&&b.tag===6?(n(j,b.sibling),b=a(b,S),b.return=j,j=b):(n(j,b),b=db(S,j.mode,C),b.return=j,j=b),o(j)):n(j,b)}return v}var Mu=FI(!0),BI=FI(!1),Rg=$l(null),zg=null,Zd=null,rS=null;function nS(){rS=Zd=zg=null}function sS(e){var t=Rg.current;Tr(Rg),e._currentValue=t}function Kw(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function lu(e,t){zg=e,rS=Zd=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(vs=!0),e.firstContext=null)}function xa(e){var t=e._currentValue;if(rS!==e)if(e={context:e,memoizedValue:t,next:null},Zd===null){if(zg===null)throw Error(Ve(308));Zd=e,zg.dependencies={lanes:0,firstContext:e}}else Zd=Zd.next=e;return t}var gc=null;function aS(e){gc===null?gc=[e]:gc.push(e)}function qI(e,t,n,s){var a=t.interleaved;return a===null?(n.next=n,aS(t)):(n.next=a.next,a.next=n),t.interleaved=n,jo(e,s)}function jo(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Zo=!1;function iS(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function UI(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function mo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function jl(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,er&2){var a=s.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),s.pending=t,jo(e,n)}return a=s.interleaved,a===null?(t.next=t,aS(s)):(t.next=a.next,a.next=t),s.interleaved=t,jo(e,n)}function ig(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,W2(e,n)}}function gA(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var a=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?a=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?a=i=t:i=i.next=t}else a=i=t;n={baseState:s.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fg(e,t,n,s){var a=e.updateQueue;Zo=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var d=l,u=d.next;d.next=null,o===null?i=u:o.next=u,o=d;var h=e.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==o&&(l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=d))}if(i!==null){var m=a.baseState;o=0,h=u=d=null,l=i;do{var p=l.lane,g=l.eventTime;if((s&p)===p){h!==null&&(h=h.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,x=l;switch(p=t,g=n,x.tag){case 1:if(y=x.payload,typeof y=="function"){m=y.call(g,m,p);break e}m=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=x.payload,p=typeof y=="function"?y.call(g,m,p):y,p==null)break e;m=zr({},m,p);break e;case 2:Zo=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,p=a.effects,p===null?a.effects=[l]:p.push(l))}else g={eventTime:g,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(u=h=g,d=m):h=h.next=g,o|=p;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;p=l,l=p.next,p.next=null,a.lastBaseUpdate=p,a.shared.pending=null}}while(!0);if(h===null&&(d=m),a.baseState=d,a.firstBaseUpdate=u,a.lastBaseUpdate=h,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);Uc|=o,e.lanes=o,e.memoizedState=m}}function vA(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],a=s.callback;if(a!==null){if(s.callback=null,s=n,typeof a!="function")throw Error(Ve(191,a));a.call(s)}}}var Cp={},Ni=$l(Cp),ff=$l(Cp),pf=$l(Cp);function vc(e){if(e===Cp)throw Error(Ve(174));return e}function oS(e,t){switch(Sr(pf,t),Sr(ff,e),Sr(Ni,Cp),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Cw(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Cw(t,e)}Tr(Ni),Sr(Ni,t)}function Lu(){Tr(Ni),Tr(ff),Tr(pf)}function VI(e){vc(pf.current);var t=vc(Ni.current),n=Cw(t,e.type);t!==n&&(Sr(ff,e),Sr(Ni,n))}function lS(e){ff.current===e&&(Tr(Ni),Tr(ff))}var $r=$l(0);function Bg(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var sb=[];function cS(){for(var e=0;e<sb.length;e++)sb[e]._workInProgressVersionPrimary=null;sb.length=0}var og=Oo.ReactCurrentDispatcher,ab=Oo.ReactCurrentBatchConfig,qc=0,Rr=null,sn=null,pn=null,qg=!1,qh=!1,xf=0,Oq=0;function $n(){throw Error(Ve(321))}function dS(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Va(e[n],t[n]))return!1;return!0}function uS(e,t,n,s,a,i){if(qc=i,Rr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,og.current=e===null||e.memoizedState===null?$q:Dq,e=n(s,a),qh){i=0;do{if(qh=!1,xf=0,25<=i)throw Error(Ve(301));i+=1,pn=sn=null,t.updateQueue=null,og.current=Rq,e=n(s,a)}while(qh)}if(og.current=Ug,t=sn!==null&&sn.next!==null,qc=0,pn=sn=Rr=null,qg=!1,t)throw Error(Ve(300));return e}function mS(){var e=xf!==0;return xf=0,e}function oi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pn===null?Rr.memoizedState=pn=e:pn=pn.next=e,pn}function ga(){if(sn===null){var e=Rr.alternate;e=e!==null?e.memoizedState:null}else e=sn.next;var t=pn===null?Rr.memoizedState:pn.next;if(t!==null)pn=t,sn=e;else{if(e===null)throw Error(Ve(310));sn=e,e={memoizedState:sn.memoizedState,baseState:sn.baseState,baseQueue:sn.baseQueue,queue:sn.queue,next:null},pn===null?Rr.memoizedState=pn=e:pn=pn.next=e}return pn}function gf(e,t){return typeof t=="function"?t(e):t}function ib(e){var t=ga(),n=t.queue;if(n===null)throw Error(Ve(311));n.lastRenderedReducer=e;var s=sn,a=s.baseQueue,i=n.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}s.baseQueue=a=i,n.pending=null}if(a!==null){i=a.next,s=s.baseState;var l=o=null,d=null,u=i;do{var h=u.lane;if((qc&h)===h)d!==null&&(d=d.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),s=u.hasEagerState?u.eagerState:e(s,u.action);else{var m={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};d===null?(l=d=m,o=s):d=d.next=m,Rr.lanes|=h,Uc|=h}u=u.next}while(u!==null&&u!==i);d===null?o=s:d.next=l,Va(s,t.memoizedState)||(vs=!0),t.memoizedState=s,t.baseState=o,t.baseQueue=d,n.lastRenderedState=s}if(e=n.interleaved,e!==null){a=e;do i=a.lane,Rr.lanes|=i,Uc|=i,a=a.next;while(a!==e)}else a===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ob(e){var t=ga(),n=t.queue;if(n===null)throw Error(Ve(311));n.lastRenderedReducer=e;var s=n.dispatch,a=n.pending,i=t.memoizedState;if(a!==null){n.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);Va(i,t.memoizedState)||(vs=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,s]}function WI(){}function KI(e,t){var n=Rr,s=ga(),a=t(),i=!Va(s.memoizedState,a);if(i&&(s.memoizedState=a,vs=!0),s=s.queue,hS(ZI.bind(null,n,s,e),[e]),s.getSnapshot!==t||i||pn!==null&&pn.memoizedState.tag&1){if(n.flags|=2048,vf(9,GI.bind(null,n,s,a,t),void 0,null),gn===null)throw Error(Ve(349));qc&30||HI(n,t,a)}return a}function HI(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Rr.updateQueue,t===null?(t={lastEffect:null,stores:null},Rr.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function GI(e,t,n,s){t.value=n,t.getSnapshot=s,QI(t)&&YI(e)}function ZI(e,t,n){return n(function(){QI(t)&&YI(e)})}function QI(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Va(e,n)}catch{return!0}}function YI(e){var t=jo(e,1);t!==null&&qa(t,e,1,-1)}function yA(e){var t=oi();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gf,lastRenderedState:e},t.queue=e,e=e.dispatch=Lq.bind(null,Rr,e),[t.memoizedState,e]}function vf(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=Rr.updateQueue,t===null?(t={lastEffect:null,stores:null},Rr.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function XI(){return ga().memoizedState}function lg(e,t,n,s){var a=oi();Rr.flags|=e,a.memoizedState=vf(1|t,n,void 0,s===void 0?null:s)}function Ty(e,t,n,s){var a=ga();s=s===void 0?null:s;var i=void 0;if(sn!==null){var o=sn.memoizedState;if(i=o.destroy,s!==null&&dS(s,o.deps)){a.memoizedState=vf(t,n,i,s);return}}Rr.flags|=e,a.memoizedState=vf(1|t,n,i,s)}function jA(e,t){return lg(8390656,8,e,t)}function hS(e,t){return Ty(2048,8,e,t)}function JI(e,t){return Ty(4,2,e,t)}function eM(e,t){return Ty(4,4,e,t)}function tM(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function rM(e,t,n){return n=n!=null?n.concat([e]):null,Ty(4,4,tM.bind(null,t,e),n)}function fS(){}function nM(e,t){var n=ga();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&dS(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function sM(e,t){var n=ga();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&dS(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function aM(e,t,n){return qc&21?(Va(n,t)||(n=dI(),Rr.lanes|=n,Uc|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,vs=!0),e.memoizedState=n)}function Iq(e,t){var n=mr;mr=n!==0&&4>n?n:4,e(!0);var s=ab.transition;ab.transition={};try{e(!1),t()}finally{mr=n,ab.transition=s}}function iM(){return ga().memoizedState}function Mq(e,t,n){var s=wl(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},oM(e))lM(t,n);else if(n=qI(e,t,n,s),n!==null){var a=ns();qa(n,e,s,a),cM(n,t,s)}}function Lq(e,t,n){var s=wl(e),a={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(oM(e))lM(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,n);if(a.hasEagerState=!0,a.eagerState=l,Va(l,o)){var d=t.interleaved;d===null?(a.next=a,aS(t)):(a.next=d.next,d.next=a),t.interleaved=a;return}}catch{}finally{}n=qI(e,t,a,s),n!==null&&(a=ns(),qa(n,e,s,a),cM(n,t,s))}}function oM(e){var t=e.alternate;return e===Rr||t!==null&&t===Rr}function lM(e,t){qh=qg=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function cM(e,t,n){if(n&4194240){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,W2(e,n)}}var Ug={readContext:xa,useCallback:$n,useContext:$n,useEffect:$n,useImperativeHandle:$n,useInsertionEffect:$n,useLayoutEffect:$n,useMemo:$n,useReducer:$n,useRef:$n,useState:$n,useDebugValue:$n,useDeferredValue:$n,useTransition:$n,useMutableSource:$n,useSyncExternalStore:$n,useId:$n,unstable_isNewReconciler:!1},$q={readContext:xa,useCallback:function(e,t){return oi().memoizedState=[e,t===void 0?null:t],e},useContext:xa,useEffect:jA,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,lg(4194308,4,tM.bind(null,t,e),n)},useLayoutEffect:function(e,t){return lg(4194308,4,e,t)},useInsertionEffect:function(e,t){return lg(4,2,e,t)},useMemo:function(e,t){var n=oi();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=oi();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=Mq.bind(null,Rr,e),[s.memoizedState,e]},useRef:function(e){var t=oi();return e={current:e},t.memoizedState=e},useState:yA,useDebugValue:fS,useDeferredValue:function(e){return oi().memoizedState=e},useTransition:function(){var e=yA(!1),t=e[0];return e=Iq.bind(null,e[1]),oi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=Rr,a=oi();if(Ir){if(n===void 0)throw Error(Ve(407));n=n()}else{if(n=t(),gn===null)throw Error(Ve(349));qc&30||HI(s,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,jA(ZI.bind(null,s,i,e),[e]),s.flags|=2048,vf(9,GI.bind(null,s,i,n,t),void 0,null),n},useId:function(){var e=oi(),t=gn.identifierPrefix;if(Ir){var n=io,s=ao;n=(s&~(1<<32-Ba(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=xf++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Oq++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Dq={readContext:xa,useCallback:nM,useContext:xa,useEffect:hS,useImperativeHandle:rM,useInsertionEffect:JI,useLayoutEffect:eM,useMemo:sM,useReducer:ib,useRef:XI,useState:function(){return ib(gf)},useDebugValue:fS,useDeferredValue:function(e){var t=ga();return aM(t,sn.memoizedState,e)},useTransition:function(){var e=ib(gf)[0],t=ga().memoizedState;return[e,t]},useMutableSource:WI,useSyncExternalStore:KI,useId:iM,unstable_isNewReconciler:!1},Rq={readContext:xa,useCallback:nM,useContext:xa,useEffect:hS,useImperativeHandle:rM,useInsertionEffect:JI,useLayoutEffect:eM,useMemo:sM,useReducer:ob,useRef:XI,useState:function(){return ob(gf)},useDebugValue:fS,useDeferredValue:function(e){var t=ga();return sn===null?t.memoizedState=e:aM(t,sn.memoizedState,e)},useTransition:function(){var e=ob(gf)[0],t=ga().memoizedState;return[e,t]},useMutableSource:WI,useSyncExternalStore:KI,useId:iM,unstable_isNewReconciler:!1};function Ta(e,t){if(e&&e.defaultProps){t=zr({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Hw(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:zr({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Oy={isMounted:function(e){return(e=e._reactInternals)?id(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=ns(),a=wl(e),i=mo(s,a);i.payload=t,n!=null&&(i.callback=n),t=jl(e,i,a),t!==null&&(qa(t,e,a,s),ig(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=ns(),a=wl(e),i=mo(s,a);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=jl(e,i,a),t!==null&&(qa(t,e,a,s),ig(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ns(),s=wl(e),a=mo(n,s);a.tag=2,t!=null&&(a.callback=t),t=jl(e,a,s),t!==null&&(qa(t,e,s,n),ig(t,e,s))}};function bA(e,t,n,s,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,i,o):t.prototype&&t.prototype.isPureReactComponent?!df(n,s)||!df(a,i):!0}function dM(e,t,n){var s=!1,a=Tl,i=t.contextType;return typeof i=="object"&&i!==null?i=xa(i):(a=ws(t)?Fc:Vn.current,s=t.contextTypes,i=(s=s!=null)?Ou(e,a):Tl),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Oy,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function wA(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&Oy.enqueueReplaceState(t,t.state,null)}function Gw(e,t,n,s){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},iS(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=xa(i):(i=ws(t)?Fc:Vn.current,a.context=Ou(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Hw(e,t,i,n),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Oy.enqueueReplaceState(a,a.state,null),Fg(e,n,a,s),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function $u(e,t){try{var n="",s=t;do n+=mB(s),s=s.return;while(s);var a=n}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function lb(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Zw(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var zq=typeof WeakMap=="function"?WeakMap:Map;function uM(e,t,n){n=mo(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){Wg||(Wg=!0,aN=s),Zw(e,t)},n}function mM(e,t,n){n=mo(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var a=t.value;n.payload=function(){return s(a)},n.callback=function(){Zw(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Zw(e,t),typeof s!="function"&&(bl===null?bl=new Set([this]):bl.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function NA(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new zq;var a=new Set;s.set(t,a)}else a=s.get(t),a===void 0&&(a=new Set,s.set(t,a));a.has(n)||(a.add(n),e=Jq.bind(null,e,t,n),t.then(e,e))}function SA(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function _A(e,t,n,s,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=mo(-1,1),t.tag=2,jl(n,t,1))),n.lanes|=1),e)}var Fq=Oo.ReactCurrentOwner,vs=!1;function Yn(e,t,n,s){t.child=e===null?BI(t,null,n,s):Mu(t,e.child,n,s)}function CA(e,t,n,s,a){n=n.render;var i=t.ref;return lu(t,a),s=uS(e,t,n,s,i,a),n=mS(),e!==null&&!vs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,bo(e,t,a)):(Ir&&n&&J2(t),t.flags|=1,Yn(e,t,s,a),t.child)}function PA(e,t,n,s,a){if(e===null){var i=n.type;return typeof i=="function"&&!wS(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,hM(e,t,i,s,a)):(e=mg(n.type,null,s,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:df,n(o,s)&&e.ref===t.ref)return bo(e,t,a)}return t.flags|=1,e=Nl(i,s),e.ref=t.ref,e.return=t,t.child=e}function hM(e,t,n,s,a){if(e!==null){var i=e.memoizedProps;if(df(i,s)&&e.ref===t.ref)if(vs=!1,t.pendingProps=s=i,(e.lanes&a)!==0)e.flags&131072&&(vs=!0);else return t.lanes=e.lanes,bo(e,t,a)}return Qw(e,t,n,s,a)}function fM(e,t,n){var s=t.pendingProps,a=s.children,i=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Sr(Yd,Is),Is|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Sr(Yd,Is),Is|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=i!==null?i.baseLanes:n,Sr(Yd,Is),Is|=s}else i!==null?(s=i.baseLanes|n,t.memoizedState=null):s=n,Sr(Yd,Is),Is|=s;return Yn(e,t,a,n),t.child}function pM(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Qw(e,t,n,s,a){var i=ws(n)?Fc:Vn.current;return i=Ou(t,i),lu(t,a),n=uS(e,t,n,s,i,a),s=mS(),e!==null&&!vs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,bo(e,t,a)):(Ir&&s&&J2(t),t.flags|=1,Yn(e,t,n,a),t.child)}function AA(e,t,n,s,a){if(ws(n)){var i=!0;Lg(t)}else i=!1;if(lu(t,a),t.stateNode===null)cg(e,t),dM(t,n,s),Gw(t,n,s,a),s=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var d=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=xa(u):(u=ws(n)?Fc:Vn.current,u=Ou(t,u));var h=n.getDerivedStateFromProps,m=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==s||d!==u)&&wA(t,o,s,u),Zo=!1;var p=t.memoizedState;o.state=p,Fg(t,s,o,a),d=t.memoizedState,l!==s||p!==d||bs.current||Zo?(typeof h=="function"&&(Hw(t,n,h,s),d=t.memoizedState),(l=Zo||bA(t,n,l,s,p,d,u))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=d),o.props=s,o.state=d,o.context=u,s=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{o=t.stateNode,UI(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Ta(t.type,l),o.props=u,m=t.pendingProps,p=o.context,d=n.contextType,typeof d=="object"&&d!==null?d=xa(d):(d=ws(n)?Fc:Vn.current,d=Ou(t,d));var g=n.getDerivedStateFromProps;(h=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==m||p!==d)&&wA(t,o,s,d),Zo=!1,p=t.memoizedState,o.state=p,Fg(t,s,o,a);var y=t.memoizedState;l!==m||p!==y||bs.current||Zo?(typeof g=="function"&&(Hw(t,n,g,s),y=t.memoizedState),(u=Zo||bA(t,n,u,s,p,y,d)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,y,d),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,y,d)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=y),o.props=s,o.state=y,o.context=d,s=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),s=!1)}return Yw(e,t,n,s,i,a)}function Yw(e,t,n,s,a,i){pM(e,t);var o=(t.flags&128)!==0;if(!s&&!o)return a&&hA(t,n,!1),bo(e,t,i);s=t.stateNode,Fq.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&o?(t.child=Mu(t,e.child,null,i),t.child=Mu(t,null,l,i)):Yn(e,t,l,i),t.memoizedState=s.state,a&&hA(t,n,!0),t.child}function xM(e){var t=e.stateNode;t.pendingContext?mA(e,t.pendingContext,t.pendingContext!==t.context):t.context&&mA(e,t.context,!1),oS(e,t.containerInfo)}function kA(e,t,n,s,a){return Iu(),tS(a),t.flags|=256,Yn(e,t,n,s),t.child}var Xw={dehydrated:null,treeContext:null,retryLane:0};function Jw(e){return{baseLanes:e,cachePool:null,transitions:null}}function gM(e,t,n){var s=t.pendingProps,a=$r.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Sr($r,a&1),e===null)return Ww(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=s.children,e=s.fallback,i?(s=t.mode,i=t.child,o={mode:"hidden",children:o},!(s&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Ly(o,s,0,null),e=$c(e,s,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Jw(n),t.memoizedState=Xw,e):pS(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return Bq(e,t,o,s,l,a,n);if(i){i=s.fallback,o=t.mode,a=e.child,l=a.sibling;var d={mode:"hidden",children:s.children};return!(o&1)&&t.child!==a?(s=t.child,s.childLanes=0,s.pendingProps=d,t.deletions=null):(s=Nl(a,d),s.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=Nl(l,i):(i=$c(i,o,n,null),i.flags|=2),i.return=t,s.return=t,s.sibling=i,t.child=s,s=i,i=t.child,o=e.child.memoizedState,o=o===null?Jw(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=Xw,s}return i=e.child,e=i.sibling,s=Nl(i,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function pS(e,t){return t=Ly({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ax(e,t,n,s){return s!==null&&tS(s),Mu(t,e.child,null,n),e=pS(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Bq(e,t,n,s,a,i,o){if(n)return t.flags&256?(t.flags&=-257,s=lb(Error(Ve(422))),Ax(e,t,o,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=s.fallback,a=t.mode,s=Ly({mode:"visible",children:s.children},a,0,null),i=$c(i,a,o,null),i.flags|=2,s.return=t,i.return=t,s.sibling=i,t.child=s,t.mode&1&&Mu(t,e.child,null,o),t.child.memoizedState=Jw(o),t.memoizedState=Xw,i);if(!(t.mode&1))return Ax(e,t,o,null);if(a.data==="$!"){if(s=a.nextSibling&&a.nextSibling.dataset,s)var l=s.dgst;return s=l,i=Error(Ve(419)),s=lb(i,s,void 0),Ax(e,t,o,s)}if(l=(o&e.childLanes)!==0,vs||l){if(s=gn,s!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(s.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,jo(e,a),qa(s,e,a,-1))}return bS(),s=lb(Error(Ve(421))),Ax(e,t,o,s)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=eU.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,Fs=yl(a.nextSibling),Bs=t,Ir=!0,Da=null,e!==null&&(oa[la++]=ao,oa[la++]=io,oa[la++]=Bc,ao=e.id,io=e.overflow,Bc=t),t=pS(t,s.children),t.flags|=4096,t)}function EA(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Kw(e.return,t,n)}function cb(e,t,n,s,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=n,i.tailMode=a)}function vM(e,t,n){var s=t.pendingProps,a=s.revealOrder,i=s.tail;if(Yn(e,t,s.children,n),s=$r.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&EA(e,n,t);else if(e.tag===19)EA(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(Sr($r,s),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&Bg(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),cb(t,!1,a,n,i);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Bg(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}cb(t,!0,n,null,i);break;case"together":cb(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function cg(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function bo(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Uc|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ve(153));if(t.child!==null){for(e=t.child,n=Nl(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Nl(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function qq(e,t,n){switch(t.tag){case 3:xM(t),Iu();break;case 5:VI(t);break;case 1:ws(t.type)&&Lg(t);break;case 4:oS(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,a=t.memoizedProps.value;Sr(Rg,s._currentValue),s._currentValue=a;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(Sr($r,$r.current&1),t.flags|=128,null):n&t.child.childLanes?gM(e,t,n):(Sr($r,$r.current&1),e=bo(e,t,n),e!==null?e.sibling:null);Sr($r,$r.current&1);break;case 19:if(s=(n&t.childLanes)!==0,e.flags&128){if(s)return vM(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Sr($r,$r.current),s)break;return null;case 22:case 23:return t.lanes=0,fM(e,t,n)}return bo(e,t,n)}var yM,eN,jM,bM;yM=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};eN=function(){};jM=function(e,t,n,s){var a=e.memoizedProps;if(a!==s){e=t.stateNode,vc(Ni.current);var i=null;switch(n){case"input":a=ww(e,a),s=ww(e,s),i=[];break;case"select":a=zr({},a,{value:void 0}),s=zr({},s,{value:void 0}),i=[];break;case"textarea":a=_w(e,a),s=_w(e,s),i=[];break;default:typeof a.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Ig)}Pw(n,s);var o;n=null;for(u in a)if(!s.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(rf.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in s){var d=s[u];if(l=a!=null?a[u]:void 0,s.hasOwnProperty(u)&&d!==l&&(d!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||d&&d.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in d)d.hasOwnProperty(o)&&l[o]!==d[o]&&(n||(n={}),n[o]=d[o])}else n||(i||(i=[]),i.push(u,n)),n=d;else u==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,l=l?l.__html:void 0,d!=null&&l!==d&&(i=i||[]).push(u,d)):u==="children"?typeof d!="string"&&typeof d!="number"||(i=i||[]).push(u,""+d):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(rf.hasOwnProperty(u)?(d!=null&&u==="onScroll"&&Cr("scroll",e),i||l===d||(i=[])):(i=i||[]).push(u,d))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};bM=function(e,t,n,s){n!==s&&(t.flags|=4)};function mh(e,t){if(!Ir)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Dn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,s|=a.subtreeFlags&14680064,s|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,s|=a.subtreeFlags,s|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function Uq(e,t,n){var s=t.pendingProps;switch(eS(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dn(t),null;case 1:return ws(t.type)&&Mg(),Dn(t),null;case 3:return s=t.stateNode,Lu(),Tr(bs),Tr(Vn),cS(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Cx(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Da!==null&&(lN(Da),Da=null))),eN(e,t),Dn(t),null;case 5:lS(t);var a=vc(pf.current);if(n=t.type,e!==null&&t.stateNode!=null)jM(e,t,n,s,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(Ve(166));return Dn(t),null}if(e=vc(Ni.current),Cx(t)){s=t.stateNode,n=t.type;var i=t.memoizedProps;switch(s[pi]=t,s[hf]=i,e=(t.mode&1)!==0,n){case"dialog":Cr("cancel",s),Cr("close",s);break;case"iframe":case"object":case"embed":Cr("load",s);break;case"video":case"audio":for(a=0;a<Oh.length;a++)Cr(Oh[a],s);break;case"source":Cr("error",s);break;case"img":case"image":case"link":Cr("error",s),Cr("load",s);break;case"details":Cr("toggle",s);break;case"input":zP(s,i),Cr("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},Cr("invalid",s);break;case"textarea":BP(s,i),Cr("invalid",s)}Pw(n,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?s.textContent!==l&&(i.suppressHydrationWarning!==!0&&_x(s.textContent,l,e),a=["children",l]):typeof l=="number"&&s.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&_x(s.textContent,l,e),a=["children",""+l]):rf.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Cr("scroll",s)}switch(n){case"input":gx(s),FP(s,i,!0);break;case"textarea":gx(s),qP(s);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(s.onclick=Ig)}s=a,t.updateQueue=s,s!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ZO(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=o.createElement(n,{is:s.is}):(e=o.createElement(n),n==="select"&&(o=e,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):e=o.createElementNS(e,n),e[pi]=t,e[hf]=s,yM(e,t,!1,!1),t.stateNode=e;e:{switch(o=Aw(n,s),n){case"dialog":Cr("cancel",e),Cr("close",e),a=s;break;case"iframe":case"object":case"embed":Cr("load",e),a=s;break;case"video":case"audio":for(a=0;a<Oh.length;a++)Cr(Oh[a],e);a=s;break;case"source":Cr("error",e),a=s;break;case"img":case"image":case"link":Cr("error",e),Cr("load",e),a=s;break;case"details":Cr("toggle",e),a=s;break;case"input":zP(e,s),a=ww(e,s),Cr("invalid",e);break;case"option":a=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},a=zr({},s,{value:void 0}),Cr("invalid",e);break;case"textarea":BP(e,s),a=_w(e,s),Cr("invalid",e);break;default:a=s}Pw(n,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var d=l[i];i==="style"?XO(e,d):i==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&QO(e,d)):i==="children"?typeof d=="string"?(n!=="textarea"||d!=="")&&nf(e,d):typeof d=="number"&&nf(e,""+d):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(rf.hasOwnProperty(i)?d!=null&&i==="onScroll"&&Cr("scroll",e):d!=null&&z2(e,i,d,o))}switch(n){case"input":gx(e),FP(e,s,!1);break;case"textarea":gx(e),qP(e);break;case"option":s.value!=null&&e.setAttribute("value",""+El(s.value));break;case"select":e.multiple=!!s.multiple,i=s.value,i!=null?su(e,!!s.multiple,i,!1):s.defaultValue!=null&&su(e,!!s.multiple,s.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Ig)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Dn(t),null;case 6:if(e&&t.stateNode!=null)bM(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(Ve(166));if(n=vc(pf.current),vc(Ni.current),Cx(t)){if(s=t.stateNode,n=t.memoizedProps,s[pi]=t,(i=s.nodeValue!==n)&&(e=Bs,e!==null))switch(e.tag){case 3:_x(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&_x(s.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[pi]=t,t.stateNode=s}return Dn(t),null;case 13:if(Tr($r),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ir&&Fs!==null&&t.mode&1&&!(t.flags&128))zI(),Iu(),t.flags|=98560,i=!1;else if(i=Cx(t),s!==null&&s.dehydrated!==null){if(e===null){if(!i)throw Error(Ve(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Ve(317));i[pi]=t}else Iu(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Dn(t),i=!1}else Da!==null&&(lN(Da),Da=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||$r.current&1?on===0&&(on=3):bS())),t.updateQueue!==null&&(t.flags|=4),Dn(t),null);case 4:return Lu(),eN(e,t),e===null&&uf(t.stateNode.containerInfo),Dn(t),null;case 10:return sS(t.type._context),Dn(t),null;case 17:return ws(t.type)&&Mg(),Dn(t),null;case 19:if(Tr($r),i=t.memoizedState,i===null)return Dn(t),null;if(s=(t.flags&128)!==0,o=i.rendering,o===null)if(s)mh(i,!1);else{if(on!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Bg(e),o!==null){for(t.flags|=128,mh(i,!1),s=o.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)i=n,e=s,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Sr($r,$r.current&1|2),t.child}e=e.sibling}i.tail!==null&&Hr()>Du&&(t.flags|=128,s=!0,mh(i,!1),t.lanes=4194304)}else{if(!s)if(e=Bg(o),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),mh(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ir)return Dn(t),null}else 2*Hr()-i.renderingStartTime>Du&&n!==1073741824&&(t.flags|=128,s=!0,mh(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Hr(),t.sibling=null,n=$r.current,Sr($r,s?n&1|2:n&1),t):(Dn(t),null);case 22:case 23:return jS(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?Is&1073741824&&(Dn(t),t.subtreeFlags&6&&(t.flags|=8192)):Dn(t),null;case 24:return null;case 25:return null}throw Error(Ve(156,t.tag))}function Vq(e,t){switch(eS(t),t.tag){case 1:return ws(t.type)&&Mg(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Lu(),Tr(bs),Tr(Vn),cS(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return lS(t),null;case 13:if(Tr($r),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ve(340));Iu()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Tr($r),null;case 4:return Lu(),null;case 10:return sS(t.type._context),null;case 22:case 23:return jS(),null;case 24:return null;default:return null}}var kx=!1,Bn=!1,Wq=typeof WeakSet=="function"?WeakSet:Set,st=null;function Qd(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){qr(e,t,s)}else n.current=null}function tN(e,t,n){try{n()}catch(s){qr(e,t,s)}}var TA=!1;function Kq(e,t){if(Rw=Eg,e=CI(),X2(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var a=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,d=-1,u=0,h=0,m=e,p=null;t:for(;;){for(var g;m!==n||a!==0&&m.nodeType!==3||(l=o+a),m!==i||s!==0&&m.nodeType!==3||(d=o+s),m.nodeType===3&&(o+=m.nodeValue.length),(g=m.firstChild)!==null;)p=m,m=g;for(;;){if(m===e)break t;if(p===n&&++u===a&&(l=o),p===i&&++h===s&&(d=o),(g=m.nextSibling)!==null)break;m=p,p=m.parentNode}m=g}n=l===-1||d===-1?null:{start:l,end:d}}else n=null}n=n||{start:0,end:0}}else n=null;for(zw={focusedElem:e,selectionRange:n},Eg=!1,st=t;st!==null;)if(t=st,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,st=e;else for(;st!==null;){t=st;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var x=y.memoizedProps,v=y.memoizedState,j=t.stateNode,b=j.getSnapshotBeforeUpdate(t.elementType===t.type?x:Ta(t.type,x),v);j.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var S=t.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ve(163))}}catch(C){qr(t,t.return,C)}if(e=t.sibling,e!==null){e.return=t.return,st=e;break}st=t.return}return y=TA,TA=!1,y}function Uh(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&tN(t,n,i)}a=a.next}while(a!==s)}}function Iy(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function rN(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function wM(e){var t=e.alternate;t!==null&&(e.alternate=null,wM(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[pi],delete t[hf],delete t[qw],delete t[Aq],delete t[kq])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function NM(e){return e.tag===5||e.tag===3||e.tag===4}function OA(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||NM(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function nN(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ig));else if(s!==4&&(e=e.child,e!==null))for(nN(e,t,n),e=e.sibling;e!==null;)nN(e,t,n),e=e.sibling}function sN(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(sN(e,t,n),e=e.sibling;e!==null;)sN(e,t,n),e=e.sibling}var Pn=null,Ma=!1;function Bo(e,t,n){for(n=n.child;n!==null;)SM(e,t,n),n=n.sibling}function SM(e,t,n){if(wi&&typeof wi.onCommitFiberUnmount=="function")try{wi.onCommitFiberUnmount(_y,n)}catch{}switch(n.tag){case 5:Bn||Qd(n,t);case 6:var s=Pn,a=Ma;Pn=null,Bo(e,t,n),Pn=s,Ma=a,Pn!==null&&(Ma?(e=Pn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Pn.removeChild(n.stateNode));break;case 18:Pn!==null&&(Ma?(e=Pn,n=n.stateNode,e.nodeType===8?rb(e.parentNode,n):e.nodeType===1&&rb(e,n),lf(e)):rb(Pn,n.stateNode));break;case 4:s=Pn,a=Ma,Pn=n.stateNode.containerInfo,Ma=!0,Bo(e,t,n),Pn=s,Ma=a;break;case 0:case 11:case 14:case 15:if(!Bn&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){a=s=s.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&tN(n,t,o),a=a.next}while(a!==s)}Bo(e,t,n);break;case 1:if(!Bn&&(Qd(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(l){qr(n,t,l)}Bo(e,t,n);break;case 21:Bo(e,t,n);break;case 22:n.mode&1?(Bn=(s=Bn)||n.memoizedState!==null,Bo(e,t,n),Bn=s):Bo(e,t,n);break;default:Bo(e,t,n)}}function IA(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Wq),t.forEach(function(s){var a=tU.bind(null,e,s);n.has(s)||(n.add(s),s.then(a,a))})}}function Pa(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var a=n[s];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Pn=l.stateNode,Ma=!1;break e;case 3:Pn=l.stateNode.containerInfo,Ma=!0;break e;case 4:Pn=l.stateNode.containerInfo,Ma=!0;break e}l=l.return}if(Pn===null)throw Error(Ve(160));SM(i,o,a),Pn=null,Ma=!1;var d=a.alternate;d!==null&&(d.return=null),a.return=null}catch(u){qr(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)_M(t,e),t=t.sibling}function _M(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Pa(t,e),ii(e),s&4){try{Uh(3,e,e.return),Iy(3,e)}catch(x){qr(e,e.return,x)}try{Uh(5,e,e.return)}catch(x){qr(e,e.return,x)}}break;case 1:Pa(t,e),ii(e),s&512&&n!==null&&Qd(n,n.return);break;case 5:if(Pa(t,e),ii(e),s&512&&n!==null&&Qd(n,n.return),e.flags&32){var a=e.stateNode;try{nf(a,"")}catch(x){qr(e,e.return,x)}}if(s&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,l=e.type,d=e.updateQueue;if(e.updateQueue=null,d!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&HO(a,i),Aw(l,o);var u=Aw(l,i);for(o=0;o<d.length;o+=2){var h=d[o],m=d[o+1];h==="style"?XO(a,m):h==="dangerouslySetInnerHTML"?QO(a,m):h==="children"?nf(a,m):z2(a,h,m,u)}switch(l){case"input":Nw(a,i);break;case"textarea":GO(a,i);break;case"select":var p=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?su(a,!!i.multiple,g,!1):p!==!!i.multiple&&(i.defaultValue!=null?su(a,!!i.multiple,i.defaultValue,!0):su(a,!!i.multiple,i.multiple?[]:"",!1))}a[hf]=i}catch(x){qr(e,e.return,x)}}break;case 6:if(Pa(t,e),ii(e),s&4){if(e.stateNode===null)throw Error(Ve(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(x){qr(e,e.return,x)}}break;case 3:if(Pa(t,e),ii(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{lf(t.containerInfo)}catch(x){qr(e,e.return,x)}break;case 4:Pa(t,e),ii(e);break;case 13:Pa(t,e),ii(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(vS=Hr())),s&4&&IA(e);break;case 22:if(h=n!==null&&n.memoizedState!==null,e.mode&1?(Bn=(u=Bn)||h,Pa(t,e),Bn=u):Pa(t,e),ii(e),s&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!h&&e.mode&1)for(st=e,h=e.child;h!==null;){for(m=st=h;st!==null;){switch(p=st,g=p.child,p.tag){case 0:case 11:case 14:case 15:Uh(4,p,p.return);break;case 1:Qd(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){s=p,n=p.return;try{t=s,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(x){qr(s,n,x)}}break;case 5:Qd(p,p.return);break;case 22:if(p.memoizedState!==null){LA(m);continue}}g!==null?(g.return=p,st=g):LA(m)}h=h.sibling}e:for(h=null,m=e;;){if(m.tag===5){if(h===null){h=m;try{a=m.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=m.stateNode,d=m.memoizedProps.style,o=d!=null&&d.hasOwnProperty("display")?d.display:null,l.style.display=YO("display",o))}catch(x){qr(e,e.return,x)}}}else if(m.tag===6){if(h===null)try{m.stateNode.nodeValue=u?"":m.memoizedProps}catch(x){qr(e,e.return,x)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;h===m&&(h=null),m=m.return}h===m&&(h=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Pa(t,e),ii(e),s&4&&IA(e);break;case 21:break;default:Pa(t,e),ii(e)}}function ii(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(NM(n)){var s=n;break e}n=n.return}throw Error(Ve(160))}switch(s.tag){case 5:var a=s.stateNode;s.flags&32&&(nf(a,""),s.flags&=-33);var i=OA(e);sN(e,i,a);break;case 3:case 4:var o=s.stateNode.containerInfo,l=OA(e);nN(e,l,o);break;default:throw Error(Ve(161))}}catch(d){qr(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Hq(e,t,n){st=e,CM(e)}function CM(e,t,n){for(var s=(e.mode&1)!==0;st!==null;){var a=st,i=a.child;if(a.tag===22&&s){var o=a.memoizedState!==null||kx;if(!o){var l=a.alternate,d=l!==null&&l.memoizedState!==null||Bn;l=kx;var u=Bn;if(kx=o,(Bn=d)&&!u)for(st=a;st!==null;)o=st,d=o.child,o.tag===22&&o.memoizedState!==null?$A(a):d!==null?(d.return=o,st=d):$A(a);for(;i!==null;)st=i,CM(i),i=i.sibling;st=a,kx=l,Bn=u}MA(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,st=i):MA(e)}}function MA(e){for(;st!==null;){var t=st;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Bn||Iy(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!Bn)if(n===null)s.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:Ta(t.type,n.memoizedProps);s.componentDidUpdate(a,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&vA(t,i,s);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}vA(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var d=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&n.focus();break;case"img":d.src&&(n.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var m=h.dehydrated;m!==null&&lf(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ve(163))}Bn||t.flags&512&&rN(t)}catch(p){qr(t,t.return,p)}}if(t===e){st=null;break}if(n=t.sibling,n!==null){n.return=t.return,st=n;break}st=t.return}}function LA(e){for(;st!==null;){var t=st;if(t===e){st=null;break}var n=t.sibling;if(n!==null){n.return=t.return,st=n;break}st=t.return}}function $A(e){for(;st!==null;){var t=st;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Iy(4,t)}catch(d){qr(t,n,d)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var a=t.return;try{s.componentDidMount()}catch(d){qr(t,a,d)}}var i=t.return;try{rN(t)}catch(d){qr(t,i,d)}break;case 5:var o=t.return;try{rN(t)}catch(d){qr(t,o,d)}}}catch(d){qr(t,t.return,d)}if(t===e){st=null;break}var l=t.sibling;if(l!==null){l.return=t.return,st=l;break}st=t.return}}var Gq=Math.ceil,Vg=Oo.ReactCurrentDispatcher,xS=Oo.ReactCurrentOwner,ha=Oo.ReactCurrentBatchConfig,er=0,gn=null,en=null,An=0,Is=0,Yd=$l(0),on=0,yf=null,Uc=0,My=0,gS=0,Vh=null,gs=null,vS=0,Du=1/0,Wi=null,Wg=!1,aN=null,bl=null,Ex=!1,ul=null,Kg=0,Wh=0,iN=null,dg=-1,ug=0;function ns(){return er&6?Hr():dg!==-1?dg:dg=Hr()}function wl(e){return e.mode&1?er&2&&An!==0?An&-An:Tq.transition!==null?(ug===0&&(ug=dI()),ug):(e=mr,e!==0||(e=window.event,e=e===void 0?16:gI(e.type)),e):1}function qa(e,t,n,s){if(50<Wh)throw Wh=0,iN=null,Error(Ve(185));Np(e,n,s),(!(er&2)||e!==gn)&&(e===gn&&(!(er&2)&&(My|=n),on===4&&Xo(e,An)),Ns(e,s),n===1&&er===0&&!(t.mode&1)&&(Du=Hr()+500,Ey&&Dl()))}function Ns(e,t){var n=e.callbackNode;TB(e,t);var s=kg(e,e===gn?An:0);if(s===0)n!==null&&WP(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&WP(n),t===1)e.tag===0?Eq(DA.bind(null,e)):$I(DA.bind(null,e)),Cq(function(){!(er&6)&&Dl()}),n=null;else{switch(uI(s)){case 1:n=V2;break;case 4:n=lI;break;case 16:n=Ag;break;case 536870912:n=cI;break;default:n=Ag}n=MM(n,PM.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function PM(e,t){if(dg=-1,ug=0,er&6)throw Error(Ve(327));var n=e.callbackNode;if(cu()&&e.callbackNode!==n)return null;var s=kg(e,e===gn?An:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=Hg(e,s);else{t=s;var a=er;er|=2;var i=kM();(gn!==e||An!==t)&&(Wi=null,Du=Hr()+500,Lc(e,t));do try{Yq();break}catch(l){AM(e,l)}while(!0);nS(),Vg.current=i,er=a,en!==null?t=0:(gn=null,An=0,t=on)}if(t!==0){if(t===2&&(a=Iw(e),a!==0&&(s=a,t=oN(e,a))),t===1)throw n=yf,Lc(e,0),Xo(e,s),Ns(e,Hr()),n;if(t===6)Xo(e,s);else{if(a=e.current.alternate,!(s&30)&&!Zq(a)&&(t=Hg(e,s),t===2&&(i=Iw(e),i!==0&&(s=i,t=oN(e,i))),t===1))throw n=yf,Lc(e,0),Xo(e,s),Ns(e,Hr()),n;switch(e.finishedWork=a,e.finishedLanes=s,t){case 0:case 1:throw Error(Ve(345));case 2:dc(e,gs,Wi);break;case 3:if(Xo(e,s),(s&130023424)===s&&(t=vS+500-Hr(),10<t)){if(kg(e,0)!==0)break;if(a=e.suspendedLanes,(a&s)!==s){ns(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Bw(dc.bind(null,e,gs,Wi),t);break}dc(e,gs,Wi);break;case 4:if(Xo(e,s),(s&4194240)===s)break;for(t=e.eventTimes,a=-1;0<s;){var o=31-Ba(s);i=1<<o,o=t[o],o>a&&(a=o),s&=~i}if(s=a,s=Hr()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*Gq(s/1960))-s,10<s){e.timeoutHandle=Bw(dc.bind(null,e,gs,Wi),s);break}dc(e,gs,Wi);break;case 5:dc(e,gs,Wi);break;default:throw Error(Ve(329))}}}return Ns(e,Hr()),e.callbackNode===n?PM.bind(null,e):null}function oN(e,t){var n=Vh;return e.current.memoizedState.isDehydrated&&(Lc(e,t).flags|=256),e=Hg(e,t),e!==2&&(t=gs,gs=n,t!==null&&lN(t)),e}function lN(e){gs===null?gs=e:gs.push.apply(gs,e)}function Zq(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var a=n[s],i=a.getSnapshot;a=a.value;try{if(!Va(i(),a))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Xo(e,t){for(t&=~gS,t&=~My,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ba(t),s=1<<n;e[n]=-1,t&=~s}}function DA(e){if(er&6)throw Error(Ve(327));cu();var t=kg(e,0);if(!(t&1))return Ns(e,Hr()),null;var n=Hg(e,t);if(e.tag!==0&&n===2){var s=Iw(e);s!==0&&(t=s,n=oN(e,s))}if(n===1)throw n=yf,Lc(e,0),Xo(e,t),Ns(e,Hr()),n;if(n===6)throw Error(Ve(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,dc(e,gs,Wi),Ns(e,Hr()),null}function yS(e,t){var n=er;er|=1;try{return e(t)}finally{er=n,er===0&&(Du=Hr()+500,Ey&&Dl())}}function Vc(e){ul!==null&&ul.tag===0&&!(er&6)&&cu();var t=er;er|=1;var n=ha.transition,s=mr;try{if(ha.transition=null,mr=1,e)return e()}finally{mr=s,ha.transition=n,er=t,!(er&6)&&Dl()}}function jS(){Is=Yd.current,Tr(Yd)}function Lc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,_q(n)),en!==null)for(n=en.return;n!==null;){var s=n;switch(eS(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Mg();break;case 3:Lu(),Tr(bs),Tr(Vn),cS();break;case 5:lS(s);break;case 4:Lu();break;case 13:Tr($r);break;case 19:Tr($r);break;case 10:sS(s.type._context);break;case 22:case 23:jS()}n=n.return}if(gn=e,en=e=Nl(e.current,null),An=Is=t,on=0,yf=null,gS=My=Uc=0,gs=Vh=null,gc!==null){for(t=0;t<gc.length;t++)if(n=gc[t],s=n.interleaved,s!==null){n.interleaved=null;var a=s.next,i=n.pending;if(i!==null){var o=i.next;i.next=a,s.next=o}n.pending=s}gc=null}return e}function AM(e,t){do{var n=en;try{if(nS(),og.current=Ug,qg){for(var s=Rr.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}qg=!1}if(qc=0,pn=sn=Rr=null,qh=!1,xf=0,xS.current=null,n===null||n.return===null){on=1,yf=t,en=null;break}e:{var i=e,o=n.return,l=n,d=t;if(t=An,l.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var u=d,h=l,m=h.tag;if(!(h.mode&1)&&(m===0||m===11||m===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var g=SA(o);if(g!==null){g.flags&=-257,_A(g,o,l,i,t),g.mode&1&&NA(i,u,t),t=g,d=u;var y=t.updateQueue;if(y===null){var x=new Set;x.add(d),t.updateQueue=x}else y.add(d);break e}else{if(!(t&1)){NA(i,u,t),bS();break e}d=Error(Ve(426))}}else if(Ir&&l.mode&1){var v=SA(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),_A(v,o,l,i,t),tS($u(d,l));break e}}i=d=$u(d,l),on!==4&&(on=2),Vh===null?Vh=[i]:Vh.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var j=uM(i,d,t);gA(i,j);break e;case 1:l=d;var b=i.type,S=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(bl===null||!bl.has(S)))){i.flags|=65536,t&=-t,i.lanes|=t;var C=mM(i,l,t);gA(i,C);break e}}i=i.return}while(i!==null)}TM(n)}catch(_){t=_,en===n&&n!==null&&(en=n=n.return);continue}break}while(!0)}function kM(){var e=Vg.current;return Vg.current=Ug,e===null?Ug:e}function bS(){(on===0||on===3||on===2)&&(on=4),gn===null||!(Uc&268435455)&&!(My&268435455)||Xo(gn,An)}function Hg(e,t){var n=er;er|=2;var s=kM();(gn!==e||An!==t)&&(Wi=null,Lc(e,t));do try{Qq();break}catch(a){AM(e,a)}while(!0);if(nS(),er=n,Vg.current=s,en!==null)throw Error(Ve(261));return gn=null,An=0,on}function Qq(){for(;en!==null;)EM(en)}function Yq(){for(;en!==null&&!wB();)EM(en)}function EM(e){var t=IM(e.alternate,e,Is);e.memoizedProps=e.pendingProps,t===null?TM(e):en=t,xS.current=null}function TM(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Vq(n,t),n!==null){n.flags&=32767,en=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{on=6,en=null;return}}else if(n=Uq(n,t,Is),n!==null){en=n;return}if(t=t.sibling,t!==null){en=t;return}en=t=e}while(t!==null);on===0&&(on=5)}function dc(e,t,n){var s=mr,a=ha.transition;try{ha.transition=null,mr=1,Xq(e,t,n,s)}finally{ha.transition=a,mr=s}return null}function Xq(e,t,n,s){do cu();while(ul!==null);if(er&6)throw Error(Ve(327));n=e.finishedWork;var a=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Ve(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(OB(e,i),e===gn&&(en=gn=null,An=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ex||(Ex=!0,MM(Ag,function(){return cu(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=ha.transition,ha.transition=null;var o=mr;mr=1;var l=er;er|=4,xS.current=null,Kq(e,n),_M(n,e),vq(zw),Eg=!!Rw,zw=Rw=null,e.current=n,Hq(n),NB(),er=l,mr=o,ha.transition=i}else e.current=n;if(Ex&&(Ex=!1,ul=e,Kg=a),i=e.pendingLanes,i===0&&(bl=null),CB(n.stateNode),Ns(e,Hr()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],s(a.value,{componentStack:a.stack,digest:a.digest});if(Wg)throw Wg=!1,e=aN,aN=null,e;return Kg&1&&e.tag!==0&&cu(),i=e.pendingLanes,i&1?e===iN?Wh++:(Wh=0,iN=e):Wh=0,Dl(),null}function cu(){if(ul!==null){var e=uI(Kg),t=ha.transition,n=mr;try{if(ha.transition=null,mr=16>e?16:e,ul===null)var s=!1;else{if(e=ul,ul=null,Kg=0,er&6)throw Error(Ve(331));var a=er;for(er|=4,st=e.current;st!==null;){var i=st,o=i.child;if(st.flags&16){var l=i.deletions;if(l!==null){for(var d=0;d<l.length;d++){var u=l[d];for(st=u;st!==null;){var h=st;switch(h.tag){case 0:case 11:case 15:Uh(8,h,i)}var m=h.child;if(m!==null)m.return=h,st=m;else for(;st!==null;){h=st;var p=h.sibling,g=h.return;if(wM(h),h===u){st=null;break}if(p!==null){p.return=g,st=p;break}st=g}}}var y=i.alternate;if(y!==null){var x=y.child;if(x!==null){y.child=null;do{var v=x.sibling;x.sibling=null,x=v}while(x!==null)}}st=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,st=o;else e:for(;st!==null;){if(i=st,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Uh(9,i,i.return)}var j=i.sibling;if(j!==null){j.return=i.return,st=j;break e}st=i.return}}var b=e.current;for(st=b;st!==null;){o=st;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,st=S;else e:for(o=b;st!==null;){if(l=st,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Iy(9,l)}}catch(_){qr(l,l.return,_)}if(l===o){st=null;break e}var C=l.sibling;if(C!==null){C.return=l.return,st=C;break e}st=l.return}}if(er=a,Dl(),wi&&typeof wi.onPostCommitFiberRoot=="function")try{wi.onPostCommitFiberRoot(_y,e)}catch{}s=!0}return s}finally{mr=n,ha.transition=t}}return!1}function RA(e,t,n){t=$u(n,t),t=uM(e,t,1),e=jl(e,t,1),t=ns(),e!==null&&(Np(e,1,t),Ns(e,t))}function qr(e,t,n){if(e.tag===3)RA(e,e,n);else for(;t!==null;){if(t.tag===3){RA(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(bl===null||!bl.has(s))){e=$u(n,e),e=mM(t,e,1),t=jl(t,e,1),e=ns(),t!==null&&(Np(t,1,e),Ns(t,e));break}}t=t.return}}function Jq(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=ns(),e.pingedLanes|=e.suspendedLanes&n,gn===e&&(An&n)===n&&(on===4||on===3&&(An&130023424)===An&&500>Hr()-vS?Lc(e,0):gS|=n),Ns(e,t)}function OM(e,t){t===0&&(e.mode&1?(t=jx,jx<<=1,!(jx&130023424)&&(jx=4194304)):t=1);var n=ns();e=jo(e,t),e!==null&&(Np(e,t,n),Ns(e,n))}function eU(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),OM(e,n)}function tU(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(Ve(314))}s!==null&&s.delete(t),OM(e,n)}var IM;IM=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||bs.current)vs=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return vs=!1,qq(e,t,n);vs=!!(e.flags&131072)}else vs=!1,Ir&&t.flags&1048576&&DI(t,Dg,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;cg(e,t),e=t.pendingProps;var a=Ou(t,Vn.current);lu(t,n),a=uS(null,t,s,e,a,n);var i=mS();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ws(s)?(i=!0,Lg(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,iS(t),a.updater=Oy,t.stateNode=a,a._reactInternals=t,Gw(t,s,e,n),t=Yw(null,t,s,!0,i,n)):(t.tag=0,Ir&&i&&J2(t),Yn(null,t,a,n),t=t.child),t;case 16:s=t.elementType;e:{switch(cg(e,t),e=t.pendingProps,a=s._init,s=a(s._payload),t.type=s,a=t.tag=nU(s),e=Ta(s,e),a){case 0:t=Qw(null,t,s,e,n);break e;case 1:t=AA(null,t,s,e,n);break e;case 11:t=CA(null,t,s,e,n);break e;case 14:t=PA(null,t,s,Ta(s.type,e),n);break e}throw Error(Ve(306,s,""))}return t;case 0:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Ta(s,a),Qw(e,t,s,a,n);case 1:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Ta(s,a),AA(e,t,s,a,n);case 3:e:{if(xM(t),e===null)throw Error(Ve(387));s=t.pendingProps,i=t.memoizedState,a=i.element,UI(e,t),Fg(t,s,null,n);var o=t.memoizedState;if(s=o.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=$u(Error(Ve(423)),t),t=kA(e,t,s,n,a);break e}else if(s!==a){a=$u(Error(Ve(424)),t),t=kA(e,t,s,n,a);break e}else for(Fs=yl(t.stateNode.containerInfo.firstChild),Bs=t,Ir=!0,Da=null,n=BI(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Iu(),s===a){t=bo(e,t,n);break e}Yn(e,t,s,n)}t=t.child}return t;case 5:return VI(t),e===null&&Ww(t),s=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,Fw(s,a)?o=null:i!==null&&Fw(s,i)&&(t.flags|=32),pM(e,t),Yn(e,t,o,n),t.child;case 6:return e===null&&Ww(t),null;case 13:return gM(e,t,n);case 4:return oS(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Mu(t,null,s,n):Yn(e,t,s,n),t.child;case 11:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Ta(s,a),CA(e,t,s,a,n);case 7:return Yn(e,t,t.pendingProps,n),t.child;case 8:return Yn(e,t,t.pendingProps.children,n),t.child;case 12:return Yn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,Sr(Rg,s._currentValue),s._currentValue=o,i!==null)if(Va(i.value,o)){if(i.children===a.children&&!bs.current){t=bo(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var d=l.firstContext;d!==null;){if(d.context===s){if(i.tag===1){d=mo(-1,n&-n),d.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?d.next=d:(d.next=h.next,h.next=d),u.pending=d}}i.lanes|=n,d=i.alternate,d!==null&&(d.lanes|=n),Kw(i.return,n,t),l.lanes|=n;break}d=d.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(Ve(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Kw(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Yn(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,s=t.pendingProps.children,lu(t,n),a=xa(a),s=s(a),t.flags|=1,Yn(e,t,s,n),t.child;case 14:return s=t.type,a=Ta(s,t.pendingProps),a=Ta(s.type,a),PA(e,t,s,a,n);case 15:return hM(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Ta(s,a),cg(e,t),t.tag=1,ws(s)?(e=!0,Lg(t)):e=!1,lu(t,n),dM(t,s,a),Gw(t,s,a,n),Yw(null,t,s,!0,e,n);case 19:return vM(e,t,n);case 22:return fM(e,t,n)}throw Error(Ve(156,t.tag))};function MM(e,t){return oI(e,t)}function rU(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ua(e,t,n,s){return new rU(e,t,n,s)}function wS(e){return e=e.prototype,!(!e||!e.isReactComponent)}function nU(e){if(typeof e=="function")return wS(e)?1:0;if(e!=null){if(e=e.$$typeof,e===B2)return 11;if(e===q2)return 14}return 2}function Nl(e,t){var n=e.alternate;return n===null?(n=ua(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function mg(e,t,n,s,a,i){var o=2;if(s=e,typeof e=="function")wS(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Bd:return $c(n.children,a,i,t);case F2:o=8,a|=8;break;case vw:return e=ua(12,n,t,a|2),e.elementType=vw,e.lanes=i,e;case yw:return e=ua(13,n,t,a),e.elementType=yw,e.lanes=i,e;case jw:return e=ua(19,n,t,a),e.elementType=jw,e.lanes=i,e;case VO:return Ly(n,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case qO:o=10;break e;case UO:o=9;break e;case B2:o=11;break e;case q2:o=14;break e;case Go:o=16,s=null;break e}throw Error(Ve(130,e==null?e:typeof e,""))}return t=ua(o,n,t,a),t.elementType=e,t.type=s,t.lanes=i,t}function $c(e,t,n,s){return e=ua(7,e,s,t),e.lanes=n,e}function Ly(e,t,n,s){return e=ua(22,e,s,t),e.elementType=VO,e.lanes=n,e.stateNode={isHidden:!1},e}function db(e,t,n){return e=ua(6,e,null,t),e.lanes=n,e}function ub(e,t,n){return t=ua(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function sU(e,t,n,s,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wj(0),this.expirationTimes=Wj(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wj(0),this.identifierPrefix=s,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function NS(e,t,n,s,a,i,o,l,d){return e=new sU(e,t,n,l,d),t===1?(t=1,i===!0&&(t|=8)):t=0,i=ua(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},iS(i),e}function aU(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fd,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function LM(e){if(!e)return Tl;e=e._reactInternals;e:{if(id(e)!==e||e.tag!==1)throw Error(Ve(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ws(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ve(171))}if(e.tag===1){var n=e.type;if(ws(n))return LI(e,n,t)}return t}function $M(e,t,n,s,a,i,o,l,d){return e=NS(n,s,!0,e,a,i,o,l,d),e.context=LM(null),n=e.current,s=ns(),a=wl(n),i=mo(s,a),i.callback=t??null,jl(n,i,a),e.current.lanes=a,Np(e,a,s),Ns(e,s),e}function $y(e,t,n,s){var a=t.current,i=ns(),o=wl(a);return n=LM(n),t.context===null?t.context=n:t.pendingContext=n,t=mo(i,o),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=jl(a,t,o),e!==null&&(qa(e,a,o,i),ig(e,a,o)),o}function Gg(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function zA(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function SS(e,t){zA(e,t),(e=e.alternate)&&zA(e,t)}function iU(){return null}var DM=typeof reportError=="function"?reportError:function(e){console.error(e)};function _S(e){this._internalRoot=e}Dy.prototype.render=_S.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ve(409));$y(e,t,null,null)};Dy.prototype.unmount=_S.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Vc(function(){$y(null,e,null,null)}),t[yo]=null}};function Dy(e){this._internalRoot=e}Dy.prototype.unstable_scheduleHydration=function(e){if(e){var t=fI();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Yo.length&&t!==0&&t<Yo[n].priority;n++);Yo.splice(n,0,e),n===0&&xI(e)}};function CS(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ry(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function FA(){}function oU(e,t,n,s,a){if(a){if(typeof s=="function"){var i=s;s=function(){var u=Gg(o);i.call(u)}}var o=$M(t,s,e,0,null,!1,!1,"",FA);return e._reactRootContainer=o,e[yo]=o.current,uf(e.nodeType===8?e.parentNode:e),Vc(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof s=="function"){var l=s;s=function(){var u=Gg(d);l.call(u)}}var d=NS(e,0,!1,null,null,!1,!1,"",FA);return e._reactRootContainer=d,e[yo]=d.current,uf(e.nodeType===8?e.parentNode:e),Vc(function(){$y(t,d,n,s)}),d}function zy(e,t,n,s,a){var i=n._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var d=Gg(o);l.call(d)}}$y(t,o,e,a)}else o=oU(n,t,e,a,s);return Gg(o)}mI=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Th(t.pendingLanes);n!==0&&(W2(t,n|1),Ns(t,Hr()),!(er&6)&&(Du=Hr()+500,Dl()))}break;case 13:Vc(function(){var s=jo(e,1);if(s!==null){var a=ns();qa(s,e,1,a)}}),SS(e,1)}};K2=function(e){if(e.tag===13){var t=jo(e,134217728);if(t!==null){var n=ns();qa(t,e,134217728,n)}SS(e,134217728)}};hI=function(e){if(e.tag===13){var t=wl(e),n=jo(e,t);if(n!==null){var s=ns();qa(n,e,t,s)}SS(e,t)}};fI=function(){return mr};pI=function(e,t){var n=mr;try{return mr=e,t()}finally{mr=n}};Ew=function(e,t,n){switch(t){case"input":if(Nw(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var a=ky(s);if(!a)throw Error(Ve(90));KO(s),Nw(s,a)}}}break;case"textarea":GO(e,n);break;case"select":t=n.value,t!=null&&su(e,!!n.multiple,t,!1)}};tI=yS;rI=Vc;var lU={usingClientEntryPoint:!1,Events:[_p,Wd,ky,JO,eI,yS]},hh={findFiberByHostInstance:xc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},cU={bundleType:hh.bundleType,version:hh.version,rendererPackageName:hh.rendererPackageName,rendererConfig:hh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Oo.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=aI(e),e===null?null:e.stateNode},findFiberByHostInstance:hh.findFiberByHostInstance||iU,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tx.isDisabled&&Tx.supportsFiber)try{_y=Tx.inject(cU),wi=Tx}catch{}}Gs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lU;Gs.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!CS(t))throw Error(Ve(200));return aU(e,t,null,n)};Gs.createRoot=function(e,t){if(!CS(e))throw Error(Ve(299));var n=!1,s="",a=DM;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=NS(e,1,!1,null,null,n,!1,s,a),e[yo]=t.current,uf(e.nodeType===8?e.parentNode:e),new _S(t)};Gs.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ve(188)):(e=Object.keys(e).join(","),Error(Ve(268,e)));return e=aI(t),e=e===null?null:e.stateNode,e};Gs.flushSync=function(e){return Vc(e)};Gs.hydrate=function(e,t,n){if(!Ry(t))throw Error(Ve(200));return zy(null,e,t,!0,n)};Gs.hydrateRoot=function(e,t,n){if(!CS(e))throw Error(Ve(405));var s=n!=null&&n.hydratedSources||null,a=!1,i="",o=DM;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=$M(t,null,e,1,n??null,a,!1,i,o),e[yo]=t.current,uf(e),s)for(e=0;e<s.length;e++)n=s[e],a=n._getVersion,a=a(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Dy(t)};Gs.render=function(e,t,n){if(!Ry(t))throw Error(Ve(200));return zy(null,e,t,!1,n)};Gs.unmountComponentAtNode=function(e){if(!Ry(e))throw Error(Ve(40));return e._reactRootContainer?(Vc(function(){zy(null,null,e,!1,function(){e._reactRootContainer=null,e[yo]=null})}),!0):!1};Gs.unstable_batchedUpdates=yS;Gs.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!Ry(n))throw Error(Ve(200));if(e==null||e._reactInternals===void 0)throw Error(Ve(38));return zy(e,t,n,!1,s)};Gs.version="18.3.1-next-f1338f8080-20240426";function RM(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(RM)}catch(e){console.error(e)}}RM(),RO.exports=Gs;var od=RO.exports;const zM=ar(od);var FM,BA=od;FM=BA.createRoot,BA.hydrateRoot;const dU=1,uU=1e6;let mb=0;function mU(){return mb=(mb+1)%Number.MAX_SAFE_INTEGER,mb.toString()}const hb=new Map,qA=e=>{if(hb.has(e))return;const t=setTimeout(()=>{hb.delete(e),Kh({type:"REMOVE_TOAST",toastId:e})},uU);hb.set(e,t)},hU=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,dU)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?qA(n):e.toasts.forEach(s=>{qA(s.id)}),{...e,toasts:e.toasts.map(s=>s.id===n||n===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},hg=[];let fg={toasts:[]};function Kh(e){fg=hU(fg,e),hg.forEach(t=>{t(fg)})}function fU({...e}){const t=mU(),n=a=>Kh({type:"UPDATE_TOAST",toast:{...a,id:t}}),s=()=>Kh({type:"DISMISS_TOAST",toastId:t});return Kh({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||s()}}}),{id:t,dismiss:s,update:n}}function BM(){const[e,t]=N.useState(fg);return N.useEffect(()=>(hg.push(t),()=>{const n=hg.indexOf(t);n>-1&&hg.splice(n,1)}),[e]),{...e,toast:fU,dismiss:n=>Kh({type:"DISMISS_TOAST",toastId:n})}}function Ge(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e==null||e(a),n===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function UA(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Fy(...e){return t=>{let n=!1;const s=e.map(a=>{const i=UA(a,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let a=0;a<s.length;a++){const i=s[a];typeof i=="function"?i():UA(e[a],null)}}}}function Zt(...e){return N.useCallback(Fy(...e),e)}function pU(e,t){const n=N.createContext(t),s=i=>{const{children:o,...l}=i,d=N.useMemo(()=>l,Object.values(l));return r.jsx(n.Provider,{value:d,children:o})};s.displayName=e+"Provider";function a(i){const o=N.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[s,a]}function _s(e,t=[]){let n=[];function s(i,o){const l=N.createContext(o),d=n.length;n=[...n,o];const u=m=>{var j;const{scope:p,children:g,...y}=m,x=((j=p==null?void 0:p[e])==null?void 0:j[d])||l,v=N.useMemo(()=>y,Object.values(y));return r.jsx(x.Provider,{value:v,children:g})};u.displayName=i+"Provider";function h(m,p){var x;const g=((x=p==null?void 0:p[e])==null?void 0:x[d])||l,y=N.useContext(g);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${i}\``)}return[u,h]}const a=()=>{const i=n.map(o=>N.createContext(o));return function(l){const d=(l==null?void 0:l[e])||i;return N.useMemo(()=>({[`__scope${e}`]:{...l,[e]:d}}),[l,d])}};return a.scopeName=e,[s,xU(a,...t)]}function xU(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=s.reduce((l,{useScope:d,scopeName:u})=>{const m=d(i)[`__scope${u}`];return{...l,...m}},{});return N.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function Wc(e){const t=gU(e),n=N.forwardRef((s,a)=>{const{children:i,...o}=s,l=N.Children.toArray(i),d=l.find(vU);if(d){const u=d.props.children,h=l.map(m=>m===d?N.Children.count(u)>1?N.Children.only(null):N.isValidElement(u)?u.props.children:null:m);return r.jsx(t,{...o,ref:a,children:N.isValidElement(u)?N.cloneElement(u,void 0,h):null})}return r.jsx(t,{...o,ref:a,children:i})});return n.displayName=`${e}.Slot`,n}var qM=Wc("Slot");function gU(e){const t=N.forwardRef((n,s)=>{const{children:a,...i}=n;if(N.isValidElement(a)){const o=jU(a),l=yU(i,a.props);return a.type!==N.Fragment&&(l.ref=s?Fy(s,o):o),N.cloneElement(a,l)}return N.Children.count(a)>1?N.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var UM=Symbol("radix.slottable");function VM(e){const t=({children:n})=>r.jsx(r.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=UM,t}function vU(e){return N.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===UM}function yU(e,t){const n={...t};for(const s in t){const a=e[s],i=t[s];/^on[A-Z]/.test(s)?a&&i?n[s]=(...l)=>{const d=i(...l);return a(...l),d}:a&&(n[s]=a):s==="style"?n[s]={...a,...i}:s==="className"&&(n[s]=[a,i].filter(Boolean).join(" "))}return{...e,...n}}function jU(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function By(e){const t=e+"CollectionProvider",[n,s]=_s(t),[a,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=x=>{const{scope:v,children:j}=x,b=R.useRef(null),S=R.useRef(new Map).current;return r.jsx(a,{scope:v,itemMap:S,collectionRef:b,children:j})};o.displayName=t;const l=e+"CollectionSlot",d=Wc(l),u=R.forwardRef((x,v)=>{const{scope:j,children:b}=x,S=i(l,j),C=Zt(v,S.collectionRef);return r.jsx(d,{ref:C,children:b})});u.displayName=l;const h=e+"CollectionItemSlot",m="data-radix-collection-item",p=Wc(h),g=R.forwardRef((x,v)=>{const{scope:j,children:b,...S}=x,C=R.useRef(null),_=Zt(v,C),A=i(h,j);return R.useEffect(()=>(A.itemMap.set(C,{ref:C,...S}),()=>void A.itemMap.delete(C))),r.jsx(p,{[m]:"",ref:_,children:b})});g.displayName=h;function y(x){const v=i(e+"CollectionConsumer",x);return R.useCallback(()=>{const b=v.collectionRef.current;if(!b)return[];const S=Array.from(b.querySelectorAll(`[${m}]`));return Array.from(v.itemMap.values()).sort((A,k)=>S.indexOf(A.ref.current)-S.indexOf(k.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:u,ItemSlot:g},y,s]}var bU=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],gt=bU.reduce((e,t)=>{const n=Wc(`Primitive.${t}`),s=N.forwardRef((a,i)=>{const{asChild:o,...l}=a,d=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(d,{...l,ref:i})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function PS(e,t){e&&od.flushSync(()=>e.dispatchEvent(t))}function Ss(e){const t=N.useRef(e);return N.useEffect(()=>{t.current=e}),N.useMemo(()=>(...n)=>{var s;return(s=t.current)==null?void 0:s.call(t,...n)},[])}function wU(e,t=globalThis==null?void 0:globalThis.document){const n=Ss(e);N.useEffect(()=>{const s=a=>{a.key==="Escape"&&n(a)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[n,t])}var NU="DismissableLayer",cN="dismissableLayer.update",SU="dismissableLayer.pointerDownOutside",_U="dismissableLayer.focusOutside",VA,WM=N.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),bm=N.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...d}=e,u=N.useContext(WM),[h,m]=N.useState(null),p=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=N.useState({}),y=Zt(t,k=>m(k)),x=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),j=x.indexOf(v),b=h?x.indexOf(h):-1,S=u.layersWithOutsidePointerEventsDisabled.size>0,C=b>=j,_=PU(k=>{const T=k.target,O=[...u.branches].some(M=>M.contains(T));!C||O||(a==null||a(k),o==null||o(k),k.defaultPrevented||l==null||l())},p),A=AU(k=>{const T=k.target;[...u.branches].some(M=>M.contains(T))||(i==null||i(k),o==null||o(k),k.defaultPrevented||l==null||l())},p);return wU(k=>{b===u.layers.size-1&&(s==null||s(k),!k.defaultPrevented&&l&&(k.preventDefault(),l()))},p),N.useEffect(()=>{if(h)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(VA=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),WA(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=VA)}},[h,p,n,u]),N.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),WA())},[h,u]),N.useEffect(()=>{const k=()=>g({});return document.addEventListener(cN,k),()=>document.removeEventListener(cN,k)},[]),r.jsx(gt.div,{...d,ref:y,style:{pointerEvents:S?C?"auto":"none":void 0,...e.style},onFocusCapture:Ge(e.onFocusCapture,A.onFocusCapture),onBlurCapture:Ge(e.onBlurCapture,A.onBlurCapture),onPointerDownCapture:Ge(e.onPointerDownCapture,_.onPointerDownCapture)})});bm.displayName=NU;var CU="DismissableLayerBranch",KM=N.forwardRef((e,t)=>{const n=N.useContext(WM),s=N.useRef(null),a=Zt(t,s);return N.useEffect(()=>{const i=s.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),r.jsx(gt.div,{...e,ref:a})});KM.displayName=CU;function PU(e,t=globalThis==null?void 0:globalThis.document){const n=Ss(e),s=N.useRef(!1),a=N.useRef(()=>{});return N.useEffect(()=>{const i=l=>{if(l.target&&!s.current){let d=function(){HM(SU,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=d,t.addEventListener("click",a.current,{once:!0})):d()}else t.removeEventListener("click",a.current);s.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>s.current=!0}}function AU(e,t=globalThis==null?void 0:globalThis.document){const n=Ss(e),s=N.useRef(!1);return N.useEffect(()=>{const a=i=>{i.target&&!s.current&&HM(_U,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function WA(){const e=new CustomEvent(cN);document.dispatchEvent(e)}function HM(e,t,n,{discrete:s}){const a=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),s?PS(a,i):a.dispatchEvent(i)}var kU=bm,EU=KM,En=globalThis!=null&&globalThis.document?N.useLayoutEffect:()=>{},TU="Portal",Pp=N.forwardRef((e,t)=>{var l;const{container:n,...s}=e,[a,i]=N.useState(!1);En(()=>i(!0),[]);const o=n||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?zM.createPortal(r.jsx(gt.div,{...s,ref:t}),o):null});Pp.displayName=TU;function OU(e,t){return N.useReducer((n,s)=>t[n][s]??n,e)}var ja=e=>{const{present:t,children:n}=e,s=IU(t),a=typeof n=="function"?n({present:s.isPresent}):N.Children.only(n),i=Zt(s.ref,MU(a));return typeof n=="function"||s.isPresent?N.cloneElement(a,{ref:i}):null};ja.displayName="Presence";function IU(e){const[t,n]=N.useState(),s=N.useRef(null),a=N.useRef(e),i=N.useRef("none"),o=e?"mounted":"unmounted",[l,d]=OU(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return N.useEffect(()=>{const u=Ox(s.current);i.current=l==="mounted"?u:"none"},[l]),En(()=>{const u=s.current,h=a.current;if(h!==e){const p=i.current,g=Ox(u);e?d("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?d("UNMOUNT"):d(h&&p!==g?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,d]),En(()=>{if(t){let u;const h=t.ownerDocument.defaultView??window,m=g=>{const x=Ox(s.current).includes(g.animationName);if(g.target===t&&x&&(d("ANIMATION_END"),!a.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",u=h.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},p=g=>{g.target===t&&(i.current=Ox(s.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{h.clearTimeout(u),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:N.useCallback(u=>{s.current=u?getComputedStyle(u):null,n(u)},[])}}function Ox(e){return(e==null?void 0:e.animationName)||"none"}function MU(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var LU=$2[" useInsertionEffect ".trim().toString()]||En;function wo({prop:e,defaultProp:t,onChange:n=()=>{},caller:s}){const[a,i,o]=$U({defaultProp:t,onChange:n}),l=e!==void 0,d=l?e:a;{const h=N.useRef(e!==void 0);N.useEffect(()=>{const m=h.current;m!==l&&console.warn(`${s} is changing from ${m?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=l},[l,s])}const u=N.useCallback(h=>{var m;if(l){const p=DU(h)?h(e):h;p!==e&&((m=o.current)==null||m.call(o,p))}else i(h)},[l,e,i,o]);return[d,u]}function $U({defaultProp:e,onChange:t}){const[n,s]=N.useState(e),a=N.useRef(n),i=N.useRef(t);return LU(()=>{i.current=t},[t]),N.useEffect(()=>{var o;a.current!==n&&((o=i.current)==null||o.call(i,n),a.current=n)},[n,a]),[n,s,i]}function DU(e){return typeof e=="function"}var GM=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),RU="VisuallyHidden",qy=N.forwardRef((e,t)=>r.jsx(gt.span,{...e,ref:t,style:{...GM,...e.style}}));qy.displayName=RU;var zU=qy,AS="ToastProvider",[kS,FU,BU]=By("Toast"),[ZM,UAe]=_s("Toast",[BU]),[qU,Uy]=ZM(AS),QM=e=>{const{__scopeToast:t,label:n="Notification",duration:s=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=e,[l,d]=N.useState(null),[u,h]=N.useState(0),m=N.useRef(!1),p=N.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${AS}\`. Expected non-empty \`string\`.`),r.jsx(kS.Provider,{scope:t,children:r.jsx(qU,{scope:t,label:n,duration:s,swipeDirection:a,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:d,onToastAdd:N.useCallback(()=>h(g=>g+1),[]),onToastRemove:N.useCallback(()=>h(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:m,isClosePausedRef:p,children:o})})};QM.displayName=AS;var YM="ToastViewport",UU=["F8"],dN="toast.viewportPause",uN="toast.viewportResume",XM=N.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:s=UU,label:a="Notifications ({hotkey})",...i}=e,o=Uy(YM,n),l=FU(n),d=N.useRef(null),u=N.useRef(null),h=N.useRef(null),m=N.useRef(null),p=Zt(t,m,o.onViewportChange),g=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=o.toastCount>0;N.useEffect(()=>{const v=j=>{var S;s.length!==0&&s.every(C=>j[C]||j.code===C)&&((S=m.current)==null||S.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[s]),N.useEffect(()=>{const v=d.current,j=m.current;if(y&&v&&j){const b=()=>{if(!o.isClosePausedRef.current){const A=new CustomEvent(dN);j.dispatchEvent(A),o.isClosePausedRef.current=!0}},S=()=>{if(o.isClosePausedRef.current){const A=new CustomEvent(uN);j.dispatchEvent(A),o.isClosePausedRef.current=!1}},C=A=>{!v.contains(A.relatedTarget)&&S()},_=()=>{v.contains(document.activeElement)||S()};return v.addEventListener("focusin",b),v.addEventListener("focusout",C),v.addEventListener("pointermove",b),v.addEventListener("pointerleave",_),window.addEventListener("blur",b),window.addEventListener("focus",S),()=>{v.removeEventListener("focusin",b),v.removeEventListener("focusout",C),v.removeEventListener("pointermove",b),v.removeEventListener("pointerleave",_),window.removeEventListener("blur",b),window.removeEventListener("focus",S)}}},[y,o.isClosePausedRef]);const x=N.useCallback(({tabbingDirection:v})=>{const b=l().map(S=>{const C=S.ref.current,_=[C,...rV(C)];return v==="forwards"?_:_.reverse()});return(v==="forwards"?b.reverse():b).flat()},[l]);return N.useEffect(()=>{const v=m.current;if(v){const j=b=>{var _,A,k;const S=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!S){const T=document.activeElement,O=b.shiftKey;if(b.target===v&&O){(_=u.current)==null||_.focus();return}const F=x({tabbingDirection:O?"backwards":"forwards"}),Z=F.findIndex(D=>D===T);fb(F.slice(Z+1))?b.preventDefault():O?(A=u.current)==null||A.focus():(k=h.current)==null||k.focus()}};return v.addEventListener("keydown",j),()=>v.removeEventListener("keydown",j)}},[l,x]),r.jsxs(EU,{ref:d,role:"region","aria-label":a.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&r.jsx(mN,{ref:u,onFocusFromOutsideViewport:()=>{const v=x({tabbingDirection:"forwards"});fb(v)}}),r.jsx(kS.Slot,{scope:n,children:r.jsx(gt.ol,{tabIndex:-1,...i,ref:p})}),y&&r.jsx(mN,{ref:h,onFocusFromOutsideViewport:()=>{const v=x({tabbingDirection:"backwards"});fb(v)}})]})});XM.displayName=YM;var JM="ToastFocusProxy",mN=N.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:s,...a}=e,i=Uy(JM,n);return r.jsx(qy,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(l))&&s()}})});mN.displayName=JM;var Ap="Toast",VU="toast.swipeStart",WU="toast.swipeMove",KU="toast.swipeCancel",HU="toast.swipeEnd",eL=N.forwardRef((e,t)=>{const{forceMount:n,open:s,defaultOpen:a,onOpenChange:i,...o}=e,[l,d]=wo({prop:s,defaultProp:a??!0,onChange:i,caller:Ap});return r.jsx(ja,{present:n||l,children:r.jsx(QU,{open:l,...o,ref:t,onClose:()=>d(!1),onPause:Ss(e.onPause),onResume:Ss(e.onResume),onSwipeStart:Ge(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ge(e.onSwipeMove,u=>{const{x:h,y:m}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${m}px`)}),onSwipeCancel:Ge(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ge(e.onSwipeEnd,u=>{const{x:h,y:m}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${m}px`),d(!1)})})})});eL.displayName=Ap;var[GU,ZU]=ZM(Ap,{onClose(){}}),QU=N.forwardRef((e,t)=>{const{__scopeToast:n,type:s="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:l,onPause:d,onResume:u,onSwipeStart:h,onSwipeMove:m,onSwipeCancel:p,onSwipeEnd:g,...y}=e,x=Uy(Ap,n),[v,j]=N.useState(null),b=Zt(t,D=>j(D)),S=N.useRef(null),C=N.useRef(null),_=a||x.duration,A=N.useRef(0),k=N.useRef(_),T=N.useRef(0),{onToastAdd:O,onToastRemove:M}=x,z=Ss(()=>{var $;(v==null?void 0:v.contains(document.activeElement))&&(($=x.viewport)==null||$.focus()),o()}),F=N.useCallback(D=>{!D||D===1/0||(window.clearTimeout(T.current),A.current=new Date().getTime(),T.current=window.setTimeout(z,D))},[z]);N.useEffect(()=>{const D=x.viewport;if(D){const $=()=>{F(k.current),u==null||u()},E=()=>{const V=new Date().getTime()-A.current;k.current=k.current-V,window.clearTimeout(T.current),d==null||d()};return D.addEventListener(dN,E),D.addEventListener(uN,$),()=>{D.removeEventListener(dN,E),D.removeEventListener(uN,$)}}},[x.viewport,_,d,u,F]),N.useEffect(()=>{i&&!x.isClosePausedRef.current&&F(_)},[i,_,x.isClosePausedRef,F]),N.useEffect(()=>(O(),()=>M()),[O,M]);const Z=N.useMemo(()=>v?oL(v):null,[v]);return x.viewport?r.jsxs(r.Fragment,{children:[Z&&r.jsx(YU,{__scopeToast:n,role:"status","aria-live":s==="foreground"?"assertive":"polite","aria-atomic":!0,children:Z}),r.jsx(GU,{scope:n,onClose:z,children:od.createPortal(r.jsx(kS.ItemSlot,{scope:n,children:r.jsx(kU,{asChild:!0,onEscapeKeyDown:Ge(l,()=>{x.isFocusedToastEscapeKeyDownRef.current||z(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:r.jsx(gt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":x.swipeDirection,...y,ref:b,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Ge(e.onKeyDown,D=>{D.key==="Escape"&&(l==null||l(D.nativeEvent),D.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,z()))}),onPointerDown:Ge(e.onPointerDown,D=>{D.button===0&&(S.current={x:D.clientX,y:D.clientY})}),onPointerMove:Ge(e.onPointerMove,D=>{if(!S.current)return;const $=D.clientX-S.current.x,E=D.clientY-S.current.y,V=!!C.current,q=["left","right"].includes(x.swipeDirection),U=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,Q=q?U(0,$):0,he=q?0:U(0,E),ue=D.pointerType==="touch"?10:2,ce={x:Q,y:he},G={originalEvent:D,delta:ce};V?(C.current=ce,Ix(WU,m,G,{discrete:!1})):KA(ce,x.swipeDirection,ue)?(C.current=ce,Ix(VU,h,G,{discrete:!1}),D.target.setPointerCapture(D.pointerId)):(Math.abs($)>ue||Math.abs(E)>ue)&&(S.current=null)}),onPointerUp:Ge(e.onPointerUp,D=>{const $=C.current,E=D.target;if(E.hasPointerCapture(D.pointerId)&&E.releasePointerCapture(D.pointerId),C.current=null,S.current=null,$){const V=D.currentTarget,q={originalEvent:D,delta:$};KA($,x.swipeDirection,x.swipeThreshold)?Ix(HU,g,q,{discrete:!0}):Ix(KU,p,q,{discrete:!0}),V.addEventListener("click",U=>U.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),YU=e=>{const{__scopeToast:t,children:n,...s}=e,a=Uy(Ap,t),[i,o]=N.useState(!1),[l,d]=N.useState(!1);return eV(()=>o(!0)),N.useEffect(()=>{const u=window.setTimeout(()=>d(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:r.jsx(Pp,{asChild:!0,children:r.jsx(qy,{...s,children:i&&r.jsxs(r.Fragment,{children:[a.label," ",n]})})})},XU="ToastTitle",tL=N.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e;return r.jsx(gt.div,{...s,ref:t})});tL.displayName=XU;var JU="ToastDescription",rL=N.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e;return r.jsx(gt.div,{...s,ref:t})});rL.displayName=JU;var nL="ToastAction",sL=N.forwardRef((e,t)=>{const{altText:n,...s}=e;return n.trim()?r.jsx(iL,{altText:n,asChild:!0,children:r.jsx(ES,{...s,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${nL}\`. Expected non-empty \`string\`.`),null)});sL.displayName=nL;var aL="ToastClose",ES=N.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e,a=ZU(aL,n);return r.jsx(iL,{asChild:!0,children:r.jsx(gt.button,{type:"button",...s,ref:t,onClick:Ge(e.onClick,a.onClose)})})});ES.displayName=aL;var iL=N.forwardRef((e,t)=>{const{__scopeToast:n,altText:s,...a}=e;return r.jsx(gt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...a,ref:t})});function oL(e){const t=[];return Array.from(e.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&t.push(s.textContent),tV(s)){const a=s.ariaHidden||s.hidden||s.style.display==="none",i=s.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=s.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...oL(s))}}),t}function Ix(e,t,n,{discrete:s}){const a=n.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),s?PS(a,i):a.dispatchEvent(i)}var KA=(e,t,n=0)=>{const s=Math.abs(e.x),a=Math.abs(e.y),i=s>a;return t==="left"||t==="right"?i&&s>n:!i&&a>n};function eV(e=()=>{}){const t=Ss(e);En(()=>{let n=0,s=0;return n=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(s)}},[t])}function tV(e){return e.nodeType===e.ELEMENT_NODE}function rV(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function fb(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var nV=QM,lL=XM,cL=eL,dL=tL,uL=rL,mL=sL,hL=ES;function fL(e){var t,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=fL(e[t]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}function bt(){for(var e,t,n=0,s="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=fL(e))&&(s&&(s+=" "),s+=t);return s}const HA=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,GA=bt,kp=(e,t)=>n=>{var s;if((t==null?void 0:t.variants)==null)return GA(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(u=>{const h=n==null?void 0:n[u],m=i==null?void 0:i[u];if(h===null)return null;const p=HA(h)||HA(m);return a[u][p]}),l=n&&Object.entries(n).reduce((u,h)=>{let[m,p]=h;return p===void 0||(u[m]=p),u},{}),d=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((u,h)=>{let{class:m,className:p,...g}=h;return Object.entries(g).every(y=>{let[x,v]=y;return Array.isArray(v)?v.includes({...i,...l}[x]):{...i,...l}[x]===v})?[...u,m,p]:u},[]);return GA(e,o,d,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sV=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),pL=(...e)=>e.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var aV={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iV=N.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:i,iconNode:o,...l},d)=>N.createElement("svg",{ref:d,...aV,width:t,height:t,stroke:e,strokeWidth:s?Number(n)*24/Number(t):n,className:pL("lucide",a),...l},[...o.map(([u,h])=>N.createElement(u,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=(e,t)=>{const n=N.forwardRef(({className:s,...a},i)=>N.createElement(iV,{ref:i,iconNode:t,className:pL(`lucide-${sV(e)}`,s),...a}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fc=Ke("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gt=Ke("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rl=Ke("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pg=Ke("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hN=Ke("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZA=Ke("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oo=Ke("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const du=Ke("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xg=Ke("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TS=Ke("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vn=Ke("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=Ke("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nt=Ke("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oV=Ke("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ks=Ke("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Or=Ke("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yn=Ke("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jn=Ke("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lV=Ke("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xL=Ke("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ji=Ke("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jf=Ke("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pb=Ke("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ep=Ke("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zg=Ke("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bn=Ke("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qg=Ke("Expand",[["path",{d:"m21 21-6-6m6 6v-4.8m0 4.8h-4.8",key:"1c15vz"}],["path",{d:"M3 16.2V21m0 0h4.8M3 21l6-6",key:"1fsnz2"}],["path",{d:"M21 7.8V3m0 0h-4.8M21 3l-6 6",key:"hawz9i"}],["path",{d:"M3 7.8V3m0 0h4.8M3 3l6 6",key:"u9ee12"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cV=Ke("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dV=Ke("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fr=Ke("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sl=Ke("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ru=Ke("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fN=Ke("FolderTree",[["path",{d:"M20 10a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-2.5a1 1 0 0 1-.8-.4l-.9-1.2A1 1 0 0 0 15 3h-2a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"hod4my"}],["path",{d:"M20 21a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-2.9a1 1 0 0 1-.88-.55l-.42-.85a1 1 0 0 0-.92-.6H13a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"w4yl2u"}],["path",{d:"M3 5a2 2 0 0 0 2 2h3",key:"f2jnh7"}],["path",{d:"M3 3v13a2 2 0 0 0 2 2h3",key:"k8epm1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gL=Ke("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uV=Ke("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=Ke("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bf=Ke("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const No=Ke("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eo=Ke("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt=Ke("Languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mV=Ke("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zl=Ke("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dn=Ke("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wf=Ke("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zt=Ke("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vL=Ke("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hV=Ke("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fV=Ke("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yc=Ke("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const to=Ke("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pV=Ke("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gg=Ke("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QA=Ke("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dr=Ke("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YA=Ke("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yg=Ke("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=Ke("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cs=Ke("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XA=Ke("Radar",[["path",{d:"M19.07 4.93A10 10 0 0 0 6.99 3.34",key:"z3du51"}],["path",{d:"M4 6h.01",key:"oypzma"}],["path",{d:"M2.29 9.62A10 10 0 1 0 21.31 8.35",key:"qzzz0"}],["path",{d:"M16.24 7.76A6 6 0 1 0 8.23 16.67",key:"1yjesh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M17.99 11.66A6 6 0 0 1 15.77 16.67",key:"1u2y91"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"m13.41 10.59 5.66-5.66",key:"mhq4k0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OS=Ke("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IS=Ke("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ln=Ke("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qr=Ke("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MS=Ke("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rs=Ke("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vy=Ke("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wy=Ke("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xg=Ke("Shrink",[["path",{d:"m15 15 6 6m-6-6v4.8m0-4.8h4.8",key:"17vawe"}],["path",{d:"M9 19.8V15m0 0H4.2M9 15l-6 6",key:"chjx8e"}],["path",{d:"M15 4.2V9m0 0h4.8M15 9l6-6",key:"lav6yq"}],["path",{d:"M9 4.2V9m0 0H4.2M9 9 3 3",key:"1pxi2q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fl=Ke("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xV=Ke("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tr=Ke("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kc=Ke("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ss=Ke("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gV=Ke("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xi=Ke("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xb=Ke("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xt=Ke("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yL=Ke("TreePine",[["path",{d:"m17 14 3 3.3a1 1 0 0 1-.7 1.7H4.7a1 1 0 0 1-.7-1.7L7 14h-.3a1 1 0 0 1-.7-1.7L9 9h-.2A1 1 0 0 1 8 7.3L12 3l4 4.3a1 1 0 0 1-.8 1.7H15l3 3.3a1 1 0 0 1-.7 1.7H17Z",key:"cpyugq"}],["path",{d:"M12 22v-3",key:"kmzjlo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ho=Ke("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Un=Ke("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bl=Ke("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vV=Ke("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yV=Ke("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jV=Ke("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bV=Ke("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ai=Ke("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gr=Ke("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const un=Ke("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gb=Ke("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),LS="-",wV=e=>{const t=SV(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:o=>{const l=o.split(LS);return l[0]===""&&l.length!==1&&l.shift(),jL(l,t)||NV(o)},getConflictingClassGroupIds:(o,l)=>{const d=n[o]||[];return l&&s[o]?[...d,...s[o]]:d}}},jL=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],s=t.nextPart.get(n),a=s?jL(e.slice(1),s):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(LS);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},JA=/^\[(.+)\]$/,NV=e=>{if(JA.test(e)){const t=JA.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},SV=e=>{const{theme:t,prefix:n}=e,s={nextPart:new Map,validators:[]};return CV(Object.entries(e.classGroups),n).forEach(([i,o])=>{pN(o,s,i,t)}),s},pN=(e,t,n,s)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:e4(t,a);i.classGroupId=n;return}if(typeof a=="function"){if(_V(a)){pN(a(s),t,n,s);return}t.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([i,o])=>{pN(o,e4(t,i),n,s)})})},e4=(e,t)=>{let n=e;return t.split(LS).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},_V=e=>e.isThemeGetter,CV=(e,t)=>t?e.map(([n,s])=>{const a=s.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[n,a]}):e,PV=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,s=new Map;const a=(i,o)=>{n.set(i,o),t++,t>e&&(t=0,s=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=s.get(i))!==void 0)return a(i,o),o},set(i,o){n.has(i)?n.set(i,o):a(i,o)}}},bL="!",AV=e=>{const{separator:t,experimentalParseClassName:n}=e,s=t.length===1,a=t[0],i=t.length,o=l=>{const d=[];let u=0,h=0,m;for(let v=0;v<l.length;v++){let j=l[v];if(u===0){if(j===a&&(s||l.slice(v,v+i)===t)){d.push(l.slice(h,v)),h=v+i;continue}if(j==="/"){m=v;continue}}j==="["?u++:j==="]"&&u--}const p=d.length===0?l:l.substring(h),g=p.startsWith(bL),y=g?p.substring(1):p,x=m&&m>h?m-h:void 0;return{modifiers:d,hasImportantModifier:g,baseClassName:y,maybePostfixModifierPosition:x}};return n?l=>n({className:l,parseClassName:o}):o},kV=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(s=>{s[0]==="["?(t.push(...n.sort(),s),n=[]):n.push(s)}),t.push(...n.sort()),t},EV=e=>({cache:PV(e.cacheSize),parseClassName:AV(e),...wV(e)}),TV=/\s+/,OV=(e,t)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(TV);let l="";for(let d=o.length-1;d>=0;d-=1){const u=o[d],{modifiers:h,hasImportantModifier:m,baseClassName:p,maybePostfixModifierPosition:g}=n(u);let y=!!g,x=s(y?p.substring(0,g):p);if(!x){if(!y){l=u+(l.length>0?" "+l:l);continue}if(x=s(p),!x){l=u+(l.length>0?" "+l:l);continue}y=!1}const v=kV(h).join(":"),j=m?v+bL:v,b=j+x;if(i.includes(b))continue;i.push(b);const S=a(x,y);for(let C=0;C<S.length;++C){const _=S[C];i.push(j+_)}l=u+(l.length>0?" "+l:l)}return l};function IV(){let e=0,t,n,s="";for(;e<arguments.length;)(t=arguments[e++])&&(n=wL(t))&&(s&&(s+=" "),s+=n);return s}const wL=e=>{if(typeof e=="string")return e;let t,n="";for(let s=0;s<e.length;s++)e[s]&&(t=wL(e[s]))&&(n&&(n+=" "),n+=t);return n};function MV(e,...t){let n,s,a,i=o;function o(d){const u=t.reduce((h,m)=>m(h),e());return n=EV(u),s=n.cache.get,a=n.cache.set,i=l,l(d)}function l(d){const u=s(d);if(u)return u;const h=OV(d,n);return a(d,h),h}return function(){return i(IV.apply(null,arguments))}}const _r=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},NL=/^\[(?:([a-z-]+):)?(.+)\]$/i,LV=/^\d+\/\d+$/,$V=new Set(["px","full","screen"]),DV=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,RV=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,zV=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,FV=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,BV=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Bi=e=>uu(e)||$V.has(e)||LV.test(e),qo=e=>wm(e,"length",ZV),uu=e=>!!e&&!Number.isNaN(Number(e)),vb=e=>wm(e,"number",uu),fh=e=>!!e&&Number.isInteger(Number(e)),qV=e=>e.endsWith("%")&&uu(e.slice(0,-1)),It=e=>NL.test(e),Uo=e=>DV.test(e),UV=new Set(["length","size","percentage"]),VV=e=>wm(e,UV,SL),WV=e=>wm(e,"position",SL),KV=new Set(["image","url"]),HV=e=>wm(e,KV,YV),GV=e=>wm(e,"",QV),ph=()=>!0,wm=(e,t,n)=>{const s=NL.exec(e);return s?s[1]?typeof t=="string"?s[1]===t:t.has(s[1]):n(s[2]):!1},ZV=e=>RV.test(e)&&!zV.test(e),SL=()=>!1,QV=e=>FV.test(e),YV=e=>BV.test(e),XV=()=>{const e=_r("colors"),t=_r("spacing"),n=_r("blur"),s=_r("brightness"),a=_r("borderColor"),i=_r("borderRadius"),o=_r("borderSpacing"),l=_r("borderWidth"),d=_r("contrast"),u=_r("grayscale"),h=_r("hueRotate"),m=_r("invert"),p=_r("gap"),g=_r("gradientColorStops"),y=_r("gradientColorStopPositions"),x=_r("inset"),v=_r("margin"),j=_r("opacity"),b=_r("padding"),S=_r("saturate"),C=_r("scale"),_=_r("sepia"),A=_r("skew"),k=_r("space"),T=_r("translate"),O=()=>["auto","contain","none"],M=()=>["auto","hidden","clip","visible","scroll"],z=()=>["auto",It,t],F=()=>[It,t],Z=()=>["",Bi,qo],D=()=>["auto",uu,It],$=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],E=()=>["solid","dashed","dotted","double","none"],V=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],q=()=>["start","end","center","between","around","evenly","stretch"],U=()=>["","0",It],Q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],he=()=>[uu,It];return{cacheSize:500,separator:":",theme:{colors:[ph],spacing:[Bi,qo],blur:["none","",Uo,It],brightness:he(),borderColor:[e],borderRadius:["none","","full",Uo,It],borderSpacing:F(),borderWidth:Z(),contrast:he(),grayscale:U(),hueRotate:he(),invert:U(),gap:F(),gradientColorStops:[e],gradientColorStopPositions:[qV,qo],inset:z(),margin:z(),opacity:he(),padding:F(),saturate:he(),scale:he(),sepia:U(),skew:he(),space:F(),translate:F()},classGroups:{aspect:[{aspect:["auto","square","video",It]}],container:["container"],columns:[{columns:[Uo]}],"break-after":[{"break-after":Q()}],"break-before":[{"break-before":Q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...$(),It]}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",fh,It]}],basis:[{basis:z()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",It]}],grow:[{grow:U()}],shrink:[{shrink:U()}],order:[{order:["first","last","none",fh,It]}],"grid-cols":[{"grid-cols":[ph]}],"col-start-end":[{col:["auto",{span:["full",fh,It]},It]}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":[ph]}],"row-start-end":[{row:["auto",{span:[fh,It]},It]}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",It]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",It]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...q()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...q(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...q(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",It,t]}],"min-w":[{"min-w":[It,t,"min","max","fit"]}],"max-w":[{"max-w":[It,t,"none","full","min","max","fit","prose",{screen:[Uo]},Uo]}],h:[{h:[It,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[It,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[It,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[It,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Uo,qo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",vb]}],"font-family":[{font:[ph]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",It]}],"line-clamp":[{"line-clamp":["none",uu,vb]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Bi,It]}],"list-image":[{"list-image":["none",It]}],"list-style-type":[{list:["none","disc","decimal",It]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[j]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[j]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...E(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Bi,qo]}],"underline-offset":[{"underline-offset":["auto",Bi,It]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:F()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",It]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",It]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[j]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...$(),WV]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",VV]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},HV]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[j]}],"border-style":[{border:[...E(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[j]}],"divide-style":[{divide:E()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...E()]}],"outline-offset":[{"outline-offset":[Bi,It]}],"outline-w":[{outline:[Bi,qo]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:Z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[j]}],"ring-offset-w":[{"ring-offset":[Bi,qo]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Uo,GV]}],"shadow-color":[{shadow:[ph]}],opacity:[{opacity:[j]}],"mix-blend":[{"mix-blend":[...V(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":V()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[s]}],contrast:[{contrast:[d]}],"drop-shadow":[{"drop-shadow":["","none",Uo,It]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[m]}],saturate:[{saturate:[S]}],sepia:[{sepia:[_]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[d]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[j]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[_]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",It]}],duration:[{duration:he()}],ease:[{ease:["linear","in","out","in-out",It]}],delay:[{delay:he()}],animate:[{animate:["none","spin","ping","pulse","bounce",It]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[C]}],"scale-x":[{"scale-x":[C]}],"scale-y":[{"scale-y":[C]}],rotate:[{rotate:[fh,It]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[A]}],"skew-y":[{"skew-y":[A]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",It]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",It]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":F()}],"scroll-mx":[{"scroll-mx":F()}],"scroll-my":[{"scroll-my":F()}],"scroll-ms":[{"scroll-ms":F()}],"scroll-me":[{"scroll-me":F()}],"scroll-mt":[{"scroll-mt":F()}],"scroll-mr":[{"scroll-mr":F()}],"scroll-mb":[{"scroll-mb":F()}],"scroll-ml":[{"scroll-ml":F()}],"scroll-p":[{"scroll-p":F()}],"scroll-px":[{"scroll-px":F()}],"scroll-py":[{"scroll-py":F()}],"scroll-ps":[{"scroll-ps":F()}],"scroll-pe":[{"scroll-pe":F()}],"scroll-pt":[{"scroll-pt":F()}],"scroll-pr":[{"scroll-pr":F()}],"scroll-pb":[{"scroll-pb":F()}],"scroll-pl":[{"scroll-pl":F()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",It]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Bi,qo,vb]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},JV=MV(XV);function Le(...e){return JV(bt(e))}const eW=nV,_L=N.forwardRef(({className:e,...t},n)=>r.jsx(lL,{ref:n,className:Le("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));_L.displayName=lL.displayName;const tW=kp("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),CL=N.forwardRef(({className:e,variant:t,...n},s)=>r.jsx(cL,{ref:s,className:Le(tW({variant:t}),e),...n}));CL.displayName=cL.displayName;const rW=N.forwardRef(({className:e,...t},n)=>r.jsx(mL,{ref:n,className:Le("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));rW.displayName=mL.displayName;const PL=N.forwardRef(({className:e,...t},n)=>r.jsx(hL,{ref:n,className:Le("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:r.jsx(un,{className:"h-4 w-4"})}));PL.displayName=hL.displayName;const AL=N.forwardRef(({className:e,...t},n)=>r.jsx(dL,{ref:n,className:Le("text-sm font-semibold",e),...t}));AL.displayName=dL.displayName;const kL=N.forwardRef(({className:e,...t},n)=>r.jsx(uL,{ref:n,className:Le("text-sm opacity-90",e),...t}));kL.displayName=uL.displayName;function nW(){const{toasts:e}=BM();return r.jsxs(eW,{children:[e.map(function({id:t,title:n,description:s,action:a,...i}){return r.jsxs(CL,{...i,children:[r.jsxs("div",{className:"grid gap-1",children:[n&&r.jsx(AL,{children:n}),s&&r.jsx(kL,{children:s})]}),a,r.jsx(PL,{})]},t)}),r.jsx(_L,{})]})}var sW=(e,t,n,s,a,i,o,l)=>{let d=document.documentElement,u=["light","dark"];function h(g){(Array.isArray(e)?e:[e]).forEach(y=>{let x=y==="class",v=x&&i?a.map(j=>i[j]||j):a;x?(d.classList.remove(...v),d.classList.add(i&&i[g]?i[g]:g)):d.setAttribute(y,g)}),m(g)}function m(g){l&&u.includes(g)&&(d.style.colorScheme=g)}function p(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(s)h(s);else try{let g=localStorage.getItem(t)||n,y=o&&g==="system"?p():g;h(y)}catch{}},aW=N.createContext(void 0),iW={setTheme:e=>{},themes:[]},oW=()=>{var e;return(e=N.useContext(aW))!=null?e:iW};N.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:s,enableColorScheme:a,defaultTheme:i,value:o,themes:l,nonce:d,scriptProps:u})=>{let h=JSON.stringify([n,t,i,e,l,o,s,a]).slice(1,-1);return N.createElement("script",{...u,suppressHydrationWarning:!0,nonce:typeof window>"u"?d:"",dangerouslySetInnerHTML:{__html:`(${sW.toString()})(${h})`}})});var lW=e=>{switch(e){case"success":return uW;case"info":return hW;case"warning":return mW;case"error":return fW;default:return null}},cW=Array(12).fill(0),dW=({visible:e,className:t})=>R.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},R.createElement("div",{className:"sonner-spinner"},cW.map((n,s)=>R.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),uW=R.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},R.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),mW=R.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},R.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),hW=R.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},R.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),fW=R.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},R.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),pW=R.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},R.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),R.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),xW=()=>{let[e,t]=R.useState(document.hidden);return R.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},xN=1,gW=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...s}=e,a=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:xN++,i=this.toasts.find(l=>l.id===a),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),i?this.toasts=this.toasts.map(l=>l.id===a?(this.publish({...l,...e,id:a,title:n}),{...l,...e,id:a,dismissible:o,title:n}):l):this.addToast({title:n,...s,dismissible:o,id:a}),a},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let s=e instanceof Promise?e:e(),a=n!==void 0,i,o=s.then(async d=>{if(i=["resolve",d],R.isValidElement(d))a=!1,this.create({id:n,type:"default",message:d});else if(yW(d)&&!d.ok){a=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${d.status}`):t.error,h=typeof t.description=="function"?await t.description(`HTTP error! status: ${d.status}`):t.description;this.create({id:n,type:"error",message:u,description:h})}else if(t.success!==void 0){a=!1;let u=typeof t.success=="function"?await t.success(d):t.success,h=typeof t.description=="function"?await t.description(d):t.description;this.create({id:n,type:"success",message:u,description:h})}}).catch(async d=>{if(i=["reject",d],t.error!==void 0){a=!1;let u=typeof t.error=="function"?await t.error(d):t.error,h=typeof t.description=="function"?await t.description(d):t.description;this.create({id:n,type:"error",message:u,description:h})}}).finally(()=>{var d;a&&(this.dismiss(n),n=void 0),(d=t.finally)==null||d.call(t)}),l=()=>new Promise((d,u)=>o.then(()=>i[0]==="reject"?u(i[1]):d(i[1])).catch(u));return typeof n!="string"&&typeof n!="number"?{unwrap:l}:Object.assign(n,{unwrap:l})},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||xN++;return this.create({jsx:e(n),id:n,...t}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},hs=new gW,vW=(e,t)=>{let n=(t==null?void 0:t.id)||xN++;return hs.addToast({title:e,...t,id:n}),n},yW=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",jW=vW,bW=()=>hs.toasts,wW=()=>hs.getActiveToasts(),be=Object.assign(jW,{success:hs.success,info:hs.info,warning:hs.warning,error:hs.error,custom:hs.custom,message:hs.message,promise:hs.promise,dismiss:hs.dismiss,loading:hs.loading},{getHistory:bW,getToasts:wW});function NW(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",t==="top"&&n.firstChild?n.insertBefore(s,n.firstChild):n.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}NW(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Mx(e){return e.label!==void 0}var SW=3,_W="32px",CW="16px",t4=4e3,PW=356,AW=14,kW=20,EW=200;function Aa(...e){return e.filter(Boolean).join(" ")}function TW(e){let[t,n]=e.split("-"),s=[];return t&&s.push(t),n&&s.push(n),s}var OW=e=>{var t,n,s,a,i,o,l,d,u,h,m;let{invert:p,toast:g,unstyled:y,interacting:x,setHeights:v,visibleToasts:j,heights:b,index:S,toasts:C,expanded:_,removeToast:A,defaultRichColors:k,closeButton:T,style:O,cancelButtonStyle:M,actionButtonStyle:z,className:F="",descriptionClassName:Z="",duration:D,position:$,gap:E,loadingIcon:V,expandByDefault:q,classNames:U,icons:Q,closeButtonAriaLabel:he="Close toast",pauseWhenPageIsHidden:ue}=e,[ce,G]=R.useState(null),[J,ye]=R.useState(null),[Se,We]=R.useState(!1),[Ae,ze]=R.useState(!1),[Fe,je]=R.useState(!1),[Ze,K]=R.useState(!1),[te,Ne]=R.useState(!1),[pe,oe]=R.useState(0),[Be,X]=R.useState(0),H=R.useRef(g.duration||D||t4),me=R.useRef(null),Ce=R.useRef(null),le=S===0,we=S+1<=j,Ee=g.type,nt=g.dismissible!==!1,yt=g.className||"",Ln=g.descriptionClassName||"",Qs=R.useMemo(()=>b.findIndex(St=>St.toastId===g.id)||0,[b,g.id]),As=R.useMemo(()=>{var St;return(St=g.closeButton)!=null?St:T},[g.closeButton,T]),gd=R.useMemo(()=>g.duration||D||t4,[g.duration,D]),Xa=R.useRef(0),cs=R.useRef(0),ec=R.useRef(0),Sa=R.useRef(null),[Li,vd]=$.split("-"),Gp=R.useMemo(()=>b.reduce((St,cr,yr)=>yr>=Qs?St:St+cr.height,0),[b,Qs]),Hm=xW(),Zp=g.invert||p,yd=Ee==="loading";cs.current=R.useMemo(()=>Qs*E+Gp,[Qs,Gp]),R.useEffect(()=>{H.current=gd},[gd]),R.useEffect(()=>{We(!0)},[]),R.useEffect(()=>{let St=Ce.current;if(St){let cr=St.getBoundingClientRect().height;return X(cr),v(yr=>[{toastId:g.id,height:cr,position:g.position},...yr]),()=>v(yr=>yr.filter(ks=>ks.toastId!==g.id))}},[v,g.id]),R.useLayoutEffect(()=>{if(!Se)return;let St=Ce.current,cr=St.style.height;St.style.height="auto";let yr=St.getBoundingClientRect().height;St.style.height=cr,X(yr),v(ks=>ks.find(Wn=>Wn.toastId===g.id)?ks.map(Wn=>Wn.toastId===g.id?{...Wn,height:yr}:Wn):[{toastId:g.id,height:yr,position:g.position},...ks])},[Se,g.title,g.description,v,g.id]);let Ja=R.useCallback(()=>{ze(!0),oe(cs.current),v(St=>St.filter(cr=>cr.toastId!==g.id)),setTimeout(()=>{A(g)},EW)},[g,A,v,cs]);R.useEffect(()=>{if(g.promise&&Ee==="loading"||g.duration===1/0||g.type==="loading")return;let St;return _||x||ue&&Hm?(()=>{if(ec.current<Xa.current){let cr=new Date().getTime()-Xa.current;H.current=H.current-cr}ec.current=new Date().getTime()})():H.current!==1/0&&(Xa.current=new Date().getTime(),St=setTimeout(()=>{var cr;(cr=g.onAutoClose)==null||cr.call(g,g),Ja()},H.current)),()=>clearTimeout(St)},[_,x,g,Ee,ue,Hm,Ja]),R.useEffect(()=>{g.delete&&Ja()},[Ja,g.delete]);function mj(){var St,cr,yr;return Q!=null&&Q.loading?R.createElement("div",{className:Aa(U==null?void 0:U.loader,(St=g==null?void 0:g.classNames)==null?void 0:St.loader,"sonner-loader"),"data-visible":Ee==="loading"},Q.loading):V?R.createElement("div",{className:Aa(U==null?void 0:U.loader,(cr=g==null?void 0:g.classNames)==null?void 0:cr.loader,"sonner-loader"),"data-visible":Ee==="loading"},V):R.createElement(dW,{className:Aa(U==null?void 0:U.loader,(yr=g==null?void 0:g.classNames)==null?void 0:yr.loader),visible:Ee==="loading"})}return R.createElement("li",{tabIndex:0,ref:Ce,className:Aa(F,yt,U==null?void 0:U.toast,(t=g==null?void 0:g.classNames)==null?void 0:t.toast,U==null?void 0:U.default,U==null?void 0:U[Ee],(n=g==null?void 0:g.classNames)==null?void 0:n[Ee]),"data-sonner-toast":"","data-rich-colors":(s=g.richColors)!=null?s:k,"data-styled":!(g.jsx||g.unstyled||y),"data-mounted":Se,"data-promise":!!g.promise,"data-swiped":te,"data-removed":Ae,"data-visible":we,"data-y-position":Li,"data-x-position":vd,"data-index":S,"data-front":le,"data-swiping":Fe,"data-dismissible":nt,"data-type":Ee,"data-invert":Zp,"data-swipe-out":Ze,"data-swipe-direction":J,"data-expanded":!!(_||q&&Se),style:{"--index":S,"--toasts-before":S,"--z-index":C.length-S,"--offset":`${Ae?pe:cs.current}px`,"--initial-height":q?"auto":`${Be}px`,...O,...g.style},onDragEnd:()=>{je(!1),G(null),Sa.current=null},onPointerDown:St=>{yd||!nt||(me.current=new Date,oe(cs.current),St.target.setPointerCapture(St.pointerId),St.target.tagName!=="BUTTON"&&(je(!0),Sa.current={x:St.clientX,y:St.clientY}))},onPointerUp:()=>{var St,cr,yr,ks;if(Ze||!nt)return;Sa.current=null;let Wn=Number(((St=Ce.current)==null?void 0:St.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ei=Number(((cr=Ce.current)==null?void 0:cr.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),$i=new Date().getTime()-((yr=me.current)==null?void 0:yr.getTime()),Es=ce==="x"?Wn:ei,ti=Math.abs(Es)/$i;if(Math.abs(Es)>=kW||ti>.11){oe(cs.current),(ks=g.onDismiss)==null||ks.call(g,g),ye(ce==="x"?Wn>0?"right":"left":ei>0?"down":"up"),Ja(),K(!0),Ne(!1);return}je(!1),G(null)},onPointerMove:St=>{var cr,yr,ks,Wn;if(!Sa.current||!nt||((cr=window.getSelection())==null?void 0:cr.toString().length)>0)return;let ei=St.clientY-Sa.current.y,$i=St.clientX-Sa.current.x,Es=(yr=e.swipeDirections)!=null?yr:TW($);!ce&&(Math.abs($i)>1||Math.abs(ei)>1)&&G(Math.abs($i)>Math.abs(ei)?"x":"y");let ti={x:0,y:0};ce==="y"?(Es.includes("top")||Es.includes("bottom"))&&(Es.includes("top")&&ei<0||Es.includes("bottom")&&ei>0)&&(ti.y=ei):ce==="x"&&(Es.includes("left")||Es.includes("right"))&&(Es.includes("left")&&$i<0||Es.includes("right")&&$i>0)&&(ti.x=$i),(Math.abs(ti.x)>0||Math.abs(ti.y)>0)&&Ne(!0),(ks=Ce.current)==null||ks.style.setProperty("--swipe-amount-x",`${ti.x}px`),(Wn=Ce.current)==null||Wn.style.setProperty("--swipe-amount-y",`${ti.y}px`)}},As&&!g.jsx?R.createElement("button",{"aria-label":he,"data-disabled":yd,"data-close-button":!0,onClick:yd||!nt?()=>{}:()=>{var St;Ja(),(St=g.onDismiss)==null||St.call(g,g)},className:Aa(U==null?void 0:U.closeButton,(a=g==null?void 0:g.classNames)==null?void 0:a.closeButton)},(i=Q==null?void 0:Q.close)!=null?i:pW):null,g.jsx||N.isValidElement(g.title)?g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title:R.createElement(R.Fragment,null,Ee||g.icon||g.promise?R.createElement("div",{"data-icon":"",className:Aa(U==null?void 0:U.icon,(o=g==null?void 0:g.classNames)==null?void 0:o.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||mj():null,g.type!=="loading"?g.icon||(Q==null?void 0:Q[Ee])||lW(Ee):null):null,R.createElement("div",{"data-content":"",className:Aa(U==null?void 0:U.content,(l=g==null?void 0:g.classNames)==null?void 0:l.content)},R.createElement("div",{"data-title":"",className:Aa(U==null?void 0:U.title,(d=g==null?void 0:g.classNames)==null?void 0:d.title)},typeof g.title=="function"?g.title():g.title),g.description?R.createElement("div",{"data-description":"",className:Aa(Z,Ln,U==null?void 0:U.description,(u=g==null?void 0:g.classNames)==null?void 0:u.description)},typeof g.description=="function"?g.description():g.description):null),N.isValidElement(g.cancel)?g.cancel:g.cancel&&Mx(g.cancel)?R.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||M,onClick:St=>{var cr,yr;Mx(g.cancel)&&nt&&((yr=(cr=g.cancel).onClick)==null||yr.call(cr,St),Ja())},className:Aa(U==null?void 0:U.cancelButton,(h=g==null?void 0:g.classNames)==null?void 0:h.cancelButton)},g.cancel.label):null,N.isValidElement(g.action)?g.action:g.action&&Mx(g.action)?R.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||z,onClick:St=>{var cr,yr;Mx(g.action)&&((yr=(cr=g.action).onClick)==null||yr.call(cr,St),!St.defaultPrevented&&Ja())},className:Aa(U==null?void 0:U.actionButton,(m=g==null?void 0:g.classNames)==null?void 0:m.actionButton)},g.action.label):null))};function r4(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function IW(e,t){let n={};return[e,t].forEach((s,a)=>{let i=a===1,o=i?"--mobile-offset":"--offset",l=i?CW:_W;function d(u){["top","right","bottom","left"].forEach(h=>{n[`${o}-${h}`]=typeof u=="number"?`${u}px`:u})}typeof s=="number"||typeof s=="string"?d(s):typeof s=="object"?["top","right","bottom","left"].forEach(u=>{s[u]===void 0?n[`${o}-${u}`]=l:n[`${o}-${u}`]=typeof s[u]=="number"?`${s[u]}px`:s[u]}):d(l)}),n}var MW=N.forwardRef(function(e,t){let{invert:n,position:s="bottom-right",hotkey:a=["altKey","KeyT"],expand:i,closeButton:o,className:l,offset:d,mobileOffset:u,theme:h="light",richColors:m,duration:p,style:g,visibleToasts:y=SW,toastOptions:x,dir:v=r4(),gap:j=AW,loadingIcon:b,icons:S,containerAriaLabel:C="Notifications",pauseWhenPageIsHidden:_}=e,[A,k]=R.useState([]),T=R.useMemo(()=>Array.from(new Set([s].concat(A.filter(ue=>ue.position).map(ue=>ue.position)))),[A,s]),[O,M]=R.useState([]),[z,F]=R.useState(!1),[Z,D]=R.useState(!1),[$,E]=R.useState(h!=="system"?h:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),V=R.useRef(null),q=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),U=R.useRef(null),Q=R.useRef(!1),he=R.useCallback(ue=>{k(ce=>{var G;return(G=ce.find(J=>J.id===ue.id))!=null&&G.delete||hs.dismiss(ue.id),ce.filter(({id:J})=>J!==ue.id)})},[]);return R.useEffect(()=>hs.subscribe(ue=>{if(ue.dismiss){k(ce=>ce.map(G=>G.id===ue.id?{...G,delete:!0}:G));return}setTimeout(()=>{zM.flushSync(()=>{k(ce=>{let G=ce.findIndex(J=>J.id===ue.id);return G!==-1?[...ce.slice(0,G),{...ce[G],...ue},...ce.slice(G+1)]:[ue,...ce]})})})}),[]),R.useEffect(()=>{if(h!=="system"){E(h);return}if(h==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?E("dark"):E("light")),typeof window>"u")return;let ue=window.matchMedia("(prefers-color-scheme: dark)");try{ue.addEventListener("change",({matches:ce})=>{E(ce?"dark":"light")})}catch{ue.addListener(({matches:G})=>{try{E(G?"dark":"light")}catch(J){console.error(J)}})}},[h]),R.useEffect(()=>{A.length<=1&&F(!1)},[A]),R.useEffect(()=>{let ue=ce=>{var G,J;a.every(ye=>ce[ye]||ce.code===ye)&&(F(!0),(G=V.current)==null||G.focus()),ce.code==="Escape"&&(document.activeElement===V.current||(J=V.current)!=null&&J.contains(document.activeElement))&&F(!1)};return document.addEventListener("keydown",ue),()=>document.removeEventListener("keydown",ue)},[a]),R.useEffect(()=>{if(V.current)return()=>{U.current&&(U.current.focus({preventScroll:!0}),U.current=null,Q.current=!1)}},[V.current]),R.createElement("section",{ref:t,"aria-label":`${C} ${q}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},T.map((ue,ce)=>{var G;let[J,ye]=ue.split("-");return A.length?R.createElement("ol",{key:ue,dir:v==="auto"?r4():v,tabIndex:-1,ref:V,className:l,"data-sonner-toaster":!0,"data-theme":$,"data-y-position":J,"data-lifted":z&&A.length>1&&!i,"data-x-position":ye,style:{"--front-toast-height":`${((G=O[0])==null?void 0:G.height)||0}px`,"--width":`${PW}px`,"--gap":`${j}px`,...g,...IW(d,u)},onBlur:Se=>{Q.current&&!Se.currentTarget.contains(Se.relatedTarget)&&(Q.current=!1,U.current&&(U.current.focus({preventScroll:!0}),U.current=null))},onFocus:Se=>{Se.target instanceof HTMLElement&&Se.target.dataset.dismissible==="false"||Q.current||(Q.current=!0,U.current=Se.relatedTarget)},onMouseEnter:()=>F(!0),onMouseMove:()=>F(!0),onMouseLeave:()=>{Z||F(!1)},onDragEnd:()=>F(!1),onPointerDown:Se=>{Se.target instanceof HTMLElement&&Se.target.dataset.dismissible==="false"||D(!0)},onPointerUp:()=>D(!1)},A.filter(Se=>!Se.position&&ce===0||Se.position===ue).map((Se,We)=>{var Ae,ze;return R.createElement(OW,{key:Se.id,icons:S,index:We,toast:Se,defaultRichColors:m,duration:(Ae=x==null?void 0:x.duration)!=null?Ae:p,className:x==null?void 0:x.className,descriptionClassName:x==null?void 0:x.descriptionClassName,invert:n,visibleToasts:y,closeButton:(ze=x==null?void 0:x.closeButton)!=null?ze:o,interacting:Z,position:ue,style:x==null?void 0:x.style,unstyled:x==null?void 0:x.unstyled,classNames:x==null?void 0:x.classNames,cancelButtonStyle:x==null?void 0:x.cancelButtonStyle,actionButtonStyle:x==null?void 0:x.actionButtonStyle,removeToast:he,toasts:A.filter(Fe=>Fe.position==Se.position),heights:O.filter(Fe=>Fe.position==Se.position),setHeights:M,expandByDefault:i,gap:j,loadingIcon:b,expanded:z,pauseWhenPageIsHidden:_,swipeDirections:e.swipeDirections})})):null}))});const LW=({...e})=>{const{theme:t="system"}=oW();return r.jsx(MW,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var $W=$2[" useId ".trim().toString()]||(()=>{}),DW=0;function Si(e){const[t,n]=N.useState($W());return En(()=>{n(s=>s??String(DW++))},[e]),t?`radix-${t}`:""}const RW=["top","right","bottom","left"],Ol=Math.min,Ds=Math.max,Jg=Math.round,Lx=Math.floor,_i=e=>({x:e,y:e}),zW={left:"right",right:"left",bottom:"top",top:"bottom"},FW={start:"end",end:"start"};function gN(e,t,n){return Ds(e,Ol(t,n))}function So(e,t){return typeof e=="function"?e(t):e}function _o(e){return e.split("-")[0]}function Nm(e){return e.split("-")[1]}function $S(e){return e==="x"?"y":"x"}function DS(e){return e==="y"?"height":"width"}const BW=new Set(["top","bottom"]);function vi(e){return BW.has(_o(e))?"y":"x"}function RS(e){return $S(vi(e))}function qW(e,t,n){n===void 0&&(n=!1);const s=Nm(e),a=RS(e),i=DS(a);let o=a==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=ev(o)),[o,ev(o)]}function UW(e){const t=ev(e);return[vN(e),t,vN(t)]}function vN(e){return e.replace(/start|end/g,t=>FW[t])}const n4=["left","right"],s4=["right","left"],VW=["top","bottom"],WW=["bottom","top"];function KW(e,t,n){switch(e){case"top":case"bottom":return n?t?s4:n4:t?n4:s4;case"left":case"right":return t?VW:WW;default:return[]}}function HW(e,t,n,s){const a=Nm(e);let i=KW(_o(e),n==="start",s);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(vN)))),i}function ev(e){return e.replace(/left|right|bottom|top/g,t=>zW[t])}function GW(e){return{top:0,right:0,bottom:0,left:0,...e}}function EL(e){return typeof e!="number"?GW(e):{top:e,right:e,bottom:e,left:e}}function tv(e){const{x:t,y:n,width:s,height:a}=e;return{width:s,height:a,top:n,left:t,right:t+s,bottom:n+a,x:t,y:n}}function a4(e,t,n){let{reference:s,floating:a}=e;const i=vi(t),o=RS(t),l=DS(o),d=_o(t),u=i==="y",h=s.x+s.width/2-a.width/2,m=s.y+s.height/2-a.height/2,p=s[l]/2-a[l]/2;let g;switch(d){case"top":g={x:h,y:s.y-a.height};break;case"bottom":g={x:h,y:s.y+s.height};break;case"right":g={x:s.x+s.width,y:m};break;case"left":g={x:s.x-a.width,y:m};break;default:g={x:s.x,y:s.y}}switch(Nm(t)){case"start":g[o]-=p*(n&&u?-1:1);break;case"end":g[o]+=p*(n&&u?-1:1);break}return g}const ZW=async(e,t,n)=>{const{placement:s="bottom",strategy:a="absolute",middleware:i=[],platform:o}=n,l=i.filter(Boolean),d=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:h,y:m}=a4(u,s,d),p=s,g={},y=0;for(let x=0;x<l.length;x++){const{name:v,fn:j}=l[x],{x:b,y:S,data:C,reset:_}=await j({x:h,y:m,initialPlacement:s,placement:p,strategy:a,middlewareData:g,rects:u,platform:o,elements:{reference:e,floating:t}});h=b??h,m=S??m,g={...g,[v]:{...g[v],...C}},_&&y<=50&&(y++,typeof _=="object"&&(_.placement&&(p=_.placement),_.rects&&(u=_.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):_.rects),{x:h,y:m}=a4(u,p,d)),x=-1)}return{x:h,y:m,placement:p,strategy:a,middlewareData:g}};async function Nf(e,t){var n;t===void 0&&(t={});const{x:s,y:a,platform:i,rects:o,elements:l,strategy:d}=e,{boundary:u="clippingAncestors",rootBoundary:h="viewport",elementContext:m="floating",altBoundary:p=!1,padding:g=0}=So(t,e),y=EL(g),v=l[p?m==="floating"?"reference":"floating":m],j=tv(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(v)))==null||n?v:v.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:h,strategy:d})),b=m==="floating"?{x:s,y:a,width:o.floating.width,height:o.floating.height}:o.reference,S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),C=await(i.isElement==null?void 0:i.isElement(S))?await(i.getScale==null?void 0:i.getScale(S))||{x:1,y:1}:{x:1,y:1},_=tv(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:b,offsetParent:S,strategy:d}):b);return{top:(j.top-_.top+y.top)/C.y,bottom:(_.bottom-j.bottom+y.bottom)/C.y,left:(j.left-_.left+y.left)/C.x,right:(_.right-j.right+y.right)/C.x}}const QW=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:s,placement:a,rects:i,platform:o,elements:l,middlewareData:d}=t,{element:u,padding:h=0}=So(e,t)||{};if(u==null)return{};const m=EL(h),p={x:n,y:s},g=RS(a),y=DS(g),x=await o.getDimensions(u),v=g==="y",j=v?"top":"left",b=v?"bottom":"right",S=v?"clientHeight":"clientWidth",C=i.reference[y]+i.reference[g]-p[g]-i.floating[y],_=p[g]-i.reference[g],A=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let k=A?A[S]:0;(!k||!await(o.isElement==null?void 0:o.isElement(A)))&&(k=l.floating[S]||i.floating[y]);const T=C/2-_/2,O=k/2-x[y]/2-1,M=Ol(m[j],O),z=Ol(m[b],O),F=M,Z=k-x[y]-z,D=k/2-x[y]/2+T,$=gN(F,D,Z),E=!d.arrow&&Nm(a)!=null&&D!==$&&i.reference[y]/2-(D<F?M:z)-x[y]/2<0,V=E?D<F?D-F:D-Z:0;return{[g]:p[g]+V,data:{[g]:$,centerOffset:D-$-V,...E&&{alignmentOffset:V}},reset:E}}}),YW=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,s;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:d,elements:u}=t,{mainAxis:h=!0,crossAxis:m=!0,fallbackPlacements:p,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:x=!0,...v}=So(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const j=_o(a),b=vi(l),S=_o(l)===l,C=await(d.isRTL==null?void 0:d.isRTL(u.floating)),_=p||(S||!x?[ev(l)]:UW(l)),A=y!=="none";!p&&A&&_.push(...HW(l,x,y,C));const k=[l,..._],T=await Nf(t,v),O=[];let M=((s=i.flip)==null?void 0:s.overflows)||[];if(h&&O.push(T[j]),m){const D=qW(a,o,C);O.push(T[D[0]],T[D[1]])}if(M=[...M,{placement:a,overflows:O}],!O.every(D=>D<=0)){var z,F;const D=(((z=i.flip)==null?void 0:z.index)||0)+1,$=k[D];if($&&(!(m==="alignment"?b!==vi($):!1)||M.every(q=>q.overflows[0]>0&&vi(q.placement)===b)))return{data:{index:D,overflows:M},reset:{placement:$}};let E=(F=M.filter(V=>V.overflows[0]<=0).sort((V,q)=>V.overflows[1]-q.overflows[1])[0])==null?void 0:F.placement;if(!E)switch(g){case"bestFit":{var Z;const V=(Z=M.filter(q=>{if(A){const U=vi(q.placement);return U===b||U==="y"}return!0}).map(q=>[q.placement,q.overflows.filter(U=>U>0).reduce((U,Q)=>U+Q,0)]).sort((q,U)=>q[1]-U[1])[0])==null?void 0:Z[0];V&&(E=V);break}case"initialPlacement":E=l;break}if(a!==E)return{reset:{placement:E}}}return{}}}};function i4(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function o4(e){return RW.some(t=>e[t]>=0)}const XW=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:s="referenceHidden",...a}=So(e,t);switch(s){case"referenceHidden":{const i=await Nf(t,{...a,elementContext:"reference"}),o=i4(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:o4(o)}}}case"escaped":{const i=await Nf(t,{...a,altBoundary:!0}),o=i4(i,n.floating);return{data:{escapedOffsets:o,escaped:o4(o)}}}default:return{}}}}},TL=new Set(["left","top"]);async function JW(e,t){const{placement:n,platform:s,elements:a}=e,i=await(s.isRTL==null?void 0:s.isRTL(a.floating)),o=_o(n),l=Nm(n),d=vi(n)==="y",u=TL.has(o)?-1:1,h=i&&d?-1:1,m=So(t,e);let{mainAxis:p,crossAxis:g,alignmentAxis:y}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return l&&typeof y=="number"&&(g=l==="end"?y*-1:y),d?{x:g*h,y:p*u}:{x:p*u,y:g*h}}const eK=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,s;const{x:a,y:i,placement:o,middlewareData:l}=t,d=await JW(t,e);return o===((n=l.offset)==null?void 0:n.placement)&&(s=l.arrow)!=null&&s.alignmentOffset?{}:{x:a+d.x,y:i+d.y,data:{...d,placement:o}}}}},tK=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:s,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:v=>{let{x:j,y:b}=v;return{x:j,y:b}}},...d}=So(e,t),u={x:n,y:s},h=await Nf(t,d),m=vi(_o(a)),p=$S(m);let g=u[p],y=u[m];if(i){const v=p==="y"?"top":"left",j=p==="y"?"bottom":"right",b=g+h[v],S=g-h[j];g=gN(b,g,S)}if(o){const v=m==="y"?"top":"left",j=m==="y"?"bottom":"right",b=y+h[v],S=y-h[j];y=gN(b,y,S)}const x=l.fn({...t,[p]:g,[m]:y});return{...x,data:{x:x.x-n,y:x.y-s,enabled:{[p]:i,[m]:o}}}}}},rK=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:s,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:d=!0,crossAxis:u=!0}=So(e,t),h={x:n,y:s},m=vi(a),p=$S(m);let g=h[p],y=h[m];const x=So(l,t),v=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(d){const S=p==="y"?"height":"width",C=i.reference[p]-i.floating[S]+v.mainAxis,_=i.reference[p]+i.reference[S]-v.mainAxis;g<C?g=C:g>_&&(g=_)}if(u){var j,b;const S=p==="y"?"width":"height",C=TL.has(_o(a)),_=i.reference[m]-i.floating[S]+(C&&((j=o.offset)==null?void 0:j[m])||0)+(C?0:v.crossAxis),A=i.reference[m]+i.reference[S]+(C?0:((b=o.offset)==null?void 0:b[m])||0)-(C?v.crossAxis:0);y<_?y=_:y>A&&(y=A)}return{[p]:g,[m]:y}}}},nK=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,s;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:d=()=>{},...u}=So(e,t),h=await Nf(t,u),m=_o(a),p=Nm(a),g=vi(a)==="y",{width:y,height:x}=i.floating;let v,j;m==="top"||m==="bottom"?(v=m,j=p===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(j=m,v=p==="end"?"top":"bottom");const b=x-h.top-h.bottom,S=y-h.left-h.right,C=Ol(x-h[v],b),_=Ol(y-h[j],S),A=!t.middlewareData.shift;let k=C,T=_;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(T=S),(s=t.middlewareData.shift)!=null&&s.enabled.y&&(k=b),A&&!p){const M=Ds(h.left,0),z=Ds(h.right,0),F=Ds(h.top,0),Z=Ds(h.bottom,0);g?T=y-2*(M!==0||z!==0?M+z:Ds(h.left,h.right)):k=x-2*(F!==0||Z!==0?F+Z:Ds(h.top,h.bottom))}await d({...t,availableWidth:T,availableHeight:k});const O=await o.getDimensions(l.floating);return y!==O.width||x!==O.height?{reset:{rects:!0}}:{}}}};function Ky(){return typeof window<"u"}function Sm(e){return OL(e)?(e.nodeName||"").toLowerCase():"#document"}function qs(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ti(e){var t;return(t=(OL(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function OL(e){return Ky()?e instanceof Node||e instanceof qs(e).Node:!1}function Wa(e){return Ky()?e instanceof Element||e instanceof qs(e).Element:!1}function ki(e){return Ky()?e instanceof HTMLElement||e instanceof qs(e).HTMLElement:!1}function l4(e){return!Ky()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof qs(e).ShadowRoot}const sK=new Set(["inline","contents"]);function Tp(e){const{overflow:t,overflowX:n,overflowY:s,display:a}=Ka(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+n)&&!sK.has(a)}const aK=new Set(["table","td","th"]);function iK(e){return aK.has(Sm(e))}const oK=[":popover-open",":modal"];function Hy(e){return oK.some(t=>{try{return e.matches(t)}catch{return!1}})}const lK=["transform","translate","scale","rotate","perspective"],cK=["transform","translate","scale","rotate","perspective","filter"],dK=["paint","layout","strict","content"];function zS(e){const t=FS(),n=Wa(e)?Ka(e):e;return lK.some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||cK.some(s=>(n.willChange||"").includes(s))||dK.some(s=>(n.contain||"").includes(s))}function uK(e){let t=Il(e);for(;ki(t)&&!zu(t);){if(zS(t))return t;if(Hy(t))return null;t=Il(t)}return null}function FS(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const mK=new Set(["html","body","#document"]);function zu(e){return mK.has(Sm(e))}function Ka(e){return qs(e).getComputedStyle(e)}function Gy(e){return Wa(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Il(e){if(Sm(e)==="html")return e;const t=e.assignedSlot||e.parentNode||l4(e)&&e.host||Ti(e);return l4(t)?t.host:t}function IL(e){const t=Il(e);return zu(t)?e.ownerDocument?e.ownerDocument.body:e.body:ki(t)&&Tp(t)?t:IL(t)}function Sf(e,t,n){var s;t===void 0&&(t=[]),n===void 0&&(n=!0);const a=IL(e),i=a===((s=e.ownerDocument)==null?void 0:s.body),o=qs(a);if(i){const l=yN(o);return t.concat(o,o.visualViewport||[],Tp(a)?a:[],l&&n?Sf(l):[])}return t.concat(a,Sf(a,[],n))}function yN(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function ML(e){const t=Ka(e);let n=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const a=ki(e),i=a?e.offsetWidth:n,o=a?e.offsetHeight:s,l=Jg(n)!==i||Jg(s)!==o;return l&&(n=i,s=o),{width:n,height:s,$:l}}function BS(e){return Wa(e)?e:e.contextElement}function mu(e){const t=BS(e);if(!ki(t))return _i(1);const n=t.getBoundingClientRect(),{width:s,height:a,$:i}=ML(t);let o=(i?Jg(n.width):n.width)/s,l=(i?Jg(n.height):n.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const hK=_i(0);function LL(e){const t=qs(e);return!FS()||!t.visualViewport?hK:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function fK(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==qs(e)?!1:t}function Hc(e,t,n,s){t===void 0&&(t=!1),n===void 0&&(n=!1);const a=e.getBoundingClientRect(),i=BS(e);let o=_i(1);t&&(s?Wa(s)&&(o=mu(s)):o=mu(e));const l=fK(i,n,s)?LL(i):_i(0);let d=(a.left+l.x)/o.x,u=(a.top+l.y)/o.y,h=a.width/o.x,m=a.height/o.y;if(i){const p=qs(i),g=s&&Wa(s)?qs(s):s;let y=p,x=yN(y);for(;x&&s&&g!==y;){const v=mu(x),j=x.getBoundingClientRect(),b=Ka(x),S=j.left+(x.clientLeft+parseFloat(b.paddingLeft))*v.x,C=j.top+(x.clientTop+parseFloat(b.paddingTop))*v.y;d*=v.x,u*=v.y,h*=v.x,m*=v.y,d+=S,u+=C,y=qs(x),x=yN(y)}}return tv({width:h,height:m,x:d,y:u})}function qS(e,t){const n=Gy(e).scrollLeft;return t?t.left+n:Hc(Ti(e)).left+n}function $L(e,t,n){n===void 0&&(n=!1);const s=e.getBoundingClientRect(),a=s.left+t.scrollLeft-(n?0:qS(e,s)),i=s.top+t.scrollTop;return{x:a,y:i}}function pK(e){let{elements:t,rect:n,offsetParent:s,strategy:a}=e;const i=a==="fixed",o=Ti(s),l=t?Hy(t.floating):!1;if(s===o||l&&i)return n;let d={scrollLeft:0,scrollTop:0},u=_i(1);const h=_i(0),m=ki(s);if((m||!m&&!i)&&((Sm(s)!=="body"||Tp(o))&&(d=Gy(s)),ki(s))){const g=Hc(s);u=mu(s),h.x=g.x+s.clientLeft,h.y=g.y+s.clientTop}const p=o&&!m&&!i?$L(o,d,!0):_i(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-d.scrollLeft*u.x+h.x+p.x,y:n.y*u.y-d.scrollTop*u.y+h.y+p.y}}function xK(e){return Array.from(e.getClientRects())}function gK(e){const t=Ti(e),n=Gy(e),s=e.ownerDocument.body,a=Ds(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),i=Ds(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let o=-n.scrollLeft+qS(e);const l=-n.scrollTop;return Ka(s).direction==="rtl"&&(o+=Ds(t.clientWidth,s.clientWidth)-a),{width:a,height:i,x:o,y:l}}function vK(e,t){const n=qs(e),s=Ti(e),a=n.visualViewport;let i=s.clientWidth,o=s.clientHeight,l=0,d=0;if(a){i=a.width,o=a.height;const u=FS();(!u||u&&t==="fixed")&&(l=a.offsetLeft,d=a.offsetTop)}return{width:i,height:o,x:l,y:d}}const yK=new Set(["absolute","fixed"]);function jK(e,t){const n=Hc(e,!0,t==="fixed"),s=n.top+e.clientTop,a=n.left+e.clientLeft,i=ki(e)?mu(e):_i(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,d=a*i.x,u=s*i.y;return{width:o,height:l,x:d,y:u}}function c4(e,t,n){let s;if(t==="viewport")s=vK(e,n);else if(t==="document")s=gK(Ti(e));else if(Wa(t))s=jK(t,n);else{const a=LL(e);s={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return tv(s)}function DL(e,t){const n=Il(e);return n===t||!Wa(n)||zu(n)?!1:Ka(n).position==="fixed"||DL(n,t)}function bK(e,t){const n=t.get(e);if(n)return n;let s=Sf(e,[],!1).filter(l=>Wa(l)&&Sm(l)!=="body"),a=null;const i=Ka(e).position==="fixed";let o=i?Il(e):e;for(;Wa(o)&&!zu(o);){const l=Ka(o),d=zS(o);!d&&l.position==="fixed"&&(a=null),(i?!d&&!a:!d&&l.position==="static"&&!!a&&yK.has(a.position)||Tp(o)&&!d&&DL(e,o))?s=s.filter(h=>h!==o):a=l,o=Il(o)}return t.set(e,s),s}function wK(e){let{element:t,boundary:n,rootBoundary:s,strategy:a}=e;const o=[...n==="clippingAncestors"?Hy(t)?[]:bK(t,this._c):[].concat(n),s],l=o[0],d=o.reduce((u,h)=>{const m=c4(t,h,a);return u.top=Ds(m.top,u.top),u.right=Ol(m.right,u.right),u.bottom=Ol(m.bottom,u.bottom),u.left=Ds(m.left,u.left),u},c4(t,l,a));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function NK(e){const{width:t,height:n}=ML(e);return{width:t,height:n}}function SK(e,t,n){const s=ki(t),a=Ti(t),i=n==="fixed",o=Hc(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const d=_i(0);function u(){d.x=qS(a)}if(s||!s&&!i)if((Sm(t)!=="body"||Tp(a))&&(l=Gy(t)),s){const g=Hc(t,!0,i,t);d.x=g.x+t.clientLeft,d.y=g.y+t.clientTop}else a&&u();i&&!s&&a&&u();const h=a&&!s&&!i?$L(a,l):_i(0),m=o.left+l.scrollLeft-d.x-h.x,p=o.top+l.scrollTop-d.y-h.y;return{x:m,y:p,width:o.width,height:o.height}}function yb(e){return Ka(e).position==="static"}function d4(e,t){if(!ki(e)||Ka(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Ti(e)===n&&(n=n.ownerDocument.body),n}function RL(e,t){const n=qs(e);if(Hy(e))return n;if(!ki(e)){let a=Il(e);for(;a&&!zu(a);){if(Wa(a)&&!yb(a))return a;a=Il(a)}return n}let s=d4(e,t);for(;s&&iK(s)&&yb(s);)s=d4(s,t);return s&&zu(s)&&yb(s)&&!zS(s)?n:s||uK(e)||n}const _K=async function(e){const t=this.getOffsetParent||RL,n=this.getDimensions,s=await n(e.floating);return{reference:SK(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function CK(e){return Ka(e).direction==="rtl"}const PK={convertOffsetParentRelativeRectToViewportRelativeRect:pK,getDocumentElement:Ti,getClippingRect:wK,getOffsetParent:RL,getElementRects:_K,getClientRects:xK,getDimensions:NK,getScale:mu,isElement:Wa,isRTL:CK};function zL(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function AK(e,t){let n=null,s;const a=Ti(e);function i(){var l;clearTimeout(s),(l=n)==null||l.disconnect(),n=null}function o(l,d){l===void 0&&(l=!1),d===void 0&&(d=1),i();const u=e.getBoundingClientRect(),{left:h,top:m,width:p,height:g}=u;if(l||t(),!p||!g)return;const y=Lx(m),x=Lx(a.clientWidth-(h+p)),v=Lx(a.clientHeight-(m+g)),j=Lx(h),S={rootMargin:-y+"px "+-x+"px "+-v+"px "+-j+"px",threshold:Ds(0,Ol(1,d))||1};let C=!0;function _(A){const k=A[0].intersectionRatio;if(k!==d){if(!C)return o();k?o(!1,k):s=setTimeout(()=>{o(!1,1e-7)},1e3)}k===1&&!zL(u,e.getBoundingClientRect())&&o(),C=!1}try{n=new IntersectionObserver(_,{...S,root:a.ownerDocument})}catch{n=new IntersectionObserver(_,S)}n.observe(e)}return o(!0),i}function kK(e,t,n,s){s===void 0&&(s={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:d=!1}=s,u=BS(e),h=a||i?[...u?Sf(u):[],...Sf(t)]:[];h.forEach(j=>{a&&j.addEventListener("scroll",n,{passive:!0}),i&&j.addEventListener("resize",n)});const m=u&&l?AK(u,n):null;let p=-1,g=null;o&&(g=new ResizeObserver(j=>{let[b]=j;b&&b.target===u&&g&&(g.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var S;(S=g)==null||S.observe(t)})),n()}),u&&!d&&g.observe(u),g.observe(t));let y,x=d?Hc(e):null;d&&v();function v(){const j=Hc(e);x&&!zL(x,j)&&n(),x=j,y=requestAnimationFrame(v)}return n(),()=>{var j;h.forEach(b=>{a&&b.removeEventListener("scroll",n),i&&b.removeEventListener("resize",n)}),m==null||m(),(j=g)==null||j.disconnect(),g=null,d&&cancelAnimationFrame(y)}}const EK=eK,TK=tK,OK=YW,IK=nK,MK=XW,u4=QW,LK=rK,$K=(e,t,n)=>{const s=new Map,a={platform:PK,...n},i={...a.platform,_c:s};return ZW(e,t,{...a,platform:i})};var DK=typeof document<"u",RK=function(){},vg=DK?N.useLayoutEffect:RK;function rv(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,s,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(s=n;s--!==0;)if(!rv(e[s],t[s]))return!1;return!0}if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(t,a[s]))return!1;for(s=n;s--!==0;){const i=a[s];if(!(i==="_owner"&&e.$$typeof)&&!rv(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function FL(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function m4(e,t){const n=FL(e);return Math.round(t*n)/n}function jb(e){const t=N.useRef(e);return vg(()=>{t.current=e}),t}function zK(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:s=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:d,open:u}=e,[h,m]=N.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[p,g]=N.useState(s);rv(p,s)||g(s);const[y,x]=N.useState(null),[v,j]=N.useState(null),b=N.useCallback(q=>{q!==A.current&&(A.current=q,x(q))},[]),S=N.useCallback(q=>{q!==k.current&&(k.current=q,j(q))},[]),C=i||y,_=o||v,A=N.useRef(null),k=N.useRef(null),T=N.useRef(h),O=d!=null,M=jb(d),z=jb(a),F=jb(u),Z=N.useCallback(()=>{if(!A.current||!k.current)return;const q={placement:t,strategy:n,middleware:p};z.current&&(q.platform=z.current),$K(A.current,k.current,q).then(U=>{const Q={...U,isPositioned:F.current!==!1};D.current&&!rv(T.current,Q)&&(T.current=Q,od.flushSync(()=>{m(Q)}))})},[p,t,n,z,F]);vg(()=>{u===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,m(q=>({...q,isPositioned:!1})))},[u]);const D=N.useRef(!1);vg(()=>(D.current=!0,()=>{D.current=!1}),[]),vg(()=>{if(C&&(A.current=C),_&&(k.current=_),C&&_){if(M.current)return M.current(C,_,Z);Z()}},[C,_,Z,M,O]);const $=N.useMemo(()=>({reference:A,floating:k,setReference:b,setFloating:S}),[b,S]),E=N.useMemo(()=>({reference:C,floating:_}),[C,_]),V=N.useMemo(()=>{const q={position:n,left:0,top:0};if(!E.floating)return q;const U=m4(E.floating,h.x),Q=m4(E.floating,h.y);return l?{...q,transform:"translate("+U+"px, "+Q+"px)",...FL(E.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:U,top:Q}},[n,l,E.floating,h.x,h.y]);return N.useMemo(()=>({...h,update:Z,refs:$,elements:E,floatingStyles:V}),[h,Z,$,E,V])}const FK=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:s,padding:a}=typeof e=="function"?e(n):e;return s&&t(s)?s.current!=null?u4({element:s.current,padding:a}).fn(n):{}:s?u4({element:s,padding:a}).fn(n):{}}}},BK=(e,t)=>({...EK(e),options:[e,t]}),qK=(e,t)=>({...TK(e),options:[e,t]}),UK=(e,t)=>({...LK(e),options:[e,t]}),VK=(e,t)=>({...OK(e),options:[e,t]}),WK=(e,t)=>({...IK(e),options:[e,t]}),KK=(e,t)=>({...MK(e),options:[e,t]}),HK=(e,t)=>({...FK(e),options:[e,t]});var GK="Arrow",BL=N.forwardRef((e,t)=>{const{children:n,width:s=10,height:a=5,...i}=e;return r.jsx(gt.svg,{...i,ref:t,width:s,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:r.jsx("polygon",{points:"0,0 30,0 15,10"})})});BL.displayName=GK;var ZK=BL;function US(e){const[t,n]=N.useState(void 0);return En(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const d=i.borderBoxSize,u=Array.isArray(d)?d[0]:d;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;n({width:o,height:l})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else n(void 0)},[e]),t}var VS="Popper",[qL,_m]=_s(VS),[QK,UL]=qL(VS),VL=e=>{const{__scopePopper:t,children:n}=e,[s,a]=N.useState(null);return r.jsx(QK,{scope:t,anchor:s,onAnchorChange:a,children:n})};VL.displayName=VS;var WL="PopperAnchor",KL=N.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:s,...a}=e,i=UL(WL,n),o=N.useRef(null),l=Zt(t,o);return N.useEffect(()=>{i.onAnchorChange((s==null?void 0:s.current)||o.current)}),s?null:r.jsx(gt.div,{...a,ref:l})});KL.displayName=WL;var WS="PopperContent",[YK,XK]=qL(WS),HL=N.forwardRef((e,t)=>{var Se,We,Ae,ze,Fe,je;const{__scopePopper:n,side:s="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:d=!0,collisionBoundary:u=[],collisionPadding:h=0,sticky:m="partial",hideWhenDetached:p=!1,updatePositionStrategy:g="optimized",onPlaced:y,...x}=e,v=UL(WS,n),[j,b]=N.useState(null),S=Zt(t,Ze=>b(Ze)),[C,_]=N.useState(null),A=US(C),k=(A==null?void 0:A.width)??0,T=(A==null?void 0:A.height)??0,O=s+(i!=="center"?"-"+i:""),M=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},z=Array.isArray(u)?u:[u],F=z.length>0,Z={padding:M,boundary:z.filter(eH),altBoundary:F},{refs:D,floatingStyles:$,placement:E,isPositioned:V,middlewareData:q}=zK({strategy:"fixed",placement:O,whileElementsMounted:(...Ze)=>kK(...Ze,{animationFrame:g==="always"}),elements:{reference:v.anchor},middleware:[BK({mainAxis:a+T,alignmentAxis:o}),d&&qK({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?UK():void 0,...Z}),d&&VK({...Z}),WK({...Z,apply:({elements:Ze,rects:K,availableWidth:te,availableHeight:Ne})=>{const{width:pe,height:oe}=K.reference,Be=Ze.floating.style;Be.setProperty("--radix-popper-available-width",`${te}px`),Be.setProperty("--radix-popper-available-height",`${Ne}px`),Be.setProperty("--radix-popper-anchor-width",`${pe}px`),Be.setProperty("--radix-popper-anchor-height",`${oe}px`)}}),C&&HK({element:C,padding:l}),tH({arrowWidth:k,arrowHeight:T}),p&&KK({strategy:"referenceHidden",...Z})]}),[U,Q]=QL(E),he=Ss(y);En(()=>{V&&(he==null||he())},[V,he]);const ue=(Se=q.arrow)==null?void 0:Se.x,ce=(We=q.arrow)==null?void 0:We.y,G=((Ae=q.arrow)==null?void 0:Ae.centerOffset)!==0,[J,ye]=N.useState();return En(()=>{j&&ye(window.getComputedStyle(j).zIndex)},[j]),r.jsx("div",{ref:D.setFloating,"data-radix-popper-content-wrapper":"",style:{...$,transform:V?$.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:J,"--radix-popper-transform-origin":[(ze=q.transformOrigin)==null?void 0:ze.x,(Fe=q.transformOrigin)==null?void 0:Fe.y].join(" "),...((je=q.hide)==null?void 0:je.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:r.jsx(YK,{scope:n,placedSide:U,onArrowChange:_,arrowX:ue,arrowY:ce,shouldHideArrow:G,children:r.jsx(gt.div,{"data-side":U,"data-align":Q,...x,ref:S,style:{...x.style,animation:V?void 0:"none"}})})})});HL.displayName=WS;var GL="PopperArrow",JK={top:"bottom",right:"left",bottom:"top",left:"right"},ZL=N.forwardRef(function(t,n){const{__scopePopper:s,...a}=t,i=XK(GL,s),o=JK[i.placedSide];return r.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:r.jsx(ZK,{...a,ref:n,style:{...a.style,display:"block"}})})});ZL.displayName=GL;function eH(e){return e!==null}var tH=e=>({name:"transformOrigin",options:e,fn(t){var v,j,b;const{placement:n,rects:s,middlewareData:a}=t,o=((v=a.arrow)==null?void 0:v.centerOffset)!==0,l=o?0:e.arrowWidth,d=o?0:e.arrowHeight,[u,h]=QL(n),m={start:"0%",center:"50%",end:"100%"}[h],p=(((j=a.arrow)==null?void 0:j.x)??0)+l/2,g=(((b=a.arrow)==null?void 0:b.y)??0)+d/2;let y="",x="";return u==="bottom"?(y=o?m:`${p}px`,x=`${-d}px`):u==="top"?(y=o?m:`${p}px`,x=`${s.floating.height+d}px`):u==="right"?(y=`${-d}px`,x=o?m:`${g}px`):u==="left"&&(y=`${s.floating.width+d}px`,x=o?m:`${g}px`),{data:{x:y,y:x}}}});function QL(e){const[t,n="center"]=e.split("-");return[t,n]}var YL=VL,KS=KL,HS=HL,GS=ZL,[Zy,VAe]=_s("Tooltip",[_m]),ZS=_m(),XL="TooltipProvider",rH=700,h4="tooltip.open",[nH,JL]=Zy(XL),e$=e=>{const{__scopeTooltip:t,delayDuration:n=rH,skipDelayDuration:s=300,disableHoverableContent:a=!1,children:i}=e,o=N.useRef(!0),l=N.useRef(!1),d=N.useRef(0);return N.useEffect(()=>{const u=d.current;return()=>window.clearTimeout(u)},[]),r.jsx(nH,{scope:t,isOpenDelayedRef:o,delayDuration:n,onOpen:N.useCallback(()=>{window.clearTimeout(d.current),o.current=!1},[]),onClose:N.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>o.current=!0,s)},[s]),isPointerInTransitRef:l,onPointerInTransitChange:N.useCallback(u=>{l.current=u},[]),disableHoverableContent:a,children:i})};e$.displayName=XL;var t$="Tooltip",[WAe,Qy]=Zy(t$),jN="TooltipTrigger",sH=N.forwardRef((e,t)=>{const{__scopeTooltip:n,...s}=e,a=Qy(jN,n),i=JL(jN,n),o=ZS(n),l=N.useRef(null),d=Zt(t,l,a.onTriggerChange),u=N.useRef(!1),h=N.useRef(!1),m=N.useCallback(()=>u.current=!1,[]);return N.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),r.jsx(KS,{asChild:!0,...o,children:r.jsx(gt.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...s,ref:d,onPointerMove:Ge(e.onPointerMove,p=>{p.pointerType!=="touch"&&!h.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),h.current=!0)}),onPointerLeave:Ge(e.onPointerLeave,()=>{a.onTriggerLeave(),h.current=!1}),onPointerDown:Ge(e.onPointerDown,()=>{a.open&&a.onClose(),u.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:Ge(e.onFocus,()=>{u.current||a.onOpen()}),onBlur:Ge(e.onBlur,a.onClose),onClick:Ge(e.onClick,a.onClose)})})});sH.displayName=jN;var aH="TooltipPortal",[KAe,iH]=Zy(aH,{forceMount:void 0}),Fu="TooltipContent",r$=N.forwardRef((e,t)=>{const n=iH(Fu,e.__scopeTooltip),{forceMount:s=n.forceMount,side:a="top",...i}=e,o=Qy(Fu,e.__scopeTooltip);return r.jsx(ja,{present:s||o.open,children:o.disableHoverableContent?r.jsx(n$,{side:a,...i,ref:t}):r.jsx(oH,{side:a,...i,ref:t})})}),oH=N.forwardRef((e,t)=>{const n=Qy(Fu,e.__scopeTooltip),s=JL(Fu,e.__scopeTooltip),a=N.useRef(null),i=Zt(t,a),[o,l]=N.useState(null),{trigger:d,onClose:u}=n,h=a.current,{onPointerInTransitChange:m}=s,p=N.useCallback(()=>{l(null),m(!1)},[m]),g=N.useCallback((y,x)=>{const v=y.currentTarget,j={x:y.clientX,y:y.clientY},b=mH(j,v.getBoundingClientRect()),S=hH(j,b),C=fH(x.getBoundingClientRect()),_=xH([...S,...C]);l(_),m(!0)},[m]);return N.useEffect(()=>()=>p(),[p]),N.useEffect(()=>{if(d&&h){const y=v=>g(v,h),x=v=>g(v,d);return d.addEventListener("pointerleave",y),h.addEventListener("pointerleave",x),()=>{d.removeEventListener("pointerleave",y),h.removeEventListener("pointerleave",x)}}},[d,h,g,p]),N.useEffect(()=>{if(o){const y=x=>{const v=x.target,j={x:x.clientX,y:x.clientY},b=(d==null?void 0:d.contains(v))||(h==null?void 0:h.contains(v)),S=!pH(j,o);b?p():S&&(p(),u())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[d,h,o,u,p]),r.jsx(n$,{...e,ref:i})}),[lH,cH]=Zy(t$,{isInside:!1}),dH=VM("TooltipContent"),n$=N.forwardRef((e,t)=>{const{__scopeTooltip:n,children:s,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,d=Qy(Fu,n),u=ZS(n),{onClose:h}=d;return N.useEffect(()=>(document.addEventListener(h4,h),()=>document.removeEventListener(h4,h)),[h]),N.useEffect(()=>{if(d.trigger){const m=p=>{const g=p.target;g!=null&&g.contains(d.trigger)&&h()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[d.trigger,h]),r.jsx(bm,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:m=>m.preventDefault(),onDismiss:h,children:r.jsxs(HS,{"data-state":d.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[r.jsx(dH,{children:s}),r.jsx(lH,{scope:n,isInside:!0,children:r.jsx(zU,{id:d.contentId,role:"tooltip",children:a||s})})]})})});r$.displayName=Fu;var s$="TooltipArrow",uH=N.forwardRef((e,t)=>{const{__scopeTooltip:n,...s}=e,a=ZS(n);return cH(s$,n).isInside?null:r.jsx(GS,{...a,...s,ref:t})});uH.displayName=s$;function mH(e,t){const n=Math.abs(t.top-e.y),s=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(n,s,a,i)){case i:return"left";case a:return"right";case n:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function hH(e,t,n=5){const s=[];switch(t){case"top":s.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":s.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":s.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":s.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return s}function fH(e){const{top:t,right:n,bottom:s,left:a}=e;return[{x:a,y:t},{x:n,y:t},{x:n,y:s},{x:a,y:s}]}function pH(e,t){const{x:n,y:s}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],d=t[o],u=l.x,h=l.y,m=d.x,p=d.y;h>s!=p>s&&n<(m-u)*(s-h)/(p-h)+u&&(a=!a)}return a}function xH(e){const t=e.slice();return t.sort((n,s)=>n.x<s.x?-1:n.x>s.x?1:n.y<s.y?-1:n.y>s.y?1:0),gH(t)}function gH(e){if(e.length<=1)return e.slice();const t=[];for(let s=0;s<e.length;s++){const a=e[s];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const n=[];for(let s=e.length-1;s>=0;s--){const a=e[s];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))n.pop();else break}n.push(a)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var vH=e$,a$=r$;const yH=vH,jH=N.forwardRef(({className:e,sideOffset:t=4,...n},s)=>r.jsx(a$,{ref:s,sideOffset:t,className:Le("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));jH.displayName=a$.displayName;var Cm=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Gc=typeof window>"u"||"Deno"in globalThis;function Xn(){}function bH(e,t){return typeof e=="function"?e(t):e}function bN(e){return typeof e=="number"&&e>=0&&e!==1/0}function i$(e,t){return Math.max(e+(t||0)-Date.now(),0)}function _l(e,t){return typeof e=="function"?e(t):e}function aa(e,t){return typeof e=="function"?e(t):e}function f4(e,t){const{type:n="all",exact:s,fetchStatus:a,predicate:i,queryKey:o,stale:l}=e;if(o){if(s){if(t.queryHash!==QS(o,t.options))return!1}else if(!_f(t.queryKey,o))return!1}if(n!=="all"){const d=t.isActive();if(n==="active"&&!d||n==="inactive"&&d)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function p4(e,t){const{exact:n,status:s,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(Zc(t.options.mutationKey)!==Zc(i))return!1}else if(!_f(t.options.mutationKey,i))return!1}return!(s&&t.state.status!==s||a&&!a(t))}function QS(e,t){return((t==null?void 0:t.queryKeyHashFn)||Zc)(e)}function Zc(e){return JSON.stringify(e,(t,n)=>wN(n)?Object.keys(n).sort().reduce((s,a)=>(s[a]=n[a],s),{}):n)}function _f(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>_f(e[n],t[n])):!1}function o$(e,t){if(e===t)return e;const n=x4(e)&&x4(t);if(n||wN(e)&&wN(t)){const s=n?e:Object.keys(e),a=s.length,i=n?t:Object.keys(t),o=i.length,l=n?[]:{},d=new Set(s);let u=0;for(let h=0;h<o;h++){const m=n?h:i[h];(!n&&d.has(m)||n)&&e[m]===void 0&&t[m]===void 0?(l[m]=void 0,u++):(l[m]=o$(e[m],t[m]),l[m]===e[m]&&e[m]!==void 0&&u++)}return a===o&&u===a?e:l}return t}function nv(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function x4(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function wN(e){if(!g4(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!g4(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function g4(e){return Object.prototype.toString.call(e)==="[object Object]"}function wH(e){return new Promise(t=>{setTimeout(t,e)})}function NN(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?o$(e,t):t}function NH(e,t,n=0){const s=[...e,t];return n&&s.length>n?s.slice(1):s}function SH(e,t,n=0){const s=[t,...e];return n&&s.length>n?s.slice(0,-1):s}var YS=Symbol();function l$(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===YS?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function c$(e,t){return typeof e=="function"?e(...t):!!e}var Cc,el,yu,gO,_H=(gO=class extends Cm{constructor(){super();vt(this,Cc);vt(this,el);vt(this,yu);et(this,yu,t=>{if(!Gc&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){de(this,el)||this.setEventListener(de(this,yu))}onUnsubscribe(){var t;this.hasListeners()||((t=de(this,el))==null||t.call(this),et(this,el,void 0))}setEventListener(t){var n;et(this,yu,t),(n=de(this,el))==null||n.call(this),et(this,el,t(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(t){de(this,Cc)!==t&&(et(this,Cc,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof de(this,Cc)=="boolean"?de(this,Cc):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Cc=new WeakMap,el=new WeakMap,yu=new WeakMap,gO),XS=new _H,ju,tl,bu,vO,CH=(vO=class extends Cm{constructor(){super();vt(this,ju,!0);vt(this,tl);vt(this,bu);et(this,bu,t=>{if(!Gc&&window.addEventListener){const n=()=>t(!0),s=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",s)}}})}onSubscribe(){de(this,tl)||this.setEventListener(de(this,bu))}onUnsubscribe(){var t;this.hasListeners()||((t=de(this,tl))==null||t.call(this),et(this,tl,void 0))}setEventListener(t){var n;et(this,bu,t),(n=de(this,tl))==null||n.call(this),et(this,tl,t(this.setOnline.bind(this)))}setOnline(t){de(this,ju)!==t&&(et(this,ju,t),this.listeners.forEach(s=>{s(t)}))}isOnline(){return de(this,ju)}},ju=new WeakMap,tl=new WeakMap,bu=new WeakMap,vO),sv=new CH;function SN(){let e,t;const n=new Promise((a,i)=>{e=a,t=i});n.status="pending",n.catch(()=>{});function s(a){Object.assign(n,a),delete n.resolve,delete n.reject}return n.resolve=a=>{s({status:"fulfilled",value:a}),e(a)},n.reject=a=>{s({status:"rejected",reason:a}),t(a)},n}function PH(e){return Math.min(1e3*2**e,3e4)}function d$(e){return(e??"online")==="online"?sv.isOnline():!0}var u$=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function bb(e){return e instanceof u$}function m$(e){let t=!1,n=0,s=!1,a;const i=SN(),o=x=>{var v;s||(p(new u$(x)),(v=e.abort)==null||v.call(e))},l=()=>{t=!0},d=()=>{t=!1},u=()=>XS.isFocused()&&(e.networkMode==="always"||sv.isOnline())&&e.canRun(),h=()=>d$(e.networkMode)&&e.canRun(),m=x=>{var v;s||(s=!0,(v=e.onSuccess)==null||v.call(e,x),a==null||a(),i.resolve(x))},p=x=>{var v;s||(s=!0,(v=e.onError)==null||v.call(e,x),a==null||a(),i.reject(x))},g=()=>new Promise(x=>{var v;a=j=>{(s||u())&&x(j)},(v=e.onPause)==null||v.call(e)}).then(()=>{var x;a=void 0,s||(x=e.onContinue)==null||x.call(e)}),y=()=>{if(s)return;let x;const v=n===0?e.initialPromise:void 0;try{x=v??e.fn()}catch(j){x=Promise.reject(j)}Promise.resolve(x).then(m).catch(j=>{var A;if(s)return;const b=e.retry??(Gc?0:3),S=e.retryDelay??PH,C=typeof S=="function"?S(n,j):S,_=b===!0||typeof b=="number"&&n<b||typeof b=="function"&&b(n,j);if(t||!_){p(j);return}n++,(A=e.onFail)==null||A.call(e,n,j),wH(C).then(()=>u()?void 0:g()).then(()=>{t?p(j):y()})})};return{promise:i,cancel:o,continue:()=>(a==null||a(),i),cancelRetry:l,continueRetry:d,canStart:h,start:()=>(h()?y():g().then(y),i)}}var AH=e=>setTimeout(e,0);function kH(){let e=[],t=0,n=l=>{l()},s=l=>{l()},a=AH;const i=l=>{t?e.push(l):a(()=>{n(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{s(()=>{l.forEach(d=>{n(d)})})})};return{batch:l=>{let d;t++;try{d=l()}finally{t--,t||o()}return d},batchCalls:l=>(...d)=>{i(()=>{l(...d)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{s=l},setScheduler:l=>{a=l}}}var an=kH(),Pc,yO,h$=(yO=class{constructor(){vt(this,Pc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),bN(this.gcTime)&&et(this,Pc,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Gc?1/0:5*60*1e3))}clearGcTimeout(){de(this,Pc)&&(clearTimeout(de(this,Pc)),et(this,Pc,void 0))}},Pc=new WeakMap,yO),wu,Ac,sa,kc,Rn,vp,Ec,Oa,Vi,jO,EH=(jO=class extends h${constructor(t){super();vt(this,Oa);vt(this,wu);vt(this,Ac);vt(this,sa);vt(this,kc);vt(this,Rn);vt(this,vp);vt(this,Ec);et(this,Ec,!1),et(this,vp,t.defaultOptions),this.setOptions(t.options),this.observers=[],et(this,kc,t.client),et(this,sa,de(this,kc).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,et(this,wu,TH(this.options)),this.state=t.state??de(this,wu),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=de(this,Rn))==null?void 0:t.promise}setOptions(t){this.options={...de(this,vp),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&de(this,sa).remove(this)}setData(t,n){const s=NN(this.state.data,t,this.options);return Rt(this,Oa,Vi).call(this,{data:s,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),s}setState(t,n){Rt(this,Oa,Vi).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var s,a;const n=(s=de(this,Rn))==null?void 0:s.promise;return(a=de(this,Rn))==null||a.cancel(t),n?n.then(Xn).catch(Xn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(de(this,wu))}isActive(){return this.observers.some(t=>aa(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===YS||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>_l(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!i$(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(s=>s.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=de(this,Rn))==null||n.continue()}onOnline(){var n;const t=this.observers.find(s=>s.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=de(this,Rn))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),de(this,sa).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(de(this,Rn)&&(de(this,Ec)?de(this,Rn).cancel({revert:!0}):de(this,Rn).cancelRetry()),this.scheduleGc()),de(this,sa).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Rt(this,Oa,Vi).call(this,{type:"invalidate"})}fetch(t,n){var u,h,m;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(de(this,Rn))return de(this,Rn).continueRetry(),de(this,Rn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const p=this.observers.find(g=>g.options.queryFn);p&&this.setOptions(p.options)}const s=new AbortController,a=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(et(this,Ec,!0),s.signal)})},i=()=>{const p=l$(this.options,n),y=(()=>{const x={client:de(this,kc),queryKey:this.queryKey,meta:this.meta};return a(x),x})();return et(this,Ec,!1),this.options.persister?this.options.persister(p,y,this):p(y)},l=(()=>{const p={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:de(this,kc),state:this.state,fetchFn:i};return a(p),p})();(u=this.options.behavior)==null||u.onFetch(l,this),et(this,Ac,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=l.fetchOptions)==null?void 0:h.meta))&&Rt(this,Oa,Vi).call(this,{type:"fetch",meta:(m=l.fetchOptions)==null?void 0:m.meta});const d=p=>{var g,y,x,v;bb(p)&&p.silent||Rt(this,Oa,Vi).call(this,{type:"error",error:p}),bb(p)||((y=(g=de(this,sa).config).onError)==null||y.call(g,p,this),(v=(x=de(this,sa).config).onSettled)==null||v.call(x,this.state.data,p,this)),this.scheduleGc()};return et(this,Rn,m$({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,abort:s.abort.bind(s),onSuccess:p=>{var g,y,x,v;if(p===void 0){d(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(j){d(j);return}(y=(g=de(this,sa).config).onSuccess)==null||y.call(g,p,this),(v=(x=de(this,sa).config).onSettled)==null||v.call(x,p,this.state.error,this),this.scheduleGc()},onError:d,onFail:(p,g)=>{Rt(this,Oa,Vi).call(this,{type:"failed",failureCount:p,error:g})},onPause:()=>{Rt(this,Oa,Vi).call(this,{type:"pause"})},onContinue:()=>{Rt(this,Oa,Vi).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),de(this,Rn).start()}},wu=new WeakMap,Ac=new WeakMap,sa=new WeakMap,kc=new WeakMap,Rn=new WeakMap,vp=new WeakMap,Ec=new WeakMap,Oa=new WeakSet,Vi=function(t){const n=s=>{switch(t.type){case"failed":return{...s,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...f$(s.data,this.options),fetchMeta:t.meta??null};case"success":return et(this,Ac,void 0),{...s,data:t.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return bb(a)&&a.revert&&de(this,Ac)?{...de(this,Ac),fetchStatus:"idle"}:{...s,error:a,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...t.state}}};this.state=n(this.state),an.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),de(this,sa).notify({query:this,type:"updated",action:t})})},jO);function f$(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:d$(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function TH(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,s=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var mi,bO,OH=(bO=class extends Cm{constructor(t={}){super();vt(this,mi);this.config=t,et(this,mi,new Map)}build(t,n,s){const a=n.queryKey,i=n.queryHash??QS(a,n);let o=this.get(i);return o||(o=new EH({client:t,queryKey:a,queryHash:i,options:t.defaultQueryOptions(n),state:s,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){de(this,mi).has(t.queryHash)||(de(this,mi).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=de(this,mi).get(t.queryHash);n&&(t.destroy(),n===t&&de(this,mi).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){an.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return de(this,mi).get(t)}getAll(){return[...de(this,mi).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(s=>f4(n,s))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(s=>f4(t,s)):n}notify(t){an.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){an.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){an.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},mi=new WeakMap,bO),hi,Hn,Tc,fi,Wo,wO,IH=(wO=class extends h${constructor(t){super();vt(this,fi);vt(this,hi);vt(this,Hn);vt(this,Tc);this.mutationId=t.mutationId,et(this,Hn,t.mutationCache),et(this,hi,[]),this.state=t.state||p$(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){de(this,hi).includes(t)||(de(this,hi).push(t),this.clearGcTimeout(),de(this,Hn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){et(this,hi,de(this,hi).filter(n=>n!==t)),this.scheduleGc(),de(this,Hn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){de(this,hi).length||(this.state.status==="pending"?this.scheduleGc():de(this,Hn).remove(this))}continue(){var t;return((t=de(this,Tc))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,o,l,d,u,h,m,p,g,y,x,v,j,b,S,C,_,A,k,T;const n=()=>{Rt(this,fi,Wo).call(this,{type:"continue"})};et(this,Tc,m$({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(O,M)=>{Rt(this,fi,Wo).call(this,{type:"failed",failureCount:O,error:M})},onPause:()=>{Rt(this,fi,Wo).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>de(this,Hn).canRun(this)}));const s=this.state.status==="pending",a=!de(this,Tc).canStart();try{if(s)n();else{Rt(this,fi,Wo).call(this,{type:"pending",variables:t,isPaused:a}),await((o=(i=de(this,Hn).config).onMutate)==null?void 0:o.call(i,t,this));const M=await((d=(l=this.options).onMutate)==null?void 0:d.call(l,t));M!==this.state.context&&Rt(this,fi,Wo).call(this,{type:"pending",context:M,variables:t,isPaused:a})}const O=await de(this,Tc).start();return await((h=(u=de(this,Hn).config).onSuccess)==null?void 0:h.call(u,O,t,this.state.context,this)),await((p=(m=this.options).onSuccess)==null?void 0:p.call(m,O,t,this.state.context)),await((y=(g=de(this,Hn).config).onSettled)==null?void 0:y.call(g,O,null,this.state.variables,this.state.context,this)),await((v=(x=this.options).onSettled)==null?void 0:v.call(x,O,null,t,this.state.context)),Rt(this,fi,Wo).call(this,{type:"success",data:O}),O}catch(O){try{throw await((b=(j=de(this,Hn).config).onError)==null?void 0:b.call(j,O,t,this.state.context,this)),await((C=(S=this.options).onError)==null?void 0:C.call(S,O,t,this.state.context)),await((A=(_=de(this,Hn).config).onSettled)==null?void 0:A.call(_,void 0,O,this.state.variables,this.state.context,this)),await((T=(k=this.options).onSettled)==null?void 0:T.call(k,void 0,O,t,this.state.context)),O}finally{Rt(this,fi,Wo).call(this,{type:"error",error:O})}}finally{de(this,Hn).runNext(this)}}},hi=new WeakMap,Hn=new WeakMap,Tc=new WeakMap,fi=new WeakSet,Wo=function(t){const n=s=>{switch(t.type){case"failed":return{...s,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...s,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:t.error,failureCount:s.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),an.batch(()=>{de(this,hi).forEach(s=>{s.onMutationUpdate(t)}),de(this,Hn).notify({mutation:this,type:"updated",action:t})})},wO);function p$(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Yi,Ia,yp,NO,MH=(NO=class extends Cm{constructor(t={}){super();vt(this,Yi);vt(this,Ia);vt(this,yp);this.config=t,et(this,Yi,new Set),et(this,Ia,new Map),et(this,yp,0)}build(t,n,s){const a=new IH({mutationCache:this,mutationId:++fx(this,yp)._,options:t.defaultMutationOptions(n),state:s});return this.add(a),a}add(t){de(this,Yi).add(t);const n=$x(t);if(typeof n=="string"){const s=de(this,Ia).get(n);s?s.push(t):de(this,Ia).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(de(this,Yi).delete(t)){const n=$x(t);if(typeof n=="string"){const s=de(this,Ia).get(n);if(s)if(s.length>1){const a=s.indexOf(t);a!==-1&&s.splice(a,1)}else s[0]===t&&de(this,Ia).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=$x(t);if(typeof n=="string"){const s=de(this,Ia).get(n),a=s==null?void 0:s.find(i=>i.state.status==="pending");return!a||a===t}else return!0}runNext(t){var s;const n=$x(t);if(typeof n=="string"){const a=(s=de(this,Ia).get(n))==null?void 0:s.find(i=>i!==t&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){an.batch(()=>{de(this,Yi).forEach(t=>{this.notify({type:"removed",mutation:t})}),de(this,Yi).clear(),de(this,Ia).clear()})}getAll(){return Array.from(de(this,Yi))}find(t){const n={exact:!0,...t};return this.getAll().find(s=>p4(n,s))}findAll(t={}){return this.getAll().filter(n=>p4(t,n))}notify(t){an.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return an.batch(()=>Promise.all(t.map(n=>n.continue().catch(Xn))))}},Yi=new WeakMap,Ia=new WeakMap,yp=new WeakMap,NO);function $x(e){var t;return(t=e.options.scope)==null?void 0:t.id}function v4(e){return{onFetch:(t,n)=>{var h,m,p,g,y;const s=t.options,a=(p=(m=(h=t.fetchOptions)==null?void 0:h.meta)==null?void 0:m.fetchMore)==null?void 0:p.direction,i=((g=t.state.data)==null?void 0:g.pages)||[],o=((y=t.state.data)==null?void 0:y.pageParams)||[];let l={pages:[],pageParams:[]},d=0;const u=async()=>{let x=!1;const v=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(t.signal.aborted?x=!0:t.signal.addEventListener("abort",()=>{x=!0}),t.signal)})},j=l$(t.options,t.fetchOptions),b=async(S,C,_)=>{if(x)return Promise.reject();if(C==null&&S.pages.length)return Promise.resolve(S);const k=(()=>{const z={client:t.client,queryKey:t.queryKey,pageParam:C,direction:_?"backward":"forward",meta:t.options.meta};return v(z),z})(),T=await j(k),{maxPages:O}=t.options,M=_?SH:NH;return{pages:M(S.pages,T,O),pageParams:M(S.pageParams,C,O)}};if(a&&i.length){const S=a==="backward",C=S?LH:y4,_={pages:i,pageParams:o},A=C(s,_);l=await b(_,A,S)}else{const S=e??i.length;do{const C=d===0?o[0]??s.initialPageParam:y4(s,l);if(d>0&&C==null)break;l=await b(l,C),d++}while(d<S)}return l};t.options.persister?t.fetchFn=()=>{var x,v;return(v=(x=t.options).persister)==null?void 0:v.call(x,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function y4(e,{pages:t,pageParams:n}){const s=t.length-1;return t.length>0?e.getNextPageParam(t[s],t,n[s],n):void 0}function LH(e,{pages:t,pageParams:n}){var s;return t.length>0?(s=e.getPreviousPageParam)==null?void 0:s.call(e,t[0],t,n[0],n):void 0}var Br,rl,nl,Nu,Su,sl,_u,Cu,SO,$H=(SO=class{constructor(e={}){vt(this,Br);vt(this,rl);vt(this,nl);vt(this,Nu);vt(this,Su);vt(this,sl);vt(this,_u);vt(this,Cu);et(this,Br,e.queryCache||new OH),et(this,rl,e.mutationCache||new MH),et(this,nl,e.defaultOptions||{}),et(this,Nu,new Map),et(this,Su,new Map),et(this,sl,0)}mount(){fx(this,sl)._++,de(this,sl)===1&&(et(this,_u,XS.subscribe(async e=>{e&&(await this.resumePausedMutations(),de(this,Br).onFocus())})),et(this,Cu,sv.subscribe(async e=>{e&&(await this.resumePausedMutations(),de(this,Br).onOnline())})))}unmount(){var e,t;fx(this,sl)._--,de(this,sl)===0&&((e=de(this,_u))==null||e.call(this),et(this,_u,void 0),(t=de(this,Cu))==null||t.call(this),et(this,Cu,void 0))}isFetching(e){return de(this,Br).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return de(this,rl).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=de(this,Br).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=de(this,Br).build(this,t),s=n.state.data;return s===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(_l(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(s))}getQueriesData(e){return de(this,Br).findAll(e).map(({queryKey:t,state:n})=>{const s=n.data;return[t,s]})}setQueryData(e,t,n){const s=this.defaultQueryOptions({queryKey:e}),a=de(this,Br).get(s.queryHash),i=a==null?void 0:a.state.data,o=bH(t,i);if(o!==void 0)return de(this,Br).build(this,s).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return an.batch(()=>de(this,Br).findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=de(this,Br).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=de(this,Br);an.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=de(this,Br);return an.batch(()=>(n.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},s=an.batch(()=>de(this,Br).findAll(e).map(a=>a.cancel(n)));return Promise.all(s).then(Xn).catch(Xn)}invalidateQueries(e,t={}){return an.batch(()=>(de(this,Br).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},s=an.batch(()=>de(this,Br).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,n);return n.throwOnError||(i=i.catch(Xn)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(s).then(Xn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=de(this,Br).build(this,t);return n.isStaleByTime(_l(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Xn).catch(Xn)}fetchInfiniteQuery(e){return e.behavior=v4(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Xn).catch(Xn)}ensureInfiniteQueryData(e){return e.behavior=v4(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return sv.isOnline()?de(this,rl).resumePausedMutations():Promise.resolve()}getQueryCache(){return de(this,Br)}getMutationCache(){return de(this,rl)}getDefaultOptions(){return de(this,nl)}setDefaultOptions(e){et(this,nl,e)}setQueryDefaults(e,t){de(this,Nu).set(Zc(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...de(this,Nu).values()],n={};return t.forEach(s=>{_f(e,s.queryKey)&&Object.assign(n,s.defaultOptions)}),n}setMutationDefaults(e,t){de(this,Su).set(Zc(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...de(this,Su).values()],n={};return t.forEach(s=>{_f(e,s.mutationKey)&&Object.assign(n,s.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...de(this,nl).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=QS(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===YS&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...de(this,nl).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){de(this,Br).clear(),de(this,rl).clear()}},Br=new WeakMap,rl=new WeakMap,nl=new WeakMap,Nu=new WeakMap,Su=new WeakMap,sl=new WeakMap,_u=new WeakMap,Cu=new WeakMap,SO),us,Xt,jp,Gn,Oc,Pu,al,il,bp,Au,ku,Ic,Mc,ol,Eu,ur,Ih,_N,CN,PN,AN,kN,EN,TN,x$,_O,DH=(_O=class extends Cm{constructor(t,n){super();vt(this,ur);vt(this,us);vt(this,Xt);vt(this,jp);vt(this,Gn);vt(this,Oc);vt(this,Pu);vt(this,al);vt(this,il);vt(this,bp);vt(this,Au);vt(this,ku);vt(this,Ic);vt(this,Mc);vt(this,ol);vt(this,Eu,new Set);this.options=n,et(this,us,t),et(this,il,null),et(this,al,SN()),this.options.experimental_prefetchInRender||de(this,al).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(de(this,Xt).addObserver(this),j4(de(this,Xt),this.options)?Rt(this,ur,Ih).call(this):this.updateResult(),Rt(this,ur,AN).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return ON(de(this,Xt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return ON(de(this,Xt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Rt(this,ur,kN).call(this),Rt(this,ur,EN).call(this),de(this,Xt).removeObserver(this)}setOptions(t){const n=this.options,s=de(this,Xt);if(this.options=de(this,us).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof aa(this.options.enabled,de(this,Xt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Rt(this,ur,TN).call(this),de(this,Xt).setOptions(this.options),n._defaulted&&!nv(this.options,n)&&de(this,us).getQueryCache().notify({type:"observerOptionsUpdated",query:de(this,Xt),observer:this});const a=this.hasListeners();a&&b4(de(this,Xt),s,this.options,n)&&Rt(this,ur,Ih).call(this),this.updateResult(),a&&(de(this,Xt)!==s||aa(this.options.enabled,de(this,Xt))!==aa(n.enabled,de(this,Xt))||_l(this.options.staleTime,de(this,Xt))!==_l(n.staleTime,de(this,Xt)))&&Rt(this,ur,_N).call(this);const i=Rt(this,ur,CN).call(this);a&&(de(this,Xt)!==s||aa(this.options.enabled,de(this,Xt))!==aa(n.enabled,de(this,Xt))||i!==de(this,ol))&&Rt(this,ur,PN).call(this,i)}getOptimisticResult(t){const n=de(this,us).getQueryCache().build(de(this,us),t),s=this.createResult(n,t);return zH(this,s)&&(et(this,Gn,s),et(this,Pu,this.options),et(this,Oc,de(this,Xt).state)),s}getCurrentResult(){return de(this,Gn)}trackResult(t,n){return new Proxy(t,{get:(s,a)=>(this.trackProp(a),n==null||n(a),Reflect.get(s,a))})}trackProp(t){de(this,Eu).add(t)}getCurrentQuery(){return de(this,Xt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=de(this,us).defaultQueryOptions(t),s=de(this,us).getQueryCache().build(de(this,us),n);return s.fetch().then(()=>this.createResult(s,n))}fetch(t){return Rt(this,ur,Ih).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),de(this,Gn)))}createResult(t,n){var O;const s=de(this,Xt),a=this.options,i=de(this,Gn),o=de(this,Oc),l=de(this,Pu),u=t!==s?t.state:de(this,jp),{state:h}=t;let m={...h},p=!1,g;if(n._optimisticResults){const M=this.hasListeners(),z=!M&&j4(t,n),F=M&&b4(t,s,n,a);(z||F)&&(m={...m,...f$(h.data,t.options)}),n._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:y,errorUpdatedAt:x,status:v}=m;g=m.data;let j=!1;if(n.placeholderData!==void 0&&g===void 0&&v==="pending"){let M;i!=null&&i.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData)?(M=i.data,j=!0):M=typeof n.placeholderData=="function"?n.placeholderData((O=de(this,ku))==null?void 0:O.state.data,de(this,ku)):n.placeholderData,M!==void 0&&(v="success",g=NN(i==null?void 0:i.data,M,n),p=!0)}if(n.select&&g!==void 0&&!j)if(i&&g===(o==null?void 0:o.data)&&n.select===de(this,bp))g=de(this,Au);else try{et(this,bp,n.select),g=n.select(g),g=NN(i==null?void 0:i.data,g,n),et(this,Au,g),et(this,il,null)}catch(M){et(this,il,M)}de(this,il)&&(y=de(this,il),g=de(this,Au),x=Date.now(),v="error");const b=m.fetchStatus==="fetching",S=v==="pending",C=v==="error",_=S&&b,A=g!==void 0,T={status:v,fetchStatus:m.fetchStatus,isPending:S,isSuccess:v==="success",isError:C,isInitialLoading:_,isLoading:_,data:g,dataUpdatedAt:m.dataUpdatedAt,error:y,errorUpdatedAt:x,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>u.dataUpdateCount||m.errorUpdateCount>u.errorUpdateCount,isFetching:b,isRefetching:b&&!S,isLoadingError:C&&!A,isPaused:m.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:C&&A,isStale:JS(t,n),refetch:this.refetch,promise:de(this,al),isEnabled:aa(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const M=Z=>{T.status==="error"?Z.reject(T.error):T.data!==void 0&&Z.resolve(T.data)},z=()=>{const Z=et(this,al,T.promise=SN());M(Z)},F=de(this,al);switch(F.status){case"pending":t.queryHash===s.queryHash&&M(F);break;case"fulfilled":(T.status==="error"||T.data!==F.value)&&z();break;case"rejected":(T.status!=="error"||T.error!==F.reason)&&z();break}}return T}updateResult(){const t=de(this,Gn),n=this.createResult(de(this,Xt),this.options);if(et(this,Oc,de(this,Xt).state),et(this,Pu,this.options),de(this,Oc).data!==void 0&&et(this,ku,de(this,Xt)),nv(n,t))return;et(this,Gn,n);const s=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,i=typeof a=="function"?a():a;if(i==="all"||!i&&!de(this,Eu).size)return!0;const o=new Set(i??de(this,Eu));return this.options.throwOnError&&o.add("error"),Object.keys(de(this,Gn)).some(l=>{const d=l;return de(this,Gn)[d]!==t[d]&&o.has(d)})};Rt(this,ur,x$).call(this,{listeners:s()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Rt(this,ur,AN).call(this)}},us=new WeakMap,Xt=new WeakMap,jp=new WeakMap,Gn=new WeakMap,Oc=new WeakMap,Pu=new WeakMap,al=new WeakMap,il=new WeakMap,bp=new WeakMap,Au=new WeakMap,ku=new WeakMap,Ic=new WeakMap,Mc=new WeakMap,ol=new WeakMap,Eu=new WeakMap,ur=new WeakSet,Ih=function(t){Rt(this,ur,TN).call(this);let n=de(this,Xt).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(Xn)),n},_N=function(){Rt(this,ur,kN).call(this);const t=_l(this.options.staleTime,de(this,Xt));if(Gc||de(this,Gn).isStale||!bN(t))return;const s=i$(de(this,Gn).dataUpdatedAt,t)+1;et(this,Ic,setTimeout(()=>{de(this,Gn).isStale||this.updateResult()},s))},CN=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(de(this,Xt)):this.options.refetchInterval)??!1},PN=function(t){Rt(this,ur,EN).call(this),et(this,ol,t),!(Gc||aa(this.options.enabled,de(this,Xt))===!1||!bN(de(this,ol))||de(this,ol)===0)&&et(this,Mc,setInterval(()=>{(this.options.refetchIntervalInBackground||XS.isFocused())&&Rt(this,ur,Ih).call(this)},de(this,ol)))},AN=function(){Rt(this,ur,_N).call(this),Rt(this,ur,PN).call(this,Rt(this,ur,CN).call(this))},kN=function(){de(this,Ic)&&(clearTimeout(de(this,Ic)),et(this,Ic,void 0))},EN=function(){de(this,Mc)&&(clearInterval(de(this,Mc)),et(this,Mc,void 0))},TN=function(){const t=de(this,us).getQueryCache().build(de(this,us),this.options);if(t===de(this,Xt))return;const n=de(this,Xt);et(this,Xt,t),et(this,jp,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},x$=function(t){an.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(de(this,Gn))}),de(this,us).getQueryCache().notify({query:de(this,Xt),type:"observerResultsUpdated"})})},_O);function RH(e,t){return aa(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function j4(e,t){return RH(e,t)||e.state.data!==void 0&&ON(e,t,t.refetchOnMount)}function ON(e,t,n){if(aa(t.enabled,e)!==!1&&_l(t.staleTime,e)!=="static"){const s=typeof n=="function"?n(e):n;return s==="always"||s!==!1&&JS(e,t)}return!1}function b4(e,t,n,s){return(e!==t||aa(s.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&JS(e,n)}function JS(e,t){return aa(t.enabled,e)!==!1&&e.isStaleByTime(_l(t.staleTime,e))}function zH(e,t){return!nv(e.getCurrentResult(),t)}var ll,cl,ms,Xi,go,yg,IN,CO,FH=(CO=class extends Cm{constructor(n,s){super();vt(this,go);vt(this,ll);vt(this,cl);vt(this,ms);vt(this,Xi);et(this,ll,n),this.setOptions(s),this.bindMethods(),Rt(this,go,yg).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var a;const s=this.options;this.options=de(this,ll).defaultMutationOptions(n),nv(this.options,s)||de(this,ll).getMutationCache().notify({type:"observerOptionsUpdated",mutation:de(this,ms),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&Zc(s.mutationKey)!==Zc(this.options.mutationKey)?this.reset():((a=de(this,ms))==null?void 0:a.state.status)==="pending"&&de(this,ms).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=de(this,ms))==null||n.removeObserver(this)}onMutationUpdate(n){Rt(this,go,yg).call(this),Rt(this,go,IN).call(this,n)}getCurrentResult(){return de(this,cl)}reset(){var n;(n=de(this,ms))==null||n.removeObserver(this),et(this,ms,void 0),Rt(this,go,yg).call(this),Rt(this,go,IN).call(this)}mutate(n,s){var a;return et(this,Xi,s),(a=de(this,ms))==null||a.removeObserver(this),et(this,ms,de(this,ll).getMutationCache().build(de(this,ll),this.options)),de(this,ms).addObserver(this),de(this,ms).execute(n)}},ll=new WeakMap,cl=new WeakMap,ms=new WeakMap,Xi=new WeakMap,go=new WeakSet,yg=function(){var s;const n=((s=de(this,ms))==null?void 0:s.state)??p$();et(this,cl,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},IN=function(n){an.batch(()=>{var s,a,i,o,l,d,u,h;if(de(this,Xi)&&this.hasListeners()){const m=de(this,cl).variables,p=de(this,cl).context;(n==null?void 0:n.type)==="success"?((a=(s=de(this,Xi)).onSuccess)==null||a.call(s,n.data,m,p),(o=(i=de(this,Xi)).onSettled)==null||o.call(i,n.data,null,m,p)):(n==null?void 0:n.type)==="error"&&((d=(l=de(this,Xi)).onError)==null||d.call(l,n.error,m,p),(h=(u=de(this,Xi)).onSettled)==null||h.call(u,void 0,n.error,m,p))}this.listeners.forEach(m=>{m(de(this,cl))})})},CO),g$=N.createContext(void 0),rr=e=>{const t=N.useContext(g$);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},BH=({client:e,children:t})=>(N.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),r.jsx(g$.Provider,{value:e,children:t})),v$=N.createContext(!1),qH=()=>N.useContext(v$);v$.Provider;function UH(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var VH=N.createContext(UH()),WH=()=>N.useContext(VH),KH=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},HH=e=>{N.useEffect(()=>{e.clearReset()},[e])},GH=({result:e,errorResetBoundary:t,throwOnError:n,query:s,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&s&&(a&&e.data===void 0||c$(n,[e.error,s])),ZH=e=>{if(e.suspense){const t=s=>s==="static"?s:Math.max(s??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...s)=>t(n(...s)):t(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},QH=(e,t)=>e.isLoading&&e.isFetching&&!t,YH=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,w4=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function XH(e,t,n){var m,p,g,y,x;const s=qH(),a=WH(),i=rr(),o=i.defaultQueryOptions(e);(p=(m=i.getDefaultOptions().queries)==null?void 0:m._experimental_beforeQuery)==null||p.call(m,o),o._optimisticResults=s?"isRestoring":"optimistic",ZH(o),KH(o,a),HH(a);const l=!i.getQueryCache().get(o.queryHash),[d]=N.useState(()=>new t(i,o)),u=d.getOptimisticResult(o),h=!s&&e.subscribed!==!1;if(N.useSyncExternalStore(N.useCallback(v=>{const j=h?d.subscribe(an.batchCalls(v)):Xn;return d.updateResult(),j},[d,h]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),N.useEffect(()=>{d.setOptions(o)},[o,d]),YH(o,u))throw w4(o,d,a);if(GH({result:u,errorResetBoundary:a,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((y=(g=i.getDefaultOptions().queries)==null?void 0:g._experimental_afterQuery)==null||y.call(g,o,u),o.experimental_prefetchInRender&&!Gc&&QH(u,s)){const v=l?w4(o,d,a):(x=i.getQueryCache().get(o.queryHash))==null?void 0:x.promise;v==null||v.catch(Xn).finally(()=>{d.updateResult()})}return o.notifyOnChangeProps?u:d.trackResult(u)}function qe(e,t){return XH(e,DH)}function it(e,t){const n=rr(),[s]=N.useState(()=>new FH(n,e));N.useEffect(()=>{s.setOptions(e)},[s,e]);const a=N.useSyncExternalStore(N.useCallback(o=>s.subscribe(an.batchCalls(o)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),i=N.useCallback((o,l)=>{s.mutate(o,l).catch(Xn)},[s]);if(a.error&&c$(s.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cf(){return Cf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Cf.apply(this,arguments)}var ml;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ml||(ml={}));const N4="popstate";function JH(e){e===void 0&&(e={});function t(a,i){let{pathname:o="/",search:l="",hash:d=""}=ld(a.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),MN("",{pathname:o,search:l,hash:d},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(a,i){let o=a.document.querySelector("base"),l="";if(o&&o.getAttribute("href")){let d=a.location.href,u=d.indexOf("#");l=u===-1?d:d.slice(0,u)}return l+"#"+(typeof i=="string"?i:av(i))}function s(a,i){e_(a.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return tG(t,n,s,e)}function Vr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function e_(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function eG(){return Math.random().toString(36).substr(2,8)}function S4(e,t){return{usr:e.state,key:e.key,idx:t}}function MN(e,t,n,s){return n===void 0&&(n=null),Cf({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ld(t):t,{state:n,key:t&&t.key||s||eG()})}function av(e){let{pathname:t="/",search:n="",hash:s=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function ld(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function tG(e,t,n,s){s===void 0&&(s={});let{window:a=document.defaultView,v5Compat:i=!1}=s,o=a.history,l=ml.Pop,d=null,u=h();u==null&&(u=0,o.replaceState(Cf({},o.state,{idx:u}),""));function h(){return(o.state||{idx:null}).idx}function m(){l=ml.Pop;let v=h(),j=v==null?null:v-u;u=v,d&&d({action:l,location:x.location,delta:j})}function p(v,j){l=ml.Push;let b=MN(x.location,v,j);n&&n(b,v),u=h()+1;let S=S4(b,u),C=x.createHref(b);try{o.pushState(S,"",C)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;a.location.assign(C)}i&&d&&d({action:l,location:x.location,delta:1})}function g(v,j){l=ml.Replace;let b=MN(x.location,v,j);n&&n(b,v),u=h();let S=S4(b,u),C=x.createHref(b);o.replaceState(S,"",C),i&&d&&d({action:l,location:x.location,delta:0})}function y(v){let j=a.location.origin!=="null"?a.location.origin:a.location.href,b=typeof v=="string"?v:av(v);return b=b.replace(/ $/,"%20"),Vr(j,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,j)}let x={get action(){return l},get location(){return e(a,o)},listen(v){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(N4,m),d=v,()=>{a.removeEventListener(N4,m),d=null}},createHref(v){return t(a,v)},createURL:y,encodeLocation(v){let j=y(v);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:p,replace:g,go(v){return o.go(v)}};return x}var _4;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(_4||(_4={}));function rG(e,t,n){return n===void 0&&(n="/"),nG(e,t,n,!1)}function nG(e,t,n,s){let a=typeof t=="string"?ld(t):t,i=Bu(a.pathname||"/",n);if(i==null)return null;let o=y$(e);sG(o);let l=null;for(let d=0;l==null&&d<o.length;++d){let u=pG(i);l=hG(o[d],u,s)}return l}function y$(e,t,n,s){t===void 0&&(t=[]),n===void 0&&(n=[]),s===void 0&&(s="");let a=(i,o,l)=>{let d={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};d.relativePath.startsWith("/")&&(Vr(d.relativePath.startsWith(s),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(s.length));let u=Cl([s,d.relativePath]),h=n.concat(d);i.children&&i.children.length>0&&(Vr(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),y$(i.children,t,h,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:uG(u,i.index),routesMeta:h})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let d of j$(i.path))a(i,o,d)}),t}function j$(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,a=n.endsWith("?"),i=n.replace(/\?$/,"");if(s.length===0)return a?[i,""]:[i];let o=j$(s.join("/")),l=[];return l.push(...o.map(d=>d===""?i:[i,d].join("/"))),a&&l.push(...o),l.map(d=>e.startsWith("/")&&d===""?"/":d)}function sG(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:mG(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const aG=/^:[\w-]+$/,iG=3,oG=2,lG=1,cG=10,dG=-2,C4=e=>e==="*";function uG(e,t){let n=e.split("/"),s=n.length;return n.some(C4)&&(s+=dG),t&&(s+=oG),n.filter(a=>!C4(a)).reduce((a,i)=>a+(aG.test(i)?iG:i===""?lG:cG),s)}function mG(e,t){return e.length===t.length&&e.slice(0,-1).every((s,a)=>s===t[a])?e[e.length-1]-t[t.length-1]:0}function hG(e,t,n){let{routesMeta:s}=e,a={},i="/",o=[];for(let l=0;l<s.length;++l){let d=s[l],u=l===s.length-1,h=i==="/"?t:t.slice(i.length)||"/",m=iv({path:d.relativePath,caseSensitive:d.caseSensitive,end:u},h),p=d.route;if(!m&&u&&n&&!s[s.length-1].route.index&&(m=iv({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},h)),!m)return null;Object.assign(a,m.params),o.push({params:a,pathname:Cl([i,m.pathname]),pathnameBase:yG(Cl([i,m.pathnameBase])),route:p}),m.pathnameBase!=="/"&&(i=Cl([i,m.pathnameBase]))}return o}function iv(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=fG(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:s.reduce((u,h,m)=>{let{paramName:p,isOptional:g}=h;if(p==="*"){let x=l[m]||"";o=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const y=l[m];return g&&!y?u[p]=void 0:u[p]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function fG(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),e_(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,d)=>(s.push({paramName:l,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),s]}function pG(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return e_(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Bu(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}function xG(e,t){t===void 0&&(t="/");let{pathname:n,search:s="",hash:a=""}=typeof e=="string"?ld(e):e;return{pathname:n?n.startsWith("/")?n:gG(n,t):t,search:jG(s),hash:bG(a)}}function gG(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function wb(e,t,n,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function vG(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function b$(e,t){let n=vG(e);return t?n.map((s,a)=>a===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function w$(e,t,n,s){s===void 0&&(s=!1);let a;typeof e=="string"?a=ld(e):(a=Cf({},e),Vr(!a.pathname||!a.pathname.includes("?"),wb("?","pathname","search",a)),Vr(!a.pathname||!a.pathname.includes("#"),wb("#","pathname","hash",a)),Vr(!a.search||!a.search.includes("#"),wb("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=n;else{let m=t.length-1;if(!s&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),m-=1;a.pathname=p.join("/")}l=m>=0?t[m]:"/"}let d=xG(a,l),u=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(u||h)&&(d.pathname+="/"),d}const Cl=e=>e.join("/").replace(/\/\/+/g,"/"),yG=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),jG=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,bG=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function wG(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const N$=["post","put","patch","delete"];new Set(N$);const NG=["get",...N$];new Set(NG);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pf(){return Pf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Pf.apply(this,arguments)}const Yy=N.createContext(null),S$=N.createContext(null),ql=N.createContext(null),Xy=N.createContext(null),Ul=N.createContext({outlet:null,matches:[],isDataRoute:!1}),_$=N.createContext(null);function SG(e,t){let{relative:n}=t===void 0?{}:t;Op()||Vr(!1);let{basename:s,navigator:a}=N.useContext(ql),{hash:i,pathname:o,search:l}=Jy(e,{relative:n}),d=o;return s!=="/"&&(d=o==="/"?s:Cl([s,o])),a.createHref({pathname:d,search:l,hash:i})}function Op(){return N.useContext(Xy)!=null}function ba(){return Op()||Vr(!1),N.useContext(Xy).location}function C$(e){N.useContext(ql).static||N.useLayoutEffect(e)}function lr(){let{isDataRoute:e}=N.useContext(Ul);return e?DG():_G()}function _G(){Op()||Vr(!1);let e=N.useContext(Yy),{basename:t,future:n,navigator:s}=N.useContext(ql),{matches:a}=N.useContext(Ul),{pathname:i}=ba(),o=JSON.stringify(b$(a,n.v7_relativeSplatPath)),l=N.useRef(!1);return C$(()=>{l.current=!0}),N.useCallback(function(u,h){if(h===void 0&&(h={}),!l.current)return;if(typeof u=="number"){s.go(u);return}let m=w$(u,JSON.parse(o),i,h.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:Cl([t,m.pathname])),(h.replace?s.replace:s.push)(m,h.state,h)},[t,s,o,i,e])}function Io(){let{matches:e}=N.useContext(Ul),t=e[e.length-1];return t?t.params:{}}function Jy(e,t){let{relative:n}=t===void 0?{}:t,{future:s}=N.useContext(ql),{matches:a}=N.useContext(Ul),{pathname:i}=ba(),o=JSON.stringify(b$(a,s.v7_relativeSplatPath));return N.useMemo(()=>w$(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function CG(e,t){return PG(e,t)}function PG(e,t,n,s){Op()||Vr(!1);let{navigator:a}=N.useContext(ql),{matches:i}=N.useContext(Ul),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let d=o?o.pathnameBase:"/";o&&o.route;let u=ba(),h;if(t){var m;let v=typeof t=="string"?ld(t):t;d==="/"||(m=v.pathname)!=null&&m.startsWith(d)||Vr(!1),h=v}else h=u;let p=h.pathname||"/",g=p;if(d!=="/"){let v=d.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(v.length).join("/")}let y=rG(e,{pathname:g}),x=OG(y&&y.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:Cl([d,a.encodeLocation?a.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?d:Cl([d,a.encodeLocation?a.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,n,s);return t&&x?N.createElement(Xy.Provider,{value:{location:Pf({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:ml.Pop}},x):x}function AG(){let e=$G(),t=wG(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},t),n?N.createElement("pre",{style:a},n):null,null)}const kG=N.createElement(AG,null);class EG extends N.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?N.createElement(Ul.Provider,{value:this.props.routeContext},N.createElement(_$.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function TG(e){let{routeContext:t,match:n,children:s}=e,a=N.useContext(Yy);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),N.createElement(Ul.Provider,{value:t},s)}function OG(e,t,n,s){var a;if(t===void 0&&(t=[]),n===void 0&&(n=null),s===void 0&&(s=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=s)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=(a=n)==null?void 0:a.errors;if(l!=null){let h=o.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);h>=0||Vr(!1),o=o.slice(0,Math.min(o.length,h+1))}let d=!1,u=-1;if(n&&s&&s.v7_partialHydration)for(let h=0;h<o.length;h++){let m=o[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=h),m.route.id){let{loaderData:p,errors:g}=n,y=m.route.loader&&p[m.route.id]===void 0&&(!g||g[m.route.id]===void 0);if(m.route.lazy||y){d=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((h,m,p)=>{let g,y=!1,x=null,v=null;n&&(g=l&&m.route.id?l[m.route.id]:void 0,x=m.route.errorElement||kG,d&&(u<0&&p===0?(y=!0,v=null):u===p&&(y=!0,v=m.route.hydrateFallbackElement||null)));let j=t.concat(o.slice(0,p+1)),b=()=>{let S;return g?S=x:y?S=v:m.route.Component?S=N.createElement(m.route.Component,null):m.route.element?S=m.route.element:S=h,N.createElement(TG,{match:m,routeContext:{outlet:h,matches:j,isDataRoute:n!=null},children:S})};return n&&(m.route.ErrorBoundary||m.route.errorElement||p===0)?N.createElement(EG,{location:n.location,revalidation:n.revalidation,component:x,error:g,children:b(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):b()},null)}var P$=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(P$||{}),ov=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ov||{});function IG(e){let t=N.useContext(Yy);return t||Vr(!1),t}function MG(e){let t=N.useContext(S$);return t||Vr(!1),t}function LG(e){let t=N.useContext(Ul);return t||Vr(!1),t}function A$(e){let t=LG(),n=t.matches[t.matches.length-1];return n.route.id||Vr(!1),n.route.id}function $G(){var e;let t=N.useContext(_$),n=MG(ov.UseRouteError),s=A$(ov.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[s]}function DG(){let{router:e}=IG(P$.UseNavigateStable),t=A$(ov.UseNavigateStable),n=N.useRef(!1);return C$(()=>{n.current=!0}),N.useCallback(function(a,i){i===void 0&&(i={}),n.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Pf({fromRouteId:t},i)))},[e,t])}function RG(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Bt(e){Vr(!1)}function zG(e){let{basename:t="/",children:n=null,location:s,navigationType:a=ml.Pop,navigator:i,static:o=!1,future:l}=e;Op()&&Vr(!1);let d=t.replace(/^\/*/,"/"),u=N.useMemo(()=>({basename:d,navigator:i,static:o,future:Pf({v7_relativeSplatPath:!1},l)}),[d,l,i,o]);typeof s=="string"&&(s=ld(s));let{pathname:h="/",search:m="",hash:p="",state:g=null,key:y="default"}=s,x=N.useMemo(()=>{let v=Bu(h,d);return v==null?null:{location:{pathname:v,search:m,hash:p,state:g,key:y},navigationType:a}},[d,h,m,p,g,y,a]);return x==null?null:N.createElement(ql.Provider,{value:u},N.createElement(Xy.Provider,{children:n,value:x}))}function FG(e){let{children:t,location:n}=e;return CG(LN(t),n)}new Promise(()=>{});function LN(e,t){t===void 0&&(t=[]);let n=[];return N.Children.forEach(e,(s,a)=>{if(!N.isValidElement(s))return;let i=[...t,a];if(s.type===N.Fragment){n.push.apply(n,LN(s.props.children,i));return}s.type!==Bt&&Vr(!1),!s.props.index||!s.props.children||Vr(!1);let o={id:s.props.id||i.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=LN(s.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lv(){return lv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},lv.apply(this,arguments)}function k$(e,t){if(e==null)return{};var n={},s=Object.keys(e),a,i;for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function BG(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function qG(e,t){return e.button===0&&(!t||t==="_self")&&!BG(e)}function $N(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let s=e[n];return t.concat(Array.isArray(s)?s.map(a=>[n,a]):[[n,s]])},[]))}function UG(e,t){let n=$N(e);return t&&t.forEach((s,a)=>{n.has(a)||t.getAll(a).forEach(i=>{n.append(a,i)})}),n}const VG=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],WG=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],KG="6";try{window.__reactRouterVersion=KG}catch{}const HG=N.createContext({isTransitioning:!1}),GG="startTransition",P4=$2[GG];function ZG(e){let{basename:t,children:n,future:s,window:a}=e,i=N.useRef();i.current==null&&(i.current=JH({window:a,v5Compat:!0}));let o=i.current,[l,d]=N.useState({action:o.action,location:o.location}),{v7_startTransition:u}=s||{},h=N.useCallback(m=>{u&&P4?P4(()=>d(m)):d(m)},[d,u]);return N.useLayoutEffect(()=>o.listen(h),[o,h]),N.useEffect(()=>RG(s),[s]),N.createElement(zG,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:s})}const QG=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",YG=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,XG=N.forwardRef(function(t,n){let{onClick:s,relative:a,reloadDocument:i,replace:o,state:l,target:d,to:u,preventScrollReset:h,viewTransition:m}=t,p=k$(t,VG),{basename:g}=N.useContext(ql),y,x=!1;if(typeof u=="string"&&YG.test(u)&&(y=u,QG))try{let S=new URL(window.location.href),C=u.startsWith("//")?new URL(S.protocol+u):new URL(u),_=Bu(C.pathname,g);C.origin===S.origin&&_!=null?u=_+C.search+C.hash:x=!0}catch{}let v=SG(u,{relative:a}),j=tZ(u,{replace:o,state:l,target:d,preventScrollReset:h,relative:a,viewTransition:m});function b(S){s&&s(S),S.defaultPrevented||j(S)}return N.createElement("a",lv({},p,{href:y||v,onClick:x||i?s:b,ref:n,target:d}))}),JG=N.forwardRef(function(t,n){let{"aria-current":s="page",caseSensitive:a=!1,className:i="",end:o=!1,style:l,to:d,viewTransition:u,children:h}=t,m=k$(t,WG),p=Jy(d,{relative:m.relative}),g=ba(),y=N.useContext(S$),{navigator:x,basename:v}=N.useContext(ql),j=y!=null&&rZ(p)&&u===!0,b=x.encodeLocation?x.encodeLocation(p).pathname:p.pathname,S=g.pathname,C=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;a||(S=S.toLowerCase(),C=C?C.toLowerCase():null,b=b.toLowerCase()),C&&v&&(C=Bu(C,v)||C);const _=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let A=S===b||!o&&S.startsWith(b)&&S.charAt(_)==="/",k=C!=null&&(C===b||!o&&C.startsWith(b)&&C.charAt(b.length)==="/"),T={isActive:A,isPending:k,isTransitioning:j},O=A?s:void 0,M;typeof i=="function"?M=i(T):M=[i,A?"active":null,k?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let z=typeof l=="function"?l(T):l;return N.createElement(XG,lv({},m,{"aria-current":O,className:M,ref:n,style:z,to:d,viewTransition:u}),typeof h=="function"?h(T):h)});var DN;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(DN||(DN={}));var A4;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(A4||(A4={}));function eZ(e){let t=N.useContext(Yy);return t||Vr(!1),t}function tZ(e,t){let{target:n,replace:s,state:a,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,d=lr(),u=ba(),h=Jy(e,{relative:o});return N.useCallback(m=>{if(qG(m,n)){m.preventDefault();let p=s!==void 0?s:av(u)===av(h);d(e,{replace:p,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[u,d,h,s,a,n,e,i,o,l])}function e0(e){let t=N.useRef($N(e)),n=N.useRef(!1),s=ba(),a=N.useMemo(()=>UG(s.search,n.current?null:t.current),[s.search]),i=lr(),o=N.useCallback((l,d)=>{const u=$N(typeof l=="function"?l(a):l);n.current=!0,i("?"+u,d)},[i,a]);return[a,o]}function rZ(e,t){t===void 0&&(t={});let n=N.useContext(HG);n==null&&Vr(!1);let{basename:s}=eZ(DN.useViewTransitionState),a=Jy(e,{relative:t.relative});if(!n.isTransitioning)return!1;let i=Bu(n.currentLocation.pathname,s)||n.currentLocation.pathname,o=Bu(n.nextLocation.pathname,s)||n.nextLocation.pathname;return iv(a.pathname,o)!=null||iv(a.pathname,i)!=null}const E$=N.createContext(void 0),cd=()=>{const e=N.useContext(E$);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e},Nb={mode:"light",colorTheme:"blue",fontTheme:"inter"},nZ=({children:e})=>{const[t,n]=N.useState(()=>{if(typeof window<"u"){try{const p=localStorage.getItem("asala-theme-settings");if(p){const g=JSON.parse(p);return{...Nb,...g}}}catch(p){console.error("Error parsing theme settings from localStorage:",p)}const u=localStorage.getItem("asala-theme"),h=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";return{...Nb,mode:u==="light"||u==="dark"?u:h}}return Nb});N.useEffect(()=>{const u=window.document.documentElement;u.classList.remove("light","dark"),u.classList.add(t.mode),u.classList.remove("theme-blue","theme-purple","theme-green","theme-orange","theme-red","theme-pink","theme-cyan","theme-indigo","theme-emerald","theme-amber","theme-rose","theme-slate","theme-neutral","theme-stone"),u.classList.add(`theme-${t.colorTheme}`),u.classList.remove("font-inter","font-roboto","font-poppins","font-system","font-nunito","font-source-sans","font-work-sans","font-dosis","font-outfit","font-space-grotesk","font-amiri","font-cairo","font-tajawal","font-almarai","font-noto-sans-arabic","font-scheherazade","font-markazi-text","font-reem-kufi","font-changa","font-ibm-plex-sans-arabic"),u.classList.add(`font-${t.fontTheme}`),localStorage.setItem("asala-theme-settings",JSON.stringify(t)),localStorage.setItem("asala-theme",t.mode)},[t]);const s=u=>{n(h=>({...h,mode:u}))},a=u=>{n(h=>({...h,colorTheme:u}))},i=u=>{n(h=>({...h,fontTheme:u}))},o=u=>{n(h=>({...h,...u}))},l=()=>{s(t.mode==="light"?"dark":"light")},d={theme:t.mode,colorTheme:t.colorTheme,fontTheme:t.fontTheme,themeSettings:t,setTheme:s,setColorTheme:a,setFontTheme:i,updateThemeSettings:o,toggleTheme:l};return r.jsx(E$.Provider,{value:d,children:e})},T$=N.createContext(void 0),rt=()=>{const e=N.useContext(T$);if(e===void 0)throw new Error("useDirection must be used within a DirectionProvider");return e},sZ=({children:e})=>{const[t,n]=N.useState(()=>{if(typeof window<"u"){const a=localStorage.getItem("asala-direction");if(a==="ltr"||a==="rtl")return a}return"ltr"});N.useEffect(()=>{window.document.documentElement.setAttribute("dir",t),localStorage.setItem("asala-direction",t)},[t]);const s={direction:t,setDirection:n,isRTL:t==="rtl"};return r.jsx(T$.Provider,{value:s,children:e})},O$=N.createContext(void 0),I$=()=>{const e=N.useContext(O$);if(e===void 0)throw new Error("useLoading must be used within a LoadingProvider");return e},aZ=({children:e})=>{const[t,n]=N.useState(!1),[s,a]=N.useState(0),i=N.useCallback(()=>{n(!0),a(0);const u=setInterval(()=>{a(h=>h>=90?(clearInterval(u),90):h+Math.random()*15+5)},100)},[]),o=N.useCallback(()=>{a(100),setTimeout(()=>{n(!1),a(0)},200)},[]),l=N.useCallback(u=>{a(Math.min(u,100))},[]),d={isLoading:t,progress:s,startLoading:i,setProgress:l,finishLoading:o};return r.jsx(O$.Provider,{value:d,children:e})},iZ=()=>{const e=ba(),{startLoading:t,finishLoading:n}=I$(),s=N.useRef(e.pathname),a=N.useRef();return N.useEffect(()=>{if(s.current!==e.pathname){a.current&&clearTimeout(a.current),t();const i=oZ(e.pathname);a.current=setTimeout(()=>{n()},i),s.current=e.pathname}return()=>{a.current&&clearTimeout(a.current)}},[e.pathname,t,n]),null},oZ=e=>{const t={"/":800,"/analytics":1200,"/products":1e3,"/orders":1e3,"/customers":900,"/providers":900,"/settings":600,"/languages":500,"/categories":700};return e.includes("/products/")?1100:e.includes("/providers/")?1e3:e.includes("/posts/")?900:t[e]||800},lZ=[{title:"Dashboard",titleAr:"لوحة التحكم",href:"/",icon:mV},{title:"Orders",titleAr:"الطلبات",href:"/orders",icon:Wy},{title:"Products",titleAr:"المنتجات",href:"/products",icon:Dr},{title:"Posts",titleAr:"المنشورات",href:"/posts",icon:yc},{title:"Customers",titleAr:"العملاء",href:"/customers",icon:Gr},{title:"Providers",titleAr:"مقدمو الخدمات",href:"/providers",icon:ss},{title:"Analytics",titleAr:"التحليلات",href:"/analytics",icon:du},{title:"Statistics",titleAr:"الإحصائيات",href:"/statistics",icon:xg},{title:"Languages",titleAr:"اللغات",href:"/languages",icon:$e},{title:"Categories",titleAr:"الفئات",href:"/categories",icon:fN},{title:"Product Categories",titleAr:"فئات المنتجات",href:"/product-categories",icon:Vy},{title:"Messages",titleAr:"الرسائل",href:"/messages",icon:to},{title:"Post Types",titleAr:"أنواع المنشورات",href:"/post-types",icon:xi},{title:"Regions",titleAr:"المناطق",href:"/regions",icon:zt},{title:"Locations",titleAr:"المواقع",href:"/locations",icon:gg},{title:"Map Selector",titleAr:"محدد المواقع",href:"/map-selector",icon:vL},{title:"Employees",titleAr:"الموظفين",href:"/employees",icon:jV},{title:"Roles",titleAr:"الأدوار",href:"/roles",icon:Rs},{title:"Currencies",titleAr:"العملات",href:"/currencies",icon:Ji},{title:"Permissions",titleAr:"الصلاحيات",href:"/permissions",icon:eo},{title:"Settings",titleAr:"الإعدادات",href:"/settings",icon:MS}],cZ=({isCollapsed:e,onToggle:t})=>{const n=ba(),{isRTL:s}=rt();return r.jsxs("aside",{className:Le("fixed inset-y-0 z-50 flex flex-col bg-sidebar border-r border-sidebar-border transition-all duration-300 ease-in-out",s?"right-0":"left-0",e?"w-16":"w-64"),children:[r.jsx("div",{className:"flex items-center justify-between p-4 border-b border-sidebar-border",children:r.jsxs("div",{className:Le("flex items-center gap-3",e&&"justify-center"),children:[r.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-lg gradient-primary",children:r.jsx(ss,{className:"w-5 h-5 text-primary-foreground"})}),!e&&r.jsxs("div",{children:[r.jsx("h1",{className:"text-lg font-bold text-sidebar-foreground",children:"Asala"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Admin Dashboard"})]})]})}),r.jsx("nav",{className:"flex-1 overflow-y-auto overflow-x-hidden",children:r.jsx("div",{className:"p-4 space-y-2",children:lZ.map(a=>{n.pathname,a.href;const i=a.icon;return r.jsxs(JG,{to:a.href,className:({isActive:o})=>Le("flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-smooth hover-lift","hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",o?"bg-sidebar-primary text-sidebar-primary-foreground shadow-md":"text-sidebar-foreground",e&&"justify-center px-2"),children:[r.jsx(i,{className:"h-5 w-5 flex-shrink-0"}),!e&&r.jsx("span",{children:s?a.titleAr:a.title})]},a.href)})})}),r.jsx("div",{className:"p-4 border-t border-sidebar-border",children:r.jsxs("div",{className:Le("flex items-center gap-3",e&&"justify-center"),children:[r.jsx("div",{className:"w-8 h-8 bg-gradient-primary rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-xs font-medium text-primary-foreground",children:"A"})}),!e&&r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-medium text-sidebar-foreground truncate",children:"Admin User"}),r.jsx("p",{className:"text-xs text-muted-foreground truncate",children:"admin@asala.com"})]})]})})]})},t_=kp("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),B=N.forwardRef(({className:e,variant:t,size:n,asChild:s=!1,...a},i)=>{const o=s?qM:"button";return r.jsx(o,{className:Le(t_({variant:t,size:n,className:e})),ref:i,...a})});B.displayName="Button";const Oe=N.forwardRef(({className:e,type:t,...n},s)=>r.jsx("input",{type:t,className:Le("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...n}));Oe.displayName="Input";var dZ=N.createContext(void 0);function t0(e){const t=N.useContext(dZ);return e||t||"ltr"}var Sb=0;function r_(){N.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??k4()),document.body.insertAdjacentElement("beforeend",e[1]??k4()),Sb++,()=>{Sb===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Sb--}},[])}function k4(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var _b="focusScope.autoFocusOnMount",Cb="focusScope.autoFocusOnUnmount",E4={bubbles:!1,cancelable:!0},uZ="FocusScope",r0=N.forwardRef((e,t)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,d]=N.useState(null),u=Ss(a),h=Ss(i),m=N.useRef(null),p=Zt(t,x=>d(x)),g=N.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;N.useEffect(()=>{if(s){let x=function(S){if(g.paused||!l)return;const C=S.target;l.contains(C)?m.current=C:Ko(m.current,{select:!0})},v=function(S){if(g.paused||!l)return;const C=S.relatedTarget;C!==null&&(l.contains(C)||Ko(m.current,{select:!0}))},j=function(S){if(document.activeElement===document.body)for(const _ of S)_.removedNodes.length>0&&Ko(l)};document.addEventListener("focusin",x),document.addEventListener("focusout",v);const b=new MutationObserver(j);return l&&b.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",v),b.disconnect()}}},[s,l,g.paused]),N.useEffect(()=>{if(l){O4.add(g);const x=document.activeElement;if(!l.contains(x)){const j=new CustomEvent(_b,E4);l.addEventListener(_b,u),l.dispatchEvent(j),j.defaultPrevented||(mZ(gZ(M$(l)),{select:!0}),document.activeElement===x&&Ko(l))}return()=>{l.removeEventListener(_b,u),setTimeout(()=>{const j=new CustomEvent(Cb,E4);l.addEventListener(Cb,h),l.dispatchEvent(j),j.defaultPrevented||Ko(x??document.body,{select:!0}),l.removeEventListener(Cb,h),O4.remove(g)},0)}}},[l,u,h,g]);const y=N.useCallback(x=>{if(!n&&!s||g.paused)return;const v=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,j=document.activeElement;if(v&&j){const b=x.currentTarget,[S,C]=hZ(b);S&&C?!x.shiftKey&&j===C?(x.preventDefault(),n&&Ko(S,{select:!0})):x.shiftKey&&j===S&&(x.preventDefault(),n&&Ko(C,{select:!0})):j===b&&x.preventDefault()}},[n,s,g.paused]);return r.jsx(gt.div,{tabIndex:-1,...o,ref:p,onKeyDown:y})});r0.displayName=uZ;function mZ(e,{select:t=!1}={}){const n=document.activeElement;for(const s of e)if(Ko(s,{select:t}),document.activeElement!==n)return}function hZ(e){const t=M$(e),n=T4(t,e),s=T4(t.reverse(),e);return[n,s]}function M$(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function T4(e,t){for(const n of e)if(!fZ(n,{upTo:t}))return n}function fZ(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function pZ(e){return e instanceof HTMLInputElement&&"select"in e}function Ko(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&pZ(e)&&t&&e.select()}}var O4=xZ();function xZ(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=I4(e,t),e.unshift(t)},remove(t){var n;e=I4(e,t),(n=e[0])==null||n.resume()}}}function I4(e,t){const n=[...e],s=n.indexOf(t);return s!==-1&&n.splice(s,1),n}function gZ(e){return e.filter(t=>t.tagName!=="A")}var Pb="rovingFocusGroup.onEntryFocus",vZ={bubbles:!1,cancelable:!0},Ip="RovingFocusGroup",[RN,L$,yZ]=By(Ip),[jZ,n0]=_s(Ip,[yZ]),[bZ,wZ]=jZ(Ip),$$=N.forwardRef((e,t)=>r.jsx(RN.Provider,{scope:e.__scopeRovingFocusGroup,children:r.jsx(RN.Slot,{scope:e.__scopeRovingFocusGroup,children:r.jsx(NZ,{...e,ref:t})})}));$$.displayName=Ip;var NZ=N.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:s,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:d,onEntryFocus:u,preventScrollOnEntryFocus:h=!1,...m}=e,p=N.useRef(null),g=Zt(t,p),y=t0(i),[x,v]=wo({prop:o,defaultProp:l??null,onChange:d,caller:Ip}),[j,b]=N.useState(!1),S=Ss(u),C=L$(n),_=N.useRef(!1),[A,k]=N.useState(0);return N.useEffect(()=>{const T=p.current;if(T)return T.addEventListener(Pb,S),()=>T.removeEventListener(Pb,S)},[S]),r.jsx(bZ,{scope:n,orientation:s,dir:y,loop:a,currentTabStopId:x,onItemFocus:N.useCallback(T=>v(T),[v]),onItemShiftTab:N.useCallback(()=>b(!0),[]),onFocusableItemAdd:N.useCallback(()=>k(T=>T+1),[]),onFocusableItemRemove:N.useCallback(()=>k(T=>T-1),[]),children:r.jsx(gt.div,{tabIndex:j||A===0?-1:0,"data-orientation":s,...m,ref:g,style:{outline:"none",...e.style},onMouseDown:Ge(e.onMouseDown,()=>{_.current=!0}),onFocus:Ge(e.onFocus,T=>{const O=!_.current;if(T.target===T.currentTarget&&O&&!j){const M=new CustomEvent(Pb,vZ);if(T.currentTarget.dispatchEvent(M),!M.defaultPrevented){const z=C().filter(E=>E.focusable),F=z.find(E=>E.active),Z=z.find(E=>E.id===x),$=[F,Z,...z].filter(Boolean).map(E=>E.ref.current);z$($,h)}}_.current=!1}),onBlur:Ge(e.onBlur,()=>b(!1))})})}),D$="RovingFocusGroupItem",R$=N.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:s=!0,active:a=!1,tabStopId:i,children:o,...l}=e,d=Si(),u=i||d,h=wZ(D$,n),m=h.currentTabStopId===u,p=L$(n),{onFocusableItemAdd:g,onFocusableItemRemove:y,currentTabStopId:x}=h;return N.useEffect(()=>{if(s)return g(),()=>y()},[s,g,y]),r.jsx(RN.ItemSlot,{scope:n,id:u,focusable:s,active:a,children:r.jsx(gt.span,{tabIndex:m?0:-1,"data-orientation":h.orientation,...l,ref:t,onMouseDown:Ge(e.onMouseDown,v=>{s?h.onItemFocus(u):v.preventDefault()}),onFocus:Ge(e.onFocus,()=>h.onItemFocus(u)),onKeyDown:Ge(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){h.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const j=CZ(v,h.orientation,h.dir);if(j!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let S=p().filter(C=>C.focusable).map(C=>C.ref.current);if(j==="last")S.reverse();else if(j==="prev"||j==="next"){j==="prev"&&S.reverse();const C=S.indexOf(v.currentTarget);S=h.loop?PZ(S,C+1):S.slice(C+1)}setTimeout(()=>z$(S))}}),children:typeof o=="function"?o({isCurrentTabStop:m,hasTabStop:x!=null}):o})})});R$.displayName=D$;var SZ={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function _Z(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function CZ(e,t,n){const s=_Z(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return SZ[s]}function z$(e,t=!1){const n=document.activeElement;for(const s of e)if(s===n||(s.focus({preventScroll:t}),document.activeElement!==n))return}function PZ(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var F$=$$,B$=R$,AZ=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ed=new WeakMap,Dx=new WeakMap,Rx={},Ab=0,q$=function(e){return e&&(e.host||q$(e.parentNode))},kZ=function(e,t){return t.map(function(n){if(e.contains(n))return n;var s=q$(n);return s&&e.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},EZ=function(e,t,n,s){var a=kZ(t,Array.isArray(e)?e:[e]);Rx[n]||(Rx[n]=new WeakMap);var i=Rx[n],o=[],l=new Set,d=new Set(a),u=function(m){!m||l.has(m)||(l.add(m),u(m.parentNode))};a.forEach(u);var h=function(m){!m||d.has(m)||Array.prototype.forEach.call(m.children,function(p){if(l.has(p))h(p);else try{var g=p.getAttribute(s),y=g!==null&&g!=="false",x=(Ed.get(p)||0)+1,v=(i.get(p)||0)+1;Ed.set(p,x),i.set(p,v),o.push(p),x===1&&y&&Dx.set(p,!0),v===1&&p.setAttribute(n,"true"),y||p.setAttribute(s,"true")}catch(j){console.error("aria-hidden: cannot operate on ",p,j)}})};return h(t),l.clear(),Ab++,function(){o.forEach(function(m){var p=Ed.get(m)-1,g=i.get(m)-1;Ed.set(m,p),i.set(m,g),p||(Dx.has(m)||m.removeAttribute(s),Dx.delete(m)),g||m.removeAttribute(n)}),Ab--,Ab||(Ed=new WeakMap,Ed=new WeakMap,Dx=new WeakMap,Rx={})}},n_=function(e,t,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),a=AZ(e);return a?(s.push.apply(s,Array.from(a.querySelectorAll("[aria-live]"))),EZ(s,a,n,"aria-hidden")):function(){return null}},gi=function(){return gi=Object.assign||function(t){for(var n,s=1,a=arguments.length;s<a;s++){n=arguments[s];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},gi.apply(this,arguments)};function U$(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(n[s[a]]=e[s[a]]);return n}function TZ(e,t,n){if(n||arguments.length===2)for(var s=0,a=t.length,i;s<a;s++)(i||!(s in t))&&(i||(i=Array.prototype.slice.call(t,0,s)),i[s]=t[s]);return e.concat(i||Array.prototype.slice.call(t))}var jg="right-scroll-bar-position",bg="width-before-scroll-bar",OZ="with-scroll-bars-hidden",IZ="--removed-body-scroll-bar-size";function kb(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function MZ(e,t){var n=N.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(s){var a=n.value;a!==s&&(n.value=s,n.callback(s,a))}}}})[0];return n.callback=t,n.facade}var LZ=typeof window<"u"?N.useLayoutEffect:N.useEffect,M4=new WeakMap;function $Z(e,t){var n=MZ(null,function(s){return e.forEach(function(a){return kb(a,s)})});return LZ(function(){var s=M4.get(n);if(s){var a=new Set(s),i=new Set(e),o=n.current;a.forEach(function(l){i.has(l)||kb(l,null)}),i.forEach(function(l){a.has(l)||kb(l,o)})}M4.set(n,e)},[e]),n}function DZ(e){return e}function RZ(e,t){t===void 0&&(t=DZ);var n=[],s=!1,a={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var o=t(i,s);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(s=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){s=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(i),o=n}var d=function(){var h=o;o=[],h.forEach(i)},u=function(){return Promise.resolve().then(d)};u(),n={push:function(h){o.push(h),u()},filter:function(h){return o=o.filter(h),n}}}};return a}function zZ(e){e===void 0&&(e={});var t=RZ(null);return t.options=gi({async:!0,ssr:!1},e),t}var V$=function(e){var t=e.sideCar,n=U$(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return N.createElement(s,gi({},n))};V$.isSideCarExport=!0;function FZ(e,t){return e.useMedium(t),V$}var W$=zZ(),Eb=function(){},s0=N.forwardRef(function(e,t){var n=N.useRef(null),s=N.useState({onScrollCapture:Eb,onWheelCapture:Eb,onTouchMoveCapture:Eb}),a=s[0],i=s[1],o=e.forwardProps,l=e.children,d=e.className,u=e.removeScrollBar,h=e.enabled,m=e.shards,p=e.sideCar,g=e.noRelative,y=e.noIsolation,x=e.inert,v=e.allowPinchZoom,j=e.as,b=j===void 0?"div":j,S=e.gapMode,C=U$(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=p,A=$Z([n,t]),k=gi(gi({},C),a);return N.createElement(N.Fragment,null,h&&N.createElement(_,{sideCar:W$,removeScrollBar:u,shards:m,noRelative:g,noIsolation:y,inert:x,setCallbacks:i,allowPinchZoom:!!v,lockRef:n,gapMode:S}),o?N.cloneElement(N.Children.only(l),gi(gi({},k),{ref:A})):N.createElement(b,gi({},k,{className:d,ref:A}),l))});s0.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};s0.classNames={fullWidth:bg,zeroRight:jg};var BZ=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function qZ(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=BZ();return t&&e.setAttribute("nonce",t),e}function UZ(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function VZ(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var WZ=function(){var e=0,t=null;return{add:function(n){e==0&&(t=qZ())&&(UZ(t,n),VZ(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},KZ=function(){var e=WZ();return function(t,n){N.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},K$=function(){var e=KZ(),t=function(n){var s=n.styles,a=n.dynamic;return e(s,a),null};return t},HZ={left:0,top:0,right:0,gap:0},Tb=function(e){return parseInt(e||"",10)||0},GZ=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[Tb(n),Tb(s),Tb(a)]},ZZ=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return HZ;var t=GZ(e),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-n+t[2]-t[0])}},QZ=K$(),hu="data-scroll-locked",YZ=function(e,t,n,s){var a=e.left,i=e.top,o=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(OZ,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(l,"px ").concat(s,`;
  }
  body[`).concat(hu,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(jg,` {
    right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(bg,` {
    margin-right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(jg," .").concat(jg,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(bg," .").concat(bg,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(hu,`] {
    `).concat(IZ,": ").concat(l,`px;
  }
`)},L4=function(){var e=parseInt(document.body.getAttribute(hu)||"0",10);return isFinite(e)?e:0},XZ=function(){N.useEffect(function(){return document.body.setAttribute(hu,(L4()+1).toString()),function(){var e=L4()-1;e<=0?document.body.removeAttribute(hu):document.body.setAttribute(hu,e.toString())}},[])},JZ=function(e){var t=e.noRelative,n=e.noImportant,s=e.gapMode,a=s===void 0?"margin":s;XZ();var i=N.useMemo(function(){return ZZ(a)},[a]);return N.createElement(QZ,{styles:YZ(i,!t,a,n?"":"!important")})},zN=!1;if(typeof window<"u")try{var zx=Object.defineProperty({},"passive",{get:function(){return zN=!0,!0}});window.addEventListener("test",zx,zx),window.removeEventListener("test",zx,zx)}catch{zN=!1}var Td=zN?{passive:!1}:!1,eQ=function(e){return e.tagName==="TEXTAREA"},H$=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!eQ(e)&&n[t]==="visible")},tQ=function(e){return H$(e,"overflowY")},rQ=function(e){return H$(e,"overflowX")},$4=function(e,t){var n=t.ownerDocument,s=t;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var a=G$(e,s);if(a){var i=Z$(e,s),o=i[1],l=i[2];if(o>l)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},nQ=function(e){var t=e.scrollTop,n=e.scrollHeight,s=e.clientHeight;return[t,n,s]},sQ=function(e){var t=e.scrollLeft,n=e.scrollWidth,s=e.clientWidth;return[t,n,s]},G$=function(e,t){return e==="v"?tQ(t):rQ(t)},Z$=function(e,t){return e==="v"?nQ(t):sQ(t)},aQ=function(e,t){return e==="h"&&t==="rtl"?-1:1},iQ=function(e,t,n,s,a){var i=aQ(e,window.getComputedStyle(t).direction),o=i*s,l=n.target,d=t.contains(l),u=!1,h=o>0,m=0,p=0;do{if(!l)break;var g=Z$(e,l),y=g[0],x=g[1],v=g[2],j=x-v-i*y;(y||j)&&G$(e,l)&&(m+=j,p+=y);var b=l.parentNode;l=b&&b.nodeType===Node.DOCUMENT_FRAGMENT_NODE?b.host:b}while(!d&&l!==document.body||d&&(t.contains(l)||t===l));return(h&&(Math.abs(m)<1||!a)||!h&&(Math.abs(p)<1||!a))&&(u=!0),u},Fx=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},D4=function(e){return[e.deltaX,e.deltaY]},R4=function(e){return e&&"current"in e?e.current:e},oQ=function(e,t){return e[0]===t[0]&&e[1]===t[1]},lQ=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},cQ=0,Od=[];function dQ(e){var t=N.useRef([]),n=N.useRef([0,0]),s=N.useRef(),a=N.useState(cQ++)[0],i=N.useState(K$)[0],o=N.useRef(e);N.useEffect(function(){o.current=e},[e]),N.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var x=TZ([e.lockRef.current],(e.shards||[]).map(R4),!0).filter(Boolean);return x.forEach(function(v){return v.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),x.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=N.useCallback(function(x,v){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!o.current.allowPinchZoom;var j=Fx(x),b=n.current,S="deltaX"in x?x.deltaX:b[0]-j[0],C="deltaY"in x?x.deltaY:b[1]-j[1],_,A=x.target,k=Math.abs(S)>Math.abs(C)?"h":"v";if("touches"in x&&k==="h"&&A.type==="range")return!1;var T=$4(k,A);if(!T)return!0;if(T?_=k:(_=k==="v"?"h":"v",T=$4(k,A)),!T)return!1;if(!s.current&&"changedTouches"in x&&(S||C)&&(s.current=_),!_)return!0;var O=s.current||_;return iQ(O,v,x,O==="h"?S:C,!0)},[]),d=N.useCallback(function(x){var v=x;if(!(!Od.length||Od[Od.length-1]!==i)){var j="deltaY"in v?D4(v):Fx(v),b=t.current.filter(function(_){return _.name===v.type&&(_.target===v.target||v.target===_.shadowParent)&&oQ(_.delta,j)})[0];if(b&&b.should){v.cancelable&&v.preventDefault();return}if(!b){var S=(o.current.shards||[]).map(R4).filter(Boolean).filter(function(_){return _.contains(v.target)}),C=S.length>0?l(v,S[0]):!o.current.noIsolation;C&&v.cancelable&&v.preventDefault()}}},[]),u=N.useCallback(function(x,v,j,b){var S={name:x,delta:v,target:j,should:b,shadowParent:uQ(j)};t.current.push(S),setTimeout(function(){t.current=t.current.filter(function(C){return C!==S})},1)},[]),h=N.useCallback(function(x){n.current=Fx(x),s.current=void 0},[]),m=N.useCallback(function(x){u(x.type,D4(x),x.target,l(x,e.lockRef.current))},[]),p=N.useCallback(function(x){u(x.type,Fx(x),x.target,l(x,e.lockRef.current))},[]);N.useEffect(function(){return Od.push(i),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:p}),document.addEventListener("wheel",d,Td),document.addEventListener("touchmove",d,Td),document.addEventListener("touchstart",h,Td),function(){Od=Od.filter(function(x){return x!==i}),document.removeEventListener("wheel",d,Td),document.removeEventListener("touchmove",d,Td),document.removeEventListener("touchstart",h,Td)}},[]);var g=e.removeScrollBar,y=e.inert;return N.createElement(N.Fragment,null,y?N.createElement(i,{styles:lQ(a)}):null,g?N.createElement(JZ,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function uQ(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const mQ=FZ(W$,dQ);var a0=N.forwardRef(function(e,t){return N.createElement(s0,gi({},e,{ref:t,sideCar:mQ}))});a0.classNames=s0.classNames;var FN=["Enter"," "],hQ=["ArrowDown","PageUp","Home"],Q$=["ArrowUp","PageDown","End"],fQ=[...hQ,...Q$],pQ={ltr:[...FN,"ArrowRight"],rtl:[...FN,"ArrowLeft"]},xQ={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Mp="Menu",[Af,gQ,vQ]=By(Mp),[dd,Y$]=_s(Mp,[vQ,_m,n0]),i0=_m(),X$=n0(),[yQ,ud]=dd(Mp),[jQ,Lp]=dd(Mp),J$=e=>{const{__scopeMenu:t,open:n=!1,children:s,dir:a,onOpenChange:i,modal:o=!0}=e,l=i0(t),[d,u]=N.useState(null),h=N.useRef(!1),m=Ss(i),p=t0(a);return N.useEffect(()=>{const g=()=>{h.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>h.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),r.jsx(YL,{...l,children:r.jsx(yQ,{scope:t,open:n,onOpenChange:m,content:d,onContentChange:u,children:r.jsx(jQ,{scope:t,onClose:N.useCallback(()=>m(!1),[m]),isUsingKeyboardRef:h,dir:p,modal:o,children:s})})})};J$.displayName=Mp;var bQ="MenuAnchor",s_=N.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e,a=i0(n);return r.jsx(KS,{...a,...s,ref:t})});s_.displayName=bQ;var a_="MenuPortal",[wQ,e5]=dd(a_,{forceMount:void 0}),t5=e=>{const{__scopeMenu:t,forceMount:n,children:s,container:a}=e,i=ud(a_,t);return r.jsx(wQ,{scope:t,forceMount:n,children:r.jsx(ja,{present:n||i.open,children:r.jsx(Pp,{asChild:!0,container:a,children:s})})})};t5.displayName=a_;var fa="MenuContent",[NQ,i_]=dd(fa),r5=N.forwardRef((e,t)=>{const n=e5(fa,e.__scopeMenu),{forceMount:s=n.forceMount,...a}=e,i=ud(fa,e.__scopeMenu),o=Lp(fa,e.__scopeMenu);return r.jsx(Af.Provider,{scope:e.__scopeMenu,children:r.jsx(ja,{present:s||i.open,children:r.jsx(Af.Slot,{scope:e.__scopeMenu,children:o.modal?r.jsx(SQ,{...a,ref:t}):r.jsx(_Q,{...a,ref:t})})})})}),SQ=N.forwardRef((e,t)=>{const n=ud(fa,e.__scopeMenu),s=N.useRef(null),a=Zt(t,s);return N.useEffect(()=>{const i=s.current;if(i)return n_(i)},[]),r.jsx(o_,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Ge(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),_Q=N.forwardRef((e,t)=>{const n=ud(fa,e.__scopeMenu);return r.jsx(o_,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),CQ=Wc("MenuContent.ScrollLock"),o_=N.forwardRef((e,t)=>{const{__scopeMenu:n,loop:s=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:d,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:m,onInteractOutside:p,onDismiss:g,disableOutsideScroll:y,...x}=e,v=ud(fa,n),j=Lp(fa,n),b=i0(n),S=X$(n),C=gQ(n),[_,A]=N.useState(null),k=N.useRef(null),T=Zt(t,k,v.onContentChange),O=N.useRef(0),M=N.useRef(""),z=N.useRef(0),F=N.useRef(null),Z=N.useRef("right"),D=N.useRef(0),$=y?a0:N.Fragment,E=y?{as:CQ,allowPinchZoom:!0}:void 0,V=U=>{var Se,We;const Q=M.current+U,he=C().filter(Ae=>!Ae.disabled),ue=document.activeElement,ce=(Se=he.find(Ae=>Ae.ref.current===ue))==null?void 0:Se.textValue,G=he.map(Ae=>Ae.textValue),J=RQ(G,Q,ce),ye=(We=he.find(Ae=>Ae.textValue===J))==null?void 0:We.ref.current;(function Ae(ze){M.current=ze,window.clearTimeout(O.current),ze!==""&&(O.current=window.setTimeout(()=>Ae(""),1e3))})(Q),ye&&setTimeout(()=>ye.focus())};N.useEffect(()=>()=>window.clearTimeout(O.current),[]),r_();const q=N.useCallback(U=>{var he,ue;return Z.current===((he=F.current)==null?void 0:he.side)&&FQ(U,(ue=F.current)==null?void 0:ue.area)},[]);return r.jsx(NQ,{scope:n,searchRef:M,onItemEnter:N.useCallback(U=>{q(U)&&U.preventDefault()},[q]),onItemLeave:N.useCallback(U=>{var Q;q(U)||((Q=k.current)==null||Q.focus(),A(null))},[q]),onTriggerLeave:N.useCallback(U=>{q(U)&&U.preventDefault()},[q]),pointerGraceTimerRef:z,onPointerGraceIntentChange:N.useCallback(U=>{F.current=U},[]),children:r.jsx($,{...E,children:r.jsx(r0,{asChild:!0,trapped:a,onMountAutoFocus:Ge(i,U=>{var Q;U.preventDefault(),(Q=k.current)==null||Q.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:r.jsx(bm,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:m,onInteractOutside:p,onDismiss:g,children:r.jsx(F$,{asChild:!0,...S,dir:j.dir,orientation:"vertical",loop:s,currentTabStopId:_,onCurrentTabStopIdChange:A,onEntryFocus:Ge(d,U=>{j.isUsingKeyboardRef.current||U.preventDefault()}),preventScrollOnEntryFocus:!0,children:r.jsx(HS,{role:"menu","aria-orientation":"vertical","data-state":v5(v.open),"data-radix-menu-content":"",dir:j.dir,...b,...x,ref:T,style:{outline:"none",...x.style},onKeyDown:Ge(x.onKeyDown,U=>{const he=U.target.closest("[data-radix-menu-content]")===U.currentTarget,ue=U.ctrlKey||U.altKey||U.metaKey,ce=U.key.length===1;he&&(U.key==="Tab"&&U.preventDefault(),!ue&&ce&&V(U.key));const G=k.current;if(U.target!==G||!fQ.includes(U.key))return;U.preventDefault();const ye=C().filter(Se=>!Se.disabled).map(Se=>Se.ref.current);Q$.includes(U.key)&&ye.reverse(),$Q(ye)}),onBlur:Ge(e.onBlur,U=>{U.currentTarget.contains(U.target)||(window.clearTimeout(O.current),M.current="")}),onPointerMove:Ge(e.onPointerMove,kf(U=>{const Q=U.target,he=D.current!==U.clientX;if(U.currentTarget.contains(Q)&&he){const ue=U.clientX>D.current?"right":"left";Z.current=ue,D.current=U.clientX}}))})})})})})})});r5.displayName=fa;var PQ="MenuGroup",l_=N.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return r.jsx(gt.div,{role:"group",...s,ref:t})});l_.displayName=PQ;var AQ="MenuLabel",n5=N.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return r.jsx(gt.div,{...s,ref:t})});n5.displayName=AQ;var cv="MenuItem",z4="menu.itemSelect",o0=N.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:s,...a}=e,i=N.useRef(null),o=Lp(cv,e.__scopeMenu),l=i_(cv,e.__scopeMenu),d=Zt(t,i),u=N.useRef(!1),h=()=>{const m=i.current;if(!n&&m){const p=new CustomEvent(z4,{bubbles:!0,cancelable:!0});m.addEventListener(z4,g=>s==null?void 0:s(g),{once:!0}),PS(m,p),p.defaultPrevented?u.current=!1:o.onClose()}};return r.jsx(s5,{...a,ref:d,disabled:n,onClick:Ge(e.onClick,h),onPointerDown:m=>{var p;(p=e.onPointerDown)==null||p.call(e,m),u.current=!0},onPointerUp:Ge(e.onPointerUp,m=>{var p;u.current||(p=m.currentTarget)==null||p.click()}),onKeyDown:Ge(e.onKeyDown,m=>{const p=l.searchRef.current!=="";n||p&&m.key===" "||FN.includes(m.key)&&(m.currentTarget.click(),m.preventDefault())})})});o0.displayName=cv;var s5=N.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:s=!1,textValue:a,...i}=e,o=i_(cv,n),l=X$(n),d=N.useRef(null),u=Zt(t,d),[h,m]=N.useState(!1),[p,g]=N.useState("");return N.useEffect(()=>{const y=d.current;y&&g((y.textContent??"").trim())},[i.children]),r.jsx(Af.ItemSlot,{scope:n,disabled:s,textValue:a??p,children:r.jsx(B$,{asChild:!0,...l,focusable:!s,children:r.jsx(gt.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...i,ref:u,onPointerMove:Ge(e.onPointerMove,kf(y=>{s?o.onItemLeave(y):(o.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ge(e.onPointerLeave,kf(y=>o.onItemLeave(y))),onFocus:Ge(e.onFocus,()=>m(!0)),onBlur:Ge(e.onBlur,()=>m(!1))})})})}),kQ="MenuCheckboxItem",a5=N.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:s,...a}=e;return r.jsx(d5,{scope:e.__scopeMenu,checked:n,children:r.jsx(o0,{role:"menuitemcheckbox","aria-checked":dv(n)?"mixed":n,...a,ref:t,"data-state":d_(n),onSelect:Ge(a.onSelect,()=>s==null?void 0:s(dv(n)?!0:!n),{checkForDefaultPrevented:!1})})})});a5.displayName=kQ;var i5="MenuRadioGroup",[EQ,TQ]=dd(i5,{value:void 0,onValueChange:()=>{}}),o5=N.forwardRef((e,t)=>{const{value:n,onValueChange:s,...a}=e,i=Ss(s);return r.jsx(EQ,{scope:e.__scopeMenu,value:n,onValueChange:i,children:r.jsx(l_,{...a,ref:t})})});o5.displayName=i5;var l5="MenuRadioItem",c5=N.forwardRef((e,t)=>{const{value:n,...s}=e,a=TQ(l5,e.__scopeMenu),i=n===a.value;return r.jsx(d5,{scope:e.__scopeMenu,checked:i,children:r.jsx(o0,{role:"menuitemradio","aria-checked":i,...s,ref:t,"data-state":d_(i),onSelect:Ge(s.onSelect,()=>{var o;return(o=a.onValueChange)==null?void 0:o.call(a,n)},{checkForDefaultPrevented:!1})})})});c5.displayName=l5;var c_="MenuItemIndicator",[d5,OQ]=dd(c_,{checked:!1}),u5=N.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:s,...a}=e,i=OQ(c_,n);return r.jsx(ja,{present:s||dv(i.checked)||i.checked===!0,children:r.jsx(gt.span,{...a,ref:t,"data-state":d_(i.checked)})})});u5.displayName=c_;var IQ="MenuSeparator",m5=N.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return r.jsx(gt.div,{role:"separator","aria-orientation":"horizontal",...s,ref:t})});m5.displayName=IQ;var MQ="MenuArrow",h5=N.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e,a=i0(n);return r.jsx(GS,{...a,...s,ref:t})});h5.displayName=MQ;var LQ="MenuSub",[GAe,f5]=dd(LQ),Mh="MenuSubTrigger",p5=N.forwardRef((e,t)=>{const n=ud(Mh,e.__scopeMenu),s=Lp(Mh,e.__scopeMenu),a=f5(Mh,e.__scopeMenu),i=i_(Mh,e.__scopeMenu),o=N.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:d}=i,u={__scopeMenu:e.__scopeMenu},h=N.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return N.useEffect(()=>h,[h]),N.useEffect(()=>{const m=l.current;return()=>{window.clearTimeout(m),d(null)}},[l,d]),r.jsx(s_,{asChild:!0,...u,children:r.jsx(s5,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":a.contentId,"data-state":v5(n.open),...e,ref:Fy(t,a.onTriggerChange),onClick:m=>{var p;(p=e.onClick)==null||p.call(e,m),!(e.disabled||m.defaultPrevented)&&(m.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Ge(e.onPointerMove,kf(m=>{i.onItemEnter(m),!m.defaultPrevented&&!e.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),h()},100))})),onPointerLeave:Ge(e.onPointerLeave,kf(m=>{var g,y;h();const p=(g=n.content)==null?void 0:g.getBoundingClientRect();if(p){const x=(y=n.content)==null?void 0:y.dataset.side,v=x==="right",j=v?-5:5,b=p[v?"left":"right"],S=p[v?"right":"left"];i.onPointerGraceIntentChange({area:[{x:m.clientX+j,y:m.clientY},{x:b,y:p.top},{x:S,y:p.top},{x:S,y:p.bottom},{x:b,y:p.bottom}],side:x}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(m),m.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:Ge(e.onKeyDown,m=>{var g;const p=i.searchRef.current!=="";e.disabled||p&&m.key===" "||pQ[s.dir].includes(m.key)&&(n.onOpenChange(!0),(g=n.content)==null||g.focus(),m.preventDefault())})})})});p5.displayName=Mh;var x5="MenuSubContent",g5=N.forwardRef((e,t)=>{const n=e5(fa,e.__scopeMenu),{forceMount:s=n.forceMount,...a}=e,i=ud(fa,e.__scopeMenu),o=Lp(fa,e.__scopeMenu),l=f5(x5,e.__scopeMenu),d=N.useRef(null),u=Zt(t,d);return r.jsx(Af.Provider,{scope:e.__scopeMenu,children:r.jsx(ja,{present:s||i.open,children:r.jsx(Af.Slot,{scope:e.__scopeMenu,children:r.jsx(o_,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{var m;o.isUsingKeyboardRef.current&&((m=d.current)==null||m.focus()),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:Ge(e.onFocusOutside,h=>{h.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:Ge(e.onEscapeKeyDown,h=>{o.onClose(),h.preventDefault()}),onKeyDown:Ge(e.onKeyDown,h=>{var g;const m=h.currentTarget.contains(h.target),p=xQ[o.dir].includes(h.key);m&&p&&(i.onOpenChange(!1),(g=l.trigger)==null||g.focus(),h.preventDefault())})})})})})});g5.displayName=x5;function v5(e){return e?"open":"closed"}function dv(e){return e==="indeterminate"}function d_(e){return dv(e)?"indeterminate":e?"checked":"unchecked"}function $Q(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function DQ(e,t){return e.map((n,s)=>e[(t+s)%e.length])}function RQ(e,t,n){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let o=DQ(e,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==n));const d=o.find(u=>u.toLowerCase().startsWith(a.toLowerCase()));return d!==n?d:void 0}function zQ(e,t){const{x:n,y:s}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],d=t[o],u=l.x,h=l.y,m=d.x,p=d.y;h>s!=p>s&&n<(m-u)*(s-h)/(p-h)+u&&(a=!a)}return a}function FQ(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return zQ(n,t)}function kf(e){return t=>t.pointerType==="mouse"?e(t):void 0}var BQ=J$,qQ=s_,UQ=t5,VQ=r5,WQ=l_,KQ=n5,HQ=o0,GQ=a5,ZQ=o5,QQ=c5,YQ=u5,XQ=m5,JQ=h5,eY=p5,tY=g5,l0="DropdownMenu",[rY,ZAe]=_s(l0,[Y$]),ls=Y$(),[nY,y5]=rY(l0),j5=e=>{const{__scopeDropdownMenu:t,children:n,dir:s,open:a,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,d=ls(t),u=N.useRef(null),[h,m]=wo({prop:a,defaultProp:i??!1,onChange:o,caller:l0});return r.jsx(nY,{scope:t,triggerId:Si(),triggerRef:u,contentId:Si(),open:h,onOpenChange:m,onOpenToggle:N.useCallback(()=>m(p=>!p),[m]),modal:l,children:r.jsx(BQ,{...d,open:h,onOpenChange:m,dir:s,modal:l,children:n})})};j5.displayName=l0;var b5="DropdownMenuTrigger",w5=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:s=!1,...a}=e,i=y5(b5,n),o=ls(n);return r.jsx(qQ,{asChild:!0,...o,children:r.jsx(gt.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...a,ref:Fy(t,i.triggerRef),onPointerDown:Ge(e.onPointerDown,l=>{!s&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:Ge(e.onKeyDown,l=>{s||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});w5.displayName=b5;var sY="DropdownMenuPortal",N5=e=>{const{__scopeDropdownMenu:t,...n}=e,s=ls(t);return r.jsx(UQ,{...s,...n})};N5.displayName=sY;var S5="DropdownMenuContent",_5=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=y5(S5,n),i=ls(n),o=N.useRef(!1);return r.jsx(VQ,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...s,ref:t,onCloseAutoFocus:Ge(e.onCloseAutoFocus,l=>{var d;o.current||(d=a.triggerRef.current)==null||d.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:Ge(e.onInteractOutside,l=>{const d=l.detail.originalEvent,u=d.button===0&&d.ctrlKey===!0,h=d.button===2||u;(!a.modal||h)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});_5.displayName=S5;var aY="DropdownMenuGroup",iY=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=ls(n);return r.jsx(WQ,{...a,...s,ref:t})});iY.displayName=aY;var oY="DropdownMenuLabel",C5=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=ls(n);return r.jsx(KQ,{...a,...s,ref:t})});C5.displayName=oY;var lY="DropdownMenuItem",P5=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=ls(n);return r.jsx(HQ,{...a,...s,ref:t})});P5.displayName=lY;var cY="DropdownMenuCheckboxItem",A5=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=ls(n);return r.jsx(GQ,{...a,...s,ref:t})});A5.displayName=cY;var dY="DropdownMenuRadioGroup",uY=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=ls(n);return r.jsx(ZQ,{...a,...s,ref:t})});uY.displayName=dY;var mY="DropdownMenuRadioItem",k5=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=ls(n);return r.jsx(QQ,{...a,...s,ref:t})});k5.displayName=mY;var hY="DropdownMenuItemIndicator",E5=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=ls(n);return r.jsx(YQ,{...a,...s,ref:t})});E5.displayName=hY;var fY="DropdownMenuSeparator",T5=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=ls(n);return r.jsx(XQ,{...a,...s,ref:t})});T5.displayName=fY;var pY="DropdownMenuArrow",xY=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=ls(n);return r.jsx(JQ,{...a,...s,ref:t})});xY.displayName=pY;var gY="DropdownMenuSubTrigger",O5=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=ls(n);return r.jsx(eY,{...a,...s,ref:t})});O5.displayName=gY;var vY="DropdownMenuSubContent",I5=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=ls(n);return r.jsx(tY,{...a,...s,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});I5.displayName=vY;var yY=j5,jY=w5,bY=N5,M5=_5,L5=C5,$5=P5,D5=A5,R5=k5,z5=E5,F5=T5,B5=O5,q5=I5;const Ut=yY,Vt=jY,wY=N.forwardRef(({className:e,inset:t,children:n,...s},a)=>r.jsxs(B5,{ref:a,className:Le("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...s,children:[n,r.jsx(Nt,{className:"ml-auto h-4 w-4"})]}));wY.displayName=B5.displayName;const NY=N.forwardRef(({className:e,...t},n)=>r.jsx(q5,{ref:n,className:Le("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));NY.displayName=q5.displayName;const Ft=N.forwardRef(({className:e,sideOffset:t=4,...n},s)=>r.jsx(bY,{children:r.jsx(M5,{ref:s,sideOffset:t,className:Le("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));Ft.displayName=M5.displayName;const ke=N.forwardRef(({className:e,inset:t,...n},s)=>r.jsx($5,{ref:s,className:Le("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));ke.displayName=$5.displayName;const SY=N.forwardRef(({className:e,children:t,checked:n,...s},a)=>r.jsxs(D5,{ref:a,className:Le("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...s,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(z5,{children:r.jsx(TS,{className:"h-4 w-4"})})}),t]}));SY.displayName=D5.displayName;const _Y=N.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(R5,{ref:s,className:Le("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(z5,{children:r.jsx(lV,{className:"h-2 w-2 fill-current"})})}),t]}));_Y.displayName=R5.displayName;const BN=N.forwardRef(({className:e,inset:t,...n},s)=>r.jsx(L5,{ref:s,className:Le("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));BN.displayName=L5.displayName;const wg=N.forwardRef(({className:e,...t},n)=>r.jsx(F5,{ref:n,className:Le("-mx-1 my-1 h-px bg-muted",e),...t}));wg.displayName=F5.displayName;const CY=kp("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Me({className:e,variant:t,...n}){return r.jsx("div",{className:Le(CY({variant:t}),e),...n})}const PY=({suggestions:e,isVisible:t,onSelect:n,onClose:s,searchQuery:a,selectedIndex:i,onHighlight:o})=>{const l=lr(),{isRTL:d}=rt();if(!t||e.length===0)return null;const u=m=>{n(m),l(m.href),s()},h=(m,p)=>{if(!p.trim())return m;const g=new RegExp(`(${p})`,"gi");return m.split(g).map((x,v)=>g.test(x)?r.jsx("span",{className:"bg-primary/20 text-primary font-medium",children:x},v):x)};return r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"fixed inset-0 z-40",onClick:s}),r.jsxs("div",{className:Le("absolute top-full mt-2 w-96 bg-background border border-border rounded-lg shadow-lg z-50 max-h-80 overflow-hidden","animate-in fade-in-0 zoom-in-95 slide-in-from-top-2 duration-200",d?"right-0":"left-0"),children:[r.jsxs("div",{className:"p-2",children:[r.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 text-sm text-muted-foreground border-b border-border mb-2",children:[r.jsx(Qr,{className:"h-4 w-4"}),r.jsx("span",{children:d?`${e.length} نتائج للبحث "${a}"`:`${e.length} results for "${a}"`})]}),r.jsx("div",{className:"space-y-1",children:e.map((m,p)=>{const g=d?m.titleAr:m.title,y=d?m.descriptionAr:m.description,x=d?At:Nt;return r.jsx("button",{onClick:()=>u(m),onMouseEnter:()=>o(p),className:Le("w-full text-left p-3 rounded-lg transition-colors duration-150 group focus:outline-none",i===p?"bg-accent text-accent-foreground":"hover:bg-accent hover:text-accent-foreground"),children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"font-medium text-sm mb-1",children:h(g,a)}),r.jsx("div",{className:"text-xs text-muted-foreground overflow-hidden max-h-8 leading-4",children:h(y,a)})]}),r.jsx(x,{className:Le("h-4 w-4 transition-colors flex-shrink-0 ml-2",i===p?"text-accent-foreground":"text-muted-foreground group-hover:text-accent-foreground")})]})},m.id)})})]}),e.length===5&&r.jsx("div",{className:"px-3 py-2 text-xs text-muted-foreground text-center border-t border-border bg-muted/50",children:d?"اكتب للحصول على مزيد من النتائج":"Type more to see additional results"})]})]})},AY=[{id:"dashboard",title:"Dashboard",titleAr:"لوحة التحكم",description:"Overview of your business with key metrics and statistics",descriptionAr:"نظرة عامة على عملك مع المقاييس والإحصائيات الرئيسية",href:"/",keywords:["home","overview","stats","metrics","summary","main"],keywordsAr:["الرئيسية","نظرة عامة","إحصائيات","مقاييس","ملخص","رئيسي"]},{id:"orders",title:"Orders",titleAr:"الطلبات",description:"Manage customer orders, track status and handle fulfillment",descriptionAr:"إدارة طلبات العملاء وتتبع الحالة ومعالجة التسليم",href:"/orders",keywords:["orders","purchases","transactions","sales","customers","buy"],keywordsAr:["طلبات","مشتريات","معاملات","مبيعات","عملاء","شراء"]},{id:"products",title:"Products",titleAr:"المنتجات",description:"Manage your product catalog, inventory and pricing",descriptionAr:"إدارة كتالوج المنتجات والمخزون والتسعير",href:"/products",keywords:["products","items","catalog","inventory","stock","goods"],keywordsAr:["منتجات","عناصر","كتالوج","مخزون","بضائع","سلع"]},{id:"customers",title:"Customers",titleAr:"العملاء",description:"View and manage your customer database and profiles",descriptionAr:"عرض وإدارة قاعدة بيانات العملاء والملفات الشخصية",href:"/customers",keywords:["customers","users","clients","buyers","accounts","profiles"],keywordsAr:["عملاء","مستخدمين","زبائن","مشترين","حسابات","ملفات شخصية"]},{id:"analytics",title:"Analytics",titleAr:"التحليلات",description:"Business insights, reports and performance analytics",descriptionAr:"رؤى الأعمال والتقارير وتحليلات الأداء",href:"/analytics",keywords:["analytics","reports","insights","data","performance","charts"],keywordsAr:["تحليلات","تقارير","رؤى","بيانات","أداء","مخططات"]},{id:"languages",title:"Languages",titleAr:"اللغات",description:"Manage supported languages and localization settings",descriptionAr:"إدارة اللغات المدعومة وإعدادات الترجمة",href:"/languages",keywords:["languages","localization","translation","multilingual","locale"],keywordsAr:["لغات","ترجمة","توطين","متعدد اللغات","محلي"]},{id:"categories",title:"Categories",titleAr:"الفئات",description:"Organize and manage your main business categories",descriptionAr:"تنظيم وإدارة فئات الأعمال الرئيسية",href:"/categories",keywords:["categories","groups","classification","organization","structure"],keywordsAr:["فئات","مجموعات","تصنيف","تنظيم","هيكل"]},{id:"categories-tree",title:"Categories Tree",titleAr:"شجرة الفئات",description:"View categories in hierarchical tree structure",descriptionAr:"عرض الفئات في هيكل شجري هرمي",href:"/categories/tree",keywords:["categories tree","hierarchy","tree view","nested categories","structure"],keywordsAr:["شجرة الفئات","هرمية","عرض شجري","فئات متداخلة","هيكل"]},{id:"product-categories",title:"Product Categories",titleAr:"فئات المنتجات",description:"Manage product categories and classification structure",descriptionAr:"إدارة فئات المنتجات وهيكل التصنيف",href:"/product-categories",keywords:["product categories","product groups","product classification","product organization"],keywordsAr:["فئات المنتجات","مجموعات المنتجات","تصنيف المنتجات","تنظيم المنتجات"]},{id:"product-categories-tree",title:"Product Categories Tree",titleAr:"شجرة فئات المنتجات",description:"View product categories in hierarchical tree structure",descriptionAr:"عرض فئات المنتجات في هيكل شجري هرمي",href:"/product-categories/tree",keywords:["product categories tree","product hierarchy","product tree view","nested product categories"],keywordsAr:["شجرة فئات المنتجات","هرمية المنتجات","عرض شجري للمنتجات","فئات منتجات متداخلة"]},{id:"messages",title:"Messages",titleAr:"الرسائل",description:"Manage system messages and communication templates",descriptionAr:"إدارة رسائل النظام وقوالب التواصل",href:"/messages",keywords:["messages","communication","notifications","templates","content"],keywordsAr:["رسائل","تواصل","إشعارات","قوالب","محتوى"]},{id:"post-types",title:"Post Types",titleAr:"أنواع المنشورات",description:"Manage post types and content classification system",descriptionAr:"إدارة أنواع المنشورات ونظام تصنيف المحتوى",href:"/post-types",keywords:["post types","posts","content","types","classification","categories"],keywordsAr:["أنواع المنشورات","منشورات","محتوى","أنواع","تصنيف","فئات"]},{id:"regions",title:"Regions",titleAr:"المناطق",description:"Manage geographical regions and their multilingual translations",descriptionAr:"إدارة المناطق الجغرافية وترجماتها متعددة اللغات",href:"/regions",keywords:["regions","locations","geography","areas","territories","places","localization","hierarchy"],keywordsAr:["مناطق","منطقة","مواقع","جغرافيا","مناطق","أقاليم","أماكن","توطين","هرمية"]},{id:"employees",title:"Employees",titleAr:"الموظفين",description:"Manage employee data, accounts and user profiles",descriptionAr:"إدارة بيانات الموظفين والحسابات والملفات الشخصية",href:"/employees",keywords:["employees","staff","workers","team","personnel","accounts","users","profiles"],keywordsAr:["موظفين","موظف","طاقم","عمال","فريق","كادر","حسابات","مستخدمين","ملفات شخصية"]},{id:"roles",title:"Roles",titleAr:"الأدوار",description:"Manage user roles and permissions system",descriptionAr:"إدارة أدوار المستخدمين ونظام الصلاحيات",href:"/roles",keywords:["roles","permissions","access","authorization","security","users"],keywordsAr:["أدوار","صلاحيات","وصول","تخويل","أمان","مستخدمين"]},{id:"currencies",title:"Currencies",titleAr:"العملات",description:"Manage currencies and their translations for multilingual support",descriptionAr:"إدارة العملات وترجماتها لدعم متعدد اللغات",href:"/currencies",keywords:["currencies","money","exchange","currency code","currency symbol","financial","localization"],keywordsAr:["عملات","عملة","أموال","صرف","رمز العملة","رمز عملة","مالي","توطين"]},{id:"permissions",title:"Permissions",titleAr:"الصلاحيات",description:"Manage user permissions and access control system",descriptionAr:"إدارة صلاحيات المستخدمين ونظام التحكم في الوصول",href:"/permissions",keywords:["permissions","access","authorization","security","rights","privileges","control"],keywordsAr:["صلاحيات","وصول","تخويل","أمان","حقوق","امتيازات","تحكم"]},{id:"settings",title:"Settings",titleAr:"الإعدادات",description:"Configure system settings and preferences",descriptionAr:"تكوين إعدادات النظام والتفضيلات",href:"/settings",keywords:["settings","configuration","preferences","options","setup"],keywordsAr:["إعدادات","تكوين","تفضيلات","خيارات","إعداد"]}];function kY(e,t=!1){if(!e.trim())return[];const n=e.toLowerCase().trim(),s=[];return AY.forEach(a=>{let i=0;const o=t?a.titleAr:a.title,l=t?a.descriptionAr:a.description,d=t?a.keywordsAr||[]:a.keywords||[];o.toLowerCase().includes(n)&&(i+=10,o.toLowerCase().startsWith(n)&&(i+=5)),l.toLowerCase().includes(n)&&(i+=3),d.forEach(u=>{u.toLowerCase().includes(n)&&(i+=2)}),i>0&&s.push({item:a,score:i})}),s.sort((a,i)=>i.score-a.score).slice(0,5).map(a=>a.item)}const EY=({onSidebarToggle:e,sidebarCollapsed:t})=>{const{theme:n,toggleTheme:s}=cd(),{direction:a,setDirection:i,isRTL:o}=rt(),l=lr(),[d,u]=N.useState(""),[h,m]=N.useState([]),[p,g]=N.useState(!1),[y,x]=N.useState(-1),v=N.useRef(null),j=N.useRef(null),b=N.useRef(""),S=N.useRef(null),C=O=>{const M=O.target.value;if(u(M),x(-1),M.trim().length>0){const z=kY(M,o);m(z),g(!0)}else m([]),g(!1)},_=O=>{l(O.href),u(""),g(!1),m([]),x(-1),v.current&&v.current.blur()},A=()=>{d.trim().length>0&&h.length>0&&(g(!0),x(-1))},k=O=>{x(O)};N.useEffect(()=>{const O=M=>{j.current&&!j.current.contains(M.target)&&(g(!1),x(-1))};return document.addEventListener("mousedown",O),()=>{document.removeEventListener("mousedown",O)}},[]),N.useEffect(()=>{const O=M=>{const z=document.activeElement;if(z&&(z.tagName==="INPUT"||z.tagName==="TEXTAREA"||z.getAttribute("contenteditable")==="true"||z.getAttribute("role")==="textbox")||M.ctrlKey||M.altKey||M.metaKey||M.shiftKey)return;const Z=M.key.toLowerCase();Z.length===1&&(b.current+=Z,b.current.length>3&&(b.current=b.current.slice(-3)),(b.current==="\\"||b.current==="\\")&&(M.preventDefault(),b.current="",v.current&&(v.current.focus(),v.current.select())),S.current&&clearTimeout(S.current),S.current=setTimeout(()=>{b.current=""},2e3))};return document.addEventListener("keydown",O),()=>{document.removeEventListener("keydown",O),S.current&&clearTimeout(S.current)}},[]);const T=O=>{if(!p||h.length===0){O.key==="Escape"&&(g(!1),v.current&&v.current.blur());return}switch(O.key){case"ArrowDown":O.preventDefault(),x(M=>M<h.length-1?M+1:0);break;case"ArrowUp":O.preventDefault(),x(M=>M>0?M-1:h.length-1);break;case"Enter":if(O.preventDefault(),y>=0&&y<h.length){const M=h[y];_(M)}break;case"Escape":O.preventDefault(),g(!1),x(-1),v.current&&v.current.blur();break}};return r.jsx("header",{className:Le("fixed top-0 z-40 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 border-b border-border transition-all duration-300",t?o?"right-16 left-0":"left-16 right-0":o?"right-64 left-0":"left-64 right-0"),children:r.jsxs("div",{className:"flex h-16 items-center justify-between px-4",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(B,{variant:"ghost",size:"sm",onClick:e,className:"h-8 w-8 p-0 hover:bg-accent",children:r.jsx(fV,{className:"h-4 w-4"})}),r.jsxs("div",{ref:j,className:"relative w-96 max-w-sm",children:[r.jsx(Qr,{className:Le("absolute top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground pointer-events-none z-10",o?"right-3":"left-3")}),r.jsx(Oe,{ref:v,type:"search",placeholder:o?"البحث في الصفحات... (اكتب \\)":"Search pages... (type \\)",value:d,onChange:C,onFocus:A,onKeyDown:T,className:Le("w-full transition-smooth focus:ring-2 focus:ring-primary/20",o?"pr-10 pl-4":"pl-10 pr-4",p&&"focus:border-primary"),autoComplete:"off"}),r.jsx(PY,{suggestions:h,isVisible:p,onSelect:_,onClose:()=>{g(!1),x(-1)},searchQuery:d,selectedIndex:y,onHighlight:k})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(Ut,{children:[r.jsx(Vt,{asChild:!0,children:r.jsx(B,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:r.jsx($e,{className:"h-4 w-4"})})}),r.jsxs(Ft,{align:"end",children:[r.jsx(BN,{children:"Language / اللغة"}),r.jsx(wg,{}),r.jsx(ke,{onClick:()=>i("ltr"),className:Le(a==="ltr"&&"bg-accent"),children:"English"}),r.jsx(ke,{onClick:()=>i("rtl"),className:Le(a==="rtl"&&"bg-accent"),children:"العربية"})]})]}),r.jsx(B,{variant:"ghost",size:"sm",onClick:s,className:"h-8 w-8 p-0",children:n==="light"?r.jsx(pV,{className:"h-4 w-4"}):r.jsx(gV,{className:"h-4 w-4"})}),r.jsxs("div",{className:"relative",children:[r.jsx(B,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:r.jsx(pg,{className:"h-4 w-4"})}),r.jsx(Me,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 rounded-full p-0 flex items-center justify-center text-xs",children:"3"})]}),r.jsxs(Ut,{children:[r.jsx(Vt,{asChild:!0,children:r.jsx(B,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:r.jsx("div",{className:"h-6 w-6 rounded-full gradient-primary flex items-center justify-center",children:r.jsx(Ai,{className:"h-3 w-3 text-primary-foreground"})})})}),r.jsxs(Ft,{align:"end",className:"w-56",children:[r.jsx(BN,{children:o?"حسابي":"My Account"}),r.jsx(wg,{}),r.jsx(ke,{children:o?"الملف الشخصي":"Profile"}),r.jsx(ke,{children:o?"الإعدادات":"Settings"}),r.jsx(wg,{}),r.jsx(ke,{className:"text-destructive",children:o?"تسجيل خروج":"Logout"})]})]})]})]})})},TY=({className:e})=>{const{isLoading:t,progress:n}=I$();return t?r.jsxs("div",{className:Le("fixed top-0 left-0 right-0 z-[9999]",e),children:[r.jsx("div",{className:"h-1 bg-gradient-to-r from-primary/20 to-primary/10 overflow-hidden loading-bar-container",children:r.jsxs("div",{className:Le("h-full loading-progress relative","bg-gradient-to-r from-primary via-primary-light to-primary","transform-gpu loading-bar-glow"),style:{width:`${n}%`,transformOrigin:"left center"},children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent loading-bar-pulse"}),r.jsx("div",{className:Le("absolute right-0 top-0 bottom-0 w-24","bg-gradient-to-l from-primary-light/80 via-primary/60 to-transparent","blur-sm transform translate-x-2 loading-bar-shimmer")}),r.jsx("div",{className:Le("absolute inset-0 bg-gradient-to-r from-transparent via-white/40 to-transparent","loading-bar-sweep opacity-60")})]})}),r.jsx("div",{className:"h-0.5 bg-gradient-to-r from-transparent via-primary/40 to-transparent opacity-60",children:r.jsx("div",{className:"h-full bg-gradient-to-r from-primary/60 to-primary-light/60 loading-progress blur-[1px] loading-bar-pulse",style:{width:`${Math.min(n+10,100)}%`}})}),r.jsx("div",{className:Le("h-2 bg-gradient-to-b from-primary/5 to-transparent","transition-opacity duration-300"),style:{opacity:n>5?.3:0}})]}):null},lt=({children:e})=>{const[t,n]=N.useState(!1),{isRTL:s}=rt(),a=()=>{n(!t)};return r.jsxs("div",{className:"min-h-screen bg-background",children:[r.jsx(TY,{}),r.jsx(cZ,{isCollapsed:t,onToggle:a}),r.jsx(EY,{onSidebarToggle:a,sidebarCollapsed:t}),r.jsx("main",{className:Le("pt-16 transition-all duration-300 ease-in-out",t?s?"mr-16":"ml-16":s?"mr-64":"ml-64"),children:r.jsx("div",{className:"p-6 page-transition-enter-active",children:e})})]})},Y=N.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:Le("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Y.displayName="Card";const Pe=N.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:Le("flex flex-col space-y-1.5 p-6",e),...t}));Pe.displayName="CardHeader";const Ie=N.forwardRef(({className:e,...t},n)=>r.jsx("h3",{ref:n,className:Le("text-2xl font-semibold leading-none tracking-tight",e),...t}));Ie.displayName="CardTitle";const OY=N.forwardRef(({className:e,...t},n)=>r.jsx("p",{ref:n,className:Le("text-sm text-muted-foreground",e),...t}));OY.displayName="CardDescription";const ee=N.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:Le("p-6 pt-0",e),...t}));ee.displayName="CardContent";const IY=N.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:Le("flex items-center p-6 pt-0",e),...t}));IY.displayName="CardFooter";const MY=({title:e,value:t,change:n,changeType:s,icon:a,gradient:i=!1})=>r.jsx(Y,{className:Le("hover-lift transition-smooth border-0 shadow-elegant",i&&"gradient-primary text-primary-foreground"),children:r.jsx(ee,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:Le("text-sm font-medium",i?"text-primary-foreground/80":"text-muted-foreground"),children:e}),r.jsx("p",{className:Le("text-2xl font-bold mt-2",i?"text-primary-foreground":"text-foreground"),children:t}),r.jsx("p",{className:Le("text-sm mt-2 flex items-center gap-1",i?"text-primary-foreground/80":s==="positive"?"text-success":s==="negative"?"text-destructive":"text-muted-foreground"),children:n})]}),r.jsx("div",{className:Le("w-12 h-12 rounded-xl flex items-center justify-center",i?"bg-white/20 text-primary-foreground":"bg-primary/10 text-primary"),children:r.jsx(a,{className:"w-6 h-6"})})]})})});var u_="Progress",m_=100,[LY,QAe]=_s(u_),[$Y,DY]=LY(u_),U5=N.forwardRef((e,t)=>{const{__scopeProgress:n,value:s=null,max:a,getValueLabel:i=RY,...o}=e;(a||a===0)&&!F4(a)&&console.error(zY(`${a}`,"Progress"));const l=F4(a)?a:m_;s!==null&&!B4(s,l)&&console.error(FY(`${s}`,"Progress"));const d=B4(s,l)?s:null,u=uv(d)?i(d,l):void 0;return r.jsx($Y,{scope:n,value:d,max:l,children:r.jsx(gt.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":uv(d)?d:void 0,"aria-valuetext":u,role:"progressbar","data-state":K5(d,l),"data-value":d??void 0,"data-max":l,...o,ref:t})})});U5.displayName=u_;var V5="ProgressIndicator",W5=N.forwardRef((e,t)=>{const{__scopeProgress:n,...s}=e,a=DY(V5,n);return r.jsx(gt.div,{"data-state":K5(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...s,ref:t})});W5.displayName=V5;function RY(e,t){return`${Math.round(e/t*100)}%`}function K5(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function uv(e){return typeof e=="number"}function F4(e){return uv(e)&&!isNaN(e)&&e>0}function B4(e,t){return uv(e)&&!isNaN(e)&&e<=t&&e>=0}function zY(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${m_}\`.`}function FY(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${m_} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var H5=U5,BY=W5;const va=N.forwardRef(({className:e,value:t,...n},s)=>r.jsx(H5,{ref:s,className:Le("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:r.jsx(BY,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));va.displayName=H5.displayName;const qY=[{title:"Total Revenue",titleAr:"إجمالي الإيرادات",value:"$45,231.89",change:"+20.1% from last month",changeAr:"+20.1% من الشهر الماضي",changeType:"positive",icon:Ep,gradient:!0},{title:"Orders",titleAr:"الطلبات",value:"2,350",change:"+180 from yesterday",changeAr:"+180 من الأمس",changeType:"positive",icon:Wy},{title:"Products",titleAr:"المنتجات",value:"1,234",change:"+12 new this week",changeAr:"+12 جديد هذا الأسبوع",changeType:"positive",icon:Dr},{title:"Active Users",titleAr:"المستخدمون النشطون",value:"573",change:"+201 since last hour",changeAr:"+201 منذ الساعة الماضية",changeType:"positive",icon:Gr}],UY=[{id:"#ORD-001",customer:"Ahmed Hassan",customerAr:"أحمد حسن",amount:"$250.00",status:"completed",statusAr:"مكتمل",time:"2 min ago",timeAr:"منذ دقيقتين"},{id:"#ORD-002",customer:"Sarah Johnson",customerAr:"سارة جونسون",amount:"$180.50",status:"processing",statusAr:"قيد المعالجة",time:"5 min ago",timeAr:"منذ 5 دقائق"},{id:"#ORD-003",customer:"Mohammed Ali",customerAr:"محمد علي",amount:"$95.30",status:"pending",statusAr:"في انتظار",time:"10 min ago",timeAr:"منذ 10 دقائق"}],VY=[{name:"Smartphone Pro Max",nameAr:"هاتف ذكي برو ماكس",sales:234,revenue:"$58,500",progress:85},{name:"Wireless Headphones",nameAr:"سماعات لاسلكية",sales:187,revenue:"$37,400",progress:68},{name:"Smart Watch",nameAr:"ساعة ذكية",sales:156,revenue:"$31,200",progress:56}],WY=()=>{const{isRTL:e}=rt(),t=n=>{switch(n){case"completed":return"bg-success text-success-foreground";case"processing":return"bg-warning text-warning-foreground";case"pending":return"bg-muted text-muted-foreground";default:return"bg-muted text-muted-foreground"}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:e?"لوحة التحكم":"Dashboard"}),r.jsx("p",{className:"text-muted-foreground",children:e?"مرحبًا بك في لوحة تحكم أسالة. إليك نظرة عامة على أداء متجرك.":"Welcome to Asala Admin. Here's an overview of your store performance."})]}),r.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:qY.map((n,s)=>r.jsx(MY,{title:e?n.titleAr:n.title,value:n.value,change:e?n.changeAr:n.change,changeType:n.changeType,icon:n.icon,gradient:n.gradient},s))}),r.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[r.jsxs(Y,{className:"lg:col-span-2 border-0 shadow-elegant",children:[r.jsx(Pe,{children:r.jsxs(Ie,{className:"flex items-center gap-2",children:[r.jsx(fc,{className:"h-5 w-5 text-primary"}),e?"الطلبات الأخيرة":"Recent Orders"]})}),r.jsx(ee,{children:r.jsx("div",{className:"space-y-4",children:UY.map(n=>r.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg bg-muted/50 hover:bg-muted transition-smooth",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-10 h-10 rounded-full gradient-primary text-primary-foreground flex items-center justify-center font-medium",children:n.customer.charAt(0)}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:e?n.customerAr:n.customer}),r.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[r.jsx(xL,{className:"h-3 w-3"}),e?n.timeAr:n.time]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"font-medium",children:n.amount}),r.jsx(Me,{className:t(n.status),children:e?n.statusAr:n.status})]})]},n.id))})})]}),r.jsxs(Y,{className:"border-0 shadow-elegant",children:[r.jsx(Pe,{children:r.jsxs(Ie,{className:"flex items-center gap-2",children:[r.jsx(Un,{className:"h-5 w-5 text-primary"}),e?"أفضل المنتجات":"Top Products"]})}),r.jsx(ee,{children:r.jsx("div",{className:"space-y-6",children:VY.map((n,s)=>r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("p",{className:"font-medium text-sm",children:e?n.nameAr:n.name}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[n.sales," ",e?"مبيعة":"sold"]})]}),r.jsx(va,{value:n.progress,className:"h-2"}),r.jsx("p",{className:"text-sm font-medium text-success",children:n.revenue})]},s))})})]})]}),r.jsxs(Y,{className:"border-0 shadow-elegant",children:[r.jsx(Pe,{children:r.jsxs(Ie,{className:"flex items-center gap-2",children:[r.jsx(fc,{className:"h-5 w-5 text-primary"}),e?"إجراءات سريعة":"Quick Actions"]})}),r.jsx(ee,{children:r.jsx("div",{className:"grid gap-4 md:grid-cols-4",children:[{icon:Dr,label:e?"إضافة منتج":"Add Product"},{icon:Gr,label:e?"إدارة العملاء":"Manage Customers"},{icon:Wy,label:e?"عرض الطلبات":"View Orders"},{icon:Fr,label:e?"التحليلات":"Analytics"}].map((n,s)=>r.jsx("div",{className:"p-4 rounded-lg border border-border hover:bg-accent hover:border-primary transition-smooth cursor-pointer hover-lift group",children:r.jsxs("div",{className:"flex flex-col items-center gap-3 text-center",children:[r.jsx("div",{className:"w-12 h-12 rounded-xl bg-primary/10 group-hover:bg-primary group-hover:text-primary-foreground flex items-center justify-center transition-smooth",children:r.jsx(n.icon,{className:"h-6 w-6 text-primary group-hover:text-primary-foreground"})}),r.jsx("p",{className:"font-medium text-sm",children:n.label})]})},s))})})]})]})},KY=()=>r.jsx(lt,{children:r.jsx(WY,{})}),On=N.forwardRef(({className:e,...t},n)=>r.jsx("div",{className:"relative w-full overflow-auto",children:r.jsx("table",{ref:n,className:Le("w-full caption-bottom text-sm",e),...t})}));On.displayName="Table";const In=N.forwardRef(({className:e,...t},n)=>r.jsx("thead",{ref:n,className:Le("[&_tr]:border-b",e),...t}));In.displayName="TableHeader";const Mn=N.forwardRef(({className:e,...t},n)=>r.jsx("tbody",{ref:n,className:Le("[&_tr:last-child]:border-0",e),...t}));Mn.displayName="TableBody";const HY=N.forwardRef(({className:e,...t},n)=>r.jsx("tfoot",{ref:n,className:Le("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));HY.displayName="TableFooter";const Xe=N.forwardRef(({className:e,...t},n)=>r.jsx("tr",{ref:n,className:Le("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Xe.displayName="TableRow";const Re=N.forwardRef(({className:e,...t},n)=>r.jsx("th",{ref:n,className:Le("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Re.displayName="TableHead";const xe=N.forwardRef(({className:e,...t},n)=>r.jsx("td",{ref:n,className:Le("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));xe.displayName="TableCell";const GY=N.forwardRef(({className:e,...t},n)=>r.jsx("caption",{ref:n,className:Le("mt-4 text-sm text-muted-foreground",e),...t}));GY.displayName="TableCaption";const ZY=[{id:"#ORD-001",customer:"Ahmed Hassan",customerAr:"أحمد حسن",email:"ahmed@example.com",total:"$250.00",status:"completed",statusAr:"مكتمل",date:"2024-01-15",items:3},{id:"#ORD-002",customer:"Sarah Johnson",customerAr:"سارة جونسون",email:"sarah@example.com",total:"$180.50",status:"processing",statusAr:"قيد المعالجة",date:"2024-01-14",items:2},{id:"#ORD-003",customer:"Mohammed Ali",customerAr:"محمد علي",email:"mohammed@example.com",total:"$95.30",status:"pending",statusAr:"في انتظار",date:"2024-01-14",items:1},{id:"#ORD-004",customer:"Emma Wilson",customerAr:"إيما ويلسون",email:"emma@example.com",total:"$420.00",status:"shipped",statusAr:"تم الشحن",date:"2024-01-13",items:5},{id:"#ORD-005",customer:"Omar Khalil",customerAr:"عمر خليل",email:"omar@example.com",total:"$75.99",status:"cancelled",statusAr:"ملغى",date:"2024-01-12",items:1}],QY={completed:{color:"bg-success text-success-foreground",icon:Or},processing:{color:"bg-warning text-warning-foreground",icon:Dr},pending:{color:"bg-muted text-muted-foreground",icon:xL},shipped:{color:"bg-blue-500 text-white",icon:vV},cancelled:{color:"bg-destructive text-destructive-foreground",icon:jn}},YY=()=>{const{isRTL:e}=rt(),[t,n]=N.useState(""),[s,a]=N.useState("all"),i=ZY.filter(l=>{const d=l.customer.toLowerCase().includes(t.toLowerCase())||l.id.toLowerCase().includes(t.toLowerCase()),u=s==="all"||l.status===s;return d&&u}),o=(l,d)=>{const u=QY[l],h=u.icon;return r.jsxs(Me,{className:`${u.color} flex items-center gap-1`,children:[r.jsx(h,{className:"h-3 w-3"}),e?d:l]})};return r.jsx(lt,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-foreground",children:e?"إدارة الطلبات":"Orders Management"}),r.jsx("p",{className:"text-muted-foreground",children:e?"عرض وإدارة جميع طلبات العملاء":"View and manage all customer orders"})]}),r.jsx("div",{className:"flex gap-2",children:r.jsxs(B,{variant:"outline",className:"flex items-center gap-2",children:[r.jsx(Zg,{className:"h-4 w-4"}),e?"تصدير":"Export"]})})]}),r.jsx(Y,{className:"border-0 shadow-elegant",children:r.jsx(ee,{className:"p-6",children:r.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(Qr,{className:`absolute top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground ${e?"right-3":"left-3"}`}),r.jsx(Oe,{placeholder:e?"البحث في الطلبات...":"Search orders...",value:t,onChange:l=>n(l.target.value),className:e?"pr-10 pl-4":"pl-10 pr-4"})]}),r.jsxs(Ut,{children:[r.jsx(Vt,{asChild:!0,children:r.jsxs(B,{variant:"outline",className:"flex items-center gap-2",children:[r.jsx(Ru,{className:"h-4 w-4"}),e?"تصفية حسب الحالة":"Filter by Status"]})}),r.jsxs(Ft,{children:[r.jsx(ke,{onClick:()=>a("all"),children:e?"جميع الطلبات":"All Orders"}),r.jsx(ke,{onClick:()=>a("pending"),children:e?"في انتظار":"Pending"}),r.jsx(ke,{onClick:()=>a("processing"),children:e?"قيد المعالجة":"Processing"}),r.jsx(ke,{onClick:()=>a("shipped"),children:e?"تم الشحن":"Shipped"}),r.jsx(ke,{onClick:()=>a("completed"),children:e?"مكتمل":"Completed"}),r.jsx(ke,{onClick:()=>a("cancelled"),children:e?"ملغى":"Cancelled"})]})]})]})})}),r.jsxs(Y,{className:"border-0 shadow-elegant",children:[r.jsx(Pe,{children:r.jsxs(Ie,{className:"flex items-center gap-2",children:[r.jsx(Dr,{className:"h-5 w-5 text-primary"}),e?`${i.length} طلب`:`${i.length} Orders`]})}),r.jsx(ee,{children:r.jsxs(On,{children:[r.jsx(In,{children:r.jsxs(Xe,{children:[r.jsx(Re,{children:e?"رقم الطلب":"Order ID"}),r.jsx(Re,{children:e?"العميل":"Customer"}),r.jsx(Re,{children:e?"البريد الإلكتروني":"Email"}),r.jsx(Re,{children:e?"العناصر":"Items"}),r.jsx(Re,{children:e?"المجموع":"Total"}),r.jsx(Re,{children:e?"الحالة":"Status"}),r.jsx(Re,{children:e?"التاريخ":"Date"}),r.jsx(Re,{className:"text-center",children:e?"الإجراءات":"Actions"})]})}),r.jsx(Mn,{children:i.map(l=>r.jsxs(Xe,{className:"hover:bg-muted/50",children:[r.jsx(xe,{className:"font-medium",children:l.id}),r.jsx(xe,{children:e?l.customerAr:l.customer}),r.jsx(xe,{className:"text-muted-foreground",children:l.email}),r.jsx(xe,{children:l.items}),r.jsx(xe,{className:"font-medium",children:l.total}),r.jsx(xe,{children:o(l.status,l.statusAr)}),r.jsx(xe,{className:"text-muted-foreground",children:l.date}),r.jsx(xe,{children:r.jsxs(Ut,{children:[r.jsx(Vt,{asChild:!0,children:r.jsx(B,{variant:"ghost",className:"h-8 w-8 p-0",children:r.jsx(bn,{className:"h-4 w-4"})})}),r.jsxs(Ft,{align:"end",children:[r.jsxs(ke,{className:"flex items-center gap-2",children:[r.jsx(Fr,{className:"h-4 w-4"}),e?"عرض التفاصيل":"View Details"]}),r.jsxs(ke,{className:"flex items-center gap-2",children:[r.jsx(tr,{className:"h-4 w-4"}),e?"تحرير":"Edit"]}),r.jsxs(ke,{className:"flex items-center gap-2",children:[r.jsx(Zg,{className:"h-4 w-4"}),e?"تحميل الفاتورة":"Download Invoice"]})]})]})})]},l.id))})]})})]})]})})};function Qe({className:e,...t}){return r.jsx("div",{className:Le("animate-pulse rounded-md bg-muted",e),...t})}const XY=kp("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),wn=N.forwardRef(({className:e,variant:t,...n},s)=>r.jsx("div",{ref:s,role:"alert",className:Le(XY({variant:t}),e),...n}));wn.displayName="Alert";const Tn=N.forwardRef(({className:e,...t},n)=>r.jsx("h5",{ref:n,className:Le("mb-1 font-medium leading-none tracking-tight",e),...t}));Tn.displayName="AlertTitle";const Nn=N.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:Le("text-sm [&_p]:leading-relaxed",e),...t}));Nn.displayName="AlertDescription";class JY{constructor(){ge(this,"baseUrl","/api/products");ge(this,"request",async(t,n={})=>{const s=`${this.baseUrl}${t}`,a={headers:{"Content-Type":"application/json",...n.headers},...n};try{const i=await fetch(s,a);if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);return await i.json()}catch(i){throw console.error("Product API Request Error:",i),i}});ge(this,"processProductDto",t=>{var n;return{...t,mediaUrls:((n=t.images)==null?void 0:n.map(s=>s.url))||[]}});ge(this,"processProductDtos",t=>t.map(n=>this.processProductDto(n)));ge(this,"createProduct",async t=>{const n=await this.request("/create-product",{method:"POST",body:JSON.stringify(t)});if(!n.success)throw new Error(n.message||"Failed to create product");if(!n.data)throw new Error("No data returned from server");return this.processProductDto(n.data)});ge(this,"getProductById",async t=>{const n=await this.request(`/${t}`);if(!n.success)throw new Error(n.message||"Failed to get product");if(!n.data)throw new Error("No data returned from server");return this.processProductDto(n.data)});ge(this,"updateProduct",async(t,n)=>{const s=await this.request(`/${t}`,{method:"PUT",body:JSON.stringify(n)});if(!s.success)throw new Error(s.message||"Failed to update product");if(!s.data)throw new Error("No data returned from server");return this.processProductDto(s.data)});ge(this,"getProducts",async(t={})=>{const n=new URLSearchParams,s=t.page||1,a=t.pageSize||10,i=t.languageCode||"en";n.append("page",s.toString()),n.append("pageSize",a.toString()),n.append("languageCode",i),t.activeOnly!==void 0&&n.append("activeOnly",t.activeOnly.toString());const o=`?${n.toString()}`,l=await this.request(o);if(!l.success)throw new Error(l.message||"Failed to fetch products");if(!l.data)throw new Error("No data returned from server");return{...l.data,items:this.processProductDtos(l.data.items)}});ge(this,"getAllProducts",async(t={})=>(await this.getProducts({page:1,pageSize:1e3,languageCode:t.languageCode,activeOnly:t.activeOnly})).items);ge(this,"getCategoriesDropdown",async()=>{const n=await fetch("/api/categories/dropdown",{headers:{"Content-Type":"application/json"}});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const s=await n.json();if(!s.success)throw new Error(s.message||"Failed to fetch categories dropdown");if(!s.data)throw new Error("No data returned from server");return s.data});ge(this,"getProvidersDropdown",async(t="en")=>{const n=`/api/providers/dropdown?languageCode=${t}&activeOnly=true`,s=await fetch(n,{headers:{"Content-Type":"application/json"}});if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);const a=await s.json();if(!a.success)throw new Error(a.message||"Failed to fetch providers dropdown");if(!a.data)throw new Error("No data returned from server");return a.data});ge(this,"getCurrenciesDropdown",async(t=!0)=>{const n=`/api/currencies/dropdown?activeOnly=${t}`,s=await fetch(n,{headers:{"Content-Type":"application/json"}});if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);const a=await s.json();if(!a.success)throw new Error(a.message||"Failed to fetch currencies dropdown");if(!a.data)throw new Error("No data returned from server");return a.data})}}const Fa=new JY,eX="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48IS0tIFVwbG9hZGVkIHRvOiBTVkcgUmVwbywgd3d3LnN2Z3JlcG8uY29tLCBHZW5lcmF0b3I6IFNWRyBSZXBvIE1peGVyIFRvb2xzIC0tPgo8c3ZnIHdpZHRoPSI4MDBweCIgaGVpZ2h0PSI4MDBweCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cGF0aCBkPSJNMyA3VjE3QzMgMTguMTA0NiAzLjg5NTQzIDE5IDUgMTlIMTlDMjAuMTA0NiAxOSAyMSAxOC4xMDQ2IDIxIDE3VjdNMyA3QzMgNS44OTU0MyAzLjg5NTQzIDUgNSA1SDE5QzIwLjEwNDYgNSAyMSA1Ljg5NTQzIDIxIDdNMyA3SDIxTTkgMTNIMTUiIHN0cm9rZT0iIzY4Nzc4NyIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPC9zdmc+",tX=({product:e,size:t="sm"})=>{var o;const[n,s]=N.useState(!1),a={sm:"w-12 h-12",md:"w-16 h-16",lg:"w-24 h-24"},i=(o=e==null?void 0:e.mediaUrls)!=null&&o[0]&&!n?e.mediaUrls[0]:eX;return r.jsx("div",{className:`${a[t]} rounded-lg bg-gradient-to-br from-primary/10 to-primary/5 flex items-center justify-center overflow-hidden border border-border/20`,children:r.jsx("img",{src:i,alt:(e==null?void 0:e.name)||"Product",className:"w-full h-full object-cover",onError:()=>s(!0)})})},rX=()=>{const e=lr(),{isRTL:t}=rt(),[n,s]=N.useState(""),[a,i]=N.useState("all");N.useState("all");const[o,l]=N.useState("all"),[d,u]=N.useState(null),[h,m]=N.useState([]),[p,g]=N.useState(!1),[y,x]=N.useState(null),[v,j]=N.useState(1),[b]=N.useState(10),S=()=>{e("/products/create")},C=E=>{e(`/products/${E}`)},_=E=>{e(`/products/${E}/edit`)},A=N.useCallback(async()=>{try{const E=await Fa.getCurrenciesDropdown();m(E)}catch(E){console.error("Failed to fetch currencies:",E)}},[]),k=N.useCallback(async(E=v)=>{try{g(!0),x(null);const V=await Fa.getProducts({page:E,pageSize:b,languageCode:t?"ar":"en",activeOnly:a==="active"?!0:a==="inactive"?!1:void 0});u(V),j(E)}catch(V){x(V instanceof Error?V.message:"An error occurred while fetching products"),console.error("Failed to fetch products:",V)}finally{g(!1)}},[v,b,t,a]);N.useEffect(()=>{k(1),A()},[k,A]);const T=(d==null?void 0:d.items)||[],O=T.filter(E=>{const V=E.name.toLowerCase().includes(n.toLowerCase())||E.id.toString().toLowerCase().includes(n.toLowerCase())||E.localizedName&&E.localizedName.toLowerCase().includes(n.toLowerCase()),q=o==="all"||E.currencyId.toString()===o;return V&&q}),M=E=>{E>=1&&E<=((d==null?void 0:d.totalPages)||1)&&k(E)},z=()=>{d!=null&&d.hasPreviousPage&&M(v-1)},F=()=>{d!=null&&d.hasNextPage&&M(v+1)},Z=E=>r.jsxs(Me,{variant:E?"default":"secondary",className:"flex items-center gap-1",children:[E?r.jsx(Un,{className:"h-3 w-3"}):r.jsx(ho,{className:"h-3 w-3"}),E?t?"نشط":"Active":t?"غير نشط":"Inactive"]}),D=E=>E===0?r.jsx("span",{className:"text-destructive font-medium",children:t?"نفد المخزون":"Out of Stock"}):E<20?r.jsx("span",{className:"text-warning font-medium",children:t?"مخزون منخفض":"Low Stock"}):r.jsx("span",{className:"text-success font-medium",children:t?"متوفر":"In Stock"}),$=(E,V,q)=>{const U=V||"USD",Q=q||"$";try{return new Intl.NumberFormat("en-US",{style:"currency",currency:U}).format(E)}catch{return`${Q}${E.toFixed(2)}`}};return r.jsx(lt,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:t?"إدارة المنتجات":"Products Management"}),r.jsx("p",{className:"text-muted-foreground",children:t?"إدارة كتالوج المنتجات والمخزون":"Manage your product catalog and inventory"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(B,{variant:"outline",size:"sm",onClick:()=>k(v),disabled:p,className:"gap-2",children:[p?r.jsx(dn,{className:"w-4 h-4 animate-spin"}):r.jsx(Fr,{className:"w-4 h-4"}),t?"تحديث":"Refresh"]}),r.jsxs(B,{onClick:S,className:"gap-2",children:[r.jsx(ot,{className:"w-4 h-4"}),t?"إضافة منتج جديد":"Add New Product"]})]})]}),y&&r.jsxs(wn,{variant:"destructive",children:[r.jsx(Ks,{className:"h-4 w-4"}),r.jsxs(Nn,{className:"flex items-center justify-between",children:[r.jsx("span",{children:y}),r.jsx(B,{variant:"outline",size:"sm",onClick:()=>k(v),disabled:p,className:"ml-2",children:p?r.jsx(dn,{className:"w-4 h-4 animate-spin"}):t?"إعادة المحاولة":"Retry"})]})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[r.jsx(Y,{className:"border-0 shadow-elegant",children:r.jsx(ee,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:t?"إجمالي المنتجات":"Total Products"}),r.jsx("p",{className:"text-2xl font-bold",children:p?r.jsx(Qe,{className:"h-8 w-12"}):(d==null?void 0:d.totalCount)||0})]}),r.jsx(Dr,{className:"h-8 w-8 text-primary"})]})})}),r.jsx(Y,{className:"border-0 shadow-elegant",children:r.jsx(ee,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:t?"منتجات نشطة":"Active Products"}),r.jsx("p",{className:"text-2xl font-bold text-success",children:p?r.jsx(Qe,{className:"h-8 w-12"}):T.filter(E=>E.isActive).length})]}),r.jsx(Un,{className:"h-8 w-8 text-success"})]})})}),r.jsx(Y,{className:"border-0 shadow-elegant",children:r.jsx(ee,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:t?"مخزون منخفض":"Low Stock"}),r.jsx("p",{className:"text-2xl font-bold text-warning",children:p?r.jsx(Qe,{className:"h-8 w-12"}):T.filter(E=>E.quantity>0&&E.quantity<20).length})]}),r.jsx(Ks,{className:"h-8 w-8 text-warning"})]})})}),r.jsx(Y,{className:"border-0 shadow-elegant",children:r.jsx(ee,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:t?"نفد المخزون":"Out of Stock"}),r.jsx("p",{className:"text-2xl font-bold text-destructive",children:p?r.jsx(Qe,{className:"h-8 w-12"}):T.filter(E=>E.quantity===0).length})]}),r.jsx(ho,{className:"h-8 w-8 text-destructive"})]})})})]}),r.jsx(Y,{className:"border-0 shadow-elegant",children:r.jsx(ee,{className:"p-6",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(Qr,{className:`absolute top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground ${t?"right-3":"left-3"}`}),r.jsx(Oe,{placeholder:t?"البحث في المنتجات...":"Search products...",value:n,onChange:E=>s(E.target.value),className:t?"pr-10 pl-4":"pl-10 pr-4"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(Ut,{children:[r.jsx(Vt,{asChild:!0,children:r.jsxs(B,{variant:"outline",className:"flex items-center gap-2",children:[r.jsx(Ru,{className:"h-4 w-4"}),t?"الحالة":"Status"]})}),r.jsxs(Ft,{children:[r.jsx(ke,{onClick:()=>i("all"),children:t?"جميع الحالات":"All Status"}),r.jsx(ke,{onClick:()=>i("active"),children:t?"نشط":"Active"}),r.jsx(ke,{onClick:()=>i("inactive"),children:t?"غير نشط":"Inactive"})]})]}),r.jsxs(Ut,{children:[r.jsx(Vt,{asChild:!0,children:r.jsxs(B,{variant:"outline",className:"flex items-center gap-2",children:[r.jsx(Ru,{className:"h-4 w-4"}),t?"العملة":"Currency"]})}),r.jsxs(Ft,{children:[r.jsx(ke,{onClick:()=>l("all"),children:t?"جميع العملات":"All Currencies"}),h.map(E=>r.jsxs(ke,{onClick:()=>l(E.id.toString()),children:[E.symbol," ",E.code," - ",E.name]},E.id))]})]})]})]})})}),r.jsxs(Y,{className:"border-0 shadow-elegant",children:[r.jsx(Pe,{children:r.jsxs(Ie,{className:"flex items-center gap-2",children:[r.jsx(Dr,{className:"h-5 w-5 text-primary"}),t?`${O.length} منتج`:`${O.length} Products`]})}),r.jsx(ee,{children:r.jsxs(On,{dir:t?"rtl":"ltr",children:[r.jsx(In,{children:r.jsxs(Xe,{className:t?"text-right":"text-left",children:[r.jsx(Re,{className:t?"text-right":"text-left",children:t?"المنتج":"Product"}),r.jsx(Re,{className:t?"text-right":"text-left",children:t?"الفئة":"Category"}),r.jsx(Re,{className:t?"text-right":"text-left",children:t?"المزود":"Provider"}),r.jsx(Re,{className:t?"text-right":"text-left",children:t?"السعر والعملة":"Price & Currency"}),r.jsx(Re,{className:t?"text-right":"text-left",children:t?"المخزون":"Stock"}),r.jsx(Re,{className:t?"text-right":"text-left",children:t?"الحالة":"Status"}),r.jsx(Re,{className:"text-center",children:t?"الإجراءات":"Actions"})]})}),r.jsx(Mn,{children:p?Array.from({length:b},(E,V)=>r.jsxs(Xe,{children:[r.jsx(xe,{children:r.jsx(Qe,{className:"h-4 w-48"})}),r.jsx(xe,{children:r.jsx(Qe,{className:"h-4 w-32"})}),r.jsx(xe,{children:r.jsx(Qe,{className:"h-4 w-32"})}),r.jsx(xe,{children:r.jsx(Qe,{className:"h-4 w-24"})}),r.jsx(xe,{children:r.jsx(Qe,{className:"h-4 w-16"})}),r.jsx(xe,{children:r.jsx(Qe,{className:"h-6 w-16"})}),r.jsx(xe,{children:r.jsx(Qe,{className:"h-8 w-8 rounded"})})]},V)):O.length===0?r.jsx(Xe,{children:r.jsx(xe,{colSpan:7,className:"text-center py-8",children:r.jsxs("div",{className:"flex flex-col items-center gap-2",children:[r.jsx(Dr,{className:"w-12 h-12 text-muted-foreground"}),r.jsx("p",{className:"text-muted-foreground",children:t?"لا توجد منتجات":"No products found"})]})})}):O.map(E=>r.jsxs(Xe,{className:`hover:bg-muted/50 ${t?"text-right":"text-left"}`,children:[r.jsx(xe,{className:t?"text-right":"text-left",children:r.jsxs("div",{className:`flex items-center gap-3 ${t?"text-right":"flex-row"}`,children:[r.jsx(tX,{product:E}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:t&&E.localizedName?E.localizedName:E.name}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["#",E.id]}),E.description&&r.jsx("p",{className:"text-xs text-muted-foreground max-w-xs truncate",title:E.description,children:t&&E.localizedDescription?E.localizedDescription:E.description})]})]})}),r.jsx(xe,{className:t?"text-right":"text-left",children:r.jsx(Me,{variant:"outline",children:E.categoryName||"N/A"})}),r.jsx(xe,{className:t?"text-right":"text-left",children:r.jsx(Me,{variant:"secondary",children:E.providerName||"N/A"})}),r.jsx(xe,{className:`font-medium ${t?"text-right":"text-left"}`,children:r.jsxs("div",{className:"space-y-1",children:[r.jsx("p",{className:"font-medium",children:$(E.price,E.currencyCode,E.currencySymbol)}),E.currencyName&&r.jsxs("p",{className:"text-xs text-muted-foreground",children:[E.currencyCode," - ",E.currencyName]})]})}),r.jsx(xe,{className:t?"text-right":"text-left",children:r.jsxs("div",{className:"space-y-1",children:[r.jsx("p",{className:"font-medium",children:E.quantity}),D(E.quantity)]})}),r.jsx(xe,{className:t?"text-right":"text-left",children:Z(E.isActive)}),r.jsx(xe,{children:r.jsxs(Ut,{children:[r.jsx(Vt,{asChild:!0,children:r.jsx(B,{variant:"ghost",className:"h-8 w-8 p-0",children:r.jsx(bn,{className:"h-4 w-4"})})}),r.jsxs(Ft,{align:t?"start":"end",children:[r.jsxs(ke,{className:`flex items-center gap-2 ${t?"flex-row-reverse":"flex-row"}`,onClick:()=>C(E.id),children:[r.jsx(Fr,{className:"h-4 w-4"}),t?"عرض التفاصيل":"View Details"]}),r.jsxs(ke,{className:`flex items-center gap-2 ${t?"flex-row-reverse":"flex-row"}`,onClick:()=>_(E.id),children:[r.jsx(tr,{className:"h-4 w-4"}),t?"تحرير":"Edit"]}),r.jsxs(ke,{className:`flex items-center gap-2 text-destructive ${t?"flex-row-reverse":"flex-row"}`,children:[r.jsx(xt,{className:"h-4 w-4"}),t?"حذف":"Delete"]})]})]})})]},E.id))})]})})]}),d&&!p&&r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[t?"عرض":"Showing"," ",(v-1)*b+1," ",t?"إلى":"to"," ",Math.min(v*b,d.totalCount)," ",t?"من":"of"," ",d.totalCount," ",t?"منتج":"products"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(B,{variant:"outline",size:"sm",onClick:z,disabled:!d.hasPreviousPage,children:[r.jsx(At,{className:"w-4 h-4"}),t?"السابق":"Previous"]}),r.jsx("div",{className:"flex items-center gap-1",children:r.jsxs("span",{className:"text-sm text-muted-foreground",children:[t?"صفحة":"Page"," ",v," ",t?"من":"of"," ",d.totalPages]})}),r.jsxs(B,{variant:"outline",size:"sm",onClick:F,disabled:!d.hasNextPage,children:[t?"التالي":"Next",r.jsx(Nt,{className:"w-4 h-4"})]})]})]})]})})};var c0="Dialog",[G5,Z5]=_s(c0),[nX,Ga]=G5(c0),Q5=e=>{const{__scopeDialog:t,children:n,open:s,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=N.useRef(null),d=N.useRef(null),[u,h]=wo({prop:s,defaultProp:a??!1,onChange:i,caller:c0});return r.jsx(nX,{scope:t,triggerRef:l,contentRef:d,contentId:Si(),titleId:Si(),descriptionId:Si(),open:u,onOpenChange:h,onOpenToggle:N.useCallback(()=>h(m=>!m),[h]),modal:o,children:n})};Q5.displayName=c0;var Y5="DialogTrigger",X5=N.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,a=Ga(Y5,n),i=Zt(t,a.triggerRef);return r.jsx(gt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":p_(a.open),...s,ref:i,onClick:Ge(e.onClick,a.onOpenToggle)})});X5.displayName=Y5;var h_="DialogPortal",[sX,J5]=G5(h_,{forceMount:void 0}),eD=e=>{const{__scopeDialog:t,forceMount:n,children:s,container:a}=e,i=Ga(h_,t);return r.jsx(sX,{scope:t,forceMount:n,children:N.Children.map(s,o=>r.jsx(ja,{present:n||i.open,children:r.jsx(Pp,{asChild:!0,container:a,children:o})}))})};eD.displayName=h_;var mv="DialogOverlay",tD=N.forwardRef((e,t)=>{const n=J5(mv,e.__scopeDialog),{forceMount:s=n.forceMount,...a}=e,i=Ga(mv,e.__scopeDialog);return i.modal?r.jsx(ja,{present:s||i.open,children:r.jsx(iX,{...a,ref:t})}):null});tD.displayName=mv;var aX=Wc("DialogOverlay.RemoveScroll"),iX=N.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,a=Ga(mv,n);return r.jsx(a0,{as:aX,allowPinchZoom:!0,shards:[a.contentRef],children:r.jsx(gt.div,{"data-state":p_(a.open),...s,ref:t,style:{pointerEvents:"auto",...s.style}})})}),Qc="DialogContent",rD=N.forwardRef((e,t)=>{const n=J5(Qc,e.__scopeDialog),{forceMount:s=n.forceMount,...a}=e,i=Ga(Qc,e.__scopeDialog);return r.jsx(ja,{present:s||i.open,children:i.modal?r.jsx(oX,{...a,ref:t}):r.jsx(lX,{...a,ref:t})})});rD.displayName=Qc;var oX=N.forwardRef((e,t)=>{const n=Ga(Qc,e.__scopeDialog),s=N.useRef(null),a=Zt(t,n.contentRef,s);return N.useEffect(()=>{const i=s.current;if(i)return n_(i)},[]),r.jsx(nD,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ge(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Ge(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:Ge(e.onFocusOutside,i=>i.preventDefault())})}),lX=N.forwardRef((e,t)=>{const n=Ga(Qc,e.__scopeDialog),s=N.useRef(!1),a=N.useRef(!1);return r.jsx(nD,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(s.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:i=>{var d,u;(d=e.onInteractOutside)==null||d.call(e,i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),nD=N.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=Ga(Qc,n),d=N.useRef(null),u=Zt(t,d);return r_(),r.jsxs(r.Fragment,{children:[r.jsx(r0,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:i,children:r.jsx(bm,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":p_(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),r.jsxs(r.Fragment,{children:[r.jsx(dX,{titleId:l.titleId}),r.jsx(mX,{contentRef:d,descriptionId:l.descriptionId})]})]})}),f_="DialogTitle",sD=N.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,a=Ga(f_,n);return r.jsx(gt.h2,{id:a.titleId,...s,ref:t})});sD.displayName=f_;var aD="DialogDescription",iD=N.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,a=Ga(aD,n);return r.jsx(gt.p,{id:a.descriptionId,...s,ref:t})});iD.displayName=aD;var oD="DialogClose",lD=N.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,a=Ga(oD,n);return r.jsx(gt.button,{type:"button",...s,ref:t,onClick:Ge(e.onClick,()=>a.onOpenChange(!1))})});lD.displayName=oD;function p_(e){return e?"open":"closed"}var cD="DialogTitleWarning",[cX,dD]=pU(cD,{contentName:Qc,titleName:f_,docsSlug:"dialog"}),dX=({titleId:e})=>{const t=dD(cD),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return N.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},uX="DialogDescriptionWarning",mX=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${dD(uX).contentName}}.`;return N.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},uD=Q5,hX=X5,mD=eD,x_=tD,g_=rD,v_=sD,y_=iD,j_=lD;const Mt=uD,fX=mD,hD=N.forwardRef(({className:e,...t},n)=>r.jsx(x_,{ref:n,className:Le("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));hD.displayName=x_.displayName;const Et=N.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(fX,{children:[r.jsx(hD,{}),r.jsxs(g_,{ref:s,className:Le("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,r.jsxs(j_,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[r.jsx(un,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Et.displayName=g_.displayName;const Tt=({className:e,...t})=>r.jsx("div",{className:Le("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Tt.displayName="DialogHeader";const Lt=({className:e,...t})=>r.jsx("div",{className:Le("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Lt.displayName="DialogFooter";const Ot=N.forwardRef(({className:e,...t},n)=>r.jsx(v_,{ref:n,className:Le("text-lg font-semibold leading-none tracking-tight",e),...t}));Ot.displayName=v_.displayName;const $t=N.forwardRef(({className:e,...t},n)=>r.jsx(y_,{ref:n,className:Le("text-sm text-muted-foreground",e),...t}));$t.displayName=y_.displayName;var $p=e=>e.type==="checkbox",jc=e=>e instanceof Date,Jn=e=>e==null;const fD=e=>typeof e=="object";var Zr=e=>!Jn(e)&&!Array.isArray(e)&&fD(e)&&!jc(e),pD=e=>Zr(e)&&e.target?$p(e.target)?e.target.checked:e.target.value:e,pX=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,xD=(e,t)=>e.has(pX(t)),xX=e=>{const t=e.constructor&&e.constructor.prototype;return Zr(t)&&t.hasOwnProperty("isPrototypeOf")},b_=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Pr(e){let t;const n=Array.isArray(e),s=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(b_&&(e instanceof Blob||s))&&(n||Zr(e)))if(t=n?[]:{},!n&&!xX(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=Pr(e[a]));else return e;return t}var d0=e=>/^\w*$/.test(e),Er=e=>e===void 0,u0=e=>Array.isArray(e)?e.filter(Boolean):[],w_=e=>u0(e.replace(/["|']|\]/g,"").split(/\.|\[/)),He=(e,t,n)=>{if(!t||!Zr(e))return n;const s=(d0(t)?[t]:w_(t)).reduce((a,i)=>Jn(a)?a:a[i],e);return Er(s)||s===e?Er(e[t])?n:e[t]:s},$s=e=>typeof e=="boolean",fr=(e,t,n)=>{let s=-1;const a=d0(t)?[t]:w_(t),i=a.length,o=i-1;for(;++s<i;){const l=a[s];let d=n;if(s!==o){const u=e[l];d=Zr(u)||Array.isArray(u)?u:isNaN(+a[s+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=d,e=e[l]}};const hv={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ca={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},qi={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},N_=R.createContext(null);N_.displayName="HookFormContext";const Dp=()=>R.useContext(N_),gX=e=>{const{children:t,...n}=e;return R.createElement(N_.Provider,{value:n},t)};var gD=(e,t,n,s=!0)=>{const a={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const o=i;return t._proxyFormState[o]!==ca.all&&(t._proxyFormState[o]=!s||ca.all),n&&(n[o]=!0),e[o]}});return a};const m0=typeof window<"u"?R.useLayoutEffect:R.useEffect;function vX(e){const t=Dp(),{control:n=t.control,disabled:s,name:a,exact:i}=e||{},[o,l]=R.useState(n._formState),d=R.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return m0(()=>n._subscribe({name:a,formState:d.current,exact:i,callback:u=>{!s&&l({...n._formState,...u})}}),[a,s,i]),R.useEffect(()=>{d.current.isValid&&n._setValid(!0)},[n]),R.useMemo(()=>gD(o,n,d.current,!1),[o,n])}var yi=e=>typeof e=="string",vD=(e,t,n,s,a)=>yi(e)?(s&&t.watch.add(e),He(n,e,a)):Array.isArray(e)?e.map(i=>(s&&t.watch.add(i),He(n,i))):(s&&(t.watchAll=!0),n),qN=e=>Jn(e)||!fD(e);function ro(e,t,n=new WeakSet){if(qN(e)||qN(t))return e===t;if(jc(e)&&jc(t))return e.getTime()===t.getTime();const s=Object.keys(e),a=Object.keys(t);if(s.length!==a.length)return!1;if(n.has(e)||n.has(t))return!0;n.add(e),n.add(t);for(const i of s){const o=e[i];if(!a.includes(i))return!1;if(i!=="ref"){const l=t[i];if(jc(o)&&jc(l)||Zr(o)&&Zr(l)||Array.isArray(o)&&Array.isArray(l)?!ro(o,l,n):o!==l)return!1}}return!0}function yX(e){const t=Dp(),{control:n=t.control,name:s,defaultValue:a,disabled:i,exact:o,compute:l}=e||{},d=R.useRef(a),u=R.useRef(l),h=R.useRef(void 0);u.current=l;const m=R.useMemo(()=>n._getWatch(s,d.current),[n,s]),[p,g]=R.useState(u.current?u.current(m):m);return m0(()=>n._subscribe({name:s,formState:{values:!0},exact:o,callback:y=>{if(!i){const x=vD(s,n._names,y.values||n._formValues,!1,d.current);if(u.current){const v=u.current(x);ro(v,h.current)||(g(v),h.current=v)}else g(x)}}}),[n,i,s,o]),R.useEffect(()=>n._removeUnmounted()),p}function jX(e){const t=Dp(),{name:n,disabled:s,control:a=t.control,shouldUnregister:i,defaultValue:o}=e,l=xD(a._names.array,n),d=R.useMemo(()=>He(a._formValues,n,He(a._defaultValues,n,o)),[a,n,o]),u=yX({control:a,name:n,defaultValue:d,exact:!0}),h=vX({control:a,name:n,exact:!0}),m=R.useRef(e),p=R.useRef(a.register(n,{...e.rules,value:u,...$s(e.disabled)?{disabled:e.disabled}:{}}));m.current=e;const g=R.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!He(h.errors,n)},isDirty:{enumerable:!0,get:()=>!!He(h.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!He(h.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!He(h.validatingFields,n)},error:{enumerable:!0,get:()=>He(h.errors,n)}}),[h,n]),y=R.useCallback(b=>p.current.onChange({target:{value:pD(b),name:n},type:hv.CHANGE}),[n]),x=R.useCallback(()=>p.current.onBlur({target:{value:He(a._formValues,n),name:n},type:hv.BLUR}),[n,a._formValues]),v=R.useCallback(b=>{const S=He(a._fields,n);S&&b&&(S._f.ref={focus:()=>b.focus&&b.focus(),select:()=>b.select&&b.select(),setCustomValidity:C=>b.setCustomValidity(C),reportValidity:()=>b.reportValidity()})},[a._fields,n]),j=R.useMemo(()=>({name:n,value:u,...$s(s)||h.disabled?{disabled:h.disabled||s}:{},onChange:y,onBlur:x,ref:v}),[n,s,h.disabled,y,x,v,u]);return R.useEffect(()=>{const b=a._options.shouldUnregister||i;a.register(n,{...m.current.rules,...$s(m.current.disabled)?{disabled:m.current.disabled}:{}});const S=(C,_)=>{const A=He(a._fields,C);A&&A._f&&(A._f.mount=_)};if(S(n,!0),b){const C=Pr(He(a._options.defaultValues,n));fr(a._defaultValues,n,C),Er(He(a._formValues,n))&&fr(a._formValues,n,C)}return!l&&a.register(n),()=>{(l?b&&!a._state.action:b)?a.unregister(n):S(n,!1)}},[n,a,l,i]),R.useEffect(()=>{a._setDisabledField({disabled:s,name:n})},[s,n,a]),R.useMemo(()=>({field:j,formState:h,fieldState:g}),[j,h,g])}const bX=e=>e.render(jX(e));var wX=(e,t,n,s,a)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[s]:a||!0}}:{},ys=e=>Array.isArray(e)?e:[e],q4=()=>{let e=[];return{get observers(){return e},next:a=>{for(const i of e)i.next&&i.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(i=>i!==a)}}),unsubscribe:()=>{e=[]}}},Qn=e=>Zr(e)&&!Object.keys(e).length,S_=e=>e.type==="file",Ra=e=>typeof e=="function",fv=e=>{if(!b_)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},yD=e=>e.type==="select-multiple",__=e=>e.type==="radio",NX=e=>__(e)||$p(e),Ob=e=>fv(e)&&e.isConnected;function SX(e,t){const n=t.slice(0,-1).length;let s=0;for(;s<n;)e=Er(e)?s++:e[t[s++]];return e}function _X(e){for(const t in e)if(e.hasOwnProperty(t)&&!Er(e[t]))return!1;return!0}function Kr(e,t){const n=Array.isArray(t)?t:d0(t)?[t]:w_(t),s=n.length===1?e:SX(e,n),a=n.length-1,i=n[a];return s&&delete s[i],a!==0&&(Zr(s)&&Qn(s)||Array.isArray(s)&&_X(s))&&Kr(e,n.slice(0,-1)),e}var jD=e=>{for(const t in e)if(Ra(e[t]))return!0;return!1};function pv(e,t={}){const n=Array.isArray(e);if(Zr(e)||n)for(const s in e)Array.isArray(e[s])||Zr(e[s])&&!jD(e[s])?(t[s]=Array.isArray(e[s])?[]:{},pv(e[s],t[s])):Jn(e[s])||(t[s]=!0);return t}function bD(e,t,n){const s=Array.isArray(e);if(Zr(e)||s)for(const a in e)Array.isArray(e[a])||Zr(e[a])&&!jD(e[a])?Er(t)||qN(n[a])?n[a]=Array.isArray(e[a])?pv(e[a],[]):{...pv(e[a])}:bD(e[a],Jn(t)?{}:t[a],n[a]):n[a]=!ro(e[a],t[a]);return n}var xh=(e,t)=>bD(e,t,pv(t));const U4={value:!1,isValid:!1},V4={value:!0,isValid:!0};var wD=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Er(e[0].attributes.value)?Er(e[0].value)||e[0].value===""?V4:{value:e[0].value,isValid:!0}:V4:U4}return U4},ND=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:s})=>Er(e)?e:t?e===""?NaN:e&&+e:n&&yi(e)?new Date(e):s?s(e):e;const W4={isValid:!1,value:null};var SD=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,W4):W4;function K4(e){const t=e.ref;return S_(t)?t.files:__(t)?SD(e.refs).value:yD(t)?[...t.selectedOptions].map(({value:n})=>n):$p(t)?wD(e.refs).value:ND(Er(t.value)?e.ref.value:t.value,e)}var CX=(e,t,n,s)=>{const a={};for(const i of e){const o=He(t,i);o&&fr(a,i,o._f)}return{criteriaMode:n,names:[...e],fields:a,shouldUseNativeValidation:s}},xv=e=>e instanceof RegExp,gh=e=>Er(e)?e:xv(e)?e.source:Zr(e)?xv(e.value)?e.value.source:e.value:e,Xd=e=>({isOnSubmit:!e||e===ca.onSubmit,isOnBlur:e===ca.onBlur,isOnChange:e===ca.onChange,isOnAll:e===ca.all,isOnTouch:e===ca.onTouched});const H4="AsyncFunction";var PX=e=>!!e&&!!e.validate&&!!(Ra(e.validate)&&e.validate.constructor.name===H4||Zr(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===H4)),AX=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),UN=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(s=>e.startsWith(s)&&/^\.\w+/.test(e.slice(s.length))));const fu=(e,t,n,s)=>{for(const a of n||Object.keys(e)){const i=He(e,a);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],a)&&!s)return!0;if(o.ref&&t(o.ref,o.name)&&!s)return!0;if(fu(l,t))break}else if(Zr(l)&&fu(l,t))break}}};function G4(e,t,n){const s=He(e,n);if(s||d0(n))return{error:s,name:n};const a=n.split(".");for(;a.length;){const i=a.join("."),o=He(t,i),l=He(e,i);if(o&&!Array.isArray(o)&&n!==i)return{name:n};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};a.pop()}return{name:n}}var kX=(e,t,n,s)=>{n(e);const{name:a,...i}=e;return Qn(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!s||ca.all))},EX=(e,t,n)=>!e||!t||e===t||ys(e).some(s=>s&&(n?s===t:s.startsWith(t)||t.startsWith(s))),TX=(e,t,n,s,a)=>a.isOnAll?!1:!n&&a.isOnTouch?!(t||e):(n?s.isOnBlur:a.isOnBlur)?!e:(n?s.isOnChange:a.isOnChange)?e:!0,OX=(e,t)=>!u0(He(e,t)).length&&Kr(e,t),_D=(e,t,n)=>{const s=ys(He(e,n));return fr(s,"root",t[n]),fr(e,n,s),e},Ng=e=>yi(e);function Z4(e,t,n="validate"){if(Ng(e)||Array.isArray(e)&&e.every(Ng)||$s(e)&&!e)return{type:n,message:Ng(e)?e:"",ref:t}}var Id=e=>Zr(e)&&!xv(e)?e:{value:e,message:""},VN=async(e,t,n,s,a,i)=>{const{ref:o,refs:l,required:d,maxLength:u,minLength:h,min:m,max:p,pattern:g,validate:y,name:x,valueAsNumber:v,mount:j}=e._f,b=He(n,x);if(!j||t.has(x))return{};const S=l?l[0]:o,C=F=>{a&&S.reportValidity&&(S.setCustomValidity($s(F)?"":F||""),S.reportValidity())},_={},A=__(o),k=$p(o),T=A||k,O=(v||S_(o))&&Er(o.value)&&Er(b)||fv(o)&&o.value===""||b===""||Array.isArray(b)&&!b.length,M=wX.bind(null,x,s,_),z=(F,Z,D,$=qi.maxLength,E=qi.minLength)=>{const V=F?Z:D;_[x]={type:F?$:E,message:V,ref:o,...M(F?$:E,V)}};if(i?!Array.isArray(b)||!b.length:d&&(!T&&(O||Jn(b))||$s(b)&&!b||k&&!wD(l).isValid||A&&!SD(l).isValid)){const{value:F,message:Z}=Ng(d)?{value:!!d,message:d}:Id(d);if(F&&(_[x]={type:qi.required,message:Z,ref:S,...M(qi.required,Z)},!s))return C(Z),_}if(!O&&(!Jn(m)||!Jn(p))){let F,Z;const D=Id(p),$=Id(m);if(!Jn(b)&&!isNaN(b)){const E=o.valueAsNumber||b&&+b;Jn(D.value)||(F=E>D.value),Jn($.value)||(Z=E<$.value)}else{const E=o.valueAsDate||new Date(b),V=Q=>new Date(new Date().toDateString()+" "+Q),q=o.type=="time",U=o.type=="week";yi(D.value)&&b&&(F=q?V(b)>V(D.value):U?b>D.value:E>new Date(D.value)),yi($.value)&&b&&(Z=q?V(b)<V($.value):U?b<$.value:E<new Date($.value))}if((F||Z)&&(z(!!F,D.message,$.message,qi.max,qi.min),!s))return C(_[x].message),_}if((u||h)&&!O&&(yi(b)||i&&Array.isArray(b))){const F=Id(u),Z=Id(h),D=!Jn(F.value)&&b.length>+F.value,$=!Jn(Z.value)&&b.length<+Z.value;if((D||$)&&(z(D,F.message,Z.message),!s))return C(_[x].message),_}if(g&&!O&&yi(b)){const{value:F,message:Z}=Id(g);if(xv(F)&&!b.match(F)&&(_[x]={type:qi.pattern,message:Z,ref:o,...M(qi.pattern,Z)},!s))return C(Z),_}if(y){if(Ra(y)){const F=await y(b,n),Z=Z4(F,S);if(Z&&(_[x]={...Z,...M(qi.validate,Z.message)},!s))return C(Z.message),_}else if(Zr(y)){let F={};for(const Z in y){if(!Qn(F)&&!s)break;const D=Z4(await y[Z](b,n),S,Z);D&&(F={...D,...M(Z,D.message)},C(D.message),s&&(_[x]=F))}if(!Qn(F)&&(_[x]={ref:S,...F},!s))return _}}return C(!0),_};const IX={mode:ca.onSubmit,reValidateMode:ca.onChange,shouldFocusError:!0};function MX(e={}){let t={...IX,...e},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:Ra(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},s={},a=Zr(t.defaultValues)||Zr(t.values)?Pr(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:Pr(a),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},d,u=0;const h={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let m={...h};const p={array:q4(),state:q4()},g=t.criteriaMode===ca.all,y=X=>H=>{clearTimeout(u),u=setTimeout(X,H)},x=async X=>{if(!t.disabled&&(h.isValid||m.isValid||X)){const H=t.resolver?Qn((await k()).errors):await O(s,!0);H!==n.isValid&&p.state.next({isValid:H})}},v=(X,H)=>{!t.disabled&&(h.isValidating||h.validatingFields||m.isValidating||m.validatingFields)&&((X||Array.from(l.mount)).forEach(me=>{me&&(H?fr(n.validatingFields,me,H):Kr(n.validatingFields,me))}),p.state.next({validatingFields:n.validatingFields,isValidating:!Qn(n.validatingFields)}))},j=(X,H=[],me,Ce,le=!0,we=!0)=>{if(Ce&&me&&!t.disabled){if(o.action=!0,we&&Array.isArray(He(s,X))){const Ee=me(He(s,X),Ce.argA,Ce.argB);le&&fr(s,X,Ee)}if(we&&Array.isArray(He(n.errors,X))){const Ee=me(He(n.errors,X),Ce.argA,Ce.argB);le&&fr(n.errors,X,Ee),OX(n.errors,X)}if((h.touchedFields||m.touchedFields)&&we&&Array.isArray(He(n.touchedFields,X))){const Ee=me(He(n.touchedFields,X),Ce.argA,Ce.argB);le&&fr(n.touchedFields,X,Ee)}(h.dirtyFields||m.dirtyFields)&&(n.dirtyFields=xh(a,i)),p.state.next({name:X,isDirty:z(X,H),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else fr(i,X,H)},b=(X,H)=>{fr(n.errors,X,H),p.state.next({errors:n.errors})},S=X=>{n.errors=X,p.state.next({errors:n.errors,isValid:!1})},C=(X,H,me,Ce)=>{const le=He(s,X);if(le){const we=He(i,X,Er(me)?He(a,X):me);Er(we)||Ce&&Ce.defaultChecked||H?fr(i,X,H?we:K4(le._f)):D(X,we),o.mount&&x()}},_=(X,H,me,Ce,le)=>{let we=!1,Ee=!1;const nt={name:X};if(!t.disabled){if(!me||Ce){(h.isDirty||m.isDirty)&&(Ee=n.isDirty,n.isDirty=nt.isDirty=z(),we=Ee!==nt.isDirty);const yt=ro(He(a,X),H);Ee=!!He(n.dirtyFields,X),yt?Kr(n.dirtyFields,X):fr(n.dirtyFields,X,!0),nt.dirtyFields=n.dirtyFields,we=we||(h.dirtyFields||m.dirtyFields)&&Ee!==!yt}if(me){const yt=He(n.touchedFields,X);yt||(fr(n.touchedFields,X,me),nt.touchedFields=n.touchedFields,we=we||(h.touchedFields||m.touchedFields)&&yt!==me)}we&&le&&p.state.next(nt)}return we?nt:{}},A=(X,H,me,Ce)=>{const le=He(n.errors,X),we=(h.isValid||m.isValid)&&$s(H)&&n.isValid!==H;if(t.delayError&&me?(d=y(()=>b(X,me)),d(t.delayError)):(clearTimeout(u),d=null,me?fr(n.errors,X,me):Kr(n.errors,X)),(me?!ro(le,me):le)||!Qn(Ce)||we){const Ee={...Ce,...we&&$s(H)?{isValid:H}:{},errors:n.errors,name:X};n={...n,...Ee},p.state.next(Ee)}},k=async X=>{v(X,!0);const H=await t.resolver(i,t.context,CX(X||l.mount,s,t.criteriaMode,t.shouldUseNativeValidation));return v(X),H},T=async X=>{const{errors:H}=await k(X);if(X)for(const me of X){const Ce=He(H,me);Ce?fr(n.errors,me,Ce):Kr(n.errors,me)}else n.errors=H;return H},O=async(X,H,me={valid:!0})=>{for(const Ce in X){const le=X[Ce];if(le){const{_f:we,...Ee}=le;if(we){const nt=l.array.has(we.name),yt=le._f&&PX(le._f);yt&&h.validatingFields&&v([Ce],!0);const Ln=await VN(le,l.disabled,i,g,t.shouldUseNativeValidation&&!H,nt);if(yt&&h.validatingFields&&v([Ce]),Ln[we.name]&&(me.valid=!1,H))break;!H&&(He(Ln,we.name)?nt?_D(n.errors,Ln,we.name):fr(n.errors,we.name,Ln[we.name]):Kr(n.errors,we.name))}!Qn(Ee)&&await O(Ee,H,me)}}return me.valid},M=()=>{for(const X of l.unMount){const H=He(s,X);H&&(H._f.refs?H._f.refs.every(me=>!Ob(me)):!Ob(H._f.ref))&&Se(X)}l.unMount=new Set},z=(X,H)=>!t.disabled&&(X&&H&&fr(i,X,H),!ro(Q(),a)),F=(X,H,me)=>vD(X,l,{...o.mount?i:Er(H)?a:yi(X)?{[X]:H}:H},me,H),Z=X=>u0(He(o.mount?i:a,X,t.shouldUnregister?He(a,X,[]):[])),D=(X,H,me={})=>{const Ce=He(s,X);let le=H;if(Ce){const we=Ce._f;we&&(!we.disabled&&fr(i,X,ND(H,we)),le=fv(we.ref)&&Jn(H)?"":H,yD(we.ref)?[...we.ref.options].forEach(Ee=>Ee.selected=le.includes(Ee.value)):we.refs?$p(we.ref)?we.refs.forEach(Ee=>{(!Ee.defaultChecked||!Ee.disabled)&&(Array.isArray(le)?Ee.checked=!!le.find(nt=>nt===Ee.value):Ee.checked=le===Ee.value||!!le)}):we.refs.forEach(Ee=>Ee.checked=Ee.value===le):S_(we.ref)?we.ref.value="":(we.ref.value=le,we.ref.type||p.state.next({name:X,values:Pr(i)})))}(me.shouldDirty||me.shouldTouch)&&_(X,le,me.shouldTouch,me.shouldDirty,!0),me.shouldValidate&&U(X)},$=(X,H,me)=>{for(const Ce in H){if(!H.hasOwnProperty(Ce))return;const le=H[Ce],we=X+"."+Ce,Ee=He(s,we);(l.array.has(X)||Zr(le)||Ee&&!Ee._f)&&!jc(le)?$(we,le,me):D(we,le,me)}},E=(X,H,me={})=>{const Ce=He(s,X),le=l.array.has(X),we=Pr(H);fr(i,X,we),le?(p.array.next({name:X,values:Pr(i)}),(h.isDirty||h.dirtyFields||m.isDirty||m.dirtyFields)&&me.shouldDirty&&p.state.next({name:X,dirtyFields:xh(a,i),isDirty:z(X,we)})):Ce&&!Ce._f&&!Jn(we)?$(X,we,me):D(X,we,me),UN(X,l)&&p.state.next({...n,name:X}),p.state.next({name:o.mount?X:void 0,values:Pr(i)})},V=async X=>{o.mount=!0;const H=X.target;let me=H.name,Ce=!0;const le=He(s,me),we=yt=>{Ce=Number.isNaN(yt)||jc(yt)&&isNaN(yt.getTime())||ro(yt,He(i,me,yt))},Ee=Xd(t.mode),nt=Xd(t.reValidateMode);if(le){let yt,Ln;const Qs=H.type?K4(le._f):pD(X),As=X.type===hv.BLUR||X.type===hv.FOCUS_OUT,gd=!AX(le._f)&&!t.resolver&&!He(n.errors,me)&&!le._f.deps||TX(As,He(n.touchedFields,me),n.isSubmitted,nt,Ee),Xa=UN(me,l,As);fr(i,me,Qs),As?(le._f.onBlur&&le._f.onBlur(X),d&&d(0)):le._f.onChange&&le._f.onChange(X);const cs=_(me,Qs,As),ec=!Qn(cs)||Xa;if(!As&&p.state.next({name:me,type:X.type,values:Pr(i)}),gd)return(h.isValid||m.isValid)&&(t.mode==="onBlur"?As&&x():As||x()),ec&&p.state.next({name:me,...Xa?{}:cs});if(!As&&Xa&&p.state.next({...n}),t.resolver){const{errors:Sa}=await k([me]);if(we(Qs),Ce){const Li=G4(n.errors,s,me),vd=G4(Sa,s,Li.name||me);yt=vd.error,me=vd.name,Ln=Qn(Sa)}}else v([me],!0),yt=(await VN(le,l.disabled,i,g,t.shouldUseNativeValidation))[me],v([me]),we(Qs),Ce&&(yt?Ln=!1:(h.isValid||m.isValid)&&(Ln=await O(s,!0)));Ce&&(le._f.deps&&U(le._f.deps),A(me,Ln,yt,cs))}},q=(X,H)=>{if(He(n.errors,H)&&X.focus)return X.focus(),1},U=async(X,H={})=>{let me,Ce;const le=ys(X);if(t.resolver){const we=await T(Er(X)?X:le);me=Qn(we),Ce=X?!le.some(Ee=>He(we,Ee)):me}else X?(Ce=(await Promise.all(le.map(async we=>{const Ee=He(s,we);return await O(Ee&&Ee._f?{[we]:Ee}:Ee)}))).every(Boolean),!(!Ce&&!n.isValid)&&x()):Ce=me=await O(s);return p.state.next({...!yi(X)||(h.isValid||m.isValid)&&me!==n.isValid?{}:{name:X},...t.resolver||!X?{isValid:me}:{},errors:n.errors}),H.shouldFocus&&!Ce&&fu(s,q,X?le:l.mount),Ce},Q=X=>{const H={...o.mount?i:a};return Er(X)?H:yi(X)?He(H,X):X.map(me=>He(H,me))},he=(X,H)=>({invalid:!!He((H||n).errors,X),isDirty:!!He((H||n).dirtyFields,X),error:He((H||n).errors,X),isValidating:!!He(n.validatingFields,X),isTouched:!!He((H||n).touchedFields,X)}),ue=X=>{X&&ys(X).forEach(H=>Kr(n.errors,H)),p.state.next({errors:X?n.errors:{}})},ce=(X,H,me)=>{const Ce=(He(s,X,{_f:{}})._f||{}).ref,le=He(n.errors,X)||{},{ref:we,message:Ee,type:nt,...yt}=le;fr(n.errors,X,{...yt,...H,ref:Ce}),p.state.next({name:X,errors:n.errors,isValid:!1}),me&&me.shouldFocus&&Ce&&Ce.focus&&Ce.focus()},G=(X,H)=>Ra(X)?p.state.subscribe({next:me=>"values"in me&&X(F(void 0,H),me)}):F(X,H,!0),J=X=>p.state.subscribe({next:H=>{EX(X.name,H.name,X.exact)&&kX(H,X.formState||h,pe,X.reRenderRoot)&&X.callback({values:{...i},...n,...H,defaultValues:a})}}).unsubscribe,ye=X=>(o.mount=!0,m={...m,...X.formState},J({...X,formState:m})),Se=(X,H={})=>{for(const me of X?ys(X):l.mount)l.mount.delete(me),l.array.delete(me),H.keepValue||(Kr(s,me),Kr(i,me)),!H.keepError&&Kr(n.errors,me),!H.keepDirty&&Kr(n.dirtyFields,me),!H.keepTouched&&Kr(n.touchedFields,me),!H.keepIsValidating&&Kr(n.validatingFields,me),!t.shouldUnregister&&!H.keepDefaultValue&&Kr(a,me);p.state.next({values:Pr(i)}),p.state.next({...n,...H.keepDirty?{isDirty:z()}:{}}),!H.keepIsValid&&x()},We=({disabled:X,name:H})=>{($s(X)&&o.mount||X||l.disabled.has(H))&&(X?l.disabled.add(H):l.disabled.delete(H))},Ae=(X,H={})=>{let me=He(s,X);const Ce=$s(H.disabled)||$s(t.disabled);return fr(s,X,{...me||{},_f:{...me&&me._f?me._f:{ref:{name:X}},name:X,mount:!0,...H}}),l.mount.add(X),me?We({disabled:$s(H.disabled)?H.disabled:t.disabled,name:X}):C(X,!0,H.value),{...Ce?{disabled:H.disabled||t.disabled}:{},...t.progressive?{required:!!H.required,min:gh(H.min),max:gh(H.max),minLength:gh(H.minLength),maxLength:gh(H.maxLength),pattern:gh(H.pattern)}:{},name:X,onChange:V,onBlur:V,ref:le=>{if(le){Ae(X,H),me=He(s,X);const we=Er(le.value)&&le.querySelectorAll&&le.querySelectorAll("input,select,textarea")[0]||le,Ee=NX(we),nt=me._f.refs||[];if(Ee?nt.find(yt=>yt===we):we===me._f.ref)return;fr(s,X,{_f:{...me._f,...Ee?{refs:[...nt.filter(Ob),we,...Array.isArray(He(a,X))?[{}]:[]],ref:{type:we.type,name:X}}:{ref:we}}}),C(X,!1,void 0,we)}else me=He(s,X,{}),me._f&&(me._f.mount=!1),(t.shouldUnregister||H.shouldUnregister)&&!(xD(l.array,X)&&o.action)&&l.unMount.add(X)}}},ze=()=>t.shouldFocusError&&fu(s,q,l.mount),Fe=X=>{$s(X)&&(p.state.next({disabled:X}),fu(s,(H,me)=>{const Ce=He(s,me);Ce&&(H.disabled=Ce._f.disabled||X,Array.isArray(Ce._f.refs)&&Ce._f.refs.forEach(le=>{le.disabled=Ce._f.disabled||X}))},0,!1))},je=(X,H)=>async me=>{let Ce;me&&(me.preventDefault&&me.preventDefault(),me.persist&&me.persist());let le=Pr(i);if(p.state.next({isSubmitting:!0}),t.resolver){const{errors:we,values:Ee}=await k();n.errors=we,le=Pr(Ee)}else await O(s);if(l.disabled.size)for(const we of l.disabled)Kr(le,we);if(Kr(n.errors,"root"),Qn(n.errors)){p.state.next({errors:{}});try{await X(le,me)}catch(we){Ce=we}}else H&&await H({...n.errors},me),ze(),setTimeout(ze);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Qn(n.errors)&&!Ce,submitCount:n.submitCount+1,errors:n.errors}),Ce)throw Ce},Ze=(X,H={})=>{He(s,X)&&(Er(H.defaultValue)?E(X,Pr(He(a,X))):(E(X,H.defaultValue),fr(a,X,Pr(H.defaultValue))),H.keepTouched||Kr(n.touchedFields,X),H.keepDirty||(Kr(n.dirtyFields,X),n.isDirty=H.defaultValue?z(X,Pr(He(a,X))):z()),H.keepError||(Kr(n.errors,X),h.isValid&&x()),p.state.next({...n}))},K=(X,H={})=>{const me=X?Pr(X):a,Ce=Pr(me),le=Qn(X),we=le?a:Ce;if(H.keepDefaultValues||(a=me),!H.keepValues){if(H.keepDirtyValues){const Ee=new Set([...l.mount,...Object.keys(xh(a,i))]);for(const nt of Array.from(Ee))He(n.dirtyFields,nt)?fr(we,nt,He(i,nt)):E(nt,He(we,nt))}else{if(b_&&Er(X))for(const Ee of l.mount){const nt=He(s,Ee);if(nt&&nt._f){const yt=Array.isArray(nt._f.refs)?nt._f.refs[0]:nt._f.ref;if(fv(yt)){const Ln=yt.closest("form");if(Ln){Ln.reset();break}}}}if(H.keepFieldsRef)for(const Ee of l.mount)E(Ee,He(we,Ee));else s={}}i=t.shouldUnregister?H.keepDefaultValues?Pr(a):{}:Pr(we),p.array.next({values:{...we}}),p.state.next({values:{...we}})}l={mount:H.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!h.isValid||!!H.keepIsValid||!!H.keepDirtyValues,o.watch=!!t.shouldUnregister,p.state.next({submitCount:H.keepSubmitCount?n.submitCount:0,isDirty:le?!1:H.keepDirty?n.isDirty:!!(H.keepDefaultValues&&!ro(X,a)),isSubmitted:H.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:le?{}:H.keepDirtyValues?H.keepDefaultValues&&i?xh(a,i):n.dirtyFields:H.keepDefaultValues&&X?xh(a,X):H.keepDirty?n.dirtyFields:{},touchedFields:H.keepTouched?n.touchedFields:{},errors:H.keepErrors?n.errors:{},isSubmitSuccessful:H.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},te=(X,H)=>K(Ra(X)?X(i):X,H),Ne=(X,H={})=>{const me=He(s,X),Ce=me&&me._f;if(Ce){const le=Ce.refs?Ce.refs[0]:Ce.ref;le.focus&&(le.focus(),H.shouldSelect&&Ra(le.select)&&le.select())}},pe=X=>{n={...n,...X}},Be={control:{register:Ae,unregister:Se,getFieldState:he,handleSubmit:je,setError:ce,_subscribe:J,_runSchema:k,_focusError:ze,_getWatch:F,_getDirty:z,_setValid:x,_setFieldArray:j,_setDisabledField:We,_setErrors:S,_getFieldArray:Z,_reset:K,_resetDefaultValues:()=>Ra(t.defaultValues)&&t.defaultValues().then(X=>{te(X,t.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:M,_disableForm:Fe,_subjects:p,_proxyFormState:h,get _fields(){return s},get _formValues(){return i},get _state(){return o},set _state(X){o=X},get _defaultValues(){return a},get _names(){return l},set _names(X){l=X},get _formState(){return n},get _options(){return t},set _options(X){t={...t,...X}}},subscribe:ye,trigger:U,register:Ae,handleSubmit:je,watch:G,setValue:E,getValues:Q,reset:te,resetField:Ze,clearErrors:ue,unregister:Se,setError:ce,setFocus:Ne,getFieldState:he};return{...Be,formControl:Be}}var Vo=()=>{if(typeof crypto<"u"&&crypto.randomUUID)return crypto.randomUUID();const e=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const n=(Math.random()*16+e)%16|0;return(t=="x"?n:n&3|8).toString(16)})},Ib=(e,t,n={})=>n.shouldFocus||Er(n.shouldFocus)?n.focusName||`${e}.${Er(n.focusIndex)?t:n.focusIndex}.`:"",Mb=(e,t)=>[...e,...ys(t)],Lb=e=>Array.isArray(e)?e.map(()=>{}):void 0;function $b(e,t,n){return[...e.slice(0,t),...ys(n),...e.slice(t)]}var Db=(e,t,n)=>Array.isArray(e)?(Er(e[n])&&(e[n]=void 0),e.splice(n,0,e.splice(t,1)[0]),e):[],Rb=(e,t)=>[...ys(t),...ys(e)];function LX(e,t){let n=0;const s=[...e];for(const a of t)s.splice(a-n,1),n++;return u0(s).length?s:[]}var zb=(e,t)=>Er(t)?[]:LX(e,ys(t).sort((n,s)=>n-s)),Fb=(e,t,n)=>{[e[t],e[n]]=[e[n],e[t]]},Q4=(e,t,n)=>(e[t]=n,e);function Qt(e){const t=Dp(),{control:n=t.control,name:s,keyName:a="id",shouldUnregister:i,rules:o}=e,[l,d]=R.useState(n._getFieldArray(s)),u=R.useRef(n._getFieldArray(s).map(Vo)),h=R.useRef(l),m=R.useRef(!1);h.current=l,n._names.array.add(s),R.useMemo(()=>o&&n.register(s,o),[n,o,s]),m0(()=>n._subjects.array.subscribe({next:({values:_,name:A})=>{if(A===s||!A){const k=He(_,s);Array.isArray(k)&&(d(k),u.current=k.map(Vo))}}}).unsubscribe,[n,s]);const p=R.useCallback(_=>{m.current=!0,n._setFieldArray(s,_)},[n,s]),g=(_,A)=>{const k=ys(Pr(_)),T=Mb(n._getFieldArray(s),k);n._names.focus=Ib(s,T.length-1,A),u.current=Mb(u.current,k.map(Vo)),p(T),d(T),n._setFieldArray(s,T,Mb,{argA:Lb(_)})},y=(_,A)=>{const k=ys(Pr(_)),T=Rb(n._getFieldArray(s),k);n._names.focus=Ib(s,0,A),u.current=Rb(u.current,k.map(Vo)),p(T),d(T),n._setFieldArray(s,T,Rb,{argA:Lb(_)})},x=_=>{const A=zb(n._getFieldArray(s),_);u.current=zb(u.current,_),p(A),d(A),!Array.isArray(He(n._fields,s))&&fr(n._fields,s,void 0),n._setFieldArray(s,A,zb,{argA:_})},v=(_,A,k)=>{const T=ys(Pr(A)),O=$b(n._getFieldArray(s),_,T);n._names.focus=Ib(s,_,k),u.current=$b(u.current,_,T.map(Vo)),p(O),d(O),n._setFieldArray(s,O,$b,{argA:_,argB:Lb(A)})},j=(_,A)=>{const k=n._getFieldArray(s);Fb(k,_,A),Fb(u.current,_,A),p(k),d(k),n._setFieldArray(s,k,Fb,{argA:_,argB:A},!1)},b=(_,A)=>{const k=n._getFieldArray(s);Db(k,_,A),Db(u.current,_,A),p(k),d(k),n._setFieldArray(s,k,Db,{argA:_,argB:A},!1)},S=(_,A)=>{const k=Pr(A),T=Q4(n._getFieldArray(s),_,k);u.current=[...T].map((O,M)=>!O||M===_?Vo():u.current[M]),p(T),d([...T]),n._setFieldArray(s,T,Q4,{argA:_,argB:k},!0,!1)},C=_=>{const A=ys(Pr(_));u.current=A.map(Vo),p([...A]),d([...A]),n._setFieldArray(s,[...A],k=>k,{},!0,!1)};return R.useEffect(()=>{if(n._state.action=!1,UN(s,n._names)&&n._subjects.state.next({...n._formState}),m.current&&(!Xd(n._options.mode).isOnSubmit||n._formState.isSubmitted)&&!Xd(n._options.reValidateMode).isOnSubmit)if(n._options.resolver)n._runSchema([s]).then(_=>{const A=He(_.errors,s),k=He(n._formState.errors,s);(k?!A&&k.type||A&&(k.type!==A.type||k.message!==A.message):A&&A.type)&&(A?fr(n._formState.errors,s,A):Kr(n._formState.errors,s),n._subjects.state.next({errors:n._formState.errors}))});else{const _=He(n._fields,s);_&&_._f&&!(Xd(n._options.reValidateMode).isOnSubmit&&Xd(n._options.mode).isOnSubmit)&&VN(_,n._names.disabled,n._formValues,n._options.criteriaMode===ca.all,n._options.shouldUseNativeValidation,!0).then(A=>!Qn(A)&&n._subjects.state.next({errors:_D(n._formState.errors,A,s)}))}n._subjects.state.next({name:s,values:Pr(n._formValues)}),n._names.focus&&fu(n._fields,(_,A)=>{if(n._names.focus&&A.startsWith(n._names.focus)&&_.focus)return _.focus(),1}),n._names.focus="",n._setValid(),m.current=!1},[l,s,n]),R.useEffect(()=>(!He(n._formValues,s)&&n._setFieldArray(s),()=>{const _=(A,k)=>{const T=He(n._fields,A);T&&T._f&&(T._f.mount=k)};n._options.shouldUnregister||i?n.unregister(s):_(s,!1)}),[s,n,a,i]),{swap:R.useCallback(j,[p,s,n]),move:R.useCallback(b,[p,s,n]),prepend:R.useCallback(y,[p,s,n]),append:R.useCallback(g,[p,s,n]),remove:R.useCallback(x,[p,s,n]),insert:R.useCallback(v,[p,s,n]),update:R.useCallback(S,[p,s,n]),replace:R.useCallback(C,[p,s,n]),fields:R.useMemo(()=>l.map((_,A)=>({..._,[a]:u.current[A]||Vo()})),[l,a])}}function Wt(e={}){const t=R.useRef(void 0),n=R.useRef(void 0),[s,a]=R.useState({isDirty:!1,isValidating:!1,isLoading:Ra(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Ra(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:s},e.defaultValues&&!Ra(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...l}=MX(e);t.current={...l,formState:s}}const i=t.current.control;return i._options=e,m0(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>a({...i._formState}),reRenderRoot:!0});return a(l=>({...l,isReady:!0})),i._formState.isReady=!0,o},[i]),R.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),R.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),R.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),R.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),R.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==s.isDirty&&i._subjects.state.next({isDirty:o})}},[i,s.isDirty]),R.useEffect(()=>{e.values&&!ro(e.values,n.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),n.current=e.values,a(o=>({...o}))):i._resetDefaultValues()},[i,e.values]),R.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=gD(s,i),t.current}var $X="Label",CD=N.forwardRef((e,t)=>r.jsx(gt.label,{...e,ref:t,onMouseDown:n=>{var a;n.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));CD.displayName=$X;var PD=CD;const DX=kp("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),br=N.forwardRef(({className:e,...t},n)=>r.jsx(PD,{ref:n,className:Le(DX(),e),...t}));br.displayName=PD.displayName;const Kt=gX,AD=N.createContext({}),ae=({...e})=>r.jsx(AD.Provider,{value:{name:e.name},children:r.jsx(bX,{...e})}),h0=()=>{const e=N.useContext(AD),t=N.useContext(kD),{getFieldState:n,formState:s}=Dp(),a=n(e.name,s);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=t;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...a}},kD=N.createContext({}),ne=N.forwardRef(({className:e,...t},n)=>{const s=N.useId();return r.jsx(kD.Provider,{value:{id:s},children:r.jsx("div",{ref:n,className:Le("space-y-2",e),...t})})});ne.displayName="FormItem";const re=N.forwardRef(({className:e,...t},n)=>{const{error:s,formItemId:a}=h0();return r.jsx(br,{ref:n,className:Le(s&&"text-destructive",e),htmlFor:a,...t})});re.displayName="FormLabel";const se=N.forwardRef(({...e},t)=>{const{error:n,formItemId:s,formDescriptionId:a,formMessageId:i}=h0();return r.jsx(qM,{ref:t,id:s,"aria-describedby":n?`${a} ${i}`:`${a}`,"aria-invalid":!!n,...e})});se.displayName="FormControl";const RX=N.forwardRef(({className:e,...t},n)=>{const{formDescriptionId:s}=h0();return r.jsx("p",{ref:n,id:s,className:Le("text-sm text-muted-foreground",e),...t})});RX.displayName="FormDescription";const fe=N.forwardRef(({className:e,children:t,...n},s)=>{const{error:a,formMessageId:i}=h0(),o=a?String(a==null?void 0:a.message):t;return o?r.jsx("p",{ref:s,id:i,className:Le("text-sm font-medium text-destructive",e),...n,children:o}):null});fe.displayName="FormMessage";function C_(e){const t=N.useRef({value:e,previous:e});return N.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var f0="Switch",[zX,YAe]=_s(f0),[FX,BX]=zX(f0),ED=N.forwardRef((e,t)=>{const{__scopeSwitch:n,name:s,checked:a,defaultChecked:i,required:o,disabled:l,value:d="on",onCheckedChange:u,form:h,...m}=e,[p,g]=N.useState(null),y=Zt(t,S=>g(S)),x=N.useRef(!1),v=p?h||!!p.closest("form"):!0,[j,b]=wo({prop:a,defaultProp:i??!1,onChange:u,caller:f0});return r.jsxs(FX,{scope:n,checked:j,disabled:l,children:[r.jsx(gt.button,{type:"button",role:"switch","aria-checked":j,"aria-required":o,"data-state":MD(j),"data-disabled":l?"":void 0,disabled:l,value:d,...m,ref:y,onClick:Ge(e.onClick,S=>{b(C=>!C),v&&(x.current=S.isPropagationStopped(),x.current||S.stopPropagation())})}),v&&r.jsx(ID,{control:p,bubbles:!x.current,name:s,value:d,checked:j,required:o,disabled:l,form:h,style:{transform:"translateX(-100%)"}})]})});ED.displayName=f0;var TD="SwitchThumb",OD=N.forwardRef((e,t)=>{const{__scopeSwitch:n,...s}=e,a=BX(TD,n);return r.jsx(gt.span,{"data-state":MD(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:t})});OD.displayName=TD;var qX="SwitchBubbleInput",ID=N.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:s=!0,...a},i)=>{const o=N.useRef(null),l=Zt(o,i),d=C_(n),u=US(t);return N.useEffect(()=>{const h=o.current;if(!h)return;const m=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(m,"checked").set;if(d!==n&&g){const y=new Event("click",{bubbles:s});g.call(h,n),h.dispatchEvent(y)}},[d,n,s]),r.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...a,tabIndex:-1,ref:l,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});ID.displayName=qX;function MD(e){return e?"checked":"unchecked"}var LD=ED,UX=OD;const Ct=N.forwardRef(({className:e,...t},n)=>r.jsx(LD,{className:Le("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:r.jsx(UX,{className:Le("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Ct.displayName=LD.displayName;class VX{constructor(){ge(this,"baseUrl","/api/admin/customers");ge(this,"request",async(t,n={})=>{const s=`${this.baseUrl}${t}`,a={headers:{"Content-Type":"application/json",...n.headers},...n};try{const i=await fetch(s,a);if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);return await i.json()}catch(i){throw console.error("Customer Admin API Request Error:",i),i}});ge(this,"getCustomers",async(t={})=>{const n=new URLSearchParams;t.page&&n.append("page",t.page.toString()),t.pageSize&&n.append("pageSize",t.pageSize.toString()),t.activeOnly!==void 0&&n.append("activeOnly",t.activeOnly.toString());const s=n.toString()?`?${n.toString()}`:"",a=await this.request(s);if(!a.success)throw new Error(a.message||"Failed to fetch customers");if(!a.data)throw new Error("No data returned from server");return a.data});ge(this,"getCustomerById",async t=>{const n=await this.request(`/${t}`);if(!n.success)throw new Error(n.message||"Failed to fetch customer");return n.data||null});ge(this,"createCustomer",async t=>{const n=await this.request("",{method:"POST",body:JSON.stringify(t)});if(!n.success)throw new Error(n.message||"Failed to create customer");if(!n.data)throw new Error("No data returned from server");return n.data});ge(this,"updateCustomer",async(t,n)=>{const s=await this.request(`/${t}`,{method:"PUT",body:JSON.stringify(n)});if(!s.success)throw new Error(s.message||"Failed to update customer");if(!s.data)throw new Error("No data returned from server");return s.data});ge(this,"toggleCustomerActivation",async t=>{const n=await this.request(`/${t}/toggle-activation`,{method:"PATCH"});if(!n.success)throw new Error(n.message||"Failed to toggle customer activation")});ge(this,"deleteCustomer",async t=>{const n=await this.request(`/${t}`,{method:"DELETE"});if(!n.success)throw new Error(n.message||"Failed to delete customer")});ge(this,"getCustomersDropdown",async(t=!0)=>{const n=new URLSearchParams;n.append("activeOnly",t.toString());const s=`/dropdown?${n.toString()}`,a=await this.request(s);if(!a.success)throw new Error(a.message||"Failed to fetch customers dropdown");return a.data||[]});ge(this,"searchCustomers",async t=>{const n=new URLSearchParams;n.append("searchTerm",t.searchTerm),t.page&&n.append("page",t.page.toString()),t.pageSize&&n.append("pageSize",t.pageSize.toString()),t.activeOnly!==void 0&&n.append("activeOnly",t.activeOnly.toString()),t.sortBy!==void 0&&n.append("sortBy",t.sortBy.toString());const s=`/search?${n.toString()}`,a=await this.request(s);if(!a.success)throw new Error(a.message||"Failed to search customers");if(!a.data)throw new Error("No data returned from server");return a.data})}}const Qi=new VX,WX=()=>{const{isRTL:e}=rt(),t=lr(),n=rr(),[s,a]=N.useState(""),[i,o]=N.useState("all"),[l,d]=N.useState(!1),[u,h]=N.useState(!1),[m,p]=N.useState(!1),[g,y]=N.useState(null),[x,v]=N.useState(null),[j,b]=N.useState(1),[S]=N.useState(10),C=Wt({defaultValues:{name:"",phoneNumber:"",isActive:!0}}),_=Wt({defaultValues:{name:"",phoneNumber:"",isActive:!0}}),{data:A,isLoading:k,error:T}=qe({queryKey:["customers",j,S,i],queryFn:()=>{const J={page:j,pageSize:S};return i==="active"?J.activeOnly=!0:i==="inactive"&&(J.activeOnly=!1),Qi.getCustomers(J)}}),{data:O}=qe({queryKey:["customers-all"],queryFn:()=>Qi.getCustomers({pageSize:1e3})}),M=it({mutationFn:Qi.createCustomer,onSuccess:()=>{n.invalidateQueries({queryKey:["customers"]}),n.invalidateQueries({queryKey:["customers-all"]}),be.success(e?"تم إنشاء العميل بنجاح":"Customer created successfully")},onError:J=>{be.error(J.message||(e?"حدث خطأ أثناء إنشاء العميل":"Error creating customer"))}}),z=it({mutationFn:({userId:J,data:ye})=>Qi.updateCustomer(J,ye),onSuccess:()=>{n.invalidateQueries({queryKey:["customers"]}),n.invalidateQueries({queryKey:["customers-all"]}),be.success(e?"تم تحديث العميل بنجاح":"Customer updated successfully")},onError:J=>{be.error(J.message||(e?"حدث خطأ أثناء تحديث العميل":"Error updating customer"))}}),F=it({mutationFn:Qi.toggleCustomerActivation,onSuccess:()=>{n.invalidateQueries({queryKey:["customers"]}),n.invalidateQueries({queryKey:["customers-all"]}),be.success(e?"تم تحديث حالة العميل":"Customer status updated")},onError:J=>{be.error(J.message||(e?"حدث خطأ أثناء تحديث حالة العميل":"Error updating customer status"))}}),Z=it({mutationFn:Qi.deleteCustomer,onSuccess:()=>{n.invalidateQueries({queryKey:["customers"]}),n.invalidateQueries({queryKey:["customers-all"]}),be.success(e?"تم حذف العميل بنجاح":"Customer deleted successfully")},onError:J=>{be.error(J.message||(e?"حدث خطأ أثناء حذف العميل":"Error deleting customer"))}}),D=(A==null?void 0:A.items.filter(J=>{var Se;return J.name.toLowerCase().includes(s.toLowerCase())||((Se=J.phoneNumber)==null?void 0:Se.toLowerCase().includes(s.toLowerCase()))}))||[],$={total:(O==null?void 0:O.totalCount)||0,active:(O==null?void 0:O.items.filter(J=>J.isActive).length)||0,inactive:(O==null?void 0:O.items.filter(J=>!J.isActive).length)||0},E=async J=>{M.mutate(J,{onSuccess:()=>{d(!1),C.reset()}})},V=async J=>{g&&z.mutate({userId:g.userId,data:J},{onSuccess:()=>{h(!1),y(null),_.reset()}})},q=J=>{y(J),_.reset({name:J.name,phoneNumber:J.phoneNumber||"",isActive:J.isActive}),h(!0)},U=J=>{v(J),p(!0)},Q=J=>{t(`/locations?userId=${J.userId}`)},he=J=>r.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1.5 rounded-full text-xs font-medium transition-all duration-200 ${J?"bg-emerald-100 text-emerald-700 border border-emerald-200 dark:bg-emerald-900/20 dark:text-emerald-400 dark:border-emerald-800":"bg-red-50 text-red-600 border border-red-200 dark:bg-red-900/20 dark:text-red-400 dark:border-red-800"}`,children:[r.jsx("div",{className:`w-2 h-2 rounded-full animate-pulse ${J?"bg-emerald-500 shadow-sm shadow-emerald-500/50":"bg-red-500 shadow-sm shadow-red-500/50"}`}),r.jsx("span",{className:"font-semibold",children:e?J?"نشط":"غير نشط":J?"Active":"Inactive"})]}),ue=J=>new Date(J).toLocaleDateString(e?"ar-SA":"en-US"),ce=J=>J||(e?"غير متوفر":"Not available"),G=(J,ye=30)=>J.length<=ye?J:J.substring(0,ye)+"...";return r.jsx(lt,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-foreground",children:e?"إدارة العملاء":"Customer Management"}),r.jsx("p",{className:"text-muted-foreground",children:e?"إدارة العملاء وحساباتهم":"Manage customers and their accounts"})]}),r.jsxs(B,{className:"gradient-primary flex items-center gap-2",onClick:()=>d(!0),children:[r.jsx(ot,{className:"h-4 w-4"}),e?"إضافة عميل جديد":"Add New Customer"]})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[r.jsx(Y,{className:"border-0 shadow-elegant",children:r.jsx(ee,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:e?"إجمالي العملاء":"Total Customers"}),r.jsx("p",{className:"text-2xl font-bold",children:$.total})]}),r.jsx(Gr,{className:"h-8 w-8 text-primary"})]})})}),r.jsx(Y,{className:"border-0 shadow-elegant",children:r.jsx(ee,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:e?"العملاء النشطون":"Active Customers"}),r.jsx("p",{className:"text-2xl font-bold text-success",children:$.active})]}),r.jsx(Or,{className:"h-8 w-8 text-success"})]})})}),r.jsx(Y,{className:"border-0 shadow-elegant",children:r.jsx(ee,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:e?"العملاء غير النشطين":"Inactive Customers"}),r.jsx("p",{className:"text-2xl font-bold text-muted-foreground",children:$.inactive})]}),r.jsx(jn,{className:"h-8 w-8 text-muted-foreground"})]})})})]}),r.jsx(Y,{className:"border-0 shadow-elegant",children:r.jsx(ee,{className:"p-6",children:r.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(Qr,{className:`absolute top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground ${e?"right-3":"left-3"}`}),r.jsx(Oe,{placeholder:e?"البحث في العملاء...":"Search customers...",value:s,onChange:J=>a(J.target.value),className:e?"pr-10 pl-4":"pl-10 pr-4"})]}),r.jsx("div",{className:"flex gap-2",children:r.jsxs(Ut,{children:[r.jsx(Vt,{asChild:!0,children:r.jsxs(B,{variant:"outline",className:"flex items-center gap-2 hover:border-primary/50 hover:bg-primary/5 transition-all duration-200",children:[r.jsx("div",{className:`w-2 h-2 rounded-full ${i==="active"?"bg-emerald-500":i==="inactive"?"bg-red-500":"bg-gradient-to-r from-emerald-500 to-red-500"}`}),e?i==="all"?"جميع الحالات":i==="active"?"نشط":"غير نشط":i==="all"?"All Status":i==="active"?"Active":"Inactive",r.jsx(vn,{className:"h-4 w-4 opacity-50"})]})}),r.jsxs(Ft,{align:"end",className:"w-48",children:[r.jsxs(ke,{onClick:()=>o("all"),className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 rounded-full bg-gradient-to-r from-emerald-500 to-red-500"}),e?"جميع الحالات":"All Status"]}),r.jsxs(ke,{onClick:()=>o("active"),className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500"}),e?"نشط":"Active"]}),r.jsxs(ke,{onClick:()=>o("inactive"),className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500"}),e?"غير نشط":"Inactive"]})]})]})})]})})}),r.jsxs(Y,{className:"border-0 shadow-elegant",children:[r.jsx(Pe,{children:r.jsxs(Ie,{className:"flex items-center gap-2",children:[r.jsx(Gr,{className:"h-5 w-5 text-primary"}),e?`${D.length} عميل`:`${D.length} Customers`]})}),r.jsx(ee,{className:"overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs(On,{dir:e?"rtl":"ltr",className:`${e?"text-right":"text-left"} min-w-full`,children:[r.jsx(In,{children:r.jsxs(Xe,{className:e?"text-right":"text-left",children:[r.jsx(Re,{className:"text-start min-w-[200px]",children:e?"اسم العميل":"Customer Name"}),r.jsx(Re,{className:"text-start min-w-[200px]",children:e?"رقم الهاتف":"Phone Number"}),r.jsx(Re,{className:"text-start min-w-[200px]",children:e?"الحالة":"Status"}),r.jsx(Re,{className:"text-start min-w-[200px]",children:e?"تاريخ الإنشاء":"Created Date"}),r.jsx(Re,{className:"text-center min-w-[80px]",children:e?"الإجراءات":"Actions"})]})}),r.jsx(Mn,{children:k?Array.from({length:S},(J,ye)=>r.jsxs(Xe,{children:[r.jsx(xe,{children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-muted animate-pulse"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"h-4 w-32 bg-muted rounded animate-pulse"}),r.jsx("div",{className:"h-3 w-16 bg-muted rounded animate-pulse"})]})]})}),r.jsx(xe,{children:r.jsx("div",{className:"h-4 w-24 bg-muted rounded animate-pulse"})}),r.jsx(xe,{children:r.jsx("div",{className:"h-6 w-16 bg-muted rounded animate-pulse"})}),r.jsx(xe,{children:r.jsx("div",{className:"h-4 w-20 bg-muted rounded animate-pulse"})}),r.jsx(xe,{children:r.jsx("div",{className:"h-8 w-8 bg-muted rounded animate-pulse"})})]},ye)):T?r.jsx(Xe,{children:r.jsx(xe,{colSpan:5,className:"text-center py-8",children:r.jsx("div",{className:"flex flex-col items-center gap-2",children:r.jsx("div",{className:"text-destructive",children:e?"خطأ في تحميل البيانات":"Error loading data"})})})}):D.length===0?r.jsx(Xe,{children:r.jsx(xe,{colSpan:5,className:"text-center py-8",children:r.jsxs("div",{className:"flex flex-col items-center gap-2",children:[r.jsx(Gr,{className:"w-12 h-12 text-muted-foreground"}),r.jsx("p",{className:"text-muted-foreground",children:e?"لا توجد عملاء متاحون":"No customers available"})]})})}):D.map(J=>r.jsxs(Xe,{className:`hover:bg-muted/50 ${e?"text-right":"text-left"}`,children:[r.jsx(xe,{className:e?"text-right":"text-left",children:r.jsxs("div",{className:`flex items-center gap-3 ${e?"text-right":"flex-row"}`,children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-primary flex items-center justify-center flex-shrink-0",children:r.jsx(Gr,{className:"h-4 w-4 text-primary-foreground"})}),r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsx("p",{className:"font-medium text-sm truncate max-w-[200px]",children:G(J.name,25)}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:["ID: #",J.userId]})]})]})}),r.jsx(xe,{className:e?"text-right":"text-left",children:r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Yg,{className:"w-3 h-3"}),ce(J.phoneNumber)]})}),r.jsx(xe,{className:e?"text-right":"text-left",children:he(J.isActive)}),r.jsx(xe,{className:e?"text-right":"text-left",children:r.jsx("div",{className:"text-sm text-muted-foreground",children:ue(J.createdAt)})}),r.jsx(xe,{className:"text-center",children:r.jsxs(Ut,{children:[r.jsx(Vt,{asChild:!0,children:r.jsx(B,{variant:"ghost",className:"h-8 w-8 p-0",children:r.jsx(bn,{className:"h-4 w-4"})})}),r.jsxs(Ft,{align:e?"start":"end",children:[r.jsxs(ke,{className:`flex items-center gap-2 ${e?"flex-row-reverse":"flex-row"}`,onClick:()=>U(J),children:[r.jsx(Fr,{className:"h-4 w-4"}),e?"عرض التفاصيل":"View Details"]}),r.jsxs(ke,{className:`flex items-center gap-2 ${e?"flex-row-reverse":"flex-row"}`,onClick:()=>Q(J),children:[r.jsx(zt,{className:"h-4 w-4"}),e?"عرض المواقع":"View Locations"]}),r.jsxs(ke,{className:`flex items-center gap-2 ${e?"flex-row-reverse":"flex-row"}`,onClick:()=>q(J),children:[r.jsx(tr,{className:"h-4 w-4"}),e?"تحرير":"Edit"]}),r.jsxs(ke,{className:`flex items-center gap-2 ${e?"flex-row-reverse":"flex-row"}`,onClick:()=>F.mutate(J.userId),children:[r.jsx(Cs,{className:"h-4 w-4"}),e?"تغيير الحالة":"Toggle Status"]}),r.jsxs(ke,{className:`flex items-center gap-2 text-destructive ${e?"flex-row-reverse":"flex-row"}`,onClick:()=>Z.mutate(J.userId),children:[r.jsx(xt,{className:"h-4 w-4"}),e?"حذف":"Delete"]})]})]})})]},J.userId))})]})})})]}),A&&!k&&r.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e?"عرض":"Showing"," ",(j-1)*S+1," ",e?"إلى":"to"," ",Math.min(j*S,A.totalCount)," ",e?"من":"of"," ",A.totalCount," ",e?"عميل":"customers"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(B,{variant:"outline",size:"sm",onClick:()=>b(J=>Math.max(J-1,1)),disabled:!A.hasPreviousPage,children:[e?r.jsx(Nt,{className:"h-4 w-4"}):r.jsx(At,{className:"h-4 w-4"}),e?"السابق":"Previous"]}),r.jsx("div",{className:"flex items-center gap-1",children:r.jsxs("span",{className:"text-sm text-muted-foreground",children:[e?"صفحة":"Page"," ",j," ",e?"من":"of"," ",A.totalPages]})}),r.jsxs(B,{variant:"outline",size:"sm",onClick:()=>b(J=>J+1),disabled:!A.hasNextPage,children:[e?"التالي":"Next",e?r.jsx(At,{className:"h-4 w-4"}):r.jsx(Nt,{className:"h-4 w-4"})]})]})]}),r.jsx(Mt,{open:l,onOpenChange:d,children:r.jsxs(Et,{className:"sm:max-w-md",children:[r.jsxs(Tt,{children:[r.jsx(Ot,{children:e?"إضافة عميل جديد":"Add New Customer"}),r.jsx($t,{children:e?"أدخل معلومات العميل الجديد":"Enter the details for the new customer"})]}),r.jsx(Kt,{...C,children:r.jsxs("form",{onSubmit:C.handleSubmit(E),className:"space-y-4",children:[r.jsx(ae,{control:C.control,name:"name",rules:{required:e?"اسم العميل مطلوب":"Customer name is required"},render:({field:J})=>r.jsxs(ne,{children:[r.jsx(re,{children:e?"اسم العميل":"Customer Name"}),r.jsx(se,{children:r.jsx(Oe,{placeholder:e?"مثال: أحمد محمد":"e.g., John Doe",...J})}),r.jsx(fe,{})]})}),r.jsx(ae,{control:C.control,name:"phoneNumber",rules:{required:e?"رقم الهاتف مطلوب":"Phone number is required",pattern:{value:/^\+?[\d\s\-()]+$/,message:e?"رقم هاتف غير صحيح":"Invalid phone number format"}},render:({field:J})=>r.jsxs(ne,{children:[r.jsx(re,{children:e?"رقم الهاتف":"Phone Number"}),r.jsx(se,{children:r.jsx(Oe,{placeholder:e?"مثال: +966501234567":"e.g., +1234567890",...J})}),r.jsx(fe,{})]})}),r.jsx(ae,{control:C.control,name:"isActive",render:({field:J})=>r.jsxs(ne,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[r.jsxs("div",{className:"space-y-0.5",children:[r.jsx(re,{className:"text-base",children:e?"العميل نشط":"Active Customer"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:e?"تفعيل أو إلغاء تفعيل العميل":"Enable or disable this customer"})]}),r.jsx(se,{children:r.jsx(Ct,{checked:J.value,onCheckedChange:J.onChange})})]})}),r.jsxs(Lt,{children:[r.jsx(B,{type:"button",variant:"outline",onClick:()=>d(!1),children:e?"إلغاء":"Cancel"}),r.jsx(B,{type:"submit",className:"gradient-primary",disabled:M.isPending,children:M.isPending?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary-foreground"}),e?"جاري الإنشاء...":"Creating..."]}):e?"إنشاء":"Create"})]})]})})]})}),r.jsx(Mt,{open:u,onOpenChange:h,children:r.jsxs(Et,{className:"sm:max-w-md",children:[r.jsxs(Tt,{children:[r.jsx(Ot,{children:e?"تحرير العميل":"Edit Customer"}),r.jsx($t,{children:e?"قم بتحديث معلومات العميل":"Update the customer details"})]}),r.jsx(Kt,{..._,children:r.jsxs("form",{onSubmit:_.handleSubmit(V),className:"space-y-4",children:[r.jsx(ae,{control:_.control,name:"name",rules:{required:e?"اسم العميل مطلوب":"Customer name is required"},render:({field:J})=>r.jsxs(ne,{children:[r.jsx(re,{children:e?"اسم العميل":"Customer Name"}),r.jsx(se,{children:r.jsx(Oe,{...J})}),r.jsx(fe,{})]})}),r.jsx(ae,{control:_.control,name:"phoneNumber",rules:{pattern:{value:/^\+?[\d\s\-()]+$/,message:e?"رقم هاتف غير صحيح":"Invalid phone number format"}},render:({field:J})=>r.jsxs(ne,{children:[r.jsx(re,{children:e?"رقم الهاتف":"Phone Number"}),r.jsx(se,{children:r.jsx(Oe,{...J})}),r.jsx(fe,{})]})}),r.jsx(ae,{control:_.control,name:"isActive",render:({field:J})=>r.jsxs(ne,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[r.jsxs("div",{className:"space-y-0.5",children:[r.jsx(re,{className:"text-base",children:e?"العميل نشط":"Active Customer"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:e?"تفعيل أو إلغاء تفعيل العميل":"Enable or disable this customer"})]}),r.jsx(se,{children:r.jsx(Ct,{checked:J.value,onCheckedChange:J.onChange})})]})}),r.jsxs(Lt,{children:[r.jsx(B,{type:"button",variant:"outline",onClick:()=>h(!1),children:e?"إلغاء":"Cancel"}),r.jsx(B,{type:"submit",className:"gradient-primary",disabled:z.isPending,children:z.isPending?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary-foreground"}),e?"جاري التحديث...":"Updating..."]}):e?"حفظ التغييرات":"Save Changes"})]})]})})]})}),r.jsx(Mt,{open:m,onOpenChange:p,children:r.jsxs(Et,{className:"sm:max-w-2xl",children:[r.jsxs(Tt,{children:[r.jsxs(Ot,{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-primary flex items-center justify-center",children:r.jsx(Gr,{className:"h-5 w-5 text-primary-foreground"})}),e?"تفاصيل العميل":"Customer Details"]}),r.jsx($t,{children:e?"عرض شامل لمعلومات العميل":"Comprehensive view of customer information"})]}),x&&r.jsx("div",{className:"space-y-6",children:r.jsxs(Y,{className:"border-0 shadow-sm",children:[r.jsx(Pe,{className:"pb-3",children:r.jsxs(Ie,{className:"text-lg flex items-center gap-2",children:[r.jsx(Gr,{className:"h-5 w-5 text-primary"}),e?"المعلومات الأساسية":"Basic Information"]})}),r.jsx(ee,{className:"space-y-4",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:e?"اسم العميل":"Customer Name"}),r.jsx("div",{className:"p-3 bg-muted/50 rounded-lg",children:r.jsx("span",{className:"text-sm font-medium",children:x.name})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:e?"معرف المستخدم":"User ID"}),r.jsx("div",{className:"p-3 bg-muted/50 rounded-lg",children:r.jsx("span",{className:"text-sm font-medium",children:x.userId})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:e?"رقم الهاتف":"Phone Number"}),r.jsx("div",{className:"p-3 bg-muted/50 rounded-lg",children:r.jsxs("div",{className:`flex items-center gap-2 ${e?"flex-row-reverse":"flex-row"}`,children:[r.jsx(Yg,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{className:"text-sm",children:ce(x.phoneNumber)})]})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:e?"الحالة":"Status"}),r.jsx("div",{className:"p-3",children:he(x.isActive)})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:e?"تاريخ الإنشاء":"Created Date"}),r.jsx("div",{className:"p-3 bg-muted/50 rounded-lg",children:r.jsx("span",{className:"text-sm",children:ue(x.createdAt)})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:e?"تاريخ التحديث":"Last Modified"}),r.jsx("div",{className:"p-3 bg-muted/50 rounded-lg",children:r.jsx("span",{className:"text-sm",children:ue(x.updatedAt)})})]})]})})]})}),r.jsxs(Lt,{children:[r.jsx(B,{type:"button",variant:"outline",onClick:()=>{p(!1),v(null)},children:e?"إغلاق":"Close"}),r.jsxs(B,{type:"button",className:"gradient-primary",onClick:()=>{x&&(q(x),p(!1),v(null))},children:[r.jsx(tr,{className:"h-4 w-4 mr-2"}),e?"تحرير العميل":"Edit Customer"]})]})]})})]})})};class KX{constructor(){ge(this,"baseUrl","/api/admin/providers");ge(this,"request",async(t,n={})=>{const s=`${this.baseUrl}${t}`,a={headers:{"Content-Type":"application/json",...n.headers},...n};try{const i=await fetch(s,a);if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);return await i.json()}catch(i){throw console.error("Provider API Request Error:",i),i}});ge(this,"getAll",async(t={})=>{const n=new URLSearchParams;t.page!==void 0&&n.append("page",t.page.toString()),t.pageSize!==void 0&&n.append("pageSize",t.pageSize.toString()),t.activeOnly!==void 0&&n.append("activeOnly",t.activeOnly.toString()),t.parentId!==void 0&&n.append("parentId",t.parentId.toString());const s=n.toString()?`?${n.toString()}`:"",a=await this.request(s);if(!a.success)throw new Error(a.message||"Failed to fetch providers");if(!a.data)throw new Error("No data returned from server");return console.log(a.data),a.data});ge(this,"getById",async t=>{const n=`/api/providers/${t}`,a=await fetch(n,{headers:{"Content-Type":"application/json"}});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const i=await a.json();if(!i.success)throw new Error(i.message||"Failed to fetch provider");if(!i.data)throw new Error("No data returned from server");return i.data});ge(this,"createProvider",async t=>{const n=await this.request("",{method:"POST",body:JSON.stringify(t)});if(!n.success)throw new Error(n.message||"Failed to create provider");if(!n.data)throw new Error("No data returned from server");return n.data});ge(this,"updateProvider",async(t,n)=>{const s=await this.request(`/${t}`,{method:"PUT",body:JSON.stringify(n)});if(!s.success)throw new Error(s.message||"Failed to update provider");if(!s.data)throw new Error("No data returned from server");return s.data})}}const Ef=new KX,HX="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48IS0tIFVwbG9hZGVkIHRvOiBTVkcgUmVwbywgd3d3LnN2Z3JlcG8uY29tLCBHZW5lcmF0b3I6IFNWRyBSZXBvIE1peGVyIFRvb2xzIC0tPgo8c3ZnIHdpZHRoPSI4MDBweCIgaGVpZ2h0PSI4MDBweCIgdmlld0JveD0iMCAwIDEyMCAxMjAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxMjAiIGhlaWdodD0iMTIwIiBmaWxsPSIjRUZGMUYzIi8+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMzAuMjUgMzguMjVIMzguMjVWMzAuMjVDMzguMjUgMjcuOTA5IDQwLjE1OSAyNiA0Mi41IDI2SDc3LjVDNzkuODQxIDI2IDgxLjc1IDI3LjkwOSA4MS43NSAzMC4yNVYzOC4yNUg4OS43NUM5Mi4wOTEgMzguMjUgOTQgNDAuMTU5IDk0IDQyLjVWNzcuNUM5NCA3OS44NDEgOTIuMDkxIDgxLjc1IDg5Ljc1IDgxLjc1SDMwLjI1QzI3LjkwOSA4MS43NSAyNiA3OS44NDEgMjYgNzcuNVY0Mi41QzI2IDQwLjE1OSAyNy45MDkgMzguMjUgMzAuMjUgMzguMjVaTTQyLjUgMzAuMjVWMzguMjVINzcuNVYzMC4yNUg0Mi41Wk0zMCA0Mi41VjY4LjVINDIuNVY0Mi41SDMwWk00NiA0Mi41Vjc3LjVIOTBWNDIuNUg0NlpNNDYgNzNINTJWNTJINDZWNzNaTTU2IDczSDYyVjUySDU2VjczWk02NiA3M0g3MlY1Mkg2NlY3M1pNNzYgNzNIODJWNTJINzZWNzNaTTg2IDczSDkwVjUySDg2VjczWk0zNCA3M0g0Mi41VjUySDM0Vjczek0zNCA0NkgzNFY0OEgzNFY0NloiIGZpbGw9IiM2ODc3ODciLz4KPC9zdmc+",GX=({provider:e,size:t="sm"})=>{var o,l;const[n,s]=N.useState(!1),a={sm:"w-8 h-8",md:"w-12 h-12",lg:"w-16 h-16"},i=(l=(o=e==null?void 0:e.images)==null?void 0:o[0])!=null&&l.url&&!n?e.images[0].url:HX;return r.jsx("div",{className:`${a[t]} rounded-full bg-gradient-to-br from-primary/10 to-primary/5 flex items-center justify-center overflow-hidden border-2 border-border/20`,children:r.jsx("img",{src:i,alt:(e==null?void 0:e.businessName)||"Provider",className:"w-full h-full object-cover",onError:()=>s(!0)})})},ZX=()=>{const[e,t]=N.useState(""),[n,s]=N.useState(null),[a,i]=N.useState(!1),[o,l]=N.useState(null),[d,u]=N.useState(1),[h]=N.useState(10),{isRTL:m}=rt(),p=lr(),g=()=>{p("/providers/create")},y=T=>{p(`/providers/${T}`)},x=T=>{p(`/providers/${T}/edit`)},v=N.useCallback(async(T=d)=>{try{i(!0),l(null);const O=await Ef.getAll({page:T,pageSize:h});s(O),u(T)}catch(O){l(O instanceof Error?O.message:"An error occurred while fetching providers"),console.error("Failed to fetch providers:",O)}finally{i(!1)}},[d,h]);N.useEffect(()=>{v(1)},[v]);const j=(n==null?void 0:n.items)||[],b=j.filter(T=>{var O;return T.businessName.toLowerCase().includes(e.toLowerCase())||((O=T.phoneNumber)==null?void 0:O.toLowerCase().includes(e.toLowerCase()))||T.description.toLowerCase().includes(e.toLowerCase())}),S=T=>{T>=1&&T<=((n==null?void 0:n.totalPages)||1)&&v(T)},C=()=>{n!=null&&n.hasPreviousPage&&S(d-1)},_=()=>{n!=null&&n.hasNextPage&&S(d+1)},A=T=>r.jsxs(Me,{variant:T?"default":"secondary",className:"gap-1",children:[T?r.jsx(Or,{className:"w-3 h-3"}):r.jsx(jn,{className:"w-3 h-3"}),T?m?"نشط":"Active":m?"غير نشط":"Inactive"]}),k=T=>r.jsxs("div",{className:"flex items-center gap-1",children:[Array.from({length:5},(O,M)=>r.jsx(Kc,{className:`w-4 h-4 ${M<T?"text-yellow-400 fill-yellow-400":"text-gray-300"}`},M)),r.jsxs("span",{className:"ml-1 text-sm text-muted-foreground",children:["(",T,")"]})]});return r.jsx(lt,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:m?"مقدمو الخدمات":"Providers"}),r.jsx("p",{className:"text-muted-foreground",children:m?"إدارة مقدمي الخدمات ومعلوماتهم التجارية":"Manage service providers and their business information"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(B,{variant:"outline",size:"sm",onClick:()=>v(d),disabled:a,className:"gap-2",children:[a?r.jsx(dn,{className:"w-4 h-4 animate-spin"}):r.jsx(Fr,{className:"w-4 h-4"}),m?"تحديث":"Refresh"]}),r.jsxs(B,{onClick:g,className:"gap-2",children:[r.jsx(ot,{className:"w-4 h-4"}),m?"إضافة مقدم خدمة":"Add Provider"]})]})]}),o&&r.jsxs(wn,{variant:"destructive",children:[r.jsx(Ks,{className:"h-4 w-4"}),r.jsxs(Nn,{className:"flex items-center justify-between",children:[r.jsx("span",{children:o}),r.jsx(B,{variant:"outline",size:"sm",onClick:()=>v(d),disabled:a,className:"ml-2",children:a?r.jsx(dn,{className:"w-4 h-4 animate-spin"}):m?"إعادة المحاولة":"Retry"})]})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[r.jsx(Y,{className:"border-0 shadow-elegant",children:r.jsx(ee,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:m?"إجمالي مقدمي الخدمات":"Total Providers"}),r.jsx("p",{className:"text-2xl font-bold",children:a?r.jsx(Qe,{className:"h-8 w-12"}):(n==null?void 0:n.totalCount)||0})]}),r.jsx(ss,{className:"h-8 w-8 text-primary"})]})})}),r.jsx(Y,{className:"border-0 shadow-elegant",children:r.jsx(ee,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:m?"نشطون":"Active"}),r.jsx("p",{className:"text-2xl font-bold text-success",children:a?r.jsx(Qe,{className:"h-8 w-12"}):j.filter(T=>T.isActive).length})]}),r.jsx(Or,{className:"h-8 w-8 text-success"})]})})}),r.jsx(Y,{className:"border-0 shadow-elegant",children:r.jsx(ee,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:m?"متوسط التقييم":"Average Rating"}),r.jsx("p",{className:"text-2xl font-bold text-yellow-500",children:a?r.jsx(Qe,{className:"h-8 w-16"}):j.length>0?(j.reduce((T,O)=>T+O.rating,0)/j.length).toFixed(1):"0.0"})]}),r.jsx(Kc,{className:"h-8 w-8 text-yellow-500"})]})})}),r.jsx(Y,{className:"border-0 shadow-elegant",children:r.jsx(ee,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:m?"مع ترجمات":"With Translations"}),r.jsx("p",{className:"text-2xl font-bold",children:a?r.jsx(Qe,{className:"h-8 w-12"}):j.filter(T=>T.localizations.length>0).length})]}),r.jsx($e,{className:"h-8 w-8 text-primary"})]})})})]}),r.jsx(Y,{className:"border-0 shadow-elegant",children:r.jsx(ee,{className:"p-6",children:r.jsx("div",{className:"flex items-center gap-4",children:r.jsxs("div",{className:"relative flex-1",children:[r.jsx(Qr,{className:`absolute top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground ${m?"right-3":"left-3"}`}),r.jsx(Oe,{placeholder:m?"البحث في مقدمي الخدمات...":"Search providers...",value:e,onChange:T=>t(T.target.value),className:m?"pr-10 pl-4":"pl-10 pr-4"})]})})})}),r.jsxs(Y,{className:"border-0 shadow-elegant",children:[r.jsx(Pe,{children:r.jsxs(Ie,{className:"flex items-center gap-2",children:[r.jsx(ss,{className:"h-5 w-5 text-primary"}),m?`${b.length} مقدم خدمة`:`${b.length} Providers`]})}),r.jsx(ee,{children:r.jsxs(On,{dir:m?"rtl":"ltr",children:[r.jsx(In,{children:r.jsxs(Xe,{className:m?"text-right":"text-left",children:[r.jsx(Re,{className:m?"text-right":"text-left",children:m?"اسم الشركة":"Business Name"}),r.jsx(Re,{className:m?"text-right":"text-left",children:m?"الهاتف":"Phone"}),r.jsx(Re,{className:m?"text-right":"text-left",children:m?"التقييم":"Rating"}),r.jsx(Re,{className:m?"text-right":"text-left",children:m?"الشركة الأم":"Parent Company"}),r.jsx(Re,{className:m?"text-right":"text-left",children:m?"الحالة":"Status"}),r.jsx(Re,{className:m?"text-right":"text-left",children:m?"الترجمات":"Translations"}),r.jsx(Re,{className:"text-center",children:m?"الإجراءات":"Actions"})]})}),r.jsx(Mn,{children:a?Array.from({length:h},(T,O)=>r.jsxs(Xe,{children:[r.jsx(xe,{children:r.jsx(Qe,{className:"h-4 w-48"})}),r.jsx(xe,{children:r.jsx(Qe,{className:"h-4 w-32"})}),r.jsx(xe,{children:r.jsx(Qe,{className:"h-4 w-24"})}),r.jsx(xe,{children:r.jsx(Qe,{className:"h-4 w-32"})}),r.jsx(xe,{children:r.jsx(Qe,{className:"h-6 w-16"})}),r.jsx(xe,{children:r.jsx(Qe,{className:"h-6 w-8"})}),r.jsx(xe,{children:r.jsx(Qe,{className:"h-8 w-8 rounded"})})]},O)):b.length===0?r.jsx(Xe,{children:r.jsx(xe,{colSpan:7,className:"text-center py-8",children:r.jsxs("div",{className:"flex flex-col items-center gap-2",children:[r.jsx(ss,{className:"w-12 h-12 text-muted-foreground"}),r.jsx("p",{className:"text-muted-foreground",children:m?"لا توجد مقدمي خدمات":"No providers found"})]})})}):b.map(T=>r.jsxs(Xe,{className:`hover:bg-muted/50 ${m?"text-right":"text-left"}`,children:[r.jsx(xe,{className:m?"text-right":"text-left",children:r.jsxs("div",{className:`flex items-center gap-3 ${m?"text-right":"flex-row"}`,children:[r.jsx(GX,{provider:T}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:T.businessName}),r.jsx("div",{className:"text-sm text-muted-foreground max-w-xs truncate",title:T.description,children:T.description})]})]})}),r.jsx(xe,{className:m?"text-right":"text-left",children:r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Yg,{className:"w-3 h-3"}),T.phoneNumber||"N/A"]})}),r.jsx(xe,{className:m?"text-right":"text-left",children:k(T.rating)}),r.jsx(xe,{className:m?"text-right":"text-left",children:r.jsx(Me,{variant:"outline",children:T.parentBusinessName||(m?"لا يوجد":"None")})}),r.jsx(xe,{className:m?"text-right":"text-left",children:A(T.isActive)}),r.jsx(xe,{className:m?"text-right":"text-left",children:r.jsxs("div",{className:`flex flex-wrap gap-1 ${m?"text-right justify-start":"justify-start"}`,children:[r.jsxs(Me,{variant:"outline",className:"gap-1",children:[r.jsx(qt,{className:"w-3 h-3"}),T.localizations.length]}),T.localizations.length===0&&r.jsx("span",{className:"text-xs text-muted-foreground",children:m?"لا توجد ترجمات":"No translations"})]})}),r.jsx(xe,{children:r.jsxs(Ut,{children:[r.jsx(Vt,{asChild:!0,children:r.jsx(B,{variant:"ghost",className:"h-8 w-8 p-0",children:r.jsx(bn,{className:"h-4 w-4"})})}),r.jsxs(Ft,{align:m?"start":"end",children:[r.jsxs(ke,{className:`flex items-center gap-2 ${m?"flex-row-reverse":"flex-row"}`,onClick:()=>y(T.userId),children:[r.jsx(Fr,{className:"w-4 h-4"}),m?"عرض التفاصيل":"View Details"]}),r.jsxs(ke,{className:`flex items-center gap-2 ${m?"flex-row-reverse":"flex-row"}`,onClick:()=>x(T.userId),children:[r.jsx(tr,{className:"w-4 h-4"}),m?"تحرير":"Edit"]}),r.jsxs(ke,{className:`flex items-center gap-2 ${m?"flex-row-reverse":"flex-row"}`,children:[r.jsx(Cs,{className:"w-4 h-4"}),T.isActive?m?"إلغاء تفعيل":"Deactivate":m?"تفعيل":"Activate"]}),r.jsxs(ke,{className:`flex items-center gap-2 text-destructive ${m?"flex-row-reverse":"flex-row"}`,children:[r.jsx(xt,{className:"w-4 h-4"}),m?"حذف":"Delete"]})]})]})})]},T.userId))})]})})]}),n&&!a&&r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[m?"عرض":"Showing"," ",(d-1)*h+1," ",m?"إلى":"to"," ",Math.min(d*h,n.totalCount)," ",m?"من":"of"," ",n.totalCount," ",m?"مقدم خدمة":"providers"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(B,{variant:"outline",size:"sm",onClick:C,disabled:!n.hasPreviousPage,children:[r.jsx(At,{className:"w-4 h-4"}),m?"السابق":"Previous"]}),r.jsx("div",{className:"flex items-center gap-1",children:r.jsxs("span",{className:"text-sm text-muted-foreground",children:[m?"صفحة":"Page"," ",d," ",m?"من":"of"," ",n.totalPages]})}),r.jsxs(B,{variant:"outline",size:"sm",onClick:_,disabled:!n.hasNextPage,children:[m?"التالي":"Next",r.jsx(Nt,{className:"w-4 h-4"})]})]})]})]})})};function Y4(e,[t,n]){return Math.min(n,Math.max(t,e))}var QX=[" ","Enter","ArrowUp","ArrowDown"],YX=[" ","Enter"],Yc="Select",[p0,x0,XX]=By(Yc),[Pm,XAe]=_s(Yc,[XX,_m]),g0=_m(),[JX,Vl]=Pm(Yc),[eJ,tJ]=Pm(Yc),$D=e=>{const{__scopeSelect:t,children:n,open:s,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:d,dir:u,name:h,autoComplete:m,disabled:p,required:g,form:y}=e,x=g0(t),[v,j]=N.useState(null),[b,S]=N.useState(null),[C,_]=N.useState(!1),A=t0(u),[k,T]=wo({prop:s,defaultProp:a??!1,onChange:i,caller:Yc}),[O,M]=wo({prop:o,defaultProp:l,onChange:d,caller:Yc}),z=N.useRef(null),F=v?y||!!v.closest("form"):!0,[Z,D]=N.useState(new Set),$=Array.from(Z).map(E=>E.props.value).join(";");return r.jsx(YL,{...x,children:r.jsxs(JX,{required:g,scope:t,trigger:v,onTriggerChange:j,valueNode:b,onValueNodeChange:S,valueNodeHasChildren:C,onValueNodeHasChildrenChange:_,contentId:Si(),value:O,onValueChange:M,open:k,onOpenChange:T,dir:A,triggerPointerDownPosRef:z,disabled:p,children:[r.jsx(p0.Provider,{scope:t,children:r.jsx(eJ,{scope:e.__scopeSelect,onNativeOptionAdd:N.useCallback(E=>{D(V=>new Set(V).add(E))},[]),onNativeOptionRemove:N.useCallback(E=>{D(V=>{const q=new Set(V);return q.delete(E),q})},[]),children:n})}),F?r.jsxs(iR,{"aria-hidden":!0,required:g,tabIndex:-1,name:h,autoComplete:m,value:O,onChange:E=>M(E.target.value),disabled:p,form:y,children:[O===void 0?r.jsx("option",{value:""}):null,Array.from(Z)]},$):null]})})};$D.displayName=Yc;var DD="SelectTrigger",RD=N.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:s=!1,...a}=e,i=g0(n),o=Vl(DD,n),l=o.disabled||s,d=Zt(t,o.onTriggerChange),u=x0(n),h=N.useRef("touch"),[m,p,g]=lR(x=>{const v=u().filter(S=>!S.disabled),j=v.find(S=>S.value===o.value),b=cR(v,x,j);b!==void 0&&o.onValueChange(b.value)}),y=x=>{l||(o.onOpenChange(!0),g()),x&&(o.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return r.jsx(KS,{asChild:!0,...i,children:r.jsx(gt.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":oR(o.value)?"":void 0,...a,ref:d,onClick:Ge(a.onClick,x=>{x.currentTarget.focus(),h.current!=="mouse"&&y(x)}),onPointerDown:Ge(a.onPointerDown,x=>{h.current=x.pointerType;const v=x.target;v.hasPointerCapture(x.pointerId)&&v.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(y(x),x.preventDefault())}),onKeyDown:Ge(a.onKeyDown,x=>{const v=m.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&p(x.key),!(v&&x.key===" ")&&QX.includes(x.key)&&(y(),x.preventDefault())})})})});RD.displayName=DD;var zD="SelectValue",FD=N.forwardRef((e,t)=>{const{__scopeSelect:n,className:s,style:a,children:i,placeholder:o="",...l}=e,d=Vl(zD,n),{onValueNodeHasChildrenChange:u}=d,h=i!==void 0,m=Zt(t,d.onValueNodeChange);return En(()=>{u(h)},[u,h]),r.jsx(gt.span,{...l,ref:m,style:{pointerEvents:"none"},children:oR(d.value)?r.jsx(r.Fragment,{children:o}):i})});FD.displayName=zD;var rJ="SelectIcon",BD=N.forwardRef((e,t)=>{const{__scopeSelect:n,children:s,...a}=e;return r.jsx(gt.span,{"aria-hidden":!0,...a,ref:t,children:s||"▼"})});BD.displayName=rJ;var nJ="SelectPortal",qD=e=>r.jsx(Pp,{asChild:!0,...e});qD.displayName=nJ;var Xc="SelectContent",UD=N.forwardRef((e,t)=>{const n=Vl(Xc,e.__scopeSelect),[s,a]=N.useState();if(En(()=>{a(new DocumentFragment)},[]),!n.open){const i=s;return i?od.createPortal(r.jsx(VD,{scope:e.__scopeSelect,children:r.jsx(p0.Slot,{scope:e.__scopeSelect,children:r.jsx("div",{children:e.children})})}),i):null}return r.jsx(WD,{...e,ref:t})});UD.displayName=Xc;var Ea=10,[VD,Wl]=Pm(Xc),sJ="SelectContentImpl",aJ=Wc("SelectContent.RemoveScroll"),WD=N.forwardRef((e,t)=>{const{__scopeSelect:n,position:s="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:d,align:u,alignOffset:h,arrowPadding:m,collisionBoundary:p,collisionPadding:g,sticky:y,hideWhenDetached:x,avoidCollisions:v,...j}=e,b=Vl(Xc,n),[S,C]=N.useState(null),[_,A]=N.useState(null),k=Zt(t,Se=>C(Se)),[T,O]=N.useState(null),[M,z]=N.useState(null),F=x0(n),[Z,D]=N.useState(!1),$=N.useRef(!1);N.useEffect(()=>{if(S)return n_(S)},[S]),r_();const E=N.useCallback(Se=>{const[We,...Ae]=F().map(je=>je.ref.current),[ze]=Ae.slice(-1),Fe=document.activeElement;for(const je of Se)if(je===Fe||(je==null||je.scrollIntoView({block:"nearest"}),je===We&&_&&(_.scrollTop=0),je===ze&&_&&(_.scrollTop=_.scrollHeight),je==null||je.focus(),document.activeElement!==Fe))return},[F,_]),V=N.useCallback(()=>E([T,S]),[E,T,S]);N.useEffect(()=>{Z&&V()},[Z,V]);const{onOpenChange:q,triggerPointerDownPosRef:U}=b;N.useEffect(()=>{if(S){let Se={x:0,y:0};const We=ze=>{var Fe,je;Se={x:Math.abs(Math.round(ze.pageX)-(((Fe=U.current)==null?void 0:Fe.x)??0)),y:Math.abs(Math.round(ze.pageY)-(((je=U.current)==null?void 0:je.y)??0))}},Ae=ze=>{Se.x<=10&&Se.y<=10?ze.preventDefault():S.contains(ze.target)||q(!1),document.removeEventListener("pointermove",We),U.current=null};return U.current!==null&&(document.addEventListener("pointermove",We),document.addEventListener("pointerup",Ae,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",We),document.removeEventListener("pointerup",Ae,{capture:!0})}}},[S,q,U]),N.useEffect(()=>{const Se=()=>q(!1);return window.addEventListener("blur",Se),window.addEventListener("resize",Se),()=>{window.removeEventListener("blur",Se),window.removeEventListener("resize",Se)}},[q]);const[Q,he]=lR(Se=>{const We=F().filter(Fe=>!Fe.disabled),Ae=We.find(Fe=>Fe.ref.current===document.activeElement),ze=cR(We,Se,Ae);ze&&setTimeout(()=>ze.ref.current.focus())}),ue=N.useCallback((Se,We,Ae)=>{const ze=!$.current&&!Ae;(b.value!==void 0&&b.value===We||ze)&&(O(Se),ze&&($.current=!0))},[b.value]),ce=N.useCallback(()=>S==null?void 0:S.focus(),[S]),G=N.useCallback((Se,We,Ae)=>{const ze=!$.current&&!Ae;(b.value!==void 0&&b.value===We||ze)&&z(Se)},[b.value]),J=s==="popper"?WN:KD,ye=J===WN?{side:l,sideOffset:d,align:u,alignOffset:h,arrowPadding:m,collisionBoundary:p,collisionPadding:g,sticky:y,hideWhenDetached:x,avoidCollisions:v}:{};return r.jsx(VD,{scope:n,content:S,viewport:_,onViewportChange:A,itemRefCallback:ue,selectedItem:T,onItemLeave:ce,itemTextRefCallback:G,focusSelectedItem:V,selectedItemText:M,position:s,isPositioned:Z,searchRef:Q,children:r.jsx(a0,{as:aJ,allowPinchZoom:!0,children:r.jsx(r0,{asChild:!0,trapped:b.open,onMountAutoFocus:Se=>{Se.preventDefault()},onUnmountAutoFocus:Ge(a,Se=>{var We;(We=b.trigger)==null||We.focus({preventScroll:!0}),Se.preventDefault()}),children:r.jsx(bm,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:Se=>Se.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:r.jsx(J,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:Se=>Se.preventDefault(),...j,...ye,onPlaced:()=>D(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...j.style},onKeyDown:Ge(j.onKeyDown,Se=>{const We=Se.ctrlKey||Se.altKey||Se.metaKey;if(Se.key==="Tab"&&Se.preventDefault(),!We&&Se.key.length===1&&he(Se.key),["ArrowUp","ArrowDown","Home","End"].includes(Se.key)){let ze=F().filter(Fe=>!Fe.disabled).map(Fe=>Fe.ref.current);if(["ArrowUp","End"].includes(Se.key)&&(ze=ze.slice().reverse()),["ArrowUp","ArrowDown"].includes(Se.key)){const Fe=Se.target,je=ze.indexOf(Fe);ze=ze.slice(je+1)}setTimeout(()=>E(ze)),Se.preventDefault()}})})})})})})});WD.displayName=sJ;var iJ="SelectItemAlignedPosition",KD=N.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:s,...a}=e,i=Vl(Xc,n),o=Wl(Xc,n),[l,d]=N.useState(null),[u,h]=N.useState(null),m=Zt(t,k=>h(k)),p=x0(n),g=N.useRef(!1),y=N.useRef(!0),{viewport:x,selectedItem:v,selectedItemText:j,focusSelectedItem:b}=o,S=N.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&x&&v&&j){const k=i.trigger.getBoundingClientRect(),T=u.getBoundingClientRect(),O=i.valueNode.getBoundingClientRect(),M=j.getBoundingClientRect();if(i.dir!=="rtl"){const Fe=M.left-T.left,je=O.left-Fe,Ze=k.left-je,K=k.width+Ze,te=Math.max(K,T.width),Ne=window.innerWidth-Ea,pe=Y4(je,[Ea,Math.max(Ea,Ne-te)]);l.style.minWidth=K+"px",l.style.left=pe+"px"}else{const Fe=T.right-M.right,je=window.innerWidth-O.right-Fe,Ze=window.innerWidth-k.right-je,K=k.width+Ze,te=Math.max(K,T.width),Ne=window.innerWidth-Ea,pe=Y4(je,[Ea,Math.max(Ea,Ne-te)]);l.style.minWidth=K+"px",l.style.right=pe+"px"}const z=p(),F=window.innerHeight-Ea*2,Z=x.scrollHeight,D=window.getComputedStyle(u),$=parseInt(D.borderTopWidth,10),E=parseInt(D.paddingTop,10),V=parseInt(D.borderBottomWidth,10),q=parseInt(D.paddingBottom,10),U=$+E+Z+q+V,Q=Math.min(v.offsetHeight*5,U),he=window.getComputedStyle(x),ue=parseInt(he.paddingTop,10),ce=parseInt(he.paddingBottom,10),G=k.top+k.height/2-Ea,J=F-G,ye=v.offsetHeight/2,Se=v.offsetTop+ye,We=$+E+Se,Ae=U-We;if(We<=G){const Fe=z.length>0&&v===z[z.length-1].ref.current;l.style.bottom="0px";const je=u.clientHeight-x.offsetTop-x.offsetHeight,Ze=Math.max(J,ye+(Fe?ce:0)+je+V),K=We+Ze;l.style.height=K+"px"}else{const Fe=z.length>0&&v===z[0].ref.current;l.style.top="0px";const Ze=Math.max(G,$+x.offsetTop+(Fe?ue:0)+ye)+Ae;l.style.height=Ze+"px",x.scrollTop=We-G+x.offsetTop}l.style.margin=`${Ea}px 0`,l.style.minHeight=Q+"px",l.style.maxHeight=F+"px",s==null||s(),requestAnimationFrame(()=>g.current=!0)}},[p,i.trigger,i.valueNode,l,u,x,v,j,i.dir,s]);En(()=>S(),[S]);const[C,_]=N.useState();En(()=>{u&&_(window.getComputedStyle(u).zIndex)},[u]);const A=N.useCallback(k=>{k&&y.current===!0&&(S(),b==null||b(),y.current=!1)},[S,b]);return r.jsx(lJ,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:g,onScrollButtonChange:A,children:r.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:C},children:r.jsx(gt.div,{...a,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});KD.displayName=iJ;var oJ="SelectPopperPosition",WN=N.forwardRef((e,t)=>{const{__scopeSelect:n,align:s="start",collisionPadding:a=Ea,...i}=e,o=g0(n);return r.jsx(HS,{...o,...i,ref:t,align:s,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});WN.displayName=oJ;var[lJ,P_]=Pm(Xc,{}),KN="SelectViewport",HD=N.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:s,...a}=e,i=Wl(KN,n),o=P_(KN,n),l=Zt(t,i.onViewportChange),d=N.useRef(0);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),r.jsx(p0.Slot,{scope:n,children:r.jsx(gt.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:Ge(a.onScroll,u=>{const h=u.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&m){const g=Math.abs(d.current-h.scrollTop);if(g>0){const y=window.innerHeight-Ea*2,x=parseFloat(m.style.minHeight),v=parseFloat(m.style.height),j=Math.max(x,v);if(j<y){const b=j+g,S=Math.min(y,b),C=b-S;m.style.height=S+"px",m.style.bottom==="0px"&&(h.scrollTop=C>0?C:0,m.style.justifyContent="flex-end")}}}d.current=h.scrollTop})})})]})});HD.displayName=KN;var GD="SelectGroup",[cJ,dJ]=Pm(GD),uJ=N.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,a=Si();return r.jsx(cJ,{scope:n,id:a,children:r.jsx(gt.div,{role:"group","aria-labelledby":a,...s,ref:t})})});uJ.displayName=GD;var ZD="SelectLabel",QD=N.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,a=dJ(ZD,n);return r.jsx(gt.div,{id:a.id,...s,ref:t})});QD.displayName=ZD;var gv="SelectItem",[mJ,YD]=Pm(gv),XD=N.forwardRef((e,t)=>{const{__scopeSelect:n,value:s,disabled:a=!1,textValue:i,...o}=e,l=Vl(gv,n),d=Wl(gv,n),u=l.value===s,[h,m]=N.useState(i??""),[p,g]=N.useState(!1),y=Zt(t,b=>{var S;return(S=d.itemRefCallback)==null?void 0:S.call(d,b,s,a)}),x=Si(),v=N.useRef("touch"),j=()=>{a||(l.onValueChange(s),l.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return r.jsx(mJ,{scope:n,value:s,disabled:a,textId:x,isSelected:u,onItemTextChange:N.useCallback(b=>{m(S=>S||((b==null?void 0:b.textContent)??"").trim())},[]),children:r.jsx(p0.ItemSlot,{scope:n,value:s,disabled:a,textValue:h,children:r.jsx(gt.div,{role:"option","aria-labelledby":x,"data-highlighted":p?"":void 0,"aria-selected":u&&p,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:y,onFocus:Ge(o.onFocus,()=>g(!0)),onBlur:Ge(o.onBlur,()=>g(!1)),onClick:Ge(o.onClick,()=>{v.current!=="mouse"&&j()}),onPointerUp:Ge(o.onPointerUp,()=>{v.current==="mouse"&&j()}),onPointerDown:Ge(o.onPointerDown,b=>{v.current=b.pointerType}),onPointerMove:Ge(o.onPointerMove,b=>{var S;v.current=b.pointerType,a?(S=d.onItemLeave)==null||S.call(d):v.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ge(o.onPointerLeave,b=>{var S;b.currentTarget===document.activeElement&&((S=d.onItemLeave)==null||S.call(d))}),onKeyDown:Ge(o.onKeyDown,b=>{var C;((C=d.searchRef)==null?void 0:C.current)!==""&&b.key===" "||(YX.includes(b.key)&&j(),b.key===" "&&b.preventDefault())})})})})});XD.displayName=gv;var Lh="SelectItemText",JD=N.forwardRef((e,t)=>{const{__scopeSelect:n,className:s,style:a,...i}=e,o=Vl(Lh,n),l=Wl(Lh,n),d=YD(Lh,n),u=tJ(Lh,n),[h,m]=N.useState(null),p=Zt(t,j=>m(j),d.onItemTextChange,j=>{var b;return(b=l.itemTextRefCallback)==null?void 0:b.call(l,j,d.value,d.disabled)}),g=h==null?void 0:h.textContent,y=N.useMemo(()=>r.jsx("option",{value:d.value,disabled:d.disabled,children:g},d.value),[d.disabled,d.value,g]),{onNativeOptionAdd:x,onNativeOptionRemove:v}=u;return En(()=>(x(y),()=>v(y)),[x,v,y]),r.jsxs(r.Fragment,{children:[r.jsx(gt.span,{id:d.textId,...i,ref:p}),d.isSelected&&o.valueNode&&!o.valueNodeHasChildren?od.createPortal(i.children,o.valueNode):null]})});JD.displayName=Lh;var eR="SelectItemIndicator",tR=N.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e;return YD(eR,n).isSelected?r.jsx(gt.span,{"aria-hidden":!0,...s,ref:t}):null});tR.displayName=eR;var HN="SelectScrollUpButton",rR=N.forwardRef((e,t)=>{const n=Wl(HN,e.__scopeSelect),s=P_(HN,e.__scopeSelect),[a,i]=N.useState(!1),o=Zt(t,s.onScrollButtonChange);return En(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=d.scrollTop>0;i(u)};const d=n.viewport;return l(),d.addEventListener("scroll",l),()=>d.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),a?r.jsx(sR,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:d}=n;l&&d&&(l.scrollTop=l.scrollTop-d.offsetHeight)}}):null});rR.displayName=HN;var GN="SelectScrollDownButton",nR=N.forwardRef((e,t)=>{const n=Wl(GN,e.__scopeSelect),s=P_(GN,e.__scopeSelect),[a,i]=N.useState(!1),o=Zt(t,s.onScrollButtonChange);return En(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=d.scrollHeight-d.clientHeight,h=Math.ceil(d.scrollTop)<u;i(h)};const d=n.viewport;return l(),d.addEventListener("scroll",l),()=>d.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),a?r.jsx(sR,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:d}=n;l&&d&&(l.scrollTop=l.scrollTop+d.offsetHeight)}}):null});nR.displayName=GN;var sR=N.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:s,...a}=e,i=Wl("SelectScrollButton",n),o=N.useRef(null),l=x0(n),d=N.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return N.useEffect(()=>()=>d(),[d]),En(()=>{var h;const u=l().find(m=>m.ref.current===document.activeElement);(h=u==null?void 0:u.ref.current)==null||h.scrollIntoView({block:"nearest"})},[l]),r.jsx(gt.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:Ge(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(s,50))}),onPointerMove:Ge(a.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(s,50))}),onPointerLeave:Ge(a.onPointerLeave,()=>{d()})})}),hJ="SelectSeparator",aR=N.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e;return r.jsx(gt.div,{"aria-hidden":!0,...s,ref:t})});aR.displayName=hJ;var ZN="SelectArrow",fJ=N.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,a=g0(n),i=Vl(ZN,n),o=Wl(ZN,n);return i.open&&o.position==="popper"?r.jsx(GS,{...a,...s,ref:t}):null});fJ.displayName=ZN;var pJ="SelectBubbleInput",iR=N.forwardRef(({__scopeSelect:e,value:t,...n},s)=>{const a=N.useRef(null),i=Zt(s,a),o=C_(t);return N.useEffect(()=>{const l=a.current;if(!l)return;const d=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(d,"value").set;if(o!==t&&h){const m=new Event("change",{bubbles:!0});h.call(l,t),l.dispatchEvent(m)}},[o,t]),r.jsx(gt.select,{...n,style:{...GM,...n.style},ref:i,defaultValue:t})});iR.displayName=pJ;function oR(e){return e===""||e===void 0}function lR(e){const t=Ss(e),n=N.useRef(""),s=N.useRef(0),a=N.useCallback(o=>{const l=n.current+o;t(l),function d(u){n.current=u,window.clearTimeout(s.current),u!==""&&(s.current=window.setTimeout(()=>d(""),1e3))}(l)},[t]),i=N.useCallback(()=>{n.current="",window.clearTimeout(s.current)},[]);return N.useEffect(()=>()=>window.clearTimeout(s.current),[]),[n,a,i]}function cR(e,t,n){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let o=xJ(e,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==n));const d=o.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return d!==n?d:void 0}function xJ(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var gJ=$D,dR=RD,vJ=FD,yJ=BD,jJ=qD,uR=UD,bJ=HD,mR=QD,hR=XD,wJ=JD,NJ=tR,fR=rR,pR=nR,xR=aR;const ut=gJ,mt=vJ,ct=N.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(dR,{ref:s,className:Le("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,r.jsx(yJ,{asChild:!0,children:r.jsx(vn,{className:"h-4 w-4 opacity-50"})})]}));ct.displayName=dR.displayName;const gR=N.forwardRef(({className:e,...t},n)=>r.jsx(fR,{ref:n,className:Le("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(oV,{className:"h-4 w-4"})}));gR.displayName=fR.displayName;const vR=N.forwardRef(({className:e,...t},n)=>r.jsx(pR,{ref:n,className:Le("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(vn,{className:"h-4 w-4"})}));vR.displayName=pR.displayName;const dt=N.forwardRef(({className:e,children:t,position:n="popper",...s},a)=>r.jsx(jJ,{children:r.jsxs(uR,{ref:a,className:Le("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...s,children:[r.jsx(gR,{}),r.jsx(bJ,{className:Le("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),r.jsx(vR,{})]})}));dt.displayName=uR.displayName;const SJ=N.forwardRef(({className:e,...t},n)=>r.jsx(mR,{ref:n,className:Le("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));SJ.displayName=mR.displayName;const Ye=N.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(hR,{ref:s,className:Le("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(NJ,{children:r.jsx(TS,{className:"h-4 w-4"})})}),r.jsx(wJ,{children:t})]}));Ye.displayName=hR.displayName;const _J=N.forwardRef(({className:e,...t},n)=>r.jsx(xR,{ref:n,className:Le("-mx-1 my-1 h-px bg-muted",e),...t}));_J.displayName=xR.displayName;const Pt=N.forwardRef(({className:e,...t},n)=>r.jsx("textarea",{className:Le("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));Pt.displayName="Textarea";class CJ{constructor(){ge(this,"baseUrl","/api/images");ge(this,"request",async(t,n={})=>{const s=`${this.baseUrl}${t}`;try{const a=await fetch(s,n);if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);return await a.json()}catch(a){throw console.error("Image API Request Error:",a),a}});ge(this,"uploadImage",async(t,n="categories")=>{const s=new FormData;s.append("file",t),s.append("folder",n);const a=await this.request("/upload",{method:"POST",body:s});if(!a.success)throw new Error(a.message||"Failed to upload image");if(!a.data)throw new Error("No data returned from server");return a.data});ge(this,"getImageInfo",async(t,n)=>{const s=await this.request(`/${t}/${n}`);if(!s.success)throw new Error(s.message||"Failed to get image info");if(!s.data)throw new Error("No data returned from server");return s.data});ge(this,"deleteImage",async(t,n)=>{const s=await this.request(`/${t}/${n}`,{method:"DELETE"});if(!s.success)throw new Error(s.message||"Failed to delete image")});ge(this,"listImages",async t=>{const n=await this.request(`/list/${t}`);if(!n.success)throw new Error(n.message||"Failed to list images");if(!n.data)throw new Error("No data returned from server");return n.data});ge(this,"validateFile",t=>{const a=["image/jpeg","image/jpg","image/png","image/gif","image/bmp","image/webp"];return t?t.size>10485760?{isValid:!1,error:"File size must be less than 10MB"}:a.includes(t.type.toLowerCase())?{isValid:!0}:{isValid:!1,error:"Invalid file type. Please upload an image file (jpg, png, gif, bmp, webp)"}:{isValid:!1,error:"No file selected"}})}}const X4=new CJ,Co=({value:e,onChange:t,disabled:n=!1,className:s,folder:a="categories",showUrlInput:i=!0,placeholder:o})=>{const{isRTL:l}=rt(),d=N.useRef(null),[u,h]=N.useState(!1),[m,p]=N.useState(!1),[g,y]=N.useState(e||""),x=async k=>{const T=X4.validateFile(k);if(!T.isValid){be.error(T.error||"Invalid file");return}h(!0);try{const O=await X4.uploadImage(k,a),M=window.location.origin+O.fileUrl;t(M),y(M),be.success(l?"تم رفع الصورة بنجاح":"Image uploaded successfully")}catch(O){console.error("Upload error:",O),be.error(O instanceof Error?O.message:l?"حدث خطأ أثناء رفع الصورة":"Error uploading image")}finally{h(!1)}},v=k=>{var O;const T=(O=k.target.files)==null?void 0:O[0];T&&x(T)},j=k=>{var O;k.preventDefault(),p(!1);const T=(O=k.dataTransfer.files)==null?void 0:O[0];T&&x(T)},b=k=>{k.preventDefault(),p(!0)},S=k=>{k.preventDefault(),p(!1)},C=k=>{y(k),t(k)},_=()=>{t(""),y(""),d.current&&(d.current.value="")},A=()=>{var k;(k=d.current)==null||k.click()};return r.jsxs("div",{className:Le("space-y-4",s),children:[e&&r.jsx("div",{className:"relative",children:r.jsx("div",{className:"w-full max-w-xs mx-auto",children:r.jsxs("div",{className:"relative aspect-video bg-muted rounded-lg overflow-hidden border",children:[r.jsx("img",{src:e,alt:"Preview",className:"w-full h-full object-cover",onError:k=>{k.currentTarget.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PGxpbmVhckdyYWRpZW50IGlkPSJncmFkIiB4MT0iMCUiIHkxPSIwJSIgeDI9IjEwMCUiIHkyPSIxMDAlIj48c3RvcCBvZmZzZXQ9IjAlIiBzdHlsZT0ic3RvcC1jb2xvcjojOGY5MGZmO3N0b3Atb3BhY2l0eToxIi8+PHN0b3Agb2Zmc2V0PSIxMDAlIiBzdHlsZT0ic3RvcC1jb2xvcjojMzM4ZWY3O3N0b3Atb3BhY2l0eToxIi8+PC9saW5lYXJHcmFkaWVudD48L2RlZnM+PHJlY3Qgd2lkdGg9IjEwMCIgaGVpZ2h0PSIxMDAiIGZpbGw9InVybCgjZ3JhZCkiLz48cmVjdCB4PSIyMCIgeT0iMzAiIHdpZHRoPSIxMCIgaGVpZ2h0PSIxMCIgZmlsbD0id2hpdGUiIGZpbGwtb3BhY2l0eT0iMC4zIi8+PHJlY3QgeD0iMzUiIHk9IjM1IiB3aWR0aD0iNDUiIGhlaWdodD0iNDUiIGZpbGw9IndoaXRlIiBmaWxsLW9wYWNpdHk9IjAuMiIvPjxjaXJjbGUgY3g9IjQ1IiBjeT0iNDgiIHI9IjYiIGZpbGw9IndoaXRlIiBmaWxsLW9wYWNpdHk9IjAuNiIvPjxwYXRoIGQ9Ik0zNSA2NUw0OCA1NUw1OCA2Mkw3MCA1Mkw4MCA1OVY4MEgzNVY2NVoiIGZpbGw9IndoaXRlIiBmaWxsLW9wYWNpdHk9IjAuNCIvPjwvc3ZnPg=="}}),r.jsx(B,{type:"button",variant:"destructive",size:"icon",className:"absolute top-2 right-2 h-6 w-6 rounded-full",onClick:_,disabled:n,children:r.jsx(un,{className:"h-3 w-3"})})]})})}),r.jsxs("div",{className:Le("border-2 border-dashed rounded-lg p-6 transition-colors",m&&"border-primary bg-primary/5",n&&"opacity-50 cursor-not-allowed",!n&&"hover:border-primary/50 cursor-pointer"),onDrop:j,onDragOver:b,onDragLeave:S,onClick:n?void 0:A,children:[r.jsx("input",{ref:d,type:"file",className:"hidden",accept:"image/*",onChange:v,disabled:n}),r.jsx("div",{className:"text-center",children:u?r.jsxs("div",{className:"space-y-2",children:[r.jsx(dn,{className:"h-8 w-8 animate-spin mx-auto text-primary"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:l?"جاري رفع الصورة...":"Uploading image..."})]}):r.jsxs("div",{className:"space-y-2",children:[r.jsx(yV,{className:"h-8 w-8 mx-auto text-muted-foreground"}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("p",{className:"text-sm font-medium",children:l?"اختر صورة أو اسحبها هنا":"Choose an image or drag it here"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:l?"PNG، JPG، GIF حتى 10MB":"PNG, JPG, GIF up to 10MB"})]})]})})]}),i&&r.jsxs("div",{className:"space-y-2",children:[r.jsx(br,{className:"text-sm font-medium",children:l?"أو أدخل رابط الصورة":"Or enter image URL"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(Oe,{type:"url",value:g,onChange:k=>C(k.target.value),placeholder:o||"https://example.com/image.jpg",disabled:n,className:"flex-1"}),g&&r.jsx(B,{type:"button",variant:"outline",size:"icon",onClick:()=>window.open(g,"_blank"),disabled:n,children:r.jsx(cV,{className:"h-4 w-4"})})]})]}),r.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(No,{className:"h-3 w-3"}),r.jsx("span",{children:l?"الأنواع المدعومة: JPG, PNG, GIF, BMP, WebP":"Supported formats: JPG, PNG, GIF, BMP, WebP"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ks,{className:"h-3 w-3"}),r.jsx("span",{children:l?"الحد الأقصى لحجم الملف: 10MB":"Maximum file size: 10MB"})]})]})]})};class PJ{constructor(){ge(this,"baseUrl","/api/languages");ge(this,"request",async(t,n={})=>{const s=`${this.baseUrl}${t}`,a={headers:{"Content-Type":"application/json",...n.headers},...n};try{const i=await fetch(s,a);if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);return await i.json()}catch(i){throw console.error("API Request Error:",i),i}});ge(this,"getLanguages",async(t={})=>{const n=new URLSearchParams;t.page&&n.append("page",t.page.toString()),t.pageSize&&n.append("pageSize",t.pageSize.toString()),t.activeOnly!==void 0&&n.append("activeOnly",t.activeOnly.toString());const s=n.toString()?`?${n.toString()}`:"",a=await this.request(s);if(!a.success)throw new Error(a.message||"Failed to fetch languages");if(!a.data)throw new Error("No data returned from server");return a.data});ge(this,"getLanguagesDropdown",async()=>{const t=await this.request("/dropdown");if(!t.success)throw new Error(t.message||"Failed to fetch languages dropdown");if(!t.data)throw new Error("No data returned from server");return t.data});ge(this,"createLanguage",async t=>{const n=await this.request("",{method:"POST",body:JSON.stringify(t)});if(!n.success)throw new Error(n.message||"Failed to create language");if(!n.data)throw new Error("No data returned from server");return n.data});ge(this,"updateLanguage",async(t,n)=>{const s=await this.request(`/${t}`,{method:"PUT",body:JSON.stringify(n)});if(!s.success)throw new Error(s.message||"Failed to update language");if(!s.data)throw new Error("No data returned from server");return s.data});ge(this,"toggleLanguageActivation",async t=>{const n=await this.request(`/${t}/toggle-activation`,{method:"PUT"});if(!n.success)throw new Error(n.message||"Failed to toggle language activation")});ge(this,"deleteLanguage",async t=>{const n=await this.request(`/${t}`,{method:"DELETE"});if(!n.success)throw new Error(n.message||"Failed to delete language")})}}const ir=new PJ,AJ=()=>{const e=lr(),{isRTL:t}=rt(),n=rr(),{data:s=[]}=qe({queryKey:["languages","dropdown"],queryFn:()=>ir.getLanguagesDropdown()}),a=it({mutationFn:Ef.createProvider,onSuccess:()=>{n.invalidateQueries({queryKey:["providers"]}),be.success("Provider created successfully"),e("/providers")},onError:v=>{be.error(v.message||"Failed to create provider")}}),i=Wt({defaultValues:{email:"",phoneNumber:"",locationId:void 0,isActive:!0,businessName:"",description:"",rating:3,parentId:void 0,localizations:[],images:[]}}),{fields:o,append:l,remove:d}=Qt({control:i.control,name:"localizations"}),{fields:u,append:h,remove:m}=Qt({control:i.control,name:"images"}),p=async v=>{try{await a.mutateAsync(v)}catch{}},g=()=>{l({languageId:0,businessNameLocalized:"",descriptionLocalized:"",isActive:!0})},y=()=>{h({url:""})},x=()=>{e("/providers")};return r.jsx(lt,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:t?"إضافة مقدم خدمة جديد":"Add New Provider"}),r.jsx("p",{className:"text-muted-foreground",children:t?"إنشاء مقدم خدمة جديد مع معلومات المستخدم والمحتوى المحلي":"Create a new provider with user information and localized content"})]}),r.jsxs(B,{variant:"ghost",size:"sm",onClick:x,className:"gap-2",children:[r.jsx(Gt,{className:"w-4 h-4"}),t?"رجوع":"Back"]})]}),r.jsx(Kt,{...i,children:r.jsxs("form",{onSubmit:i.handleSubmit(p),className:"space-y-6",children:[r.jsxs(Y,{children:[r.jsx(Pe,{children:r.jsxs(Ie,{className:"flex items-center gap-2",children:[r.jsx(ss,{className:"w-5 h-5"}),t?"معلومات المستخدم":"User Information"]})}),r.jsxs(ee,{className:"space-y-4",children:[r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsx(ae,{control:i.control,name:"email",rules:{required:t?"البريد الإلكتروني مطلوب":"Email is required"},render:({field:v})=>r.jsxs(ne,{children:[r.jsx(re,{children:t?"البريد الإلكتروني":"Email"}),r.jsx(se,{children:r.jsx(Oe,{...v,type:"email"})}),r.jsx(fe,{})]})}),r.jsx(ae,{control:i.control,name:"phoneNumber",render:({field:v})=>r.jsxs(ne,{children:[r.jsx(re,{children:t?"رقم الهاتف":"Phone Number"}),r.jsx(se,{children:r.jsx(Oe,{...v})}),r.jsx(fe,{})]})})]}),r.jsx(ae,{control:i.control,name:"isActive",render:({field:v})=>r.jsxs(ne,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[r.jsxs("div",{className:"space-y-0.5",children:[r.jsx(re,{className:"text-base",children:t?"مفعل":"Active"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:t?"تفعيل أو إلغاء تفعيل مقدم الخدمة":"Enable or disable the provider account"})]}),r.jsx(se,{children:r.jsx(Ct,{checked:v.value,onCheckedChange:v.onChange})})]})})]})]}),r.jsxs(Y,{children:[r.jsx(Pe,{children:r.jsxs(Ie,{className:"flex items-center gap-2",children:[r.jsx(ss,{className:"w-5 h-5"}),t?"معلومات الأعمال":"Business Information"]})}),r.jsxs(ee,{className:"space-y-4",children:[r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsx(ae,{control:i.control,name:"businessName",rules:{required:t?"اسم الشركة مطلوب":"Business name is required"},render:({field:v})=>r.jsxs(ne,{children:[r.jsx(re,{children:t?"اسم الشركة":"Business Name"}),r.jsx(se,{children:r.jsx(Oe,{...v})}),r.jsx(fe,{})]})}),r.jsx(ae,{control:i.control,name:"rating",render:({field:v})=>{var j;return r.jsxs(ne,{children:[r.jsx(re,{children:t?"التقييم":"Rating"}),r.jsxs(ut,{value:(j=v.value)==null?void 0:j.toString(),onValueChange:b=>v.onChange(parseInt(b)),children:[r.jsx(se,{children:r.jsx(ct,{children:r.jsx(mt,{})})}),r.jsx(dt,{children:[1,2,3,4,5].map(b=>r.jsx(Ye,{value:b.toString(),children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"flex",children:Array.from({length:5},(S,C)=>r.jsx(Kc,{className:`w-3 h-3 ${C<b?"text-yellow-400 fill-yellow-400":"text-gray-300"}`},C))}),b," ",b===1?"Star":"Stars"]})},b))})]}),r.jsx(fe,{})]})}})]}),r.jsx(ae,{control:i.control,name:"description",rules:{required:t?"الوصف مطلوب":"Description is required"},render:({field:v})=>r.jsxs(ne,{children:[r.jsx(re,{children:t?"الوصف":"Description"}),r.jsx(se,{children:r.jsx(Pt,{...v,rows:4})}),r.jsx(fe,{})]})})]})]}),r.jsxs(Y,{children:[r.jsx(Pe,{children:r.jsxs(Ie,{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(No,{className:"w-5 h-5"}),t?"الصور":"Images"]}),r.jsxs(B,{type:"button",variant:"outline",size:"sm",onClick:y,children:[r.jsx(ot,{className:"w-4 h-4 mr-2"}),t?"إضافة صورة":"Add Image"]})]})}),r.jsx(ee,{className:"space-y-4",children:u.length===0?r.jsx("div",{className:"text-center py-8 text-muted-foreground",children:t?'لا توجد صور حتى الآن. اضغط "إضافة صورة" لبدء إضافة الصور.':'No images added yet. Click "Add Image" to start adding images.'}):u.map((v,j)=>r.jsxs(Y,{className:"border-2 border-dashed",children:[r.jsx(Pe,{className:"pb-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h4",{className:"font-medium",children:[t?"صورة":"Image"," ",j+1]}),r.jsx(B,{type:"button",variant:"ghost",size:"sm",onClick:()=>m(j),children:r.jsx(xt,{className:"w-4 h-4"})})]})}),r.jsx(ee,{children:r.jsx(ae,{control:i.control,name:`images.${j}.url`,render:({field:b})=>r.jsxs(ne,{children:[r.jsx(re,{children:t?"رابط الصورة":"Image URL"}),r.jsx(se,{children:r.jsx(Co,{value:b.value,onChange:b.onChange,folder:"providers",placeholder:"https://example.com/image.jpg"})}),r.jsx(fe,{})]})})})]},v.id))})]}),r.jsxs(Y,{children:[r.jsx(Pe,{children:r.jsxs(Ie,{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ss,{className:"w-5 h-5"}),t?"الترجمات":"Localizations"]}),r.jsxs(B,{type:"button",variant:"outline",size:"sm",onClick:g,children:[r.jsx(ot,{className:"w-4 h-4 mr-2"}),t?"إضافة ترجمة":"Add Translation"]})]})}),r.jsx(ee,{className:"space-y-4",children:o.length===0?r.jsx("div",{className:"text-center py-8 text-muted-foreground",children:t?'لا توجد ترجمات حتى الآن. اضغط "إضافة ترجمة" لبدء إضافة المحتوى المترجم.':'No translations added yet. Click "Add Translation" to start adding localized content.'}):o.map((v,j)=>r.jsxs(Y,{className:"border-2 border-dashed",children:[r.jsx(Pe,{className:"pb-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h4",{className:"font-medium",children:[t?"ترجمة":"Translation"," ",j+1]}),r.jsx(B,{type:"button",variant:"ghost",size:"sm",onClick:()=>d(j),children:r.jsx(xt,{className:"w-4 h-4"})})]})}),r.jsxs(ee,{className:"space-y-4",children:[r.jsx(ae,{control:i.control,name:`localizations.${j}.languageId`,rules:{required:t?"اللغة مطلوبة":"Language is required"},render:({field:b})=>{var S;return r.jsxs(ne,{children:[r.jsx(re,{children:t?"اللغة":"Language"}),r.jsxs(ut,{value:((S=b.value)==null?void 0:S.toString())||"",onValueChange:C=>b.onChange(parseInt(C)),children:[r.jsx(se,{children:r.jsx(ct,{children:r.jsx(mt,{placeholder:t?"اختر اللغة":"Select language"})})}),r.jsx(dt,{children:s.map(C=>r.jsxs(Ye,{value:C.id.toString(),children:[C.name," (",C.code,")"]},C.id))})]}),r.jsx(fe,{})]})}}),r.jsx(ae,{control:i.control,name:`localizations.${j}.businessNameLocalized`,rules:{required:t?"اسم الشركة المترجم مطلوب":"Localized business name is required"},render:({field:b})=>r.jsxs(ne,{children:[r.jsx(re,{children:t?"اسم الشركة المترجم":"Localized Business Name"}),r.jsx(se,{children:r.jsx(Oe,{...b})}),r.jsx(fe,{})]})}),r.jsx(ae,{control:i.control,name:`localizations.${j}.descriptionLocalized`,rules:{required:t?"الوصف المترجم مطلوب":"Localized description is required"},render:({field:b})=>r.jsxs(ne,{children:[r.jsx(re,{children:t?"الوصف المترجم":"Localized Description"}),r.jsx(se,{children:r.jsx(Pt,{...b,rows:3})}),r.jsx(fe,{})]})})]})]},v.id))})]}),r.jsx(Y,{children:r.jsx(ee,{className:"pt-6",children:r.jsxs("div",{className:"flex items-center gap-4 justify-end",children:[r.jsx(B,{type:"button",variant:"outline",onClick:x,disabled:a.isPending,children:t?"إلغاء":"Cancel"}),r.jsxs(B,{type:"submit",disabled:a.isPending,className:"gap-2",children:[r.jsx(ln,{className:"w-4 h-4"}),a.isPending?t?"جارٍ الإنشاء...":"Creating...":t?"إنشاء مقدم خدمة":"Create Provider"]})]})})})]})})]})})},kJ=()=>{const{id:e}=Io(),t=lr(),{isRTL:n}=rt(),{data:s,isLoading:a,error:i,refetch:o}=qe({queryKey:["provider",e],queryFn:()=>Ef.getById(Number(e)),enabled:!!e}),l=()=>{t("/providers")},d=()=>{t(`/providers/${e}/edit`)},u=p=>r.jsxs(Me,{variant:p?"default":"secondary",className:"gap-1",children:[p?r.jsx(Or,{className:"w-3 h-3"}):r.jsx(jn,{className:"w-3 h-3"}),p?n?"نشط":"Active":n?"غير نشط":"Inactive"]}),h=p=>r.jsxs("div",{className:"flex items-center gap-1",children:[Array.from({length:5},(g,y)=>r.jsx(Kc,{className:`w-4 h-4 ${y<p?"text-yellow-400 fill-yellow-400":"text-gray-300"}`},y)),r.jsxs("span",{className:"ml-1 text-sm text-muted-foreground",children:["(",p,")"]})]}),m=({label:p,value:g,icon:y})=>r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[y,p]}),r.jsx("div",{className:"text-sm bg-muted/50 p-3 rounded-md border",children:g||(n?"غير محدد":"Not specified")})]});return a?r.jsx(lt,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(Qe,{className:"h-9 w-20"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Qe,{className:"h-8 w-64"}),r.jsx(Qe,{className:"h-4 w-96"})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs(Y,{children:[r.jsx(Pe,{children:r.jsx(Qe,{className:"h-6 w-48"})}),r.jsx(ee,{className:"space-y-4",children:r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsx(Qe,{className:"h-16"}),r.jsx(Qe,{className:"h-16"})]})})]}),r.jsxs(Y,{children:[r.jsx(Pe,{children:r.jsx(Qe,{className:"h-6 w-48"})}),r.jsx(ee,{children:r.jsx(Qe,{className:"h-32"})})]})]})]})}):i?r.jsx(lt,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex items-center gap-4",children:r.jsxs(B,{variant:"ghost",size:"sm",onClick:l,className:"gap-2",children:[r.jsx(Gt,{className:"w-4 h-4"}),n?"رجوع":"Back"]})}),r.jsxs(wn,{variant:"destructive",children:[r.jsx(Ks,{className:"h-4 w-4"}),r.jsxs(Nn,{className:"flex items-center justify-between",children:[r.jsx("span",{children:i instanceof Error?i.message:"Failed to load provider details"}),r.jsxs(B,{variant:"outline",size:"sm",onClick:()=>o(),className:"ml-2",children:[r.jsx(dn,{className:"w-4 h-4 mr-2"}),n?"إعادة المحاولة":"Retry"]})]})]})]})}):s?r.jsx(lt,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:s.businessName}),r.jsx("p",{className:"text-muted-foreground",children:n?"تفاصيل مقدم الخدمة ومعلوماته التجارية":"Provider details and business information"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(B,{variant:"ghost",size:"sm",onClick:l,className:"gap-2",children:[r.jsx(Gt,{className:"w-4 h-4"}),n?"رجوع":"Back"]}),r.jsxs(B,{onClick:d,className:"gap-2",children:[r.jsx(tr,{className:"w-4 h-4"}),n?"تعديل":"Edit"]})]})]}),r.jsx(Y,{children:r.jsx(ee,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ss,{className:"w-5 h-5 text-muted-foreground"}),r.jsx("span",{className:"font-medium",children:s.businessName})]}),u(s.isActive)]}),r.jsxs("div",{className:"flex items-center gap-4",children:[h(s.rating),r.jsxs(Me,{variant:"outline",className:"gap-1",children:[r.jsx(qt,{className:"w-3 h-3"}),s.localizations.length," ",n?"ترجمة":"translations"]})]})]})})}),r.jsxs(Y,{children:[r.jsx(Pe,{children:r.jsxs(Ie,{className:"flex items-center gap-2",children:[r.jsx(Ai,{className:"w-5 h-5"}),n?"معلومات المستخدم":"User Information"]})}),r.jsxs(ee,{className:"space-y-4",children:[r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsx(m,{label:n?"معرف المستخدم":"User ID",value:s.userId.toString(),icon:r.jsx(Ai,{className:"w-4 h-4"})}),r.jsx(m,{label:n?"البريد الإلكتروني":"Email",value:s.email?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(wf,{className:"w-4 h-4"}),s.email]}):n?"غير محدد":"Not specified"})]}),r.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:r.jsx(m,{label:n?"رقم الهاتف":"Phone Number",value:s.phoneNumber?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Yg,{className:"w-4 h-4"}),s.phoneNumber]}):n?"غير محدد":"Not specified"})}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsx(m,{label:n?"تاريخ الإنشاء":"Created At",value:new Date(s.createdAt).toLocaleDateString()}),r.jsx(m,{label:n?"تاريخ التحديث":"Updated At",value:new Date(s.updatedAt).toLocaleDateString()})]})]})]}),r.jsxs(Y,{children:[r.jsx(Pe,{children:r.jsxs(Ie,{className:"flex items-center gap-2",children:[r.jsx(hN,{className:"w-5 h-5"}),n?"معلومات الأعمال":"Business Information"]})}),r.jsxs(ee,{className:"space-y-4",children:[r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsx(m,{label:n?"اسم الشركة":"Business Name",value:s.businessName,icon:r.jsx(ss,{className:"w-4 h-4"})}),r.jsx(m,{label:n?"التقييم":"Rating",value:h(s.rating),icon:r.jsx(Kc,{className:"w-4 h-4"})})]}),r.jsx(m,{label:n?"الوصف":"Description",value:s.description}),r.jsx(m,{label:n?"الشركة الأم":"Parent Company",value:s.parentBusinessName||(n?"لا يوجد":"None"),icon:r.jsx(hN,{className:"w-4 h-4"})})]})]}),s.images&&s.images.length>0&&r.jsxs(Y,{children:[r.jsx(Pe,{children:r.jsxs(Ie,{className:"flex items-center gap-2",children:[r.jsx(No,{className:"w-5 h-5"}),n?"الصور":"Images"]})}),r.jsx(ee,{children:r.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:s.images.map((p,g)=>r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"aspect-video bg-muted rounded-md overflow-hidden",children:[r.jsx("img",{src:p.url,alt:`${s.businessName} - Image ${g+1}`,className:"w-full h-full object-cover",onError:y=>{var v;const x=y.target;x.style.display="none",(v=x.nextElementSibling)==null||v.classList.remove("hidden")}}),r.jsx("div",{className:"hidden w-full h-full",children:r.jsx("div",{className:"flex items-center justify-center h-full",children:r.jsx(No,{className:"w-8 h-8 text-muted-foreground"})})})]}),r.jsx("div",{className:"text-xs text-muted-foreground break-all",children:p.url})]},g))})})]}),s.localizations&&s.localizations.length>0&&r.jsxs(Y,{children:[r.jsx(Pe,{children:r.jsxs(Ie,{className:"flex items-center gap-2",children:[r.jsx($e,{className:"w-5 h-5"}),n?"الترجمات":"Localizations"]})}),r.jsx(ee,{className:"space-y-6",children:s.localizations.map(p=>r.jsxs(Y,{className:"border-2 border-dashed",children:[r.jsx(Pe,{className:"pb-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[r.jsx(qt,{className:"w-4 h-4"}),p.languageName," (",p.languageCode,")"]}),u(p.isActive)]})}),r.jsxs(ee,{className:"space-y-4",children:[r.jsx(m,{label:n?"اسم الشركة المترجم":"Localized Business Name",value:p.businessNameLocalized}),r.jsx(m,{label:n?"الوصف المترجم":"Localized Description",value:p.descriptionLocalized}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-muted-foreground",children:n?"تاريخ الإنشاء:":"Created:"}),r.jsx("span",{className:"ml-2",children:new Date(p.createdAt).toLocaleDateString()})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-muted-foreground",children:n?"تاريخ التحديث:":"Updated:"}),r.jsx("span",{className:"ml-2",children:new Date(p.updatedAt).toLocaleDateString()})]})]})]})]},p.id))})]})]})}):r.jsx(lt,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex items-center gap-4",children:r.jsxs(B,{variant:"ghost",size:"sm",onClick:l,className:"gap-2",children:[r.jsx(Gt,{className:"w-4 h-4"}),n?"رجوع":"Back"]})}),r.jsxs("div",{className:"text-center py-8",children:[r.jsx(ss,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-muted-foreground",children:n?"مقدم الخدمة غير موجود":"Provider not found"})]})]})})},EJ=()=>{const{id:e}=Io(),t=lr(),{isRTL:n}=rt(),s=rr(),{data:a=[]}=qe({queryKey:["languages","dropdown"],queryFn:()=>ir.getLanguagesDropdown()}),{data:i,isLoading:o,error:l,refetch:d}=qe({queryKey:["provider",e],queryFn:()=>Ef.getById(Number(e)),enabled:!!e}),u=it({mutationFn:({id:A,data:k})=>Ef.updateProvider(A,k),onSuccess:()=>{s.invalidateQueries({queryKey:["providers"]}),s.invalidateQueries({queryKey:["provider",e]}),be.success(n?"تم تحديث مقدم الخدمة بنجاح":"Provider updated successfully"),t("/providers")},onError:A=>{be.error(A.message||(n?"فشل في تحديث مقدم الخدمة":"Failed to update provider"))}}),h=Wt({defaultValues:{email:"",phoneNumber:"",locationId:void 0,isActive:!0,businessName:"",description:"",rating:3,parentId:void 0,localizations:[],images:[]}});R.useEffect(()=>{i&&h.reset({email:i.email||"",phoneNumber:i.phoneNumber||"",locationId:void 0,isActive:i.isActive,businessName:i.businessName,description:i.description,rating:i.rating,parentId:i.parentId||void 0,localizations:i.localizations.map(A=>({id:A.id,languageId:A.languageId,businessNameLocalized:A.businessNameLocalized,descriptionLocalized:A.descriptionLocalized,isActive:A.isActive})),images:i.images||[]})},[i,h]);const{fields:m,append:p,remove:g}=Qt({control:h.control,name:"localizations"}),{fields:y,append:x,remove:v}=Qt({control:h.control,name:"images"}),j=async A=>{if(e)try{const k={...A};await u.mutateAsync({id:Number(e),data:k})}catch{}},b=()=>{p({languageId:0,businessNameLocalized:"",descriptionLocalized:"",isActive:!0})},S=()=>{x({url:""})},C=()=>{t("/providers")},_=()=>{t("/providers")};return o?r.jsx(lt,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(Qe,{className:"h-9 w-20"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Qe,{className:"h-8 w-64"}),r.jsx(Qe,{className:"h-4 w-96"})]})]}),r.jsx("div",{className:"space-y-6",children:[1,2,3].map(A=>r.jsxs(Y,{children:[r.jsx(Pe,{children:r.jsx(Qe,{className:"h-6 w-48"})}),r.jsxs(ee,{className:"space-y-4",children:[r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsx(Qe,{className:"h-10"}),r.jsx(Qe,{className:"h-10"})]}),r.jsx(Qe,{className:"h-24"})]})]},A))})]})}):l?r.jsx(lt,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex items-center gap-4",children:r.jsxs(B,{variant:"ghost",size:"sm",onClick:_,className:"gap-2",children:[r.jsx(Gt,{className:"w-4 h-4"}),n?"رجوع":"Back"]})}),r.jsxs(wn,{variant:"destructive",children:[r.jsx(Ks,{className:"h-4 w-4"}),r.jsxs(Nn,{className:"flex items-center justify-between",children:[r.jsx("span",{children:l instanceof Error?l.message:n?"فشل في تحميل تفاصيل مقدم الخدمة":"Failed to load provider details"}),r.jsxs(B,{variant:"outline",size:"sm",onClick:()=>d(),className:"ml-2",children:[r.jsx(dn,{className:"w-4 h-4 mr-2"}),n?"إعادة المحاولة":"Retry"]})]})]})]})}):i?r.jsx(lt,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:n?"تعديل مقدم الخدمة":"Edit Provider"}),r.jsx("p",{className:"text-muted-foreground",children:n?`تعديل تفاصيل ${i.businessName}`:`Edit details for ${i.businessName}`})]}),r.jsxs(B,{variant:"ghost",size:"sm",onClick:C,className:"gap-2",children:[r.jsx(Gt,{className:"w-4 h-4"}),n?"رجوع":"Back"]})]}),r.jsx(Kt,{...h,children:r.jsxs("form",{onSubmit:h.handleSubmit(j),className:"space-y-6",children:[r.jsxs(Y,{children:[r.jsx(Pe,{children:r.jsxs(Ie,{className:"flex items-center gap-2",children:[r.jsx(Ai,{className:"w-5 h-5"}),n?"معلومات المستخدم":"User Information"]})}),r.jsxs(ee,{className:"space-y-4",children:[r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsx(ae,{control:h.control,name:"email",rules:{required:n?"البريد الإلكتروني مطلوب":"Email is required"},render:({field:A})=>r.jsxs(ne,{children:[r.jsx(re,{children:n?"البريد الإلكتروني":"Email"}),r.jsx(se,{children:r.jsx(Oe,{...A,type:"email",placeholder:n?"أدخل البريد الإلكتروني":"Enter email address"})}),r.jsx(fe,{})]})}),r.jsx(ae,{control:h.control,name:"phoneNumber",render:({field:A})=>r.jsxs(ne,{children:[r.jsx(re,{children:n?"رقم الهاتف":"Phone Number"}),r.jsx(se,{children:r.jsx(Oe,{...A})}),r.jsx(fe,{})]})})]}),r.jsx(ae,{control:h.control,name:"isActive",render:({field:A})=>r.jsxs(ne,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[r.jsxs("div",{className:"space-y-0.5",children:[r.jsx(re,{className:"text-base",children:n?"مفعل":"Active"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:n?"تفعيل أو إلغاء تفعيل مقدم الخدمة":"Enable or disable the provider account"})]}),r.jsx(se,{children:r.jsx(Ct,{checked:A.value,onCheckedChange:A.onChange})})]})})]})]}),r.jsxs(Y,{children:[r.jsx(Pe,{children:r.jsxs(Ie,{className:"flex items-center gap-2",children:[r.jsx(hN,{className:"w-5 h-5"}),n?"معلومات الأعمال":"Business Information"]})}),r.jsxs(ee,{className:"space-y-4",children:[r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsx(ae,{control:h.control,name:"businessName",rules:{required:n?"اسم الشركة مطلوب":"Business name is required"},render:({field:A})=>r.jsxs(ne,{children:[r.jsx(re,{children:n?"اسم الشركة":"Business Name"}),r.jsx(se,{children:r.jsx(Oe,{...A})}),r.jsx(fe,{})]})}),r.jsx(ae,{control:h.control,name:"rating",render:({field:A})=>{var k;return r.jsxs(ne,{children:[r.jsx(re,{children:n?"التقييم":"Rating"}),r.jsxs(ut,{value:(k=A.value)==null?void 0:k.toString(),onValueChange:T=>A.onChange(parseInt(T)),children:[r.jsx(se,{children:r.jsx(ct,{children:r.jsx(mt,{})})}),r.jsx(dt,{children:[1,2,3,4,5].map(T=>r.jsx(Ye,{value:T.toString(),children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"flex",children:Array.from({length:5},(O,M)=>r.jsx(Kc,{className:`w-3 h-3 ${M<T?"text-yellow-400 fill-yellow-400":"text-gray-300"}`},M))}),T," ",T===1?"Star":"Stars"]})},T))})]}),r.jsx(fe,{})]})}})]}),r.jsx(ae,{control:h.control,name:"description",rules:{required:n?"الوصف مطلوب":"Description is required"},render:({field:A})=>r.jsxs(ne,{children:[r.jsx(re,{children:n?"الوصف":"Description"}),r.jsx(se,{children:r.jsx(Pt,{...A,rows:4})}),r.jsx(fe,{})]})})]})]}),r.jsxs(Y,{children:[r.jsx(Pe,{children:r.jsxs(Ie,{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(No,{className:"w-5 h-5"}),n?"الصور":"Images"]}),r.jsxs(B,{type:"button",variant:"outline",size:"sm",onClick:S,children:[r.jsx(ot,{className:"w-4 h-4 mr-2"}),n?"إضافة صورة":"Add Image"]})]})}),r.jsx(ee,{className:"space-y-4",children:y.length===0?r.jsx("div",{className:"text-center py-8 text-muted-foreground",children:n?'لا توجد صور حتى الآن. اضغط "إضافة صورة" لبدء إضافة الصور.':'No images added yet. Click "Add Image" to start adding images.'}):y.map((A,k)=>r.jsxs(Y,{className:"border-2 border-dashed",children:[r.jsx(Pe,{className:"pb-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h4",{className:"font-medium",children:[n?"صورة":"Image"," ",k+1]}),r.jsx(B,{type:"button",variant:"ghost",size:"sm",onClick:()=>v(k),children:r.jsx(xt,{className:"w-4 h-4"})})]})}),r.jsx(ee,{children:r.jsx(ae,{control:h.control,name:`images.${k}.url`,render:({field:T})=>r.jsxs(ne,{children:[r.jsx(re,{children:n?"رابط الصورة":"Image URL"}),r.jsx(se,{children:r.jsx(Co,{value:T.value,onChange:T.onChange,folder:"providers",placeholder:"https://example.com/image.jpg"})}),r.jsx(fe,{})]})})})]},A.id))})]}),r.jsxs(Y,{children:[r.jsx(Pe,{children:r.jsxs(Ie,{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ss,{className:"w-5 h-5"}),n?"الترجمات":"Localizations"]}),r.jsxs(B,{type:"button",variant:"outline",size:"sm",onClick:b,children:[r.jsx(ot,{className:"w-4 h-4 mr-2"}),n?"إضافة ترجمة":"Add Translation"]})]})}),r.jsx(ee,{className:"space-y-4",children:m.length===0?r.jsx("div",{className:"text-center py-8 text-muted-foreground",children:n?'لا توجد ترجمات حتى الآن. اضغط "إضافة ترجمة" لبدء إضافة المحتوى المترجم.':'No translations added yet. Click "Add Translation" to start adding localized content.'}):m.map((A,k)=>r.jsxs(Y,{className:"border-2 border-dashed",children:[r.jsx(Pe,{className:"pb-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h4",{className:"font-medium",children:[n?"ترجمة":"Translation"," ",k+1,h.watch(`localizations.${k}.id`)&&r.jsxs("span",{className:"ml-2 text-xs text-muted-foreground",children:["(ID: ",h.watch(`localizations.${k}.id`),")"]})]}),r.jsx(B,{type:"button",variant:"ghost",size:"sm",onClick:()=>g(k),children:r.jsx(xt,{className:"w-4 h-4"})})]})}),r.jsxs(ee,{className:"space-y-4",children:[r.jsx(ae,{control:h.control,name:`localizations.${k}.languageId`,rules:{required:n?"اللغة مطلوبة":"Language is required"},render:({field:T})=>{var O;return r.jsxs(ne,{children:[r.jsx(re,{children:n?"اللغة":"Language"}),r.jsxs(ut,{value:((O=T.value)==null?void 0:O.toString())||"",onValueChange:M=>T.onChange(parseInt(M)),children:[r.jsx(se,{children:r.jsx(ct,{children:r.jsx(mt,{placeholder:n?"اختر اللغة":"Select language"})})}),r.jsx(dt,{children:a.map(M=>r.jsxs(Ye,{value:M.id.toString(),children:[M.name," (",M.code,")"]},M.id))})]}),r.jsx(fe,{})]})}}),r.jsx(ae,{control:h.control,name:`localizations.${k}.businessNameLocalized`,rules:{required:n?"اسم الشركة المترجم مطلوب":"Localized business name is required"},render:({field:T})=>r.jsxs(ne,{children:[r.jsx(re,{children:n?"اسم الشركة المترجم":"Localized Business Name"}),r.jsx(se,{children:r.jsx(Oe,{...T})}),r.jsx(fe,{})]})}),r.jsx(ae,{control:h.control,name:`localizations.${k}.descriptionLocalized`,rules:{required:n?"الوصف المترجم مطلوب":"Localized description is required"},render:({field:T})=>r.jsxs(ne,{children:[r.jsx(re,{children:n?"الوصف المترجم":"Localized Description"}),r.jsx(se,{children:r.jsx(Pt,{...T,rows:3})}),r.jsx(fe,{})]})}),r.jsx(ae,{control:h.control,name:`localizations.${k}.isActive`,render:({field:T})=>r.jsxs(ne,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[r.jsx("div",{className:"space-y-0.5",children:r.jsx(re,{className:"text-sm",children:n?"ترجمة مفعلة":"Active Translation"})}),r.jsx(se,{children:r.jsx(Ct,{checked:T.value,onCheckedChange:T.onChange})})]})})]})]},A.id))})]}),r.jsx(Y,{children:r.jsx(ee,{className:"pt-6",children:r.jsxs("div",{className:"flex items-center gap-4 justify-end",children:[r.jsx(B,{type:"button",variant:"outline",onClick:C,disabled:u.isPending,children:n?"إلغاء":"Cancel"}),r.jsxs(B,{type:"submit",disabled:u.isPending,className:"gap-2",children:[r.jsx(ln,{className:"w-4 h-4"}),u.isPending?n?"جارٍ التحديث...":"Updating...":n?"تحديث مقدم الخدمة":"Update Provider"]})]})})})]})})]})}):r.jsx(lt,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex items-center gap-4",children:r.jsxs(B,{variant:"ghost",size:"sm",onClick:_,className:"gap-2",children:[r.jsx(Gt,{className:"w-4 h-4"}),n?"رجوع":"Back"]})}),r.jsxs("div",{className:"text-center py-8",children:[r.jsx(ss,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-muted-foreground",children:n?"مقدم الخدمة غير موجود":"Provider not found"})]})]})})},TJ=[{month:"Jan",monthAr:"يناير",revenue:45e3,orders:234},{month:"Feb",monthAr:"فبراير",revenue:52e3,orders:278},{month:"Mar",monthAr:"مارس",revenue:48e3,orders:256},{month:"Apr",monthAr:"أبريل",revenue:61e3,orders:342},{month:"May",monthAr:"مايو",revenue:55e3,orders:298},{month:"Jun",monthAr:"يونيو",revenue:67e3,orders:389}],OJ=[{name:"Smartphone Pro Max",nameAr:"هاتف ذكي برو ماكس",sales:1234,revenue:"$123,400",growth:12.5},{name:"Wireless Headphones",nameAr:"سماعات لاسلكية",sales:987,revenue:"$98,700",growth:8.2},{name:"Smart Watch",nameAr:"ساعة ذكية",sales:756,revenue:"$75,600",growth:-2.1},{name:"Laptop Stand",nameAr:"حامل لابتوب",sales:654,revenue:"$32,700",growth:15.8}],IJ=[{source:"Organic Search",sourceAr:"البحث العضوي",visitors:45234,percentage:42,change:12.5},{source:"Social Media",sourceAr:"وسائل التواصل الاجتماعي",visitors:23456,percentage:28,change:8.2},{source:"Direct",sourceAr:"مباشر",visitors:18765,percentage:18,change:-3.1},{source:"Email",sourceAr:"البريد الإلكتروني",visitors:12543,percentage:12,change:5.7}],MJ=()=>{const{isRTL:e}=rt();return r.jsx(lt,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-foreground",children:e?"التحليلات والتقارير":"Analytics & Reports"}),r.jsx("p",{className:"text-muted-foreground",children:e?"احصل على رؤى مفصلة حول أداء متجرك":"Get detailed insights into your store performance"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(ut,{defaultValue:"30days",children:[r.jsx(ct,{className:"w-40",children:r.jsx(mt,{})}),r.jsxs(dt,{children:[r.jsx(Ye,{value:"7days",children:e?"7 أيام":"Last 7 days"}),r.jsx(Ye,{value:"30days",children:e?"30 يوم":"Last 30 days"}),r.jsx(Ye,{value:"90days",children:e?"90 يوم":"Last 90 days"}),r.jsx(Ye,{value:"1year",children:e?"سنة واحدة":"Last year"})]})]}),r.jsxs(B,{variant:"outline",className:"flex items-center gap-2",children:[r.jsx(Zg,{className:"h-4 w-4"}),e?"تصدير التقرير":"Export Report"]})]})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[r.jsx(Y,{className:"border-0 shadow-elegant gradient-primary text-primary-foreground",children:r.jsx(ee,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-primary-foreground/80",children:e?"إجمالي الإيرادات":"Total Revenue"}),r.jsx("p",{className:"text-2xl font-bold",children:"$324,567"}),r.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[r.jsx(Un,{className:"h-4 w-4"}),r.jsx("span",{className:"text-sm",children:"+12.5%"})]})]}),r.jsx(Ep,{className:"h-8 w-8 text-primary-foreground/80"})]})})}),r.jsx(Y,{className:"border-0 shadow-elegant",children:r.jsx(ee,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:e?"إجمالي الطلبات":"Total Orders"}),r.jsx("p",{className:"text-2xl font-bold",children:"2,347"}),r.jsxs("div",{className:"flex items-center gap-1 mt-2 text-success",children:[r.jsx(Un,{className:"h-4 w-4"}),r.jsx("span",{className:"text-sm",children:"+8.2%"})]})]}),r.jsx(Wy,{className:"h-8 w-8 text-primary"})]})})}),r.jsx(Y,{className:"border-0 shadow-elegant",children:r.jsx(ee,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:e?"متوسط قيمة الطلب":"Average Order Value"}),r.jsx("p",{className:"text-2xl font-bold",children:"$138.42"}),r.jsxs("div",{className:"flex items-center gap-1 mt-2 text-destructive",children:[r.jsx(ho,{className:"h-4 w-4"}),r.jsx("span",{className:"text-sm",children:"-2.1%"})]})]}),r.jsx(du,{className:"h-8 w-8 text-primary"})]})})}),r.jsx(Y,{className:"border-0 shadow-elegant",children:r.jsx(ee,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:e?"معدل التحويل":"Conversion Rate"}),r.jsx("p",{className:"text-2xl font-bold",children:"3.24%"}),r.jsxs("div",{className:"flex items-center gap-1 mt-2 text-success",children:[r.jsx(Un,{className:"h-4 w-4"}),r.jsx("span",{className:"text-sm",children:"+0.5%"})]})]}),r.jsx(Gr,{className:"h-8 w-8 text-primary"})]})})})]}),r.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[r.jsxs(Y,{className:"border-0 shadow-elegant",children:[r.jsx(Pe,{children:r.jsxs(Ie,{className:"flex items-center gap-2",children:[r.jsx(du,{className:"h-5 w-5 text-primary"}),e?"الإيرادات الشهرية":"Monthly Revenue"]})}),r.jsx(ee,{children:r.jsx("div",{className:"space-y-6",children:TJ.map((t,n)=>r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"font-medium",children:e?t.monthAr:t.month}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("span",{className:"text-muted-foreground",children:[t.orders," ",e?"طلب":"orders"]}),r.jsxs("span",{className:"font-medium",children:["$",t.revenue.toLocaleString()]})]})]}),r.jsx(va,{value:t.revenue/7e4*100,className:"h-2"})]},n))})})]}),r.jsxs(Y,{className:"border-0 shadow-elegant",children:[r.jsx(Pe,{children:r.jsxs(Ie,{className:"flex items-center gap-2",children:[r.jsx(Fr,{className:"h-5 w-5 text-primary"}),e?"مصادر الزيارات":"Traffic Sources"]})}),r.jsx(ee,{children:r.jsx("div",{className:"space-y-6",children:IJ.map((t,n)=>r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"font-medium text-sm",children:e?t.sourceAr:t.source}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:t.visitors.toLocaleString()}),r.jsxs("span",{className:`text-xs flex items-center gap-1 ${t.change>0?"text-success":"text-destructive"}`,children:[t.change>0?r.jsx(Un,{className:"h-3 w-3"}):r.jsx(ho,{className:"h-3 w-3"}),Math.abs(t.change),"%"]})]})]}),r.jsx(va,{value:t.percentage,className:"h-2"})]},n))})})]})]}),r.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[r.jsxs(Y,{className:"lg:col-span-2 border-0 shadow-elegant",children:[r.jsx(Pe,{children:r.jsxs(Ie,{className:"flex items-center gap-2",children:[r.jsx(Kc,{className:"h-5 w-5 text-primary"}),e?"أفضل المنتجات أداءً":"Top Performing Products"]})}),r.jsx(ee,{children:r.jsx("div",{className:"space-y-4",children:OJ.map((t,n)=>r.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg bg-muted/50 hover:bg-muted transition-smooth",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:r.jsx(Dr,{className:"h-5 w-5 text-primary"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:e?t.nameAr:t.name}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[t.sales," ",e?"مبيعة":"sales"]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"font-medium",children:t.revenue}),r.jsxs("div",{className:`flex items-center gap-1 text-sm ${t.growth>0?"text-success":"text-destructive"}`,children:[t.growth>0?r.jsx(Un,{className:"h-3 w-3"}):r.jsx(ho,{className:"h-3 w-3"}),Math.abs(t.growth),"%"]})]})]},n))})})]}),r.jsxs(Y,{className:"border-0 shadow-elegant",children:[r.jsx(Pe,{children:r.jsxs(Ie,{className:"flex items-center gap-2",children:[r.jsx(oo,{className:"h-5 w-5 text-primary"}),e?"إحصائيات سريعة":"Quick Stats"]})}),r.jsx(ee,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"text-center p-4 rounded-lg bg-success/10",children:[r.jsx("p",{className:"text-2xl font-bold text-success",children:"98.5%"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:e?"رضا العملاء":"Customer Satisfaction"})]}),r.jsxs("div",{className:"text-center p-4 rounded-lg bg-primary/10",children:[r.jsx("p",{className:"text-2xl font-bold text-primary",children:"2.4s"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:e?"متوسط وقت التحميل":"Avg. Load Time"})]}),r.jsxs("div",{className:"text-center p-4 rounded-lg bg-warning/10",children:[r.jsx("p",{className:"text-2xl font-bold text-warning",children:"156"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:e?"عملاء جدد هذا الشهر":"New Customers This Month"})]})]})})]})]})]})})};var LJ="Separator",J4="horizontal",$J=["horizontal","vertical"],yR=N.forwardRef((e,t)=>{const{decorative:n,orientation:s=J4,...a}=e,i=DJ(s)?s:J4,l=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return r.jsx(gt.div,{"data-orientation":i,...l,...a,ref:t})});yR.displayName=LJ;function DJ(e){return $J.includes(e)}var jR=yR;const li=N.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...s},a)=>r.jsx(jR,{ref:a,decorative:n,orientation:t,className:Le("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...s}));li.displayName=jR.displayName;var v0="Tabs",[RJ,JAe]=_s(v0,[n0]),bR=n0(),[zJ,A_]=RJ(v0),wR=N.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:d="automatic",...u}=e,h=t0(l),[m,p]=wo({prop:s,onChange:a,defaultProp:i??"",caller:v0});return r.jsx(zJ,{scope:n,baseId:Si(),value:m,onValueChange:p,orientation:o,dir:h,activationMode:d,children:r.jsx(gt.div,{dir:h,"data-orientation":o,...u,ref:t})})});wR.displayName=v0;var NR="TabsList",SR=N.forwardRef((e,t)=>{const{__scopeTabs:n,loop:s=!0,...a}=e,i=A_(NR,n),o=bR(n);return r.jsx(F$,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:s,children:r.jsx(gt.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});SR.displayName=NR;var _R="TabsTrigger",CR=N.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,disabled:a=!1,...i}=e,o=A_(_R,n),l=bR(n),d=kR(o.baseId,s),u=ER(o.baseId,s),h=s===o.value;return r.jsx(B$,{asChild:!0,...l,focusable:!a,active:h,children:r.jsx(gt.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":u,"data-state":h?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:d,...i,ref:t,onMouseDown:Ge(e.onMouseDown,m=>{!a&&m.button===0&&m.ctrlKey===!1?o.onValueChange(s):m.preventDefault()}),onKeyDown:Ge(e.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&o.onValueChange(s)}),onFocus:Ge(e.onFocus,()=>{const m=o.activationMode!=="manual";!h&&!a&&m&&o.onValueChange(s)})})})});CR.displayName=_R;var PR="TabsContent",AR=N.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,forceMount:a,children:i,...o}=e,l=A_(PR,n),d=kR(l.baseId,s),u=ER(l.baseId,s),h=s===l.value,m=N.useRef(h);return N.useEffect(()=>{const p=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(p)},[]),r.jsx(ja,{present:a||h,children:({present:p})=>r.jsx(gt.div,{"data-state":h?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":d,hidden:!p,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:m.current?"0s":void 0},children:p&&i})})});AR.displayName=PR;function kR(e,t){return`${e}-trigger-${t}`}function ER(e,t){return`${e}-content-${t}`}var FJ=wR,TR=SR,OR=CR,IR=AR;const MR=FJ,k_=N.forwardRef(({className:e,...t},n)=>r.jsx(TR,{ref:n,className:Le("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));k_.displayName=TR.displayName;const fs=N.forwardRef(({className:e,...t},n)=>r.jsx(OR,{ref:n,className:Le("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));fs.displayName=OR.displayName;const ps=N.forwardRef(({className:e,...t},n)=>r.jsx(IR,{ref:n,className:Le("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));ps.displayName=IR.displayName;const BJ=()=>{var m,p,g;const{isRTL:e}=rt(),{theme:t,colorTheme:n,fontTheme:s,setTheme:a,setColorTheme:i,setFontTheme:o}=cd(),[l,d]=N.useState({emailOrders:!0,emailCustomers:!1,smsOrders:!0,pushNotifications:!0}),u=[{id:"blue",name:e?"أزرق":"Blue",color:"hsl(262, 83%, 58%)",category:"vibrant"},{id:"purple",name:e?"بنفسجي":"Purple",color:"hsl(280, 89%, 60%)",category:"vibrant"},{id:"indigo",name:e?"نيلي":"Indigo",color:"hsl(239, 84%, 67%)",category:"vibrant"},{id:"cyan",name:e?"سماوي":"Cyan",color:"hsl(188, 94%, 43%)",category:"vibrant"},{id:"green",name:e?"أخضر":"Green",color:"hsl(142, 76%, 36%)",category:"nature"},{id:"emerald",name:e?"زمردي":"Emerald",color:"hsl(160, 84%, 39%)",category:"nature"},{id:"orange",name:e?"برتقالي":"Orange",color:"hsl(25, 95%, 53%)",category:"warm"},{id:"amber",name:e?"كهرماني":"Amber",color:"hsl(43, 96%, 56%)",category:"warm"},{id:"red",name:e?"أحمر":"Red",color:"hsl(0, 84%, 60%)",category:"warm"},{id:"pink",name:e?"زهري":"Pink",color:"hsl(330, 81%, 60%)",category:"warm"},{id:"rose",name:e?"وردي":"Rose",color:"hsl(351, 83%, 61%)",category:"warm"},{id:"slate",name:e?"أردوازي":"Slate",color:"hsl(215, 28%, 17%)",category:"neutral"},{id:"neutral",name:e?"محايد":"Neutral",color:"hsl(0, 0%, 23%)",category:"neutral"},{id:"stone",name:e?"حجري":"Stone",color:"hsl(25, 5%, 25%)",category:"neutral"}],h=[{id:"inter",name:"Inter",preview:e?"نص تجريبي للخط":"The quick brown fox jumps over the lazy dog.",description:e?"خط عصري ومقروء":"Modern and readable",category:"modern"},{id:"roboto",name:"Roboto",preview:e?"نص تجريبي للخط":"The quick brown fox jumps over the lazy dog.",description:e?"خط جوجل الشهير":"Google's popular font",category:"classic"},{id:"poppins",name:"Poppins",preview:e?"نص تجريبي للخط":"The quick brown fox jumps over the lazy dog.",description:e?"خط دائري وودود":"Rounded and friendly",category:"modern"},{id:"nunito",name:"Nunito",preview:e?"نص تجريبي للخط":"The quick brown fox jumps over the lazy dog.",description:e?"خط متوازن ومريح":"Balanced and comfortable",category:"modern"},{id:"source-sans",name:"Source Sans",preview:e?"نص تجريبي للخط":"The quick brown fox jumps over the lazy dog.",description:e?"خط أدوبي المفتوح":"Adobe's open source",category:"professional"},{id:"work-sans",name:"Work Sans",preview:e?"نص تجريبي للخط":"The quick brown fox jumps over the lazy dog.",description:e?"مصمم للشاشات":"Optimized for screens",category:"professional"},{id:"outfit",name:"Outfit",preview:e?"نص تجريبي للخط":"The quick brown fox jumps over the lazy dog.",description:e?"خط عصري وأنيق":"Modern and stylish",category:"trendy"},{id:"space-grotesk",name:"Space Grotesk",preview:e?"نص تجريبي للخط":"The quick brown fox jumps over the lazy dog.",description:e?"خط مستقبلي":"Futuristic design",category:"trendy"},{id:"dosis",name:"Dosis",preview:e?"نص تجريبي للخط":"The quick brown fox jumps over the lazy dog.",description:e?"خط نظيف وبسيط":"Clean and minimal",category:"minimal"},{id:"amiri",name:e?"أميري":"Amiri",preview:e?"إن الخط العربي فن جميل يعبر عن ثقافة الأمة":"Beautiful Arabic calligraphy font",description:e?"خط تقليدي كلاسيكي":"Classical traditional Arabic font",category:"arabic-classic"},{id:"cairo",name:e?"القاهرة":"Cairo",preview:e?"خط عصري للاستخدام في التطبيقات الحديثة":"Modern font for contemporary applications",description:e?"خط عربي عصري":"Modern Arabic typeface",category:"arabic-modern"},{id:"tajawal",name:e?"تجول":"Tajawal",preview:e?"خط نظيف وسهل القراءة للاستخدام اليومي":"Clean and readable for daily use",description:e?"خط عربي نظيف":"Clean Arabic font",category:"arabic-modern"},{id:"almarai",name:e?"المرعي":"Almarai",preview:e?"تصميم بسيط وأنيق للمحتوى الرقمي":"Simple and elegant design for digital content",description:e?"خط بسيط وأنيق":"Simple and elegant",category:"arabic-modern"},{id:"noto-sans-arabic",name:e?"نوتو سانس العربية":"Noto Sans Arabic",preview:e?"خط جوجل الشامل لدعم اللغة العربية":"Google's comprehensive Arabic font",description:e?"خط جوجل العربي":"Google's Arabic font",category:"arabic-professional"},{id:"scheherazade",name:e?"شهرزاد":"Scheherazade",preview:e?"خط تقليدي مستوحى من الخط النسخي":"Traditional font inspired by Naskh calligraphy",description:e?"خط نسخي تقليدي":"Traditional Naskh style",category:"arabic-classic"},{id:"markazi-text",name:e?"نص مرقزي":"Markazi Text",preview:e?"خط مناسب للنصوص الطويلة والمقالات":"Perfect for long texts and articles",description:e?"للنصوص الطويلة":"For long texts",category:"arabic-professional"},{id:"reem-kufi",name:e?"ريم كوفي":"Reem Kufi",preview:e?"تصميم هندسي حديث مستوحى من الخط الكوفي":"Modern geometric design inspired by Kufi",description:e?"خط كوفي هندسي":"Geometric Kufi style",category:"arabic-trendy"},{id:"changa",name:e?"تشانغا":"Changa",preview:e?"خط عربي جريء ومميز للعناوين":"Bold and distinctive Arabic font for headlines",description:e?"خط عربي جريء":"Bold Arabic font",category:"arabic-trendy"},{id:"ibm-plex-sans-arabic",name:e?"آي بي إم عربي":"IBM Plex Arabic",preview:e?"خط مؤسسي احترافي من شركة آي بي إم":"Professional corporate font from IBM",description:e?"خط مؤسسي احترافي":"Professional corporate font",category:"arabic-professional"},{id:"system",name:e?"خط النظام":"System",preview:e?"نص تجريبي للخط":"The quick brown fox jumps over the lazy dog.",description:e?"خط النظام الافتراضي":"Default system fonts",category:"system"}];return r.jsx(lt,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-foreground",children:e?"الإعدادات":"Settings"}),r.jsx("p",{className:"text-muted-foreground",children:e?"إدارة إعدادات المتجر والتفضيلات الشخصية":"Manage your store settings and preferences"})]}),r.jsxs(MR,{defaultValue:"general",className:"space-y-6",children:[r.jsxs(k_,{className:"grid w-full grid-cols-5",children:[r.jsxs(fs,{value:"general",className:"flex items-center gap-2",children:[r.jsx(ss,{className:"h-4 w-4"}),e?"عام":"General"]}),r.jsxs(fs,{value:"notifications",className:"flex items-center gap-2",children:[r.jsx(pg,{className:"h-4 w-4"}),e?"الإشعارات":"Notifications"]}),r.jsxs(fs,{value:"security",className:"flex items-center gap-2",children:[r.jsx(Rs,{className:"h-4 w-4"}),e?"الأمان":"Security"]}),r.jsxs(fs,{value:"appearance",className:"flex items-center gap-2",children:[r.jsx(YA,{className:"h-4 w-4"}),e?"المظهر":"Appearance"]}),r.jsxs(fs,{value:"billing",className:"flex items-center gap-2",children:[r.jsx(pb,{className:"h-4 w-4"}),e?"الفواتير":"Billing"]})]}),r.jsxs(ps,{value:"general",className:"space-y-6",children:[r.jsxs(Y,{className:"border-0 shadow-elegant",children:[r.jsx(Pe,{children:r.jsxs(Ie,{className:"flex items-center gap-2",children:[r.jsx(ss,{className:"h-5 w-5 text-primary"}),e?"معلومات المتجر":"Store Information"]})}),r.jsxs(ee,{className:"space-y-4",children:[r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(br,{htmlFor:"store-name",children:e?"اسم المتجر":"Store Name"}),r.jsx(Oe,{id:"store-name",defaultValue:"Asala Store"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(br,{htmlFor:"store-email",children:e?"البريد الإلكتروني":"Store Email"}),r.jsx(Oe,{id:"store-email",defaultValue:"admin@asala.com"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(br,{htmlFor:"store-description",children:e?"وصف المتجر":"Store Description"}),r.jsx(Pt,{id:"store-description",rows:3,defaultValue:"Premium e-commerce platform for modern businesses"})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(br,{htmlFor:"currency",children:e?"العملة":"Currency"}),r.jsxs(ut,{defaultValue:"usd",children:[r.jsx(ct,{children:r.jsx(mt,{})}),r.jsxs(dt,{children:[r.jsx(Ye,{value:"usd",children:"USD ($)"}),r.jsx(Ye,{value:"eur",children:"EUR (€)"}),r.jsx(Ye,{value:"sar",children:"SAR (ر.س)"}),r.jsx(Ye,{value:"aed",children:"AED (د.إ)"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(br,{htmlFor:"timezone",children:e?"المنطقة الزمنية":"Timezone"}),r.jsxs(ut,{defaultValue:"utc",children:[r.jsx(ct,{children:r.jsx(mt,{})}),r.jsxs(dt,{children:[r.jsx(Ye,{value:"utc",children:"UTC"}),r.jsx(Ye,{value:"riyadh",children:"Riyadh (GMT+3)"}),r.jsx(Ye,{value:"dubai",children:"Dubai (GMT+4)"}),r.jsx(Ye,{value:"cairo",children:"Cairo (GMT+2)"})]})]})]})]})]})]}),r.jsxs(Y,{className:"border-0 shadow-elegant",children:[r.jsx(Pe,{children:r.jsxs(Ie,{className:"flex items-center gap-2",children:[r.jsx(Ai,{className:"h-5 w-5 text-primary"}),e?"الملف الشخصي":"Profile Information"]})}),r.jsxs(ee,{className:"space-y-4",children:[r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(br,{htmlFor:"first-name",children:e?"الاسم الأول":"First Name"}),r.jsx(Oe,{id:"first-name",defaultValue:"Admin"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(br,{htmlFor:"last-name",children:e?"اسم العائلة":"Last Name"}),r.jsx(Oe,{id:"last-name",defaultValue:"User"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(br,{htmlFor:"phone",children:e?"رقم الهاتف":"Phone Number"}),r.jsx(Oe,{id:"phone",defaultValue:"+966 50 123 4567"})]})]})]}),r.jsx("div",{className:"flex justify-end",children:r.jsxs(B,{className:"gradient-primary flex items-center gap-2",children:[r.jsx(ln,{className:"h-4 w-4"}),e?"حفظ التغييرات":"Save Changes"]})})]}),r.jsxs(ps,{value:"notifications",className:"space-y-6",children:[r.jsxs(Y,{className:"border-0 shadow-elegant",children:[r.jsx(Pe,{children:r.jsxs(Ie,{className:"flex items-center gap-2",children:[r.jsx(pg,{className:"h-5 w-5 text-primary"}),e?"تفضيلات الإشعارات":"Notification Preferences"]})}),r.jsxs(ee,{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(wf,{className:"h-4 w-4 text-muted-foreground"}),r.jsx(br,{className:"font-medium",children:e?"إشعارات الطلبات عبر البريد الإلكتروني":"Email Order Notifications"})]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:e?"احصل على إشعارات عند وصول طلبات جديدة":"Get notified when new orders are received"})]}),r.jsx(Ct,{checked:l.emailOrders,onCheckedChange:y=>d(x=>({...x,emailOrders:y}))})]}),r.jsx(li,{}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(wf,{className:"h-4 w-4 text-muted-foreground"}),r.jsx(br,{className:"font-medium",children:e?"إشعارات العملاء الجدد":"New Customer Notifications"})]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:e?"إشعارات عند تسجيل عملاء جدد":"Notifications when new customers register"})]}),r.jsx(Ct,{checked:l.emailCustomers,onCheckedChange:y=>d(x=>({...x,emailCustomers:y}))})]}),r.jsx(li,{}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(xV,{className:"h-4 w-4 text-muted-foreground"}),r.jsx(br,{className:"font-medium",children:e?"إشعارات SMS للطلبات":"SMS Order Notifications"})]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:e?"إشعارات نصية للطلبات المهمة":"Text notifications for important orders"})]}),r.jsx(Ct,{checked:l.smsOrders,onCheckedChange:y=>d(x=>({...x,smsOrders:y}))})]}),r.jsx(li,{}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(pg,{className:"h-4 w-4 text-muted-foreground"}),r.jsx(br,{className:"font-medium",children:e?"الإشعارات الفورية":"Push Notifications"})]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:e?"إشعارات فورية في المتصفح":"Browser push notifications"})]}),r.jsx(Ct,{checked:l.pushNotifications,onCheckedChange:y=>d(x=>({...x,pushNotifications:y}))})]})]})]}),r.jsx("div",{className:"flex justify-end",children:r.jsxs(B,{className:"gradient-primary flex items-center gap-2",children:[r.jsx(ln,{className:"h-4 w-4"}),e?"حفظ التغييرات":"Save Changes"]})})]}),r.jsxs(ps,{value:"security",className:"space-y-6",children:[r.jsxs(Y,{className:"border-0 shadow-elegant",children:[r.jsx(Pe,{children:r.jsxs(Ie,{className:"flex items-center gap-2",children:[r.jsx(Rs,{className:"h-5 w-5 text-primary"}),e?"إعدادات الأمان":"Security Settings"]})}),r.jsxs(ee,{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(br,{htmlFor:"current-password",children:e?"كلمة المرور الحالية":"Current Password"}),r.jsx(Oe,{id:"current-password",type:"password"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(br,{htmlFor:"new-password",children:e?"كلمة المرور الجديدة":"New Password"}),r.jsx(Oe,{id:"new-password",type:"password"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(br,{htmlFor:"confirm-password",children:e?"تأكيد كلمة المرور":"Confirm New Password"}),r.jsx(Oe,{id:"confirm-password",type:"password"})]}),r.jsx(li,{}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(br,{className:"font-medium",children:e?"التحقق بخطوتين":"Two-Factor Authentication"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:e?"أضف طبقة أمان إضافية لحسابك":"Add an extra layer of security to your account"})]}),r.jsx(B,{variant:"outline",children:e?"تفعيل":"Enable"})]})]})]}),r.jsx("div",{className:"flex justify-end",children:r.jsxs(B,{className:"gradient-primary flex items-center gap-2",children:[r.jsx(ln,{className:"h-4 w-4"}),e?"تحديث كلمة المرور":"Update Password"]})})]}),r.jsx(ps,{value:"appearance",className:"space-y-6",children:r.jsxs(Y,{className:"border-0 shadow-elegant",children:[r.jsx(Pe,{children:r.jsxs(Ie,{className:"flex items-center gap-2",children:[r.jsx(YA,{className:"h-5 w-5 text-primary"}),e?"إعدادات المظهر":"Appearance Settings"]})}),r.jsx(ee,{className:"space-y-6",children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{children:[r.jsx(br,{className:"font-medium text-lg",children:e?"وضع السمة":"Theme Mode"}),r.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:e?"اختر بين الوضع الفاتح والداكن":"Choose between light and dark mode"})]}),r.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-full bg-muted/30",children:[r.jsx("div",{className:`w-3 h-3 rounded-full ${t==="light"?"bg-yellow-400":"bg-slate-700"}`}),r.jsx("span",{className:"text-xs font-medium text-muted-foreground capitalize",children:t==="light"?e?"فاتح":"Light":e?"داكن":"Dark"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:`group relative p-6 rounded-xl border-2 cursor-pointer transition-all duration-200 hover:scale-105 ${t==="light"?"border-primary bg-primary/5 shadow-lg shadow-primary/20":"border-border hover:border-primary/30 hover:shadow-md"}`,onClick:()=>a("light"),children:[r.jsxs("div",{className:"space-y-3 mb-4",children:[r.jsx("div",{className:"h-3 bg-gradient-to-r from-white to-gray-100 rounded border shadow-sm"}),r.jsx("div",{className:"h-2 bg-gray-200 rounded w-3/4"}),r.jsx("div",{className:"h-2 bg-gray-200 rounded w-1/2"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("p",{className:"font-medium",children:e?"فاتح":"Light"}),t==="light"&&r.jsx("div",{className:"w-2 h-2 rounded-full bg-primary"})]}),t==="light"&&r.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-primary rounded-full flex items-center justify-center",children:r.jsx("div",{className:"w-2 h-2 bg-primary-foreground rounded-full"})})]}),r.jsxs("div",{className:`group relative p-6 rounded-xl border-2 cursor-pointer transition-all duration-200 hover:scale-105 ${t==="dark"?"border-primary bg-primary/5 shadow-lg shadow-primary/20":"border-border hover:border-primary/30 hover:shadow-md"}`,onClick:()=>a("dark"),children:[r.jsxs("div",{className:"space-y-3 mb-4",children:[r.jsx("div",{className:"h-3 bg-gradient-to-r from-gray-800 to-gray-900 rounded border border-gray-700 shadow-sm"}),r.jsx("div",{className:"h-2 bg-gray-600 rounded w-3/4"}),r.jsx("div",{className:"h-2 bg-gray-600 rounded w-1/2"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("p",{className:"font-medium",children:e?"داكن":"Dark"}),t==="dark"&&r.jsx("div",{className:"w-2 h-2 rounded-full bg-primary"})]}),t==="dark"&&r.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-primary rounded-full flex items-center justify-center",children:r.jsx("div",{className:"w-2 h-2 bg-primary-foreground rounded-full"})})]})]})]}),r.jsx(li,{}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{children:[r.jsx(br,{className:"font-medium text-lg",children:e?"لون السمة":"Color Theme"}),r.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:e?"اختر لون السمة الرئيسي للتطبيق":"Choose the primary color theme for the application"})]}),r.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-full bg-muted/30",children:[r.jsx("div",{className:"w-3 h-3 rounded-full border border-border",style:{backgroundColor:(m=u.find(y=>y.id===n))==null?void 0:m.color}}),r.jsx("span",{className:"text-xs font-medium text-muted-foreground capitalize",children:(p=u.find(y=>y.id===n))==null?void 0:p.name})]})]}),["vibrant","nature","warm","neutral"].map(y=>r.jsxs("div",{className:"mb-6",children:[r.jsxs("h4",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider mb-3",children:[y==="vibrant"&&(e?"نابض بالحياة":"Vibrant"),y==="nature"&&(e?"طبيعي":"Nature"),y==="warm"&&(e?"دافئ":"Warm"),y==="neutral"&&(e?"محايد":"Neutral")]}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:u.filter(x=>x.category===y).map(x=>r.jsxs("div",{className:`group relative p-4 rounded-xl border-2 cursor-pointer transition-all duration-200 hover:scale-105 ${n===x.id?"border-primary bg-primary/5 shadow-lg shadow-primary/20":"border-border hover:border-primary/30 hover:shadow-md"}`,onClick:()=>i(x.id),children:[r.jsxs("div",{className:"flex flex-col items-center gap-2",children:[r.jsx("div",{className:"w-8 h-8 rounded-full border-2 border-white shadow-lg group-hover:scale-110 transition-transform",style:{backgroundColor:x.color}}),r.jsx("span",{className:"text-xs font-medium text-center",children:x.name})]}),n===x.id&&r.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-primary rounded-full flex items-center justify-center",children:r.jsx("div",{className:"w-2 h-2 bg-primary-foreground rounded-full"})})]},x.id))})]},y))]}),r.jsx(li,{}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{children:[r.jsx(br,{className:"font-medium text-lg",children:e?"خط السمة":"Font Theme"}),r.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:e?"اختر الخط المستخدم في التطبيق":"Choose the font family used throughout the application"})]}),r.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-full bg-muted/30",children:[r.jsx("span",{className:"text-xs font-medium",children:"Aa"}),r.jsx("span",{className:"text-xs font-medium text-muted-foreground capitalize",children:(g=h.find(y=>y.id===s))==null?void 0:g.name})]})]}),["modern","classic","professional","trendy","minimal","arabic-classic","arabic-modern","arabic-professional","arabic-trendy","system"].map(y=>{const x=h.filter(v=>v.category===y);return x.length===0?null:r.jsxs("div",{className:"mb-6",children:[r.jsxs("h4",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider mb-3",children:[y==="modern"&&(e?"عصري":"Modern"),y==="classic"&&(e?"كلاسيكي":"Classic"),y==="professional"&&(e?"مهني":"Professional"),y==="trendy"&&(e?"عصري":"Trendy"),y==="minimal"&&(e?"بسيط":"Minimal"),y==="arabic-classic"&&(e?"خطوط عربية تقليدية":"Arabic Classic"),y==="arabic-modern"&&(e?"خطوط عربية عصرية":"Arabic Modern"),y==="arabic-professional"&&(e?"خطوط عربية مهنية":"Arabic Professional"),y==="arabic-trendy"&&(e?"خطوط عربية أنيقة":"Arabic Trendy"),y==="system"&&(e?"النظام":"System")]}),r.jsx("div",{className:"grid gap-3",children:x.map(v=>r.jsxs("div",{className:`group relative p-4 rounded-xl border-2 cursor-pointer transition-all duration-200 hover:shadow-md ${s===v.id?"border-primary bg-primary/5 shadow-lg shadow-primary/20":"border-border hover:border-primary/30"}`,onClick:()=>o(v.id),children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("h5",{className:"font-semibold",children:v.name}),s===v.id&&r.jsx("div",{className:"w-2 h-2 rounded-full bg-primary"})]}),r.jsx("p",{className:"text-xs text-muted-foreground",children:v.description})]}),r.jsx("span",{className:`text-2xl font-${v.id} text-muted-foreground group-hover:text-foreground transition-colors`,children:"Aa"})]}),r.jsx("div",{className:`text-sm text-muted-foreground font-${v.id} leading-relaxed`,children:v.preview}),s===v.id&&r.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-primary rounded-full flex items-center justify-center",children:r.jsx("div",{className:"w-2 h-2 bg-primary-foreground rounded-full"})})]},v.id))})]},y)})]}),r.jsx(li,{})]})})]})}),r.jsxs(ps,{value:"billing",className:"space-y-6",children:[r.jsxs(Y,{className:"border-0 shadow-elegant",children:[r.jsx(Pe,{children:r.jsxs(Ie,{className:"flex items-center gap-2",children:[r.jsx(pb,{className:"h-5 w-5 text-primary"}),e?"معلومات الفواتير":"Billing Information"]})}),r.jsxs(ee,{className:"space-y-4",children:[r.jsx("div",{className:"p-4 rounded-lg bg-success/10 border border-success/20",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-success",children:e?"الخطة الحالية: المحترف":"Current Plan: Professional"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:e?"$99.99 شهرياً":"$99.99 per month"})]}),r.jsx(B,{variant:"outline",size:"sm",children:e?"ترقية الخطة":"Upgrade Plan"})]})}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(br,{children:e?"طريقة الدفع":"Payment Method"}),r.jsx("div",{className:"p-4 rounded-lg border bg-muted/30",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(pb,{className:"h-5 w-5 text-muted-foreground"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"**** **** **** 4242"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:e?"تنتهي في 12/25":"Expires 12/25"})]})]}),r.jsx(B,{variant:"outline",size:"sm",children:e?"تحديث":"Update"})]})})]})]})]}),r.jsx("div",{className:"flex justify-end",children:r.jsxs(B,{className:"gradient-primary flex items-center gap-2",children:[r.jsx(ln,{className:"h-4 w-4"}),e?"حفظ التغييرات":"Save Changes"]})})]})]})]})})},qJ=()=>{const{isRTL:e}=rt(),t=rr(),[n,s]=N.useState(""),[a,i]=N.useState("all"),[o,l]=N.useState(!1),[d,u]=N.useState(!1),[h,m]=N.useState(null),[p,g]=N.useState(1),[y]=N.useState(5),x=Wt({defaultValues:{name:"",code:""}}),v=Wt({defaultValues:{name:"",code:"",isActive:!0}}),{data:j,isLoading:b,error:S}=qe({queryKey:["languages",p,y,a],queryFn:()=>{const E={page:p,pageSize:y};return a==="active"?E.activeOnly=!0:a==="inactive"&&(E.activeOnly=!1),ir.getLanguages(E)}}),{data:C}=qe({queryKey:["languages-all"],queryFn:()=>ir.getLanguages({pageSize:1e3})}),_=it({mutationFn:ir.createLanguage,onSuccess:()=>{t.invalidateQueries({queryKey:["languages"]}),t.invalidateQueries({queryKey:["languages-all"]}),be.success(e?"تم إنشاء اللغة بنجاح":"Language created successfully")},onError:E=>{be.error(E.message||(e?"حدث خطأ أثناء إنشاء اللغة":"Error creating language"))}}),A=it({mutationFn:({id:E,data:V})=>ir.updateLanguage(E,V),onSuccess:()=>{t.invalidateQueries({queryKey:["languages"]}),t.invalidateQueries({queryKey:["languages-all"]}),be.success(e?"تم تحديث اللغة بنجاح":"Language updated successfully")},onError:E=>{be.error(E.message||(e?"حدث خطأ أثناء تحديث اللغة":"Error updating language"))}}),k=it({mutationFn:ir.toggleLanguageActivation,onSuccess:()=>{t.invalidateQueries({queryKey:["languages"]}),t.invalidateQueries({queryKey:["languages-all"]}),be.success(e?"تم تحديث حالة اللغة":"Language status updated")},onError:E=>{be.error(E.message||(e?"حدث خطأ أثناء تحديث حالة اللغة":"Error updating language status"))}}),T=it({mutationFn:ir.deleteLanguage,onSuccess:()=>{t.invalidateQueries({queryKey:["languages"]}),t.invalidateQueries({queryKey:["languages-all"]}),be.success(e?"تم حذف اللغة بنجاح":"Language deleted successfully")},onError:E=>{be.error(E.message||(e?"حدث خطأ أثناء حذف اللغة":"Error deleting language"))}}),O=(j==null?void 0:j.items.filter(E=>E.name.toLowerCase().includes(n.toLowerCase())||E.code.toLowerCase().includes(n.toLowerCase())))||[],M={total:(C==null?void 0:C.totalCount)||0,active:(C==null?void 0:C.items.filter(E=>E.isActive).length)||0,inactive:(C==null?void 0:C.items.filter(E=>!E.isActive).length)||0},z=async E=>{_.mutate(E,{onSuccess:()=>{l(!1),x.reset()}})},F=async E=>{h&&A.mutate({id:h.id,data:E},{onSuccess:()=>{u(!1),m(null),v.reset()}})},Z=E=>{m(E),v.reset({name:E.name,code:E.code,isActive:E.isActive}),u(!0)},D=E=>r.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1.5 rounded-full text-xs font-medium transition-all duration-200 ${E?"bg-emerald-100 text-emerald-700 border border-emerald-200 dark:bg-emerald-900/20 dark:text-emerald-400 dark:border-emerald-800":"bg-red-50 text-red-600 border border-red-200 dark:bg-red-900/20 dark:text-red-400 dark:border-red-800"}`,children:[r.jsx("div",{className:`w-2 h-2 rounded-full animate-pulse ${E?"bg-emerald-500 shadow-sm shadow-emerald-500/50":"bg-red-500 shadow-sm shadow-red-500/50"}`}),r.jsx("span",{className:"font-semibold",children:e?E?"نشط":"غير نشط":E?"Active":"Inactive"})]}),$=E=>new Date(E).toLocaleDateString(e?"ar-SA":"en-US");return r.jsx(lt,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-foreground",children:e?"إدارة اللغات":"Languages Management"}),r.jsx("p",{className:"text-muted-foreground",children:e?"إدارة اللغات المدعومة في النظام":"Manage supported languages in the system"})]}),r.jsxs(B,{className:"gradient-primary flex items-center gap-2",onClick:()=>l(!0),children:[r.jsx(ot,{className:"h-4 w-4"}),e?"إضافة لغة جديدة":"Add New Language"]})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[r.jsx(Y,{className:"border-0 shadow-elegant",children:r.jsx(ee,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:e?"إجمالي اللغات":"Total Languages"}),r.jsx("p",{className:"text-2xl font-bold",children:M.total})]}),r.jsx($e,{className:"h-8 w-8 text-primary"})]})})}),r.jsx(Y,{className:"border-0 shadow-elegant",children:r.jsx(ee,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:e?"اللغات النشطة":"Active Languages"}),r.jsx("p",{className:"text-2xl font-bold text-success",children:M.active})]}),r.jsx(Or,{className:"h-8 w-8 text-success"})]})})}),r.jsx(Y,{className:"border-0 shadow-elegant",children:r.jsx(ee,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:e?"اللغات غير النشطة":"Inactive Languages"}),r.jsx("p",{className:"text-2xl font-bold text-muted-foreground",children:M.inactive})]}),r.jsx(jn,{className:"h-8 w-8 text-muted-foreground"})]})})})]}),r.jsx(Y,{className:"border-0 shadow-elegant",children:r.jsx(ee,{className:"p-6",children:r.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(Qr,{className:`absolute top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground ${e?"right-3":"left-3"}`}),r.jsx(Oe,{placeholder:e?"البحث في اللغات...":"Search languages...",value:n,onChange:E=>s(E.target.value),className:e?"pr-10 pl-4":"pl-10 pr-4"})]}),r.jsx("div",{className:"flex gap-2",children:r.jsxs(Ut,{children:[r.jsx(Vt,{asChild:!0,children:r.jsxs(B,{variant:"outline",className:"flex items-center gap-2 hover:border-primary/50 hover:bg-primary/5 transition-all duration-200",children:[r.jsx("div",{className:`w-2 h-2 rounded-full ${a==="active"?"bg-emerald-500":a==="inactive"?"bg-red-500":"bg-gradient-to-r from-emerald-500 to-red-500"}`}),e?a==="all"?"جميع الحالات":a==="active"?"نشط":"غير نشط":a==="all"?"All Status":a==="active"?"Active":"Inactive",r.jsx(vn,{className:"h-4 w-4 opacity-50"})]})}),r.jsxs(Ft,{align:"end",className:"w-48",children:[r.jsxs(ke,{onClick:()=>i("all"),className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 rounded-full bg-gradient-to-r from-emerald-500 to-red-500"}),e?"جميع الحالات":"All Status"]}),r.jsxs(ke,{onClick:()=>i("active"),className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500"}),e?"نشط":"Active"]}),r.jsxs(ke,{onClick:()=>i("inactive"),className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500"}),e?"غير نشط":"Inactive"]})]})]})})]})})}),r.jsxs(Y,{className:"border-0 shadow-elegant",children:[r.jsx(Pe,{children:r.jsxs(Ie,{className:"flex items-center gap-2",children:[r.jsx($e,{className:"h-5 w-5 text-primary"}),e?`${O.length} لغة`:`${O.length} Languages`]})}),r.jsxs(ee,{children:[r.jsxs(On,{dir:e?"rtl":"ltr",children:[r.jsx(In,{children:r.jsxs(Xe,{className:e?"text-right":"text-left",children:[r.jsx(Re,{className:e?"text-right":"text-left",children:e?"اسم اللغة":"Language Name"}),r.jsx(Re,{className:e?"text-right":"text-left",children:e?"الكود":"Code"}),r.jsx(Re,{className:e?"text-right":"text-left",children:e?"الحالة":"Status"}),r.jsx(Re,{className:e?"text-right":"text-left",children:e?"تاريخ الإنشاء":"Created Date"}),r.jsx(Re,{className:e?"text-right":"text-left",children:e?"آخر تحديث":"Last Updated"}),r.jsx(Re,{className:"text-center",children:e?"الإجراءات":"Actions"})]})}),r.jsx(Mn,{children:b?r.jsx(Xe,{className:e?"text-right":"text-left",children:r.jsx(xe,{colSpan:6,className:"text-center py-8",children:r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"}),r.jsx("span",{className:e?"mr-2":"ml-2",children:e?"جاري التحميل...":"Loading..."})]})})}):S?r.jsx(Xe,{className:e?"text-right":"text-left",children:r.jsx(xe,{colSpan:6,className:"text-center py-8 text-destructive",children:e?"خطأ في تحميل البيانات":"Error loading data"})}):O.length===0?r.jsx(Xe,{className:e?"text-right":"text-left",children:r.jsx(xe,{colSpan:6,className:"text-center py-8 text-muted-foreground",children:e?"لا توجد لغات متاحة":"No languages available"})}):O.map(E=>r.jsxs(Xe,{className:`hover:bg-muted/50 ${e?"text-right":"text-left"}`,children:[r.jsx(xe,{className:e?"text-right":"text-left",children:r.jsxs("div",{className:`flex items-center gap-3 ${e?"text-right":"flex-row"}`,children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-primary flex items-center justify-center",children:r.jsx($e,{className:"h-4 w-4 text-primary-foreground"})}),r.jsx("div",{children:r.jsx("p",{className:"font-medium",children:E.name})})]})}),r.jsx(xe,{className:e?"text-right":"text-left",children:r.jsx(Me,{variant:"outline",className:"font-mono",children:E.code})}),r.jsx(xe,{className:e?"text-right":"text-left",children:D(E.isActive)}),r.jsx(xe,{className:`text-muted-foreground ${e?"text-right":"text-left"}`,children:$(E.createdAt)}),r.jsx(xe,{className:`text-muted-foreground ${e?"text-right":"text-left"}`,children:$(E.updatedAt)}),r.jsx(xe,{className:"text-center",children:r.jsxs(Ut,{children:[r.jsx(Vt,{asChild:!0,children:r.jsx(B,{variant:"ghost",className:"h-8 w-8 p-0",children:r.jsx(bn,{className:"h-4 w-4"})})}),r.jsxs(Ft,{align:e?"start":"end",children:[r.jsxs(ke,{className:`flex items-center gap-2 ${e?"flex-row-reverse":"flex-row"}`,onClick:()=>Z(E),children:[r.jsx(tr,{className:"h-4 w-4"}),e?"تحرير":"Edit"]}),r.jsxs(ke,{className:`flex items-center gap-2 ${e?"flex-row-reverse":"flex-row"}`,onClick:()=>k.mutate(E.id),children:[r.jsx(Cs,{className:"h-4 w-4"}),e?"تغيير الحالة":"Toggle Status"]}),r.jsxs(ke,{className:`flex items-center gap-2 text-destructive ${e?"flex-row-reverse":"flex-row"}`,onClick:()=>T.mutate(E.id),children:[r.jsx(xt,{className:"h-4 w-4"}),e?"حذف":"Delete"]})]})]})})]},E.id))})]}),j&&j.totalPages>1&&r.jsxs("div",{className:"flex items-center justify-between mt-6",children:[r.jsx("div",{className:"text-sm text-muted-foreground",children:e?`عرض ${(j.page-1)*j.pageSize+1} إلى ${Math.min(j.page*j.pageSize,j.totalCount)} من ${j.totalCount}`:`Showing ${(j.page-1)*j.pageSize+1} to ${Math.min(j.page*j.pageSize,j.totalCount)} of ${j.totalCount}`}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(B,{variant:"outline",size:"sm",onClick:()=>g(E=>Math.max(E-1,1)),disabled:!j.hasPreviousPage,children:e?r.jsx(Nt,{className:"h-4 w-4"}):r.jsx(At,{className:"h-4 w-4"})}),r.jsx("span",{className:"text-sm font-medium",children:e?`${j.page} من ${j.totalPages}`:`${j.page} of ${j.totalPages}`}),r.jsx(B,{variant:"outline",size:"sm",onClick:()=>g(E=>E+1),disabled:!j.hasNextPage,children:e?r.jsx(At,{className:"h-4 w-4"}):r.jsx(Nt,{className:"h-4 w-4"})})]})]})]})]}),r.jsx(Mt,{open:o,onOpenChange:l,children:r.jsxs(Et,{className:"sm:max-w-md",children:[r.jsxs(Tt,{children:[r.jsx(Ot,{children:e?"إضافة لغة جديدة":"Add New Language"}),r.jsx($t,{children:e?"أدخل معلومات اللغة الجديدة":"Enter the details for the new language"})]}),r.jsx(Kt,{...x,children:r.jsxs("form",{onSubmit:x.handleSubmit(z),className:"space-y-4",children:[r.jsx(ae,{control:x.control,name:"name",rules:{required:e?"اسم اللغة مطلوب":"Language name is required"},render:({field:E})=>r.jsxs(ne,{children:[r.jsx(re,{children:e?"اسم اللغة":"Language Name"}),r.jsx(se,{children:r.jsx(Oe,{placeholder:e?"مثال: العربية":"e.g., English",...E})}),r.jsx(fe,{})]})}),r.jsx(ae,{control:x.control,name:"code",rules:{required:e?"كود اللغة مطلوب":"Language code is required",pattern:{value:/^[a-z]{2}(-[A-Z]{2})?$/,message:e?"كود اللغة يجب أن يكون بصيغة صحيحة (مثال: ar, en-US)":"Invalid language code format (e.g., ar, en-US)"}},render:({field:E})=>r.jsxs(ne,{children:[r.jsx(re,{children:e?"كود اللغة":"Language Code"}),r.jsx(se,{children:r.jsx(Oe,{placeholder:e?"مثال: ar":"e.g., en",...E})}),r.jsx(fe,{})]})}),r.jsxs(Lt,{children:[r.jsx(B,{type:"button",variant:"outline",onClick:()=>l(!1),children:e?"إلغاء":"Cancel"}),r.jsx(B,{type:"submit",className:"gradient-primary",children:e?"إنشاء":"Create"})]})]})})]})}),r.jsx(Mt,{open:d,onOpenChange:u,children:r.jsxs(Et,{className:"sm:max-w-md",children:[r.jsxs(Tt,{children:[r.jsx(Ot,{children:e?"تحرير اللغة":"Edit Language"}),r.jsx($t,{children:e?"قم بتحديث معلومات اللغة":"Update the language details"})]}),r.jsx(Kt,{...v,children:r.jsxs("form",{onSubmit:v.handleSubmit(F),className:"space-y-4",children:[r.jsx(ae,{control:v.control,name:"name",rules:{required:e?"اسم اللغة مطلوب":"Language name is required"},render:({field:E})=>r.jsxs(ne,{children:[r.jsx(re,{children:e?"اسم اللغة":"Language Name"}),r.jsx(se,{children:r.jsx(Oe,{...E})}),r.jsx(fe,{})]})}),r.jsx(ae,{control:v.control,name:"code",rules:{required:e?"كود اللغة مطلوب":"Language code is required",pattern:{value:/^[a-z]{2}(-[A-Z]{2})?$/,message:e?"كود اللغة يجب أن يكون بصيغة صحيحة (مثال: ar, en-US)":"Invalid language code format (e.g., ar, en-US)"}},render:({field:E})=>r.jsxs(ne,{children:[r.jsx(re,{children:e?"كود اللغة":"Language Code"}),r.jsx(se,{children:r.jsx(Oe,{...E})}),r.jsx(fe,{})]})}),r.jsx(ae,{control:v.control,name:"isActive",render:({field:E})=>r.jsxs(ne,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[r.jsxs("div",{className:"space-y-0.5",children:[r.jsx(re,{className:"text-base",children:e?"اللغة نشطة":"Active Language"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:e?"تفعيل أو إلغاء تفعيل اللغة":"Enable or disable this language"})]}),r.jsx(se,{children:r.jsx(Ct,{checked:E.value,onCheckedChange:E.onChange})})]})}),r.jsxs(Lt,{children:[r.jsx(B,{type:"button",variant:"outline",onClick:()=>u(!1),children:e?"إلغاء":"Cancel"}),r.jsx(B,{type:"submit",className:"gradient-primary",children:e?"حفظ التغييرات":"Save Changes"})]})]})})]})})]})})};class UJ{constructor(){ge(this,"baseUrl","/api/categories");ge(this,"request",async(t,n={})=>{const s=`${this.baseUrl}${t}`,a={headers:{"Content-Type":"application/json",...n.headers},...n};try{const i=await fetch(s,a);if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);return await i.json()}catch(i){throw console.error("API Request Error:",i),i}});ge(this,"getCategories",async(t={})=>{const n=new URLSearchParams;t.page&&n.append("page",t.page.toString()),t.pageSize&&n.append("pageSize",t.pageSize.toString()),t.activeOnly!==void 0&&n.append("activeOnly",t.activeOnly.toString());const s=n.toString()?`?${n.toString()}`:"",a=await this.request(s);if(!a.success)throw new Error(a.message||"Failed to fetch categories");if(!a.data)throw new Error("No data returned from server");return a.data});ge(this,"getCategoriesDropdown",async()=>{const t=await this.request("/dropdown");if(!t.success)throw new Error(t.message||"Failed to fetch categories dropdown");if(!t.data)throw new Error("No data returned from server");return t.data});ge(this,"createCategory",async t=>{const n=await this.request("",{method:"POST",body:JSON.stringify(t)});if(!n.success)throw new Error(n.message||"Failed to create category");if(!n.data)throw new Error("No data returned from server");return n.data});ge(this,"updateCategory",async(t,n)=>{const s=await this.request(`/${t}`,{method:"PUT",body:JSON.stringify(n)});if(!s.success)throw new Error(s.message||"Failed to update category");if(!s.data)throw new Error("No data returned from server");return s.data});ge(this,"toggleCategoryActivation",async t=>{const n=await this.request(`/${t}/toggle-activation`,{method:"PUT"});if(!n.success)throw new Error(n.message||"Failed to toggle category activation")});ge(this,"deleteCategory",async t=>{const n=await this.request(`/${t}`,{method:"DELETE"});if(!n.success)throw new Error(n.message||"Failed to delete category")});ge(this,"getSubcategories",async(t,n)=>{const s=new URLSearchParams;n&&s.append("languageCode",n);const a=`/${t}/subcategories${s.toString()?`?${s.toString()}`:""}`,i=await this.request(a);if(!i.success)throw new Error(i.message||"Failed to fetch subcategories");if(!i.data)throw new Error("No data returned from server");return i.data});ge(this,"getCategoryTree",async(t,n)=>{const s=new URLSearchParams;t&&s.append("rootId",t.toString()),n&&s.append("languageCode",n);const a=`/tree${s.toString()?`?${s.toString()}`:""}`,i=await this.request(a);if(!i.success)throw new Error(i.message||"Failed to fetch category tree");if(!i.data)throw new Error("No data returned from server");return i.data});ge(this,"getCategoriesMissingTranslations",async()=>{const t=await this.request("/missing-translations");if(!t.success)throw new Error(t.message||"Failed to fetch categories missing translations");if(!t.data)throw new Error("No data returned from server");return t.data})}}const xs=new UJ,VJ=({missingCount:e,onApplyTranslations:t,onDismiss:n,className:s=""})=>{const{isRTL:a}=rt();return e<1?null:r.jsxs(wn,{className:`
        relative border-amber-200 bg-gradient-to-r from-amber-50 to-orange-50 
        dark:from-amber-950/20 dark:to-orange-950/20 dark:border-amber-800
        shadow-lg backdrop-blur-sm transition-all duration-300 hover:shadow-xl
        rounded-xl p-4 sm:p-6 overflow-hidden
        ${s}
      `,children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start gap-3 sm:gap-4",children:[r.jsxs("div",{className:"flex items-start gap-3 sm:gap-4 flex-shrink-0",children:[r.jsx("div",{className:"flex-shrink-0 mt-0.5 sm:mt-1",children:r.jsxs("div",{className:"relative",children:[r.jsx(Bl,{className:"h-5 w-5 sm:h-6 sm:w-6 text-amber-600 dark:text-amber-400 animate-pulse"}),r.jsx("div",{className:"absolute -top-1 -right-1 w-2.5 h-2.5 sm:w-3 sm:h-3 bg-amber-500 rounded-full animate-ping"})]})}),r.jsx("div",{className:"flex-1 sm:hidden",children:r.jsxs("div",{className:"flex items-center justify-between gap-3 mb-2",children:[r.jsxs(Tn,{className:"text-amber-800 dark:text-amber-200 font-semibold text-base sm:text-lg flex items-center gap-2",children:[r.jsx(qt,{className:"h-4 w-4"}),a?"ترجمات مفقودة":"Missing Translations"]}),r.jsxs(Me,{variant:"secondary",className:"bg-amber-100 text-amber-800 border-amber-300 dark:bg-amber-900/30 dark:text-amber-200 dark:border-amber-700 font-medium px-2 py-1 text-xs",children:[r.jsx($e,{className:"h-3 w-3 mr-1"}),e]})]})})]}),r.jsxs("div",{className:"flex-1 space-y-3 sm:space-y-4 min-w-0",children:[r.jsx("div",{className:"hidden sm:block space-y-2",children:r.jsxs(Tn,{className:"text-amber-800 dark:text-amber-200 font-semibold text-base sm:text-lg flex items-center gap-2",children:[r.jsx(qt,{className:"h-4 w-4 sm:h-5 sm:w-5"}),a?"ترجمات مفقودة":"Missing Translations"]})}),r.jsx(Nn,{className:"text-amber-700 dark:text-amber-300 text-sm sm:text-base leading-relaxed",children:a?`توجد ${e} فئة${e>1?" فئات":""} تحتاج إلى ترجمات. قم بإضافة الترجمات المفقودة لتحسين تجربة المستخدم متعدد اللغات.`:`There ${e===1?"is":"are"} ${e} categor${e===1?"y":"ies"} missing translations. Add missing translations to improve multilingual user experience.`}),r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4 pt-1 sm:pt-2",children:[r.jsxs("div",{className:"hidden sm:flex items-center gap-3",children:[r.jsxs(Me,{variant:"secondary",className:"bg-amber-100 text-amber-800 border-amber-300 dark:bg-amber-900/30 dark:text-amber-200 dark:border-amber-700 font-medium px-3 py-1.5",children:[r.jsx($e,{className:"h-3 w-3 mr-1"}),e," ",a?"عنصر":"items"]}),r.jsxs("div",{className:"flex items-center gap-2 text-xs text-amber-600 dark:text-amber-400",children:[r.jsx(yn,{className:"h-3 w-3"}),a?"محتاج ترجمة":"Needs translation"]})]}),r.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-2 sm:gap-3",children:[r.jsxs("div",{className:"sm:hidden flex items-center gap-2 text-xs text-amber-600 dark:text-amber-400",children:[r.jsx(yn,{className:"h-3 w-3"}),a?"محتاج ترجمة":"Needs translation"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[n&&r.jsx(B,{variant:"ghost",size:"sm",onClick:n,className:"text-amber-600 hover:text-amber-700 hover:bg-amber-100/50 dark:text-amber-400 dark:hover:text-amber-300 dark:hover:bg-amber-900/20 h-8 w-8 sm:h-9 sm:w-9 p-0",children:r.jsx(un,{className:"h-4 w-4"})}),t&&r.jsxs(B,{onClick:t,size:"sm",className:`\r
                      bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-600 hover:to-orange-600\r
                      text-white shadow-md hover:shadow-lg transition-all duration-200\r
                      border-0 font-medium px-3 py-2 sm:px-4 text-xs sm:text-sm h-8 sm:h-9\r
                      min-w-0 flex-shrink-0\r
                    `,children:[r.jsx(qt,{className:`h-3 w-3 sm:h-4 sm:w-4 ${a?"ml-1 sm:ml-2":"mr-1 sm:mr-2"}`}),r.jsx("span",{className:"hidden xs:inline",children:a?"إضافة الترجمات":"Apply Translations"}),r.jsx("span",{className:"xs:hidden",children:a?"إضافة":"Apply"}),a?r.jsx(Gt,{className:"h-3 w-3 sm:h-4 sm:w-4 ml-1 sm:ml-2"}):r.jsx(Rl,{className:"h-3 w-3 sm:h-4 sm:w-4 ml-1 sm:ml-2"})]})]})]})]})]})]}),r.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 sm:w-32 sm:h-32 bg-gradient-to-bl from-amber-200/20 to-transparent rounded-full -translate-y-10 translate-x-10 sm:-translate-y-16 sm:translate-x-16 pointer-events-none"}),r.jsx("div",{className:"absolute bottom-0 left-0 w-16 h-16 sm:w-24 sm:h-24 bg-gradient-to-tr from-orange-200/20 to-transparent rounded-full translate-y-8 -translate-x-8 sm:translate-y-12 sm:-translate-x-12 pointer-events-none"})]})},WJ=({isOpen:e,onOpenChange:t,missingCategoryIds:n})=>{var F,Z;const{isRTL:s}=rt(),a=rr(),[i,o]=N.useState(0),[l,d]=N.useState(new Set),u=n[i],h=n.length,m=Math.round((i+1)/h*100),p=Wt({defaultValues:{name:"",description:"",parentId:null,isActive:!0,localizations:[]}}),{fields:g,append:y,remove:x,replace:v}=Qt({control:p.control,name:"localizations"}),{data:j,isLoading:b}=qe({queryKey:["category",u],queryFn:async()=>(await xs.getCategories({pageSize:1e3})).items.find($=>$.id===u),enabled:!!u&&e}),{data:S}=qe({queryKey:["languages-dropdown"],queryFn:()=>ir.getLanguagesDropdown(),enabled:e}),C=it({mutationFn:({id:D,data:$})=>xs.updateCategory(D,$),onSuccess:D=>{a.invalidateQueries({queryKey:["categories"]}),a.invalidateQueries({queryKey:["categories-all"]}),a.invalidateQueries({queryKey:["categories-dropdown"]}),a.invalidateQueries({queryKey:["categories-missing-translations"]}),d($=>new Set([...$,u])),be.success(s?"تم حفظ الترجمات بنجاح":"Translations saved successfully")},onError:D=>{be.error(D.message||(s?"حدث خطأ أثناء حفظ الترجمات":"Error saving translations"))}});N.useEffect(()=>{var D,$;j&&(p.reset({name:j.name,description:j.description,parentId:j.parentId,isActive:j.isActive,localizations:((D=j.localizations)==null?void 0:D.map(E=>({id:E.id,nameLocalized:E.nameLocalized,descriptionLocalized:E.descriptionLocalized,languageId:E.languageId,isActive:E.isActive})))||[]}),v((($=j.localizations)==null?void 0:$.map(E=>({id:E.id,nameLocalized:E.nameLocalized,descriptionLocalized:E.descriptionLocalized,languageId:E.languageId,isActive:E.isActive})))||[]))},[j,p,v]);const _=()=>{i<h-1&&o(D=>D+1)},A=()=>{i>0&&o(D=>D-1)},k=()=>{d(D=>new Set([...D,u])),i<h-1?_():T()},T=()=>{o(0),d(new Set),t(!1),p.reset()},O=async D=>{u&&C.mutate({id:u,data:D},{onSuccess:()=>{i<h-1?_():(be.success(s?"تم الانتهاء من جميع الترجمات!":"All translations completed!"),T())}})},M=()=>{y({nameLocalized:"",descriptionLocalized:"",languageId:0,isActive:!0})},z=D=>{if(!S)return[];const $=g.map(E=>E.languageId).filter(E=>E!==D);return S.filter(E=>!$.includes(E.id))};return e?r.jsx(Mt,{open:e,onOpenChange:t,children:r.jsxs(Et,{className:"w-[95vw] max-w-4xl h-[95vh] sm:h-[90vh] max-h-none overflow-hidden flex flex-col p-0",children:[r.jsxs(Tt,{className:"space-y-3 p-4 sm:p-6 pb-3 sm:pb-4 border-b flex-shrink-0",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-0 sm:justify-between",children:[r.jsxs(Ot,{className:"text-lg sm:text-xl flex items-center gap-2 sm:gap-3 order-1 sm:order-1",children:[r.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 flex items-center justify-center flex-shrink-0",children:r.jsx(qt,{className:"h-4 w-4 sm:h-5 sm:w-5 text-white"})}),r.jsx("span",{className:"text-base sm:text-xl font-semibold leading-tight",children:s?"إضافة الترجمات المفقودة":"Add Missing Translations"})]}),r.jsx(B,{variant:"ghost",size:"sm",onClick:T,className:"text-muted-foreground hover:text-foreground order-2 sm:order-2 self-start sm:self-center h-8 w-8 p-0",children:r.jsx(un,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[r.jsxs("div",{className:"flex flex-col xs:flex-row xs:items-center xs:justify-between gap-2 text-sm",children:[r.jsx("span",{className:"text-muted-foreground text-xs sm:text-sm",children:s?`الفئة ${i+1} من ${h}`:`Category ${i+1} of ${h}`}),r.jsxs(Me,{variant:"outline",className:"text-xs self-start xs:self-center",children:[m,"% ",s?"مكتمل":"Complete"]})]}),r.jsx(va,{value:m,className:"h-1.5 sm:h-2"}),j&&r.jsx(Y,{className:"border-0 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-950/20 dark:to-purple-950/20",children:r.jsx(ee,{className:"p-3 sm:p-4",children:r.jsxs("div",{className:"flex items-start sm:items-center gap-3",children:[r.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 rounded-full bg-gradient-primary flex items-center justify-center flex-shrink-0",children:r.jsx(gL,{className:"h-3 w-3 sm:h-4 sm:w-4 text-primary-foreground"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"font-medium text-xs sm:text-sm truncate",children:j.name}),r.jsx("p",{className:"text-xs text-muted-foreground line-clamp-1 sm:line-clamp-2 mt-0.5",children:j.description})]}),r.jsxs(Me,{variant:"secondary",className:"text-xs flex-shrink-0",children:[r.jsxs("span",{className:"hidden xs:inline",children:[((F=j.localizations)==null?void 0:F.length)||0," ",s?"ترجمة":"translations"]}),r.jsx("span",{className:"xs:hidden",children:((Z=j.localizations)==null?void 0:Z.length)||0})]})]})})})]}),r.jsxs($t,{className:"flex items-start gap-2 text-xs sm:text-sm",children:[r.jsx(zl,{className:"h-3 w-3 sm:h-4 sm:w-4 text-amber-500 flex-shrink-0 mt-0.5"}),r.jsx("span",{className:"leading-relaxed",children:s?"أضف ترجمات للغات مختلفة لتحسين تجربة المستخدم متعدد اللغات":"Add translations in different languages to improve multilingual user experience"})]})]}),r.jsx("div",{className:"flex-1 overflow-y-auto px-4 sm:px-6 py-2 sm:py-4",children:b?r.jsx("div",{className:"flex items-center justify-center py-8 sm:py-12",children:r.jsxs("div",{className:"text-center space-y-3",children:[r.jsx("div",{className:"animate-spin rounded-full h-6 w-6 sm:h-8 sm:w-8 border-b-2 border-primary mx-auto"}),r.jsx("p",{className:"text-muted-foreground text-sm",children:s?"جاري التحميل...":"Loading..."})]})}):r.jsx(Kt,{...p,children:r.jsx("form",{onSubmit:p.handleSubmit(O),className:"space-y-4 sm:space-y-6",children:r.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[r.jsxs("div",{className:"flex flex-col xs:flex-row xs:items-center xs:justify-between gap-3",children:[r.jsxs("h4",{className:"text-base sm:text-lg font-medium flex items-center gap-2",children:[r.jsx($e,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"}),s?"الترجمات":"Translations"]}),r.jsxs(B,{type:"button",variant:"outline",size:"sm",onClick:M,className:"gradient-border self-start xs:self-center h-8 sm:h-9 px-3 text-xs sm:text-sm",children:[r.jsx(ot,{className:"h-3 w-3 sm:h-4 sm:w-4"}),r.jsx("span",{className:"ml-1 sm:ml-2",children:s?"إضافة ترجمة":"Add Translation"})]})]}),g.length===0&&r.jsx(Y,{className:"border-dashed border-2 border-muted-foreground/20",children:r.jsxs(ee,{className:"py-8 sm:py-12 text-center px-4 sm:px-6",children:[r.jsx($e,{className:"h-8 w-8 sm:h-12 sm:w-12 text-muted-foreground mx-auto mb-3 sm:mb-4 opacity-50"}),r.jsx("h4",{className:"text-base sm:text-lg font-medium text-muted-foreground mb-2",children:s?"لا توجد ترجمات":"No Translations"}),r.jsx("p",{className:"text-muted-foreground text-xs sm:text-sm mb-4 leading-relaxed",children:s?"أضف ترجمات لهذه الفئة لتحسين تجربة المستخدم":"Add translations for this category to improve user experience"}),r.jsxs(B,{type:"button",onClick:M,className:"gradient-primary h-8 sm:h-9 px-3 sm:px-4 text-xs sm:text-sm",children:[r.jsx(ot,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),s?"إضافة أول ترجمة":"Add First Translation"]})]})}),g.map((D,$)=>r.jsxs(Y,{className:"border shadow-sm",children:[r.jsx(Pe,{className:"pb-2 sm:pb-3 px-3 sm:px-6 pt-3 sm:pt-6",children:r.jsxs("div",{className:"flex items-center justify-between gap-2",children:[r.jsxs(Ie,{className:"text-xs sm:text-sm flex items-center gap-2 min-w-0 flex-1",children:[r.jsx("div",{className:"w-5 h-5 sm:w-6 sm:h-6 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:r.jsx(qt,{className:"h-2.5 w-2.5 sm:h-3 sm:w-3 text-primary"})}),r.jsx("span",{className:"truncate",children:s?`الترجمة ${$+1}`:`Translation ${$+1}`})]}),r.jsx(B,{type:"button",variant:"ghost",size:"sm",onClick:()=>x($),className:"text-destructive hover:text-destructive h-7 w-7 sm:h-8 sm:w-8 p-0 flex-shrink-0",children:r.jsx(xt,{className:"h-3 w-3 sm:h-4 sm:w-4"})})]})}),r.jsxs(ee,{className:"space-y-3 sm:space-y-4 px-3 sm:px-6 pb-3 sm:pb-6",children:[r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3 sm:gap-4",children:[r.jsx(ae,{control:p.control,name:`localizations.${$}.languageId`,rules:{required:s?"اللغة مطلوبة":"Language is required",validate:E=>E===0?s?"يرجى اختيار لغة":"Please select a language":!0},render:({field:E})=>{var V;return r.jsxs(ne,{children:[r.jsx(re,{className:"text-xs sm:text-sm",children:s?"اللغة":"Language"}),r.jsxs(ut,{onValueChange:q=>E.onChange(parseInt(q)),value:(V=E.value)==null?void 0:V.toString(),children:[r.jsx(se,{children:r.jsx(ct,{className:"h-8 sm:h-9 text-xs sm:text-sm",children:r.jsx(mt,{placeholder:s?"اختر اللغة":"Select Language"})})}),r.jsx(dt,{children:z(E.value).map(q=>r.jsx(Ye,{value:q.id.toString(),children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx($e,{className:"h-3 w-3 sm:h-4 sm:w-4"}),r.jsxs("span",{className:"text-xs sm:text-sm",children:[q.name," (",q.code,")"]})]})},q.id))})]}),r.jsx(fe,{className:"text-xs"})]})}}),r.jsx(ae,{control:p.control,name:`localizations.${$}.nameLocalized`,rules:{required:s?"الاسم المترجم مطلوب":"Translated name is required"},render:({field:E})=>r.jsxs(ne,{children:[r.jsx(re,{className:"text-xs sm:text-sm",children:s?"الاسم المترجم":"Translated Name"}),r.jsx(se,{children:r.jsx(Oe,{className:"h-8 sm:h-9 text-xs sm:text-sm",placeholder:s?"اسم الفئة بهذه اللغة":"Category name in this language",...E})}),r.jsx(fe,{className:"text-xs"})]})})]}),r.jsx(ae,{control:p.control,name:`localizations.${$}.descriptionLocalized`,rules:{required:s?"الوصف المترجم مطلوب":"Translated description is required"},render:({field:E})=>r.jsxs(ne,{children:[r.jsx(re,{className:"text-xs sm:text-sm",children:s?"الوصف المترجم":"Translated Description"}),r.jsx(se,{children:r.jsx(Pt,{className:"min-h-[60px] sm:min-h-[72px] text-xs sm:text-sm resize-none",placeholder:s?"وصف الفئة بهذه اللغة":"Category description in this language",rows:2,...E})}),r.jsx(fe,{className:"text-xs"})]})}),r.jsx(ae,{control:p.control,name:`localizations.${$}.isActive`,render:({field:E})=>r.jsxs(ne,{className:"flex flex-row items-center justify-between rounded-lg border p-2 sm:p-3",children:[r.jsx("div",{className:"space-y-0.5",children:r.jsx(re,{className:"text-xs sm:text-sm",children:s?"الترجمة نشطة":"Translation Active"})}),r.jsx(se,{children:r.jsx(Ct,{checked:E.value,onCheckedChange:E.onChange})})]})})]})]},D.id))]})})})}),r.jsx(Lt,{className:"pt-3 sm:pt-4 px-4 sm:px-6 pb-4 sm:pb-6 border-t space-y-3 sm:space-y-0 flex-shrink-0",children:r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between w-full gap-3",children:[r.jsxs("div",{className:"flex items-center gap-2 order-2 sm:order-1",children:[r.jsxs(B,{type:"button",variant:"outline",size:"sm",onClick:A,disabled:i===0,className:"h-8 sm:h-9 px-2 sm:px-3 text-xs sm:text-sm flex-1 sm:flex-initial",children:[s?r.jsx(Nt,{className:"h-3 w-3 sm:h-4 sm:w-4"}):r.jsx(At,{className:"h-3 w-3 sm:h-4 sm:w-4"}),r.jsx("span",{className:"ml-1 sm:ml-2",children:s?"السابق":"Previous"})]}),r.jsxs(B,{type:"button",variant:"outline",size:"sm",onClick:_,disabled:i>=h-1,className:"h-8 sm:h-9 px-2 sm:px-3 text-xs sm:text-sm flex-1 sm:flex-initial",children:[r.jsx("span",{className:"mr-1 sm:mr-2",children:s?"التالي":"Next"}),s?r.jsx(At,{className:"h-3 w-3 sm:h-4 sm:w-4"}):r.jsx(Nt,{className:"h-3 w-3 sm:h-4 sm:w-4"})]})]}),r.jsxs("div",{className:"flex items-center gap-2 order-1 sm:order-2",children:[r.jsxs(B,{type:"button",variant:"outline",onClick:k,className:"h-8 sm:h-9 px-2 sm:px-3 text-xs sm:text-sm",children:[r.jsx(Fl,{className:"h-3 w-3 sm:h-4 sm:w-4"}),r.jsx("span",{className:"ml-1 sm:ml-2",children:s?"تخطي":"Skip"})]}),r.jsx(B,{type:"button",variant:"outline",onClick:T,className:"h-8 sm:h-9 px-2 sm:px-3 text-xs sm:text-sm hidden xs:inline-flex",children:s?"إغلاق":"Close"}),r.jsxs(B,{type:"submit",className:"gradient-primary h-8 sm:h-9 px-3 sm:px-4 text-xs sm:text-sm font-medium",onClick:p.handleSubmit(O),disabled:C.isPending||b,children:[C.isPending?r.jsx("div",{className:"animate-spin rounded-full h-3 w-3 sm:h-4 sm:w-4 border-b-2 border-white mr-1 sm:mr-2"}):r.jsx(ln,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),r.jsx("span",{className:"hidden xs:inline",children:s?"حفظ وتابع":"Save & Continue"}),r.jsx("span",{className:"xs:hidden",children:s?"حفظ":"Save"})]})]})]})})]})}):null},LR="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48IS0tIFVwbG9hZGVkIHRvOiBTVkcgUmVwbywgd3d3LnN2Z3JlcG8uY29tLCBHZW5lcmF0b3I6IFNWRyBSZXBvIE1peGVyIFRvb2xzIC0tPgo8c3ZnIHdpZHRoPSI4MDBweCIgaGVpZ2h0PSI4MDBweCIgdmlld0JveD0iMCAwIDEyMCAxMjAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxMjAiIGhlaWdodD0iMTIwIiBmaWxsPSIjRUZGMUYzIi8+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMzMuMjUwMyAzOC40ODE2QzMzLjI2MDMgMzcuMDQ3MiAzNC40MTk5IDM1Ljg4NjQgMzUuODU0MyAzNS44NzVIODMuMTQ2M0M4NC41ODQ4IDM1Ljg3NSA4NS43NTAzIDM3LjA0MzEgODUuNzUwMyAzOC40ODE2VjgwLjUxODRDODUuNzQwMyA4MS45NTI4IDg0LjU4MDcgODMuMTEzNiA4My4xNDYzIDgzLjEyNUgzNS44NTQzQzM0LjQxNTggODMuMTIzNiAzMy4yNTAzIDgxLjk1NyAzMy4yNTAzIDgwLjUxODRWMzguNDgxNlpNODAuNTAwNiA0MS4xMjUxSDM4LjUwMDZWNzcuODc1MUw2Mi44OTIxIDUzLjQ3ODNDNjMuOTE3MiA1Mi40NTM2IDY1LjU3ODggNTIuNDUzNiA2Ni42MDM5IDUzLjQ3ODNMODAuNTAwNiA2Ny40MDEzVjQxLjEyNTFaTTQzLjc1IDUxLjYyNDlDNDMuNzUgNTQuNTI0NCA0Ni4xMDA1IDU2Ljg3NDkgNDkgNTYuODc0OUM1MS44OTk1IDU2Ljg3NDkgNTQuMjUgNTQuNTI0NCA1NC4yNSA1MS42MjQ5QzU0LjI1IDQ4LjcyNTQgNTEuODk5NSA0Ni4zNzQ5IDQ5IDQ2LjM3NDlDNDYuMTAwNSA0Ni4zNzQ5IDQzLjc1IDQ4LjcyNTQgNDMuNzUgNTEuNjI0OVoiIGZpbGw9IiM2ODc3ODciLz4KPC9zdmc+",e3=({category:e,size:t="sm"})=>{const[n,s]=N.useState(!1),a={sm:"w-8 h-8",md:"w-12 h-12",lg:"w-16 h-16"},i=e!=null&&e.imageUrl&&!n?e.imageUrl:LR;return r.jsx("div",{className:`${a[t]} rounded-full bg-gradient-primary flex items-center justify-center overflow-hidden border-2 border-border/20`,children:r.jsx("img",{src:i,alt:(e==null?void 0:e.name)||"Category",className:"w-full h-full object-cover",onError:()=>s(!0)})})},KJ=({category:e})=>{const[t,n]=N.useState(!1),s=e!=null&&e.imageUrl&&!t?e.imageUrl:LR;return r.jsx("div",{className:"w-24 h-24 rounded-lg overflow-hidden border-2 border-border shadow-sm bg-gradient-to-br from-primary/10 to-primary/5",children:r.jsx("img",{src:s,alt:(e==null?void 0:e.name)||"Category",className:"w-full h-full object-cover",onError:()=>n(!0)})})},HJ=()=>{var oe,Be,X,H,me,Ce;const{isRTL:e}=rt(),t=lr(),n=ba(),s=rr(),[a,i]=N.useState(""),[o,l]=N.useState("all"),[d,u]=N.useState(!1),[h,m]=N.useState(!1),[p,g]=N.useState(!1),[y,x]=N.useState(null),[v,j]=N.useState(null),[b,S]=N.useState(1),[C]=N.useState(5),[_,A]=N.useState(!1),[k,T]=N.useState(!1),O=Wt({defaultValues:{name:"",description:"",parentId:null,imageUrl:"",isActive:!0,localizations:[]}}),M=Wt({defaultValues:{name:"",description:"",parentId:null,imageUrl:"",isActive:!0,localizations:[]}}),{fields:z,append:F,remove:Z}=Qt({control:O.control,name:"localizations"}),{fields:D,append:$,remove:E}=Qt({control:M.control,name:"localizations"});R.useEffect(()=>{var le,we,Ee;if((le=n.state)!=null&&le.editCategory){const nt=n.state.editCategory;x(nt),M.reset({name:nt.name,description:nt.description,parentId:nt.parentId,imageUrl:nt.imageUrl||"",isActive:nt.isActive,localizations:((we=nt.localizations)==null?void 0:we.map(yt=>({id:yt.id,nameLocalized:yt.nameLocalized,descriptionLocalized:yt.descriptionLocalized,languageId:yt.languageId,isActive:yt.isActive})))||[]}),m(!0),t(n.pathname,{replace:!0})}else if((Ee=n.state)!=null&&Ee.viewCategory){const nt=n.state.viewCategory;j(nt),g(!0),t(n.pathname,{replace:!0})}},[n.state,n.pathname,t,M]);const{data:V,isLoading:q,error:U}=qe({queryKey:["categories",b,C,o],queryFn:()=>{const le={page:b,pageSize:C};return o==="active"?le.activeOnly=!0:o==="inactive"&&(le.activeOnly=!1),xs.getCategories(le)}}),{data:Q}=qe({queryKey:["categories-all"],queryFn:()=>xs.getCategories({pageSize:1e3})}),{data:he}=qe({queryKey:["categories-dropdown"],queryFn:()=>xs.getCategoriesDropdown()}),{data:ue}=qe({queryKey:["languages-dropdown"],queryFn:()=>ir.getLanguagesDropdown()}),{data:ce}=qe({queryKey:["categories-missing-translations"],queryFn:()=>xs.getCategoriesMissingTranslations(),refetchInterval:3e4}),G=it({mutationFn:xs.createCategory,onSuccess:()=>{s.invalidateQueries({queryKey:["categories"]}),s.invalidateQueries({queryKey:["categories-all"]}),s.invalidateQueries({queryKey:["categories-dropdown"]}),be.success(e?"تم إنشاء الفئة بنجاح":"Category created successfully")},onError:le=>{be.error(le.message||(e?"حدث خطأ أثناء إنشاء الفئة":"Error creating category"))}}),J=it({mutationFn:({id:le,data:we})=>xs.updateCategory(le,we),onSuccess:()=>{s.invalidateQueries({queryKey:["categories"]}),s.invalidateQueries({queryKey:["categories-all"]}),s.invalidateQueries({queryKey:["categories-dropdown"]}),be.success(e?"تم تحديث الفئة بنجاح":"Category updated successfully")},onError:le=>{be.error(le.message||(e?"حدث خطأ أثناء تحديث الفئة":"Error updating category"))}}),ye=it({mutationFn:xs.toggleCategoryActivation,onSuccess:()=>{s.invalidateQueries({queryKey:["categories"]}),s.invalidateQueries({queryKey:["categories-all"]}),be.success(e?"تم تحديث حالة الفئة":"Category status updated")},onError:le=>{be.error(le.message||(e?"حدث خطأ أثناء تحديث حالة الفئة":"Error updating category status"))}}),Se=it({mutationFn:xs.deleteCategory,onSuccess:()=>{s.invalidateQueries({queryKey:["categories"]}),s.invalidateQueries({queryKey:["categories-all"]}),s.invalidateQueries({queryKey:["categories-dropdown"]}),be.success(e?"تم حذف الفئة بنجاح":"Category deleted successfully")},onError:le=>{be.error(le.message||(e?"حدث خطأ أثناء حذف الفئة":"Error deleting category"))}}),We=(V==null?void 0:V.items.filter(le=>{var Ee;return le.name.toLowerCase().includes(a.toLowerCase())||le.description.toLowerCase().includes(a.toLowerCase())||((Ee=le.localizations)==null?void 0:Ee.some(nt=>nt.nameLocalized.toLowerCase().includes(a.toLowerCase())||nt.descriptionLocalized.toLowerCase().includes(a.toLowerCase())||nt.languageName.toLowerCase().includes(a.toLowerCase())))}))||[],Ae={total:(Q==null?void 0:Q.totalCount)||0,active:(Q==null?void 0:Q.items.filter(le=>le.isActive).length)||0,inactive:(Q==null?void 0:Q.items.filter(le=>!le.isActive).length)||0},ze=async le=>{G.mutate(le,{onSuccess:()=>{u(!1),O.reset()}})},Fe=async le=>{y&&J.mutate({id:y.id,data:le},{onSuccess:()=>{m(!1),x(null),M.reset()}})},je=le=>{var we;x(le),M.reset({name:le.name,description:le.description,parentId:le.parentId,imageUrl:le.imageUrl||"",isActive:le.isActive,localizations:((we=le.localizations)==null?void 0:we.map(Ee=>({id:Ee.id,nameLocalized:Ee.nameLocalized,descriptionLocalized:Ee.descriptionLocalized,languageId:Ee.languageId,isActive:Ee.isActive})))||[]}),m(!0)},Ze=le=>{j(le),g(!0)},K=(le=!1)=>{const we={nameLocalized:"",descriptionLocalized:"",languageId:0,isActive:!0};le?$(we):F(we)},te=le=>r.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1.5 rounded-full text-xs font-medium transition-all duration-200 ${le?"bg-emerald-100 text-emerald-700 border border-emerald-200 dark:bg-emerald-900/20 dark:text-emerald-400 dark:border-emerald-800":"bg-red-50 text-red-600 border border-red-200 dark:bg-red-900/20 dark:text-red-400 dark:border-red-800"}`,children:[r.jsx("div",{className:`w-2 h-2 rounded-full animate-pulse ${le?"bg-emerald-500 shadow-sm shadow-emerald-500/50":"bg-red-500 shadow-sm shadow-red-500/50"}`}),r.jsx("span",{className:"font-semibold",children:e?le?"نشط":"غير نشط":le?"Active":"Inactive"})]}),Ne=le=>new Date(le).toLocaleDateString(e?"ar-SA":"en-US"),pe=le=>{if(!le||!he)return"-";const we=he.find(Ee=>Ee.id===le);return we?we.name:"-"};return r.jsx(lt,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-foreground",children:e?"إدارة الفئات":"Categories Management"}),r.jsx("p",{className:"text-muted-foreground",children:e?"إدارة فئات المنتجات والخدمات":"Manage product and service categories"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(B,{variant:"outline",className:"flex items-center gap-2",onClick:()=>t("/categories/tree"),children:[r.jsx(yL,{className:"h-4 w-4"}),e?"عرض الشجرة":"Tree View"]}),r.jsxs(B,{className:"gradient-primary flex items-center gap-2",onClick:()=>u(!0),children:[r.jsx(ot,{className:"h-4 w-4"}),e?"إضافة فئة جديدة":"Add New Category"]})]})]}),ce&&ce.length>0&&!k&&r.jsx(VJ,{missingCount:ce.length,onApplyTranslations:()=>A(!0),onDismiss:()=>T(!0),className:"mb-6"}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[r.jsx(Y,{className:"border-0 shadow-elegant",children:r.jsx(ee,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:e?"إجمالي الفئات":"Total Categories"}),r.jsx("p",{className:"text-2xl font-bold",children:Ae.total})]}),r.jsx(fN,{className:"h-8 w-8 text-primary"})]})})}),r.jsx(Y,{className:"border-0 shadow-elegant",children:r.jsx(ee,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:e?"الفئات النشطة":"Active Categories"}),r.jsx("p",{className:"text-2xl font-bold text-success",children:Ae.active})]}),r.jsx(Or,{className:"h-8 w-8 text-success"})]})})}),r.jsx(Y,{className:"border-0 shadow-elegant",children:r.jsx(ee,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:e?"الفئات غير النشطة":"Inactive Categories"}),r.jsx("p",{className:"text-2xl font-bold text-muted-foreground",children:Ae.inactive})]}),r.jsx(jn,{className:"h-8 w-8 text-muted-foreground"})]})})})]}),r.jsx(Y,{className:"border-0 shadow-elegant",children:r.jsx(ee,{className:"p-6",children:r.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(Qr,{className:`absolute top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground ${e?"right-3":"left-3"}`}),r.jsx(Oe,{placeholder:e?"البحث في الفئات...":"Search categories...",value:a,onChange:le=>i(le.target.value),className:e?"pr-10 pl-4":"pl-10 pr-4"})]}),r.jsx("div",{className:"flex gap-2",children:r.jsxs(Ut,{children:[r.jsx(Vt,{asChild:!0,children:r.jsxs(B,{variant:"outline",className:"flex items-center gap-2 hover:border-primary/50 hover:bg-primary/5 transition-all duration-200",children:[r.jsx("div",{className:`w-2 h-2 rounded-full ${o==="active"?"bg-emerald-500":o==="inactive"?"bg-red-500":"bg-gradient-to-r from-emerald-500 to-red-500"}`}),e?o==="all"?"جميع الحالات":o==="active"?"نشط":"غير نشط":o==="all"?"All Status":o==="active"?"Active":"Inactive",r.jsx(vn,{className:"h-4 w-4 opacity-50"})]})}),r.jsxs(Ft,{align:"end",className:"w-48",children:[r.jsxs(ke,{onClick:()=>l("all"),className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 rounded-full bg-gradient-to-r from-emerald-500 to-red-500"}),e?"جميع الحالات":"All Status"]}),r.jsxs(ke,{onClick:()=>l("active"),className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500"}),e?"نشط":"Active"]}),r.jsxs(ke,{onClick:()=>l("inactive"),className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500"}),e?"غير نشط":"Inactive"]})]})]})})]})})}),r.jsxs(Y,{className:"border-0 shadow-elegant",children:[r.jsx(Pe,{children:r.jsxs(Ie,{className:"flex items-center gap-2",children:[r.jsx(fN,{className:"h-5 w-5 text-primary"}),e?`${We.length} فئة`:`${We.length} Categories`]})}),r.jsxs(ee,{children:[r.jsxs(On,{dir:e?"rtl":"ltr",children:[r.jsx(In,{children:r.jsxs(Xe,{className:e?"text-right":"text-left",children:[r.jsx(Re,{className:e?"text-right":"text-left",children:e?"اسم الفئة":"Category Name"}),r.jsx(Re,{className:e?"text-right":"text-left",children:e?"الوصف":"Description"}),r.jsx(Re,{className:e?"text-right":"text-left",children:e?"الفئة الأب":"Parent Category"}),r.jsx(Re,{className:e?"text-right":"text-left",children:e?"الترجمات":"Localizations"}),r.jsx(Re,{className:e?"text-right":"text-left",children:e?"الحالة":"Status"}),r.jsx(Re,{className:e?"text-right":"text-left",children:e?"تاريخ الإنشاء":"Created Date"}),r.jsx(Re,{className:"text-center",children:e?"الإجراءات":"Actions"})]})}),r.jsx(Mn,{children:q?r.jsx(Xe,{className:e?"text-right":"text-left",children:r.jsx(xe,{colSpan:7,className:"text-center py-8",children:r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"}),r.jsx("span",{className:e?"mr-2":"ml-2",children:e?"جاري التحميل...":"Loading..."})]})})}):U?r.jsx(Xe,{className:e?"text-right":"text-left",children:r.jsx(xe,{colSpan:7,className:"text-center py-8 text-destructive",children:e?"خطأ في تحميل البيانات":"Error loading data"})}):We.length===0?r.jsx(Xe,{className:e?"text-right":"text-left",children:r.jsx(xe,{colSpan:7,className:"text-center py-8 text-muted-foreground",children:e?"لا توجد فئات متاحة":"No categories available"})}):We.map(le=>{var we,Ee;return r.jsxs(Xe,{className:`hover:bg-muted/50 ${e?"text-right":"text-left"}`,children:[r.jsx(xe,{className:e?"text-right":"text-left",children:r.jsxs("div",{className:`flex items-center gap-3 ${e?"text-right":"flex-row"}`,children:[r.jsx(e3,{category:le}),r.jsx("div",{children:r.jsx("p",{className:"font-medium",children:le.name})})]})}),r.jsx(xe,{className:e?"text-right":"text-left",children:r.jsx("p",{className:"text-sm text-muted-foreground max-w-xs truncate",title:le.description,children:le.description})}),r.jsx(xe,{className:e?"text-right":"text-left",children:r.jsx(Me,{variant:"outline",children:pe(le.parentId)})}),r.jsx(xe,{className:e?"text-right":"text-left",children:r.jsxs("div",{className:`flex flex-wrap gap-1 ${e?"text-right justify-start":"justify-start"}`,children:[(we=le.localizations)==null?void 0:we.map(nt=>r.jsxs(Me,{variant:"outline",className:"text-xs",children:[r.jsx($e,{className:`h-3 w-3 ${e?"ml-1":"mr-1"}`}),nt.languageCode]},nt.id)),((Ee=le.localizations)==null?void 0:Ee.length)===0&&r.jsx("span",{className:"text-xs text-muted-foreground",children:e?"لا توجد ترجمات":"No translations"})]})}),r.jsx(xe,{className:e?"text-right":"text-left",children:te(le.isActive)}),r.jsx(xe,{className:`text-muted-foreground ${e?"text-right":"text-left"}`,children:Ne(le.createdAt)}),r.jsx(xe,{className:"text-center",children:r.jsxs(Ut,{children:[r.jsx(Vt,{asChild:!0,children:r.jsx(B,{variant:"ghost",className:"h-8 w-8 p-0",children:r.jsx(bn,{className:"h-4 w-4"})})}),r.jsxs(Ft,{align:e?"start":"end",children:[r.jsxs(ke,{className:`flex items-center gap-2 ${e?"flex-row-reverse":"flex-row"}`,onClick:()=>Ze(le),children:[r.jsx(Fr,{className:"h-4 w-4"}),e?"عرض التفاصيل":"View Details"]}),r.jsxs(ke,{className:`flex items-center gap-2 ${e?"flex-row-reverse":"flex-row"}`,onClick:()=>je(le),children:[r.jsx(tr,{className:"h-4 w-4"}),e?"تحرير":"Edit"]}),r.jsxs(ke,{className:`flex items-center gap-2 ${e?"flex-row-reverse":"flex-row"}`,onClick:()=>ye.mutate(le.id),children:[r.jsx(Cs,{className:"h-4 w-4"}),e?"تغيير الحالة":"Toggle Status"]}),r.jsxs(ke,{className:`flex items-center gap-2 text-destructive ${e?"flex-row-reverse":"flex-row"}`,onClick:()=>Se.mutate(le.id),children:[r.jsx(xt,{className:"h-4 w-4"}),e?"حذف":"Delete"]})]})]})})]},le.id)})})]}),V&&V.totalPages>1&&r.jsxs("div",{className:"flex items-center justify-between mt-6",children:[r.jsx("div",{className:"text-sm text-muted-foreground",children:e?`عرض ${(V.page-1)*V.pageSize+1} إلى ${Math.min(V.page*V.pageSize,V.totalCount)} من ${V.totalCount}`:`Showing ${(V.page-1)*V.pageSize+1} to ${Math.min(V.page*V.pageSize,V.totalCount)} of ${V.totalCount}`}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(B,{variant:"outline",size:"sm",onClick:()=>S(le=>Math.max(le-1,1)),disabled:!V.hasPreviousPage,children:e?r.jsx(Nt,{className:"h-4 w-4"}):r.jsx(At,{className:"h-4 w-4"})}),r.jsx("span",{className:"text-sm font-medium",children:e?`${V.page} من ${V.totalPages}`:`${V.page} of ${V.totalPages}`}),r.jsx(B,{variant:"outline",size:"sm",onClick:()=>S(le=>le+1),disabled:!V.hasNextPage,children:e?r.jsx(At,{className:"h-4 w-4"}):r.jsx(Nt,{className:"h-4 w-4"})})]})]})]})]}),r.jsx(Mt,{open:d,onOpenChange:u,children:r.jsxs(Et,{className:"sm:max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Tt,{children:[r.jsx(Ot,{children:e?"إضافة فئة جديدة":"Add New Category"}),r.jsx($t,{children:e?"أدخل معلومات الفئة الجديدة":"Enter the details for the new category"})]}),r.jsx(Kt,{...O,children:r.jsxs("form",{onSubmit:O.handleSubmit(ze),className:"space-y-4",children:[r.jsx(ae,{control:O.control,name:"name",rules:{required:e?"اسم الفئة مطلوب":"Category name is required"},render:({field:le})=>r.jsxs(ne,{children:[r.jsx(re,{children:e?"اسم الفئة":"Category Name"}),r.jsx(se,{children:r.jsx(Oe,{placeholder:e?"مثال: الإلكترونيات":"e.g., Electronics",...le})}),r.jsx(fe,{})]})}),r.jsx(ae,{control:O.control,name:"description",rules:{required:e?"وصف الفئة مطلوب":"Category description is required"},render:({field:le})=>r.jsxs(ne,{children:[r.jsx(re,{children:e?"وصف الفئة":"Category Description"}),r.jsx(se,{children:r.jsx(Pt,{placeholder:e?"وصف الفئة...":"Category description...",rows:3,...le})}),r.jsx(fe,{})]})}),r.jsx(ae,{control:O.control,name:"parentId",render:({field:le})=>{var we;return r.jsxs(ne,{children:[r.jsx(re,{children:e?"الفئة الأب (اختياري)":"Parent Category (Optional)"}),r.jsxs(ut,{onValueChange:Ee=>le.onChange(Ee==="null"?null:parseInt(Ee)),value:((we=le.value)==null?void 0:we.toString())||"null",children:[r.jsx(se,{children:r.jsx(ct,{children:r.jsx(mt,{placeholder:e?"اختر الفئة الأب":"Select parent category"})})}),r.jsxs(dt,{children:[r.jsx(Ye,{value:"null",children:e?"لا يوجد (فئة رئيسية)":"None (Root category)"}),he==null?void 0:he.map(Ee=>r.jsx(Ye,{value:Ee.id.toString(),children:Ee.name},Ee.id))]})]}),r.jsx(fe,{})]})}}),r.jsx(ae,{control:O.control,name:"imageUrl",render:({field:le})=>r.jsxs(ne,{children:[r.jsx(re,{children:e?"صورة الفئة (اختياري)":"Category Image (Optional)"}),r.jsx(se,{children:r.jsx(Co,{value:le.value||"",onChange:le.onChange,folder:"categories",placeholder:"https://example.com/image.jpg"})}),r.jsx(fe,{})]})}),r.jsx(ae,{control:O.control,name:"isActive",render:({field:le})=>r.jsxs(ne,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[r.jsxs("div",{className:"space-y-0.5",children:[r.jsx(re,{className:"text-base",children:e?"الفئة نشطة":"Active Category"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:e?"تفعيل أو إلغاء تفعيل الفئة":"Enable or disable this category"})]}),r.jsx(se,{children:r.jsx(Ct,{checked:le.value,onCheckedChange:le.onChange})})]})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h4",{className:"text-sm font-medium",children:e?"الترجمات":"Localizations"}),r.jsxs(B,{type:"button",variant:"outline",size:"sm",onClick:()=>K(!1),children:[r.jsx(ot,{className:"h-4 w-4"}),e?"إضافة ترجمة":"Add Translation"]})]}),z.map((le,we)=>r.jsxs(Y,{className:"p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h5",{className:"text-sm font-medium",children:e?`الترجمة ${we+1}`:`Translation ${we+1}`}),r.jsx(B,{type:"button",variant:"ghost",size:"sm",onClick:()=>Z(we),children:r.jsx(xt,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(ae,{control:O.control,name:`localizations.${we}.languageId`,rules:{required:e?"اللغة مطلوبة":"Language is required"},render:({field:Ee})=>{var nt;return r.jsxs(ne,{children:[r.jsx(re,{children:e?"اللغة":"Language"}),r.jsxs(ut,{onValueChange:yt=>Ee.onChange(parseInt(yt)),value:(nt=Ee.value)==null?void 0:nt.toString(),children:[r.jsx(se,{children:r.jsx(ct,{children:r.jsx(mt,{placeholder:e?"اختر اللغة":"Select Language"})})}),r.jsx(dt,{children:ue==null?void 0:ue.map(yt=>r.jsx(Ye,{value:yt.id.toString(),children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx($e,{className:"h-4 w-4"}),yt.name," (",yt.code,")"]})},yt.id))})]}),r.jsx(fe,{})]})}}),r.jsx(ae,{control:O.control,name:`localizations.${we}.nameLocalized`,rules:{required:e?"الاسم المترجم مطلوب":"Translated name is required"},render:({field:Ee})=>r.jsxs(ne,{children:[r.jsx(re,{children:e?"الاسم المترجم":"Translated Name"}),r.jsx(se,{children:r.jsx(Oe,{placeholder:e?"اسم الفئة بهذه اللغة":"Category name in this language",...Ee})}),r.jsx(fe,{})]})})]}),r.jsx("div",{className:"mt-4",children:r.jsx(ae,{control:O.control,name:`localizations.${we}.descriptionLocalized`,rules:{required:e?"الوصف المترجم مطلوب":"Translated description is required"},render:({field:Ee})=>r.jsxs(ne,{children:[r.jsx(re,{children:e?"الوصف المترجم":"Translated Description"}),r.jsx(se,{children:r.jsx(Pt,{placeholder:e?"وصف الفئة بهذه اللغة":"Category description in this language",...Ee})}),r.jsx(fe,{})]})})})]},le.id))]}),r.jsxs(Lt,{children:[r.jsx(B,{type:"button",variant:"outline",onClick:()=>u(!1),children:e?"إلغاء":"Cancel"}),r.jsx(B,{type:"submit",className:"gradient-primary",children:e?"إنشاء":"Create"})]})]})})]})}),r.jsx(Mt,{open:h,onOpenChange:m,children:r.jsxs(Et,{className:"sm:max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Tt,{children:[r.jsx(Ot,{children:e?"تحرير الفئة":"Edit Category"}),r.jsx($t,{children:e?"قم بتحديث معلومات الفئة":"Update the category details"})]}),r.jsx(Kt,{...M,children:r.jsxs("form",{onSubmit:M.handleSubmit(Fe),className:"space-y-4",children:[r.jsx(ae,{control:M.control,name:"name",rules:{required:e?"اسم الفئة مطلوب":"Category name is required"},render:({field:le})=>r.jsxs(ne,{children:[r.jsx(re,{children:e?"اسم الفئة":"Category Name"}),r.jsx(se,{children:r.jsx(Oe,{...le})}),r.jsx(fe,{})]})}),r.jsx(ae,{control:M.control,name:"description",rules:{required:e?"وصف الفئة مطلوب":"Category description is required"},render:({field:le})=>r.jsxs(ne,{children:[r.jsx(re,{children:e?"وصف الفئة":"Category Description"}),r.jsx(se,{children:r.jsx(Pt,{rows:3,...le})}),r.jsx(fe,{})]})}),r.jsx(ae,{control:M.control,name:"parentId",render:({field:le})=>{var we;return r.jsxs(ne,{children:[r.jsx(re,{children:e?"الفئة الأب (اختياري)":"Parent Category (Optional)"}),r.jsxs(ut,{onValueChange:Ee=>le.onChange(Ee==="null"?null:parseInt(Ee)),value:((we=le.value)==null?void 0:we.toString())||"null",children:[r.jsx(se,{children:r.jsx(ct,{children:r.jsx(mt,{placeholder:e?"اختر الفئة الأب":"Select parent category"})})}),r.jsxs(dt,{children:[r.jsx(Ye,{value:"null",children:e?"لا يوجد (فئة رئيسية)":"None (Root category)"}),he==null?void 0:he.filter(Ee=>Ee.id!==(y==null?void 0:y.id)).map(Ee=>r.jsx(Ye,{value:Ee.id.toString(),children:Ee.name},Ee.id))]})]}),r.jsx(fe,{})]})}}),r.jsx(ae,{control:M.control,name:"imageUrl",render:({field:le})=>r.jsxs(ne,{children:[r.jsx(re,{children:e?"صورة الفئة (اختياري)":"Category Image (Optional)"}),r.jsx(se,{children:r.jsx(Co,{value:le.value||"",onChange:le.onChange,folder:"categories",placeholder:"https://example.com/image.jpg"})}),r.jsx(fe,{})]})}),r.jsx(ae,{control:M.control,name:"isActive",render:({field:le})=>r.jsxs(ne,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[r.jsxs("div",{className:"space-y-0.5",children:[r.jsx(re,{className:"text-base",children:e?"الفئة نشطة":"Active Category"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:e?"تفعيل أو إلغاء تفعيل الفئة":"Enable or disable this category"})]}),r.jsx(se,{children:r.jsx(Ct,{checked:le.value,onCheckedChange:le.onChange})})]})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h4",{className:"text-sm font-medium",children:e?"الترجمات":"Localizations"}),r.jsxs(B,{type:"button",variant:"outline",size:"sm",onClick:()=>K(!0),children:[r.jsx(ot,{className:"h-4 w-4"}),e?"إضافة ترجمة":"Add Translation"]})]}),D.map((le,we)=>r.jsxs(Y,{className:"p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h5",{className:"text-sm font-medium",children:e?`الترجمة ${we+1}`:`Translation ${we+1}`}),r.jsx(B,{type:"button",variant:"ghost",size:"sm",onClick:()=>E(we),children:r.jsx(xt,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(ae,{control:M.control,name:`localizations.${we}.languageId`,rules:{required:e?"اللغة مطلوبة":"Language is required"},render:({field:Ee})=>{var nt;return r.jsxs(ne,{children:[r.jsx(re,{children:e?"اللغة":"Language"}),r.jsxs(ut,{onValueChange:yt=>Ee.onChange(parseInt(yt)),value:(nt=Ee.value)==null?void 0:nt.toString(),children:[r.jsx(se,{children:r.jsx(ct,{children:r.jsx(mt,{placeholder:e?"اختر اللغة":"Select Language"})})}),r.jsx(dt,{children:ue==null?void 0:ue.map(yt=>r.jsx(Ye,{value:yt.id.toString(),children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx($e,{className:"h-4 w-4"}),yt.name," (",yt.code,")"]})},yt.id))})]}),r.jsx(fe,{})]})}}),r.jsx(ae,{control:M.control,name:`localizations.${we}.nameLocalized`,rules:{required:e?"الاسم المترجم مطلوب":"Translated name is required"},render:({field:Ee})=>r.jsxs(ne,{children:[r.jsx(re,{children:e?"الاسم المترجم":"Translated Name"}),r.jsx(se,{children:r.jsx(Oe,{placeholder:e?"اسم الفئة بهذه اللغة":"Category name in this language",...Ee})}),r.jsx(fe,{})]})})]}),r.jsx("div",{className:"mt-4",children:r.jsx(ae,{control:M.control,name:`localizations.${we}.descriptionLocalized`,rules:{required:e?"الوصف المترجم مطلوب":"Translated description is required"},render:({field:Ee})=>r.jsxs(ne,{children:[r.jsx(re,{children:e?"الوصف المترجم":"Translated Description"}),r.jsx(se,{children:r.jsx(Pt,{placeholder:e?"وصف الفئة بهذه اللغة":"Category description in this language",...Ee})}),r.jsx(fe,{})]})})}),r.jsx("div",{className:"mt-4",children:r.jsx(ae,{control:M.control,name:`localizations.${we}.isActive`,render:({field:Ee})=>r.jsxs(ne,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[r.jsx("div",{className:"space-y-0.5",children:r.jsx(re,{className:"text-sm",children:e?"الترجمة نشطة":"Translation Active"})}),r.jsx(se,{children:r.jsx(Ct,{checked:Ee.value,onCheckedChange:Ee.onChange})})]})})})]},le.id))]}),r.jsxs(Lt,{children:[r.jsx(B,{type:"button",variant:"outline",onClick:()=>m(!1),children:e?"إلغاء":"Cancel"}),r.jsx(B,{type:"submit",className:"gradient-primary",children:e?"حفظ التغييرات":"Save Changes"})]})]})})]})}),r.jsx(Mt,{open:p,onOpenChange:g,children:r.jsxs(Et,{className:"sm:max-w-3xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Tt,{children:[r.jsxs(Ot,{className:"flex items-center gap-3",children:[r.jsx(e3,{category:v,size:"md"}),e?"تفاصيل الفئة":"Category Details"]}),r.jsx($t,{children:e?"عرض شامل لمعلومات الفئة وترجماتها":"Comprehensive view of category information and translations"})]}),v&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs(Y,{className:"border-0 shadow-sm",children:[r.jsx(Pe,{className:"pb-3",children:r.jsxs(Ie,{className:"text-lg flex items-center gap-2",children:[r.jsx(gL,{className:"h-5 w-5 text-primary"}),e?"المعلومات الأساسية":"Basic Information"]})}),r.jsxs(ee,{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:e?"صورة الفئة":"Category Image"}),r.jsx("div",{className:"p-3 bg-muted/50 rounded-lg flex justify-center",children:r.jsx(KJ,{category:v})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:e?"اسم الفئة":"Category Name"}),r.jsx("div",{className:"p-3 bg-muted/50 rounded-lg",children:r.jsx("span",{className:"text-sm font-medium",children:v.name})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:e?"الحالة":"Status"}),r.jsx("div",{className:"p-3",children:te(v.isActive)})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:e?"الفئة الأب":"Parent Category"}),r.jsx("div",{className:"p-3 bg-muted/50 rounded-lg",children:r.jsx(Me,{variant:"outline",children:pe(v.parentId)})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:e?"تاريخ الإنشاء":"Created Date"}),r.jsx("div",{className:"p-3 bg-muted/50 rounded-lg",children:r.jsx("span",{className:"text-sm",children:Ne(v.createdAt)})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:e?"تاريخ التحديث":"Last Modified"}),r.jsx("div",{className:"p-3 bg-muted/50 rounded-lg",children:r.jsx("span",{className:"text-sm",children:Ne(v.updatedAt)})})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:e?"وصف الفئة":"Category Description"}),r.jsx("div",{className:"p-4 bg-muted/50 rounded-lg",children:r.jsx("p",{className:"text-sm leading-relaxed",children:v.description||(e?"لا يوجد وصف":"No description")})})]})]})]}),r.jsxs(Y,{className:"border-0 shadow-sm",children:[r.jsx(Pe,{className:"pb-3",children:r.jsxs(Ie,{className:"text-lg flex items-center gap-2",children:[r.jsx($e,{className:"h-5 w-5 text-primary"}),e?"الترجمات":"Localizations",r.jsx(Me,{variant:"secondary",className:"ml-2",children:((oe=v.localizations)==null?void 0:oe.length)||0})]})}),r.jsx(ee,{children:((Be=v.localizations)==null?void 0:Be.length)===0?r.jsxs("div",{className:"text-center py-8",children:[r.jsx($e,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4 opacity-50"}),r.jsx("p",{className:"text-muted-foreground",children:e?"لا توجد ترجمات متاحة لهذه الفئة":"No translations available for this category"})]}):r.jsx("div",{className:"space-y-4",children:(X=v.localizations)==null?void 0:X.map((le,we)=>r.jsx(Y,{className:"border border-border/50",children:r.jsx(ee,{className:"p-4",children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center",children:r.jsx($e,{className:"h-4 w-4 text-primary"})}),r.jsxs("div",{children:[r.jsxs("h4",{className:"font-medium text-sm",children:[le.languageName," (",le.languageCode,")"]}),r.jsx("p",{className:"text-xs text-muted-foreground",children:e?`الترجمة ${we+1}`:`Translation ${we+1}`})]})]}),te(le.isActive)]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:e?"الاسم المترجم":"Translated Name"}),r.jsx("div",{className:"p-3 bg-muted/30 rounded-lg",children:r.jsx("p",{className:"text-sm leading-relaxed",children:le.nameLocalized})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:e?"الوصف المترجم":"Translated Description"}),r.jsx("div",{className:"p-3 bg-muted/30 rounded-lg",children:r.jsx("p",{className:"text-sm leading-relaxed",children:le.descriptionLocalized})})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-2 border-t border-border/30",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:e?"تاريخ الإنشاء":"Created"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:Ne(le.createdAt)})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:e?"تاريخ التحديث":"Updated"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:Ne(le.updatedAt)})]})]})]})})},le.id))})})]}),r.jsxs(Y,{className:"border-0 shadow-sm",children:[r.jsx(Pe,{className:"pb-3",children:r.jsxs(Ie,{className:"text-lg flex items-center gap-2",children:[r.jsx(Or,{className:"h-5 w-5 text-primary"}),e?"إحصائيات الفئة":"Category Statistics"]})}),r.jsx(ee,{children:r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"text-center p-4 bg-muted/30 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-primary mb-1",children:((H=v.localizations)==null?void 0:H.length)||0}),r.jsx("div",{className:"text-xs text-muted-foreground",children:e?"إجمالي الترجمات":"Total Translations"})]}),r.jsxs("div",{className:"text-center p-4 bg-muted/30 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-emerald-600 mb-1",children:((me=v.localizations)==null?void 0:me.filter(le=>le.isActive).length)||0}),r.jsx("div",{className:"text-xs text-muted-foreground",children:e?"ترجمات نشطة":"Active Translations"})]}),r.jsxs("div",{className:"text-center p-4 bg-muted/30 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-red-600 mb-1",children:((Ce=v.localizations)==null?void 0:Ce.filter(le=>!le.isActive).length)||0}),r.jsx("div",{className:"text-xs text-muted-foreground",children:e?"ترجمات غير نشطة":"Inactive Translations"})]}),r.jsxs("div",{className:"text-center p-4 bg-muted/30 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600 mb-1",children:v.name.length}),r.jsx("div",{className:"text-xs text-muted-foreground",children:e?"طول الاسم":"Name Length"})]})]})})]})]}),r.jsxs(Lt,{children:[r.jsx(B,{type:"button",variant:"outline",onClick:()=>{g(!1),j(null)},children:e?"إغلاق":"Close"}),r.jsxs(B,{type:"button",className:"gradient-primary",onClick:()=>{v&&(je(v),g(!1),j(null))},children:[r.jsx(tr,{className:"h-4 w-4 mr-2"}),e?"تحرير الفئة":"Edit Category"]})]})]})}),ce&&ce.length>0&&r.jsx(WJ,{isOpen:_,onOpenChange:A,missingCategoryIds:ce})]})})},$R=({category:e,level:t,isRTL:n,onEdit:s,onViewDetails:a,onToggleStatus:i,onDelete:o,expandedNodes:l,onToggleExpanded:d,isLastChild:u=!1,parentConnections:h=[]})=>{const m=e.children&&e.children.length>0,p=l.has(e.id),g=x=>r.jsxs("div",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${x?"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/20 dark:text-emerald-400":"bg-red-50 text-red-600 dark:bg-red-900/20 dark:text-red-400"}`,children:[r.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${x?"bg-emerald-500":"bg-red-500"}`}),n?x?"نشط":"غير نشط":x?"Active":"Inactive"]}),y=()=>{const x=[];for(let v=0;v<t;v++){const j=h[v];x.push(r.jsx("div",{className:`absolute top-0 bottom-0 w-px ${j?"bg-border":""}`,style:{left:n?"auto":`${16+v*24}px`,right:n?`${16+v*24}px`:"auto"}},`line-${v}`))}return t>0&&(x.push(r.jsx("div",{className:"absolute top-6 w-4 h-px bg-border",style:{left:n?"auto":`${16+(t-1)*24}px`,right:n?`${16+(t-1)*24}px`:"auto"}},"horizontal-line")),u?x.push(r.jsx("div",{className:"absolute top-0 h-6 w-px bg-border",style:{left:n?"auto":`${16+(t-1)*24}px`,right:n?`${16+(t-1)*24}px`:"auto"}},"vertical-line-last")):x.push(r.jsx("div",{className:"absolute top-0 bottom-0 w-px bg-border",style:{left:n?"auto":`${16+(t-1)*24}px`,right:n?`${16+(t-1)*24}px`:"auto"}},"vertical-line"))),x};return r.jsxs("div",{className:"select-none relative",children:[y(),r.jsxs("div",{className:`relative flex items-center gap-3 p-3 hover:bg-muted/30 rounded-lg transition-all duration-200 border border-transparent hover:border-border/50 hover:shadow-sm ${n?"flex-row-reverse":"flex-row"}`,style:{marginLeft:n?"0":`${t*24}px`,marginRight:n?`${t*24}px`:"0"},children:[m?r.jsx(B,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0 rounded-full hover:bg-primary/10 transition-all duration-200",onClick:()=>d(e.id),children:p?r.jsx(vn,{className:"h-4 w-4 text-primary transition-transform duration-200"}):r.jsx(Nt,{className:"h-4 w-4 text-primary transition-transform duration-200"})}):r.jsx("div",{className:"h-7 w-7 flex items-center justify-center",children:r.jsx("div",{className:"w-2 h-2 rounded-full bg-border"})}),r.jsx("div",{className:"flex-1 min-w-0",children:r.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[r.jsx("span",{className:"font-semibold text-sm truncate text-foreground",children:e.name}),g(e.isActive),m&&r.jsxs(Me,{variant:"secondary",className:"text-xs h-5",children:[e.children.length," ",n?"فرع":"items"]})]})}),r.jsxs(Ut,{children:[r.jsx(Vt,{asChild:!0,children:r.jsx(B,{variant:"ghost",className:"h-8 w-8 p-0 rounded-full hover:bg-muted/50 transition-colors",children:r.jsx(bn,{className:"h-4 w-4"})})}),r.jsxs(Ft,{align:n?"start":"end",className:"w-48",children:[r.jsxs(ke,{className:`flex items-center gap-2 ${n?"flex-row-reverse":"flex-row"} hover:bg-muted/50`,onClick:()=>a(e),children:[r.jsx(Fr,{className:"h-4 w-4"}),n?"عرض التفاصيل":"View Details"]}),r.jsxs(ke,{className:`flex items-center gap-2 ${n?"flex-row-reverse":"flex-row"} hover:bg-muted/50`,onClick:()=>s(e),children:[r.jsx(tr,{className:"h-4 w-4"}),n?"تحرير":"Edit"]}),r.jsxs(ke,{className:`flex items-center gap-2 ${n?"flex-row-reverse":"flex-row"} hover:bg-muted/50`,onClick:()=>i(e.id),children:[r.jsx(Cs,{className:"h-4 w-4"}),n?"تغيير الحالة":"Toggle Status"]}),r.jsxs(ke,{className:`flex items-center gap-2 text-destructive ${n?"flex-row-reverse":"flex-row"} hover:bg-destructive/10`,onClick:()=>o(e.id),children:[r.jsx(xt,{className:"h-4 w-4"}),n?"حذف":"Delete"]})]})]})]}),m&&p&&r.jsx("div",{className:"transition-all duration-300 ease-in-out",children:e.children.map((x,v)=>{const j=v===e.children.length-1,b=[...h];return t>=0&&(b[t]=!u),r.jsx($R,{category:x,level:t+1,isRTL:n,onEdit:s,onViewDetails:a,onToggleStatus:i,onDelete:o,expandedNodes:l,onToggleExpanded:d,isLastChild:j,parentConnections:b},x.id)})})]})},GJ=()=>{const{isRTL:e}=rt(),t=lr(),n=rr(),[s,a]=N.useState(new Set),{data:i,isLoading:o}=qe({queryKey:["categories-tree"],queryFn:()=>xs.getCategoryTree()});R.useEffect(()=>{if(i&&i.length>0){const b=new Set,S=C=>{C.forEach(_=>{b.add(_.id),_.children&&_.children.length>0&&S(_.children)})};S(i),a(b)}},[i]);const l=N.useCallback(b=>{const S=new Set,C=_=>{_.forEach(A=>{S.add(A.id),A.children&&A.children.length>0&&C(A.children)})};return C(b),S},[]),d=N.useCallback(()=>{i&&a(l(i))},[i,l]),u=N.useCallback(()=>{a(new Set)},[]),h=N.useCallback(b=>{a(S=>{const C=new Set(S);return C.has(b)?C.delete(b):C.add(b),C})},[]),{data:m}=qe({queryKey:["categories-all"],queryFn:()=>xs.getCategories({pageSize:1e3})}),p=it({mutationFn:xs.toggleCategoryActivation,onSuccess:()=>{n.invalidateQueries({queryKey:["categories"]}),n.invalidateQueries({queryKey:["categories-all"]}),n.invalidateQueries({queryKey:["categories-tree"]}),be.success(e?"تم تحديث حالة الفئة":"Category status updated")},onError:b=>{be.error(b.message||(e?"حدث خطأ أثناء تحديث حالة الفئة":"Error updating category status"))}}),g=it({mutationFn:xs.deleteCategory,onSuccess:()=>{n.invalidateQueries({queryKey:["categories"]}),n.invalidateQueries({queryKey:["categories-all"]}),n.invalidateQueries({queryKey:["categories-dropdown"]}),n.invalidateQueries({queryKey:["categories-tree"]}),be.success(e?"تم حذف الفئة بنجاح":"Category deleted successfully")},onError:b=>{be.error(b.message||(e?"حدث خطأ أثناء حذف الفئة":"Error deleting category"))}}),y=b=>{t("/categories",{state:{editCategory:{...b,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}}})},x=b=>{t("/categories",{state:{viewCategory:{...b,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}}})},v={total:(m==null?void 0:m.totalCount)||0,active:(m==null?void 0:m.items.filter(b=>b.isActive).length)||0,inactive:(m==null?void 0:m.items.filter(b=>!b.isActive).length)||0,rootCategories:(i==null?void 0:i.length)||0},j=b=>b.reduce((S,C)=>S+1+j(C.children||[]),0);return i&&j(i),r.jsx(lt,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[r.jsx("div",{className:"flex items-center gap-4",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-foreground",children:e?"عرض شجرة الفئات":"Categories Tree View"}),r.jsx("p",{className:"text-muted-foreground",children:e?"عرض هرمي لجميع الفئات مع إمكانية التفاعل والتحرير":"Hierarchical view of all categories with interaction and editing capabilities"})]})}),r.jsxs("div",{className:"flex flex-wrap gap-2 justify-end",children:[r.jsxs(B,{variant:"outline",size:"sm",onClick:()=>t("/categories"),className:"flex items-center gap-2",children:[r.jsx(Gt,{className:"h-4 w-4"}),e?"العودة للفئات":"Back to Categories"]}),r.jsxs("div",{className:"flex gap-1 border rounded-lg p-1",children:[r.jsxs(B,{variant:"ghost",size:"sm",onClick:d,className:"flex items-center gap-2 h-8 px-3 text-xs",disabled:!i||i.length===0,children:[r.jsx(Qg,{className:"h-3 w-3"}),e?"توسيع الكل":"Expand All"]}),r.jsxs(B,{variant:"ghost",size:"sm",onClick:u,className:"flex items-center gap-2 h-8 px-3 text-xs",disabled:!i||i.length===0,children:[r.jsx(Xg,{className:"h-3 w-3"}),e?"طي الكل":"Collapse All"]})]}),r.jsxs(B,{className:"gradient-primary flex items-center gap-2",onClick:()=>t("/categories"),children:[r.jsx(ot,{className:"h-4 w-4"}),e?"إضافة فئة جديدة":"Add New Category"]})]})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[r.jsx(Y,{className:"border-0 shadow-elegant",children:r.jsx(ee,{className:"p-6",children:r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:e?"إجمالي الفئات":"Total Categories"}),r.jsx("p",{className:"text-2xl font-bold",children:v.total})]})})}),r.jsx(Y,{className:"border-0 shadow-elegant",children:r.jsx(ee,{className:"p-6",children:r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:e?"الفئات النشطة":"Active Categories"}),r.jsx("p",{className:"text-2xl font-bold text-success",children:v.active})]})})}),r.jsx(Y,{className:"border-0 shadow-elegant",children:r.jsx(ee,{className:"p-6",children:r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:e?"الفئات غير النشطة":"Inactive Categories"}),r.jsx("p",{className:"text-2xl font-bold text-muted-foreground",children:v.inactive})]})})}),r.jsx(Y,{className:"border-0 shadow-elegant",children:r.jsx(ee,{className:"p-6",children:r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:e?"الفئات الرئيسية":"Root Categories"}),r.jsx("p",{className:"text-2xl font-bold text-blue-600",children:v.rootCategories})]})})})]}),r.jsxs(Y,{className:"border-0 shadow-elegant",children:[r.jsx(Pe,{className:"pb-4",children:r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[r.jsxs(Ie,{className:"text-lg flex items-center gap-3",children:[e?"هيكل الفئات":"Category Structure",r.jsxs(Me,{variant:"secondary",className:"ml-2",children:[v.rootCategories," ",e?"فئة رئيسية":"root categories"]})]}),r.jsxs("div",{className:"flex gap-1 border rounded-lg p-1 bg-background/50",children:[r.jsxs(B,{variant:"ghost",size:"sm",onClick:d,className:"flex items-center gap-2 h-7 px-3 text-xs",disabled:!i||i.length===0,children:[r.jsx(Qg,{className:"h-3 w-3"}),e?"توسيع الكل":"Expand All"]}),r.jsxs(B,{variant:"ghost",size:"sm",onClick:u,className:"flex items-center gap-2 h-7 px-3 text-xs",disabled:!i||i.length===0,children:[r.jsx(Xg,{className:"h-3 w-3"}),e?"طي الكل":"Collapse All"]})]})]})}),r.jsx(ee,{children:o?r.jsxs("div",{className:"flex items-center justify-center py-12",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"}),r.jsx("span",{className:e?"mr-3":"ml-3",children:e?"جاري تحميل الشجرة...":"Loading tree..."})]}):!i||i.length===0?r.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-muted-foreground",children:[r.jsx("h3",{className:"text-lg font-medium mb-2",children:e?"لا توجد فئات":"No Categories Found"}),r.jsx("p",{className:"text-sm text-center mb-4",children:e?"لم يتم العثور على أي فئات لعرضها في الشجرة":"No categories found to display in the tree view"}),r.jsx(B,{className:"gradient-primary",onClick:()=>t("/categories"),children:e?"إضافة فئة جديدة":"Add First Category"})]}):r.jsx("div",{className:"space-y-1 bg-gradient-to-br from-muted/20 to-muted/5 p-4 rounded-xl border border-border/50",children:i.map((b,S)=>r.jsx($R,{category:b,level:0,isRTL:e,onEdit:y,onViewDetails:x,onToggleStatus:C=>p.mutate(C),onDelete:C=>g.mutate(C),expandedNodes:s,onToggleExpanded:h,isLastChild:S===i.length-1,parentConnections:[]},b.id))})})]})]})})};class ZJ{constructor(){ge(this,"baseUrl","/api/product-categories");ge(this,"request",async(t,n={})=>{const s=`${this.baseUrl}${t}`,a={headers:{"Content-Type":"application/json",...n.headers},...n};try{const i=await fetch(s,a);if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);return await i.json()}catch(i){throw console.error("API Request Error:",i),i}});ge(this,"getProductCategories",async(t={})=>{const n=new URLSearchParams;t.page&&n.append("page",t.page.toString()),t.pageSize&&n.append("pageSize",t.pageSize.toString()),t.activeOnly!==void 0&&n.append("activeOnly",t.activeOnly.toString());const s=n.toString()?`?${n.toString()}`:"",a=await this.request(s);if(!a.success)throw new Error(a.message||"Failed to fetch product categories");if(!a.data)throw new Error("No data returned from server");return a.data});ge(this,"getProductCategoriesDropdown",async()=>{const t=await this.request("/dropdown");if(!t.success)throw new Error(t.message||"Failed to fetch product categories dropdown");if(!t.data)throw new Error("No data returned from server");return t.data});ge(this,"getProductCategoryTree",async(t,n)=>{const s=new URLSearchParams;t&&s.append("rootId",t.toString()),n&&s.append("languageCode",n);const a=`/tree${s.toString()?`?${s.toString()}`:""}`,i=await this.request(a);if(!i.success)throw new Error(i.message||"Failed to fetch product category tree");if(!i.data)throw new Error("No data returned from server");return i.data});ge(this,"createProductCategory",async t=>{const n=await this.request("",{method:"POST",body:JSON.stringify(t)});if(!n.success)throw new Error(n.message||"Failed to create product category");if(!n.data)throw new Error("No data returned from server");return n.data});ge(this,"updateProductCategory",async(t,n)=>{const s=await this.request(`/${t}`,{method:"PUT",body:JSON.stringify(n)});if(!s.success)throw new Error(s.message||"Failed to update product category");if(!s.data)throw new Error("No data returned from server");return s.data});ge(this,"toggleProductCategoryActivation",async t=>{const n=await this.request(`/${t}/toggle-activation`,{method:"PUT"});if(!n.success)throw new Error(n.message||"Failed to toggle product category activation")});ge(this,"deleteProductCategory",async t=>{const n=await this.request(`/${t}`,{method:"DELETE"});if(!n.success)throw new Error(n.message||"Failed to delete product category")});ge(this,"getProductCategoriesMissingTranslations",async()=>{const t=await this.request("/missing-translations");if(!t.success)throw new Error(t.message||"Failed to fetch product categories missing translations");if(!t.data)throw new Error("No data returned from server");return t.data})}}const Fn=new ZJ,QJ=({missingCount:e,onApplyTranslations:t,onDismiss:n,className:s=""})=>{const{isRTL:a}=rt();return e<1?null:r.jsxs(wn,{className:`
        relative border-amber-200 bg-gradient-to-r from-amber-50 to-orange-50 
        dark:from-amber-950/20 dark:to-orange-950/20 dark:border-amber-800
        shadow-lg backdrop-blur-sm transition-all duration-300 hover:shadow-xl
        rounded-xl p-4 sm:p-6 overflow-hidden
        ${s}
      `,children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start gap-3 sm:gap-4",children:[r.jsxs("div",{className:"flex items-start gap-3 sm:gap-4 flex-shrink-0",children:[r.jsx("div",{className:"flex-shrink-0 mt-0.5 sm:mt-1",children:r.jsxs("div",{className:"relative",children:[r.jsx(Bl,{className:"h-5 w-5 sm:h-6 sm:w-6 text-amber-600 dark:text-amber-400 animate-pulse"}),r.jsx("div",{className:"absolute -top-1 -right-1 w-2.5 h-2.5 sm:w-3 sm:h-3 bg-amber-500 rounded-full animate-ping"})]})}),r.jsx("div",{className:"flex-1 sm:hidden",children:r.jsxs("div",{className:"flex items-center justify-between gap-3 mb-2",children:[r.jsxs(Tn,{className:"text-amber-800 dark:text-amber-200 font-semibold text-base sm:text-lg flex items-center gap-2",children:[r.jsx(Dr,{className:"h-4 w-4"}),a?"ترجمات فئات المنتجات مفقودة":"Missing Product Category Translations"]}),r.jsxs(Me,{variant:"secondary",className:"bg-amber-100 text-amber-800 border-amber-300 dark:bg-amber-900/30 dark:text-amber-200 dark:border-amber-700 font-medium px-2 py-1 text-xs",children:[r.jsx($e,{className:"h-3 w-3 mr-1"}),e]})]})})]}),r.jsxs("div",{className:"flex-1 space-y-3 sm:space-y-4 min-w-0",children:[r.jsx("div",{className:"hidden sm:block space-y-2",children:r.jsxs(Tn,{className:"text-amber-800 dark:text-amber-200 font-semibold text-base sm:text-lg flex items-center gap-2",children:[r.jsx(Dr,{className:"h-4 w-4 sm:h-5 sm:w-5"}),a?"ترجمات فئات المنتجات مفقودة":"Missing Product Category Translations"]})}),r.jsx(Nn,{className:"text-amber-700 dark:text-amber-300 text-sm sm:text-base leading-relaxed",children:a?`توجد ${e} فئة منتج${e>1?" فئات منتجات":""} تحتاج إلى ترجمات. قم بإضافة الترجمات المفقودة لتحسين تجربة المستخدم متعدد اللغات.`:`There ${e===1?"is":"are"} ${e} product categor${e===1?"y":"ies"} missing translations. Add missing translations to improve multilingual user experience.`}),r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4 pt-1 sm:pt-2",children:[r.jsxs("div",{className:"hidden sm:flex items-center gap-3",children:[r.jsxs(Me,{variant:"secondary",className:"bg-amber-100 text-amber-800 border-amber-300 dark:bg-amber-900/30 dark:text-amber-200 dark:border-amber-700 font-medium px-3 py-1.5",children:[r.jsx(Vy,{className:"h-3 w-3 mr-1"}),e," ",a?"فئة منتج":"product categories"]}),r.jsxs("div",{className:"flex items-center gap-2 text-xs text-amber-600 dark:text-amber-400",children:[r.jsx(yn,{className:"h-3 w-3"}),a?"تحتاج ترجمة":"Need translation"]})]}),r.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-2 sm:gap-3",children:[r.jsxs("div",{className:"sm:hidden flex items-center gap-2 text-xs text-amber-600 dark:text-amber-400",children:[r.jsx(yn,{className:"h-3 w-3"}),a?"تحتاج ترجمة":"Need translation"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[n&&r.jsx(B,{variant:"ghost",size:"sm",onClick:n,className:"text-amber-600 hover:text-amber-700 hover:bg-amber-100/50 dark:text-amber-400 dark:hover:text-amber-300 dark:hover:bg-amber-900/20 h-8 w-8 sm:h-9 sm:w-9 p-0",children:r.jsx(un,{className:"h-4 w-4"})}),t&&r.jsxs(B,{onClick:t,size:"sm",className:`\r
                      bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-600 hover:to-orange-600\r
                      text-white shadow-md hover:shadow-lg transition-all duration-200\r
                      border-0 font-medium px-3 py-2 sm:px-4 text-xs sm:text-sm h-8 sm:h-9\r
                      min-w-0 flex-shrink-0\r
                    `,children:[r.jsx(qt,{className:`h-3 w-3 sm:h-4 sm:w-4 ${a?"ml-1 sm:ml-2":"mr-1 sm:mr-2"}`}),r.jsx("span",{className:"hidden xs:inline",children:a?"إضافة الترجمات":"Apply Translations"}),r.jsx("span",{className:"xs:hidden",children:a?"إضافة":"Apply"}),a?r.jsx(Gt,{className:"h-3 w-3 sm:h-4 sm:w-4 ml-1 sm:ml-2"}):r.jsx(Rl,{className:"h-3 w-3 sm:h-4 sm:w-4 ml-1 sm:ml-2"})]})]})]})]})]})]}),r.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 sm:w-32 sm:h-32 bg-gradient-to-bl from-amber-200/20 to-transparent rounded-full -translate-y-10 translate-x-10 sm:-translate-y-16 sm:translate-x-16 pointer-events-none"}),r.jsx("div",{className:"absolute bottom-0 left-0 w-16 h-16 sm:w-24 sm:h-24 bg-gradient-to-tr from-orange-200/20 to-transparent rounded-full translate-y-8 -translate-x-8 sm:translate-y-12 sm:-translate-x-12 pointer-events-none"})]})},YJ=({isOpen:e,onOpenChange:t,missingProductCategoryIds:n})=>{var F,Z;const{isRTL:s}=rt(),a=rr(),[i,o]=N.useState(0),[l,d]=N.useState(new Set),u=n[i],h=n.length,m=Math.round((i+1)/h*100),p=Wt({defaultValues:{name:"",description:"",parentId:null,isActive:!0,localizations:[]}}),{fields:g,append:y,remove:x,replace:v}=Qt({control:p.control,name:"localizations"}),{data:j,isLoading:b}=qe({queryKey:["product-category",u],queryFn:async()=>(await Fn.getProductCategories({pageSize:1e3})).items.find($=>$.id===u),enabled:!!u&&e}),{data:S}=qe({queryKey:["languages-dropdown"],queryFn:()=>ir.getLanguagesDropdown(),enabled:e}),C=it({mutationFn:({id:D,data:$})=>Fn.updateProductCategory(D,$),onSuccess:D=>{a.invalidateQueries({queryKey:["product-categories"]}),a.invalidateQueries({queryKey:["product-categories-all"]}),a.invalidateQueries({queryKey:["product-categories-dropdown"]}),a.invalidateQueries({queryKey:["product-categories-missing-translations"]}),d($=>new Set([...$,u])),be.success(s?"تم حفظ الترجمات بنجاح":"Translations saved successfully")},onError:D=>{be.error(D.message||(s?"حدث خطأ أثناء حفظ الترجمات":"Error saving translations"))}});N.useEffect(()=>{var D,$;j&&(p.reset({name:j.name,description:j.description,parentId:j.parentId,isActive:j.isActive,localizations:((D=j.localizations)==null?void 0:D.map(E=>({id:E.id,nameLocalized:E.nameLocalized,descriptionLocalized:E.descriptionLocalized,languageId:E.languageId,isActive:E.isActive})))||[]}),v((($=j.localizations)==null?void 0:$.map(E=>({id:E.id,nameLocalized:E.nameLocalized,descriptionLocalized:E.descriptionLocalized,languageId:E.languageId,isActive:E.isActive})))||[]))},[j,p,v]);const _=()=>{i<h-1&&o(D=>D+1)},A=()=>{i>0&&o(D=>D-1)},k=()=>{d(D=>new Set([...D,u])),i<h-1?_():T()},T=()=>{o(0),d(new Set),t(!1),p.reset()},O=async D=>{u&&C.mutate({id:u,data:D},{onSuccess:()=>{i<h-1?_():(be.success(s?"تم الانتهاء من جميع الترجمات!":"All translations completed!"),T())}})},M=()=>{y({nameLocalized:"",descriptionLocalized:"",languageId:0,isActive:!0})},z=D=>{if(!S)return[];const $=g.map(E=>E.languageId).filter(E=>E!==D);return S.filter(E=>!$.includes(E.id))};return e?r.jsx(Mt,{open:e,onOpenChange:t,children:r.jsxs(Et,{className:"w-[95vw] max-w-4xl h-[95vh] sm:h-[90vh] max-h-none overflow-hidden flex flex-col p-0",children:[r.jsxs(Tt,{className:"space-y-3 p-4 sm:p-6 pb-3 sm:pb-4 border-b flex-shrink-0",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-0 sm:justify-between",children:[r.jsxs(Ot,{className:"text-lg sm:text-xl flex items-center gap-2 sm:gap-3 order-1 sm:order-1",children:[r.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 flex items-center justify-center flex-shrink-0",children:r.jsx(qt,{className:"h-4 w-4 sm:h-5 sm:w-5 text-white"})}),r.jsx("span",{className:"text-base sm:text-xl font-semibold leading-tight",children:s?"إضافة ترجمات فئات المنتجات المفقودة":"Add Missing Product Category Translations"})]}),r.jsx(B,{variant:"ghost",size:"sm",onClick:T,className:"text-muted-foreground hover:text-foreground order-2 sm:order-2 self-start sm:self-center h-8 w-8 p-0",children:r.jsx(un,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[r.jsxs("div",{className:"flex flex-col xs:flex-row xs:items-center xs:justify-between gap-2 text-sm",children:[r.jsx("span",{className:"text-muted-foreground text-xs sm:text-sm",children:s?`فئة المنتج ${i+1} من ${h}`:`Product Category ${i+1} of ${h}`}),r.jsxs(Me,{variant:"outline",className:"text-xs self-start xs:self-center",children:[m,"% ",s?"مكتمل":"Complete"]})]}),r.jsx(va,{value:m,className:"h-1.5 sm:h-2"}),j&&r.jsx(Y,{className:"border-0 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-950/20 dark:to-purple-950/20",children:r.jsx(ee,{className:"p-3 sm:p-4",children:r.jsxs("div",{className:"flex items-start sm:items-center gap-3",children:[r.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 rounded-full bg-gradient-primary flex items-center justify-center flex-shrink-0",children:r.jsx(Vy,{className:"h-3 w-3 sm:h-4 sm:w-4 text-primary-foreground"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"font-medium text-xs sm:text-sm truncate",children:j.name}),r.jsx("p",{className:"text-xs text-muted-foreground line-clamp-1 sm:line-clamp-2 mt-0.5",children:j.description})]}),r.jsxs(Me,{variant:"secondary",className:"text-xs flex-shrink-0",children:[r.jsxs("span",{className:"hidden xs:inline",children:[((F=j.localizations)==null?void 0:F.length)||0," ",s?"ترجمة":"translations"]}),r.jsx("span",{className:"xs:hidden",children:((Z=j.localizations)==null?void 0:Z.length)||0})]})]})})})]}),r.jsxs($t,{className:"flex items-start gap-2 text-xs sm:text-sm",children:[r.jsx(zl,{className:"h-3 w-3 sm:h-4 sm:w-4 text-amber-500 flex-shrink-0 mt-0.5"}),r.jsx("span",{className:"leading-relaxed",children:s?"أضف ترجمات فئات المنتجات للغات مختلفة لتحسين تجربة المستخدم متعدد اللغات":"Add product category translations in different languages to improve multilingual user experience"})]})]}),r.jsx("div",{className:"flex-1 overflow-y-auto px-4 sm:px-6 py-2 sm:py-4",children:b?r.jsx("div",{className:"flex items-center justify-center py-8 sm:py-12",children:r.jsxs("div",{className:"text-center space-y-3",children:[r.jsx("div",{className:"animate-spin rounded-full h-6 w-6 sm:h-8 sm:w-8 border-b-2 border-primary mx-auto"}),r.jsx("p",{className:"text-muted-foreground text-sm",children:s?"جاري التحميل...":"Loading..."})]})}):r.jsx(Kt,{...p,children:r.jsx("form",{onSubmit:p.handleSubmit(O),className:"space-y-4 sm:space-y-6",children:r.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[r.jsxs("div",{className:"flex flex-col xs:flex-row xs:items-center xs:justify-between gap-3",children:[r.jsxs("h4",{className:"text-base sm:text-lg font-medium flex items-center gap-2",children:[r.jsx($e,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"}),s?"الترجمات":"Translations"]}),r.jsxs(B,{type:"button",variant:"outline",size:"sm",onClick:M,className:"gradient-border self-start xs:self-center h-8 sm:h-9 px-3 text-xs sm:text-sm",children:[r.jsx(ot,{className:"h-3 w-3 sm:h-4 sm:w-4"}),r.jsx("span",{className:"ml-1 sm:ml-2",children:s?"إضافة ترجمة":"Add Translation"})]})]}),g.length===0&&r.jsx(Y,{className:"border-dashed border-2 border-muted-foreground/20",children:r.jsxs(ee,{className:"py-8 sm:py-12 text-center px-4 sm:px-6",children:[r.jsx($e,{className:"h-8 w-8 sm:h-12 sm:w-12 text-muted-foreground mx-auto mb-3 sm:mb-4 opacity-50"}),r.jsx("h4",{className:"text-base sm:text-lg font-medium text-muted-foreground mb-2",children:s?"لا توجد ترجمات":"No Translations"}),r.jsx("p",{className:"text-muted-foreground text-xs sm:text-sm mb-4 leading-relaxed",children:s?"أضف ترجمات لفئة المنتج هذه لتحسين تجربة المستخدم":"Add translations for this product category to improve user experience"}),r.jsxs(B,{type:"button",onClick:M,className:"gradient-primary h-8 sm:h-9 px-3 sm:px-4 text-xs sm:text-sm",children:[r.jsx(ot,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),s?"إضافة أول ترجمة":"Add First Translation"]})]})}),g.map((D,$)=>r.jsxs(Y,{className:"border shadow-sm",children:[r.jsx(Pe,{className:"pb-2 sm:pb-3 px-3 sm:px-6 pt-3 sm:pt-6",children:r.jsxs("div",{className:"flex items-center justify-between gap-2",children:[r.jsxs(Ie,{className:"text-xs sm:text-sm flex items-center gap-2 min-w-0 flex-1",children:[r.jsx("div",{className:"w-5 h-5 sm:w-6 sm:h-6 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:r.jsx(qt,{className:"h-2.5 w-2.5 sm:h-3 sm:w-3 text-primary"})}),r.jsx("span",{className:"truncate",children:s?`الترجمة ${$+1}`:`Translation ${$+1}`})]}),r.jsx(B,{type:"button",variant:"ghost",size:"sm",onClick:()=>x($),className:"text-destructive hover:text-destructive h-7 w-7 sm:h-8 sm:w-8 p-0 flex-shrink-0",children:r.jsx(xt,{className:"h-3 w-3 sm:h-4 sm:w-4"})})]})}),r.jsxs(ee,{className:"space-y-3 sm:space-y-4 px-3 sm:px-6 pb-3 sm:pb-6",children:[r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3 sm:gap-4",children:[r.jsx(ae,{control:p.control,name:`localizations.${$}.languageId`,rules:{required:s?"اللغة مطلوبة":"Language is required",validate:E=>E===0?s?"يرجى اختيار لغة":"Please select a language":!0},render:({field:E})=>{var V;return r.jsxs(ne,{children:[r.jsx(re,{className:"text-xs sm:text-sm",children:s?"اللغة":"Language"}),r.jsxs(ut,{onValueChange:q=>E.onChange(parseInt(q)),value:(V=E.value)==null?void 0:V.toString(),children:[r.jsx(se,{children:r.jsx(ct,{className:"h-8 sm:h-9 text-xs sm:text-sm",children:r.jsx(mt,{placeholder:s?"اختر اللغة":"Select Language"})})}),r.jsx(dt,{children:z(E.value).map(q=>r.jsx(Ye,{value:q.id.toString(),children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx($e,{className:"h-3 w-3 sm:h-4 sm:w-4"}),r.jsxs("span",{className:"text-xs sm:text-sm",children:[q.name," (",q.code,")"]})]})},q.id))})]}),r.jsx(fe,{className:"text-xs"})]})}}),r.jsx(ae,{control:p.control,name:`localizations.${$}.nameLocalized`,rules:{required:s?"الاسم المترجم مطلوب":"Translated name is required"},render:({field:E})=>r.jsxs(ne,{children:[r.jsx(re,{className:"text-xs sm:text-sm",children:s?"الاسم المترجم":"Translated Name"}),r.jsx(se,{children:r.jsx(Oe,{className:"h-8 sm:h-9 text-xs sm:text-sm",placeholder:s?"اسم فئة المنتج بهذه اللغة":"Product category name in this language",...E})}),r.jsx(fe,{className:"text-xs"})]})})]}),r.jsx(ae,{control:p.control,name:`localizations.${$}.descriptionLocalized`,rules:{required:s?"الوصف المترجم مطلوب":"Translated description is required"},render:({field:E})=>r.jsxs(ne,{children:[r.jsx(re,{className:"text-xs sm:text-sm",children:s?"الوصف المترجم":"Translated Description"}),r.jsx(se,{children:r.jsx(Pt,{className:"min-h-[60px] sm:min-h-[72px] text-xs sm:text-sm resize-none",placeholder:s?"وصف فئة المنتج بهذه اللغة":"Product category description in this language",rows:2,...E})}),r.jsx(fe,{className:"text-xs"})]})}),r.jsx(ae,{control:p.control,name:`localizations.${$}.isActive`,render:({field:E})=>r.jsxs(ne,{className:"flex flex-row items-center justify-between rounded-lg border p-2 sm:p-3",children:[r.jsx("div",{className:"space-y-0.5",children:r.jsx(re,{className:"text-xs sm:text-sm",children:s?"الترجمة نشطة":"Translation Active"})}),r.jsx(se,{children:r.jsx(Ct,{checked:E.value,onCheckedChange:E.onChange})})]})})]})]},D.id))]})})})}),r.jsx(Lt,{className:"pt-3 sm:pt-4 px-4 sm:px-6 pb-4 sm:pb-6 border-t space-y-3 sm:space-y-0 flex-shrink-0",children:r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between w-full gap-3",children:[r.jsxs("div",{className:"flex items-center gap-2 order-2 sm:order-1",children:[r.jsxs(B,{type:"button",variant:"outline",size:"sm",onClick:A,disabled:i===0,className:"h-8 sm:h-9 px-2 sm:px-3 text-xs sm:text-sm flex-1 sm:flex-initial",children:[s?r.jsx(Nt,{className:"h-3 w-3 sm:h-4 sm:w-4"}):r.jsx(At,{className:"h-3 w-3 sm:h-4 sm:w-4"}),r.jsx("span",{className:"ml-1 sm:ml-2",children:s?"السابق":"Previous"})]}),r.jsxs(B,{type:"button",variant:"outline",size:"sm",onClick:_,disabled:i>=h-1,className:"h-8 sm:h-9 px-2 sm:px-3 text-xs sm:text-sm flex-1 sm:flex-initial",children:[r.jsx("span",{className:"mr-1 sm:mr-2",children:s?"التالي":"Next"}),s?r.jsx(At,{className:"h-3 w-3 sm:h-4 sm:w-4"}):r.jsx(Nt,{className:"h-3 w-3 sm:h-4 sm:w-4"})]})]}),r.jsxs("div",{className:"flex items-center gap-2 order-1 sm:order-2",children:[r.jsxs(B,{type:"button",variant:"outline",onClick:k,className:"h-8 sm:h-9 px-2 sm:px-3 text-xs sm:text-sm",children:[r.jsx(Fl,{className:"h-3 w-3 sm:h-4 sm:w-4"}),r.jsx("span",{className:"ml-1 sm:ml-2",children:s?"تخطي":"Skip"})]}),r.jsx(B,{type:"button",variant:"outline",onClick:T,className:"h-8 sm:h-9 px-2 sm:px-3 text-xs sm:text-sm hidden xs:inline-flex",children:s?"إغلاق":"Close"}),r.jsxs(B,{type:"submit",className:"gradient-primary h-8 sm:h-9 px-3 sm:px-4 text-xs sm:text-sm font-medium",onClick:p.handleSubmit(O),disabled:C.isPending||b,children:[C.isPending?r.jsx("div",{className:"animate-spin rounded-full h-3 w-3 sm:h-4 sm:w-4 border-b-2 border-white mr-1 sm:mr-2"}):r.jsx(ln,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),r.jsx("span",{className:"hidden xs:inline",children:s?"حفظ وتابع":"Save & Continue"}),r.jsx("span",{className:"xs:hidden",children:s?"حفظ":"Save"})]})]})]})})]})}):null},DR="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48IS0tIFVwbG9hZGVkIHRvOiBTVkcgUmVwbywgd3d3LnN2Z3JlcG8uY29tLCBHZW5lcmF0b3I6IFNWRyBSZXBvIE1peGVyIFRvb2xzIC0tPgo8c3ZnIHdpZHRoPSI4MDBweCIgaGVpZ2h0PSI4MDBweCIgdmlld0JveD0iMCAwIDEyMCAxMjAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxMjAiIGhlaWdodD0iMTIwIiBmaWxsPSIjRUZGMUYzIi8+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMzMuMjUwMyAzOC40ODE2QzMzLjI2MDMgMzcuMDQ3MiAzNC40MTk5IDM1Ljg4NjQgMzUuODU0MyAzNS44NzVIODMuMTQ2M0M4NC41ODQ4IDM1Ljg3NSA4NS43NTAzIDM3LjA0MzEgODUuNzUwMyAzOC40ODE2VjgwLjUxODRDODUuNzQwMyA4MS45NTI4IDg0LjU4MDcgODMuMTEzNiA4My4xNDYzIDgzLjEyNUgzNS44NTQzQzM0LjQxNTggODMuMTIzNiAzMy4yNTAzIDgxLjk1NyAzMy4yNTAzIDgwLjUxODRWMzguNDgxNlpNODAuNTAwNiA0MS4xMjUxSDM4LjUwMDZWNzcuODc1MUw2Mi44OTIxIDUzLjQ3ODNDNjMuOTE3MiA1Mi40NTM2IDY1LjU3ODggNTIuNDUzNiA2Ni42MDM5IDUzLjQ3ODNMODAuNTAwNiA2Ny40MDEzVjQxLjEyNTFaTTQzLjc1IDUxLjYyNDlDNDMuNzUgNTQuNTI0NCA0Ni4xMDA1IDU2Ljg3NDkgNDkgNTYuODc0OUM1MS44OTk1IDU2Ljg3NDkgNTQuMjUgNTQuNTI0NCA1NC4yNSA1MS42MjQ5QzU0LjI1IDQ4LjcyNTQgNTEuODk5NSA0Ni4zNzQ5IDQ5IDQ2LjM3NDlDNDYuMTAwNSA0Ni4zNzQ5IDQzLjc1IDQ4LjcyNTQgNDMuNzUgNTEuNjI0OVoiIGZpbGw9IiM2ODc3ODciLz4KPC9zdmc+",t3=({productCategory:e,size:t="sm"})=>{const[n,s]=N.useState(!1),a={sm:"w-8 h-8",md:"w-12 h-12",lg:"w-16 h-16"},i=e!=null&&e.imageUrl&&!n?e.imageUrl:DR;return r.jsx("div",{className:`${a[t]} rounded-full bg-gradient-primary flex items-center justify-center overflow-hidden border-2 border-border/20`,children:r.jsx("img",{src:i,alt:(e==null?void 0:e.name)||"Product Category",className:"w-full h-full object-cover",onError:()=>s(!0)})})},XJ=({productCategory:e})=>{const[t,n]=N.useState(!1),s=e!=null&&e.imageUrl&&!t?e.imageUrl:DR;return r.jsx("div",{className:"w-24 h-24 rounded-lg overflow-hidden border-2 border-border shadow-sm bg-gradient-to-br from-primary/10 to-primary/5",children:r.jsx("img",{src:s,alt:(e==null?void 0:e.name)||"Product Category",className:"w-full h-full object-cover",onError:()=>n(!0)})})},JJ=()=>{var X;const{isRTL:e}=rt(),t=lr(),n=ba(),s=rr(),[a,i]=N.useState(""),[o,l]=N.useState("all"),[d,u]=N.useState(!1),[h,m]=N.useState(!1),[p,g]=N.useState(!1),[y,x]=N.useState(null),[v,j]=N.useState(null),[b,S]=N.useState(1),[C]=N.useState(5),[_,A]=N.useState(!1),[k,T]=N.useState(!1),O=Wt({defaultValues:{name:"",description:"",parentId:null,imageUrl:"",isActive:!0,localizations:[]}}),M=Wt({defaultValues:{name:"",description:"",parentId:null,imageUrl:"",isActive:!0,localizations:[]}}),{fields:z,append:F,remove:Z}=Qt({control:O.control,name:"localizations"}),{fields:D,append:$,remove:E}=Qt({control:M.control,name:"localizations"});R.useEffect(()=>{var H,me,Ce;if((H=n.state)!=null&&H.editProductCategory){const le=n.state.editProductCategory;x(le),M.reset({name:le.name,description:le.description,parentId:le.parentId,imageUrl:le.imageUrl||"",isActive:le.isActive,localizations:((me=le.localizations)==null?void 0:me.map(we=>({id:we.id,nameLocalized:we.nameLocalized,descriptionLocalized:we.descriptionLocalized,languageId:we.languageId,isActive:we.isActive})))||[]}),m(!0),t(n.pathname,{replace:!0})}else if((Ce=n.state)!=null&&Ce.viewProductCategory){const le=n.state.viewProductCategory;j(le),g(!0),t(n.pathname,{replace:!0})}},[n.state,n.pathname,t,M]);const{data:V,isLoading:q,error:U}=qe({queryKey:["product-categories",b,C,o],queryFn:()=>{const H={page:b,pageSize:C};return o==="active"?H.activeOnly=!0:o==="inactive"&&(H.activeOnly=!1),Fn.getProductCategories(H)}}),{data:Q}=qe({queryKey:["product-categories-all"],queryFn:()=>Fn.getProductCategories({pageSize:1e3})}),{data:he}=qe({queryKey:["product-categories-dropdown"],queryFn:()=>Fn.getProductCategoriesDropdown()}),{data:ue}=qe({queryKey:["languages-dropdown"],queryFn:()=>ir.getLanguagesDropdown()}),{data:ce}=qe({queryKey:["product-categories-missing-translations"],queryFn:()=>Fn.getProductCategoriesMissingTranslations(),refetchInterval:3e4}),G=it({mutationFn:Fn.createProductCategory,onSuccess:()=>{s.invalidateQueries({queryKey:["product-categories"]}),s.invalidateQueries({queryKey:["product-categories-all"]}),s.invalidateQueries({queryKey:["product-categories-dropdown"]}),be.success(e?"تم إنشاء فئة المنتج بنجاح":"Product category created successfully")},onError:H=>{be.error(H.message||(e?"حدث خطأ أثناء إنشاء فئة المنتج":"Error creating product category"))}}),J=it({mutationFn:({id:H,data:me})=>Fn.updateProductCategory(H,me),onSuccess:()=>{s.invalidateQueries({queryKey:["product-categories"]}),s.invalidateQueries({queryKey:["product-categories-all"]}),s.invalidateQueries({queryKey:["product-categories-dropdown"]}),be.success(e?"تم تحديث فئة المنتج بنجاح":"Product category updated successfully")},onError:H=>{be.error(H.message||(e?"حدث خطأ أثناء تحديث فئة المنتج":"Error updating product category"))}}),ye=it({mutationFn:Fn.toggleProductCategoryActivation,onSuccess:()=>{s.invalidateQueries({queryKey:["product-categories"]}),s.invalidateQueries({queryKey:["product-categories-all"]}),be.success(e?"تم تحديث حالة فئة المنتج":"Product category status updated")},onError:H=>{be.error(H.message||(e?"حدث خطأ أثناء تحديث حالة فئة المنتج":"Error updating product category status"))}}),Se=it({mutationFn:Fn.deleteProductCategory,onSuccess:()=>{s.invalidateQueries({queryKey:["product-categories"]}),s.invalidateQueries({queryKey:["product-categories-all"]}),s.invalidateQueries({queryKey:["product-categories-dropdown"]}),be.success(e?"تم حذف فئة المنتج بنجاح":"Product category deleted successfully")},onError:H=>{be.error(H.message||(e?"حدث خطأ أثناء حذف فئة المنتج":"Error deleting product category"))}}),We=(V==null?void 0:V.items.filter(H=>{var Ce;return H.name.toLowerCase().includes(a.toLowerCase())||H.description.toLowerCase().includes(a.toLowerCase())||((Ce=H.localizations)==null?void 0:Ce.some(le=>le.nameLocalized.toLowerCase().includes(a.toLowerCase())||le.descriptionLocalized.toLowerCase().includes(a.toLowerCase())))}))||[],Ae={total:(Q==null?void 0:Q.totalCount)||0,active:(Q==null?void 0:Q.items.filter(H=>H.isActive).length)||0,inactive:(Q==null?void 0:Q.items.filter(H=>!H.isActive).length)||0},ze=async H=>{G.mutate(H,{onSuccess:()=>{u(!1),O.reset()}})},Fe=async H=>{y&&J.mutate({id:y.id,data:H},{onSuccess:()=>{m(!1),x(null),M.reset()}})},je=H=>{var me;x(H),M.reset({name:H.name,description:H.description,parentId:H.parentId,imageUrl:H.imageUrl||"",isActive:H.isActive,localizations:((me=H.localizations)==null?void 0:me.map(Ce=>({id:Ce.id,nameLocalized:Ce.nameLocalized,descriptionLocalized:Ce.descriptionLocalized,languageId:Ce.languageId,isActive:Ce.isActive})))||[]}),m(!0)},Ze=H=>{j(H),g(!0)},K=(H=!1)=>{const me=ue==null?void 0:ue.filter(le=>!(H?D:z).some(Ee=>Ee.languageId===le.id));if(!me||me.length===0){be.warning(e?"تم إضافة جميع اللغات المتاحة":"All available languages have been added");return}const Ce={nameLocalized:"",descriptionLocalized:"",languageId:me[0].id};H?$({...Ce,id:null,isActive:!0}):F(Ce)},te=H=>{var me;return((me=ue==null?void 0:ue.find(Ce=>Ce.id===H))==null?void 0:me.name)||"Unknown"},Ne=H=>{var me;return((me=ue==null?void 0:ue.find(Ce=>Ce.id===H))==null?void 0:me.code)||"N/A"},pe=H=>r.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1.5 rounded-full text-xs font-medium transition-all duration-200 ${H?"bg-emerald-100 text-emerald-700 border border-emerald-200 dark:bg-emerald-900/20 dark:text-emerald-400 dark:border-emerald-800":"bg-red-50 text-red-600 border border-red-200 dark:bg-red-900/20 dark:text-red-400 dark:border-red-800"}`,children:[r.jsx("div",{className:`w-2 h-2 rounded-full animate-pulse ${H?"bg-emerald-500 shadow-sm shadow-emerald-500/50":"bg-red-500 shadow-sm shadow-red-500/50"}`}),r.jsx("span",{className:"font-semibold",children:e?H?"نشط":"غير نشط":H?"Active":"Inactive"})]}),oe=H=>new Date(H).toLocaleDateString(e?"ar-SA":"en-US"),Be=H=>{if(!H||!he)return"-";const me=he.find(Ce=>Ce.id===H);return me?me.name:"-"};return r.jsx(lt,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-foreground",children:e?"إدارة فئات المنتجات":"Product Categories Management"}),r.jsx("p",{className:"text-muted-foreground",children:e?"إدارة فئات المنتجات وتصنيفاتها":"Manage product categories and classifications"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(B,{variant:"outline",className:"flex items-center gap-2",onClick:()=>t("/product-categories/tree"),children:[r.jsx(yL,{className:"h-4 w-4"}),e?"عرض الشجرة":"Tree View"]}),r.jsxs(B,{className:"gradient-primary flex items-center gap-2",onClick:()=>u(!0),children:[r.jsx(ot,{className:"h-4 w-4"}),e?"إضافة فئة منتج جديدة":"Add New Product Category"]})]})]}),ce&&ce.length>0&&!k&&r.jsx(QJ,{missingCount:ce.length,onApplyTranslations:()=>A(!0),onDismiss:()=>T(!0),className:"mb-6"}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[r.jsx(Y,{className:"border-0 shadow-elegant",children:r.jsx(ee,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:e?"إجمالي فئات المنتجات":"Total Product Categories"}),r.jsx("p",{className:"text-2xl font-bold",children:Ae.total})]}),r.jsx(Dr,{className:"h-8 w-8 text-primary"})]})})}),r.jsx(Y,{className:"border-0 shadow-elegant",children:r.jsx(ee,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:e?"فئات المنتجات النشطة":"Active Product Categories"}),r.jsx("p",{className:"text-2xl font-bold text-success",children:Ae.active})]}),r.jsx(Or,{className:"h-8 w-8 text-success"})]})})}),r.jsx(Y,{className:"border-0 shadow-elegant",children:r.jsx(ee,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:e?"فئات المنتجات غير النشطة":"Inactive Product Categories"}),r.jsx("p",{className:"text-2xl font-bold text-muted-foreground",children:Ae.inactive})]}),r.jsx(jn,{className:"h-8 w-8 text-muted-foreground"})]})})})]}),r.jsx(Y,{className:"border-0 shadow-elegant",children:r.jsx(ee,{className:"p-6",children:r.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(Qr,{className:`absolute top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground ${e?"right-3":"left-3"}`}),r.jsx(Oe,{placeholder:e?"البحث في فئات المنتجات...":"Search product categories...",value:a,onChange:H=>i(H.target.value),className:e?"pr-10 pl-4":"pl-10 pr-4"})]}),r.jsx("div",{className:"flex gap-2",children:r.jsxs(Ut,{children:[r.jsx(Vt,{asChild:!0,children:r.jsxs(B,{variant:"outline",className:"flex items-center gap-2 hover:border-primary/50 hover:bg-primary/5 transition-all duration-200",children:[r.jsx("div",{className:`w-2 h-2 rounded-full ${o==="active"?"bg-emerald-500":o==="inactive"?"bg-red-500":"bg-gradient-to-r from-emerald-500 to-red-500"}`}),e?o==="all"?"جميع الحالات":o==="active"?"نشط":"غير نشط":o==="all"?"All Status":o==="active"?"Active":"Inactive",r.jsx(vn,{className:"h-4 w-4 opacity-50"})]})}),r.jsxs(Ft,{align:"end",className:"w-48",children:[r.jsxs(ke,{onClick:()=>l("all"),className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 rounded-full bg-gradient-to-r from-emerald-500 to-red-500"}),e?"جميع الحالات":"All Status"]}),r.jsxs(ke,{onClick:()=>l("active"),className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500"}),e?"نشط":"Active"]}),r.jsxs(ke,{onClick:()=>l("inactive"),className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500"}),e?"غير نشط":"Inactive"]})]})]})})]})})}),r.jsxs(Y,{className:"border-0 shadow-elegant",children:[r.jsx(Pe,{children:r.jsxs(Ie,{className:"flex items-center gap-2",children:[r.jsx(Dr,{className:"h-5 w-5 text-primary"}),e?`${We.length} فئة منتج`:`${We.length} Product Categories`]})}),r.jsxs(ee,{children:[r.jsxs(On,{dir:e?"rtl":"ltr",children:[r.jsx(In,{children:r.jsxs(Xe,{className:e?"text-right":"text-left",children:[r.jsx(Re,{className:e?"text-right":"text-left",children:e?"اسم فئة المنتج":"Product Category Name"}),r.jsx(Re,{className:e?"text-right":"text-left",children:e?"الوصف":"Description"}),r.jsx(Re,{className:e?"text-right":"text-left",children:e?"الفئة الأب":"Parent Category"}),r.jsx(Re,{className:e?"text-right":"text-left",children:e?"الترجمات":"Localizations"}),r.jsx(Re,{className:e?"text-right":"text-left",children:e?"الحالة":"Status"}),r.jsx(Re,{className:e?"text-right":"text-left",children:e?"تاريخ الإنشاء":"Created Date"}),r.jsx(Re,{className:"text-center",children:e?"الإجراءات":"Actions"})]})}),r.jsx(Mn,{children:q?r.jsx(Xe,{className:e?"text-right":"text-left",children:r.jsx(xe,{colSpan:7,className:"text-center py-8",children:r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"}),r.jsx("span",{className:e?"mr-2":"ml-2",children:e?"جاري التحميل...":"Loading..."})]})})}):U?r.jsx(Xe,{className:e?"text-right":"text-left",children:r.jsx(xe,{colSpan:7,className:"text-center py-8 text-destructive",children:e?"خطأ في تحميل البيانات":"Error loading data"})}):We.length===0?r.jsx(Xe,{className:e?"text-right":"text-left",children:r.jsx(xe,{colSpan:7,className:"text-center py-8 text-muted-foreground",children:e?"لا توجد فئات منتجات متاحة":"No product categories available"})}):We.map(H=>r.jsxs(Xe,{className:`hover:bg-muted/50 ${e?"text-right":"text-left"}`,children:[r.jsx(xe,{className:e?"text-right":"text-left",children:r.jsxs("div",{className:`flex items-center gap-3 ${e?"text-right":"flex-row"}`,children:[r.jsx(t3,{productCategory:H}),r.jsx("div",{children:r.jsx("p",{className:"font-medium",children:H.name})})]})}),r.jsx(xe,{className:e?"text-right":"text-left",children:r.jsx("p",{className:"text-sm text-muted-foreground max-w-xs truncate",title:H.description,children:H.description})}),r.jsx(xe,{className:e?"text-right":"text-left",children:r.jsx(Me,{variant:"outline",children:Be(H.parentId)})}),r.jsx(xe,{className:e?"text-right":"text-left",children:r.jsxs("div",{className:"flex flex-wrap gap-1",children:[H.localizations&&H.localizations.length>0?H.localizations.slice(0,3).map(me=>r.jsxs(Me,{variant:"secondary",className:"text-xs flex items-center gap-1",children:[r.jsx($e,{className:"h-3 w-3"}),me.languageCode]},me.id)):r.jsx("span",{className:"text-xs text-muted-foreground",children:e?"لا توجد ترجمات":"No translations"}),H.localizations&&H.localizations.length>3&&r.jsxs(Me,{variant:"outline",className:"text-xs",children:["+",H.localizations.length-3]})]})}),r.jsx(xe,{className:e?"text-right":"text-left",children:pe(H.isActive)}),r.jsx(xe,{className:`text-muted-foreground ${e?"text-right":"text-left"}`,children:oe(H.createdAt)}),r.jsx(xe,{className:"text-center",children:r.jsxs(Ut,{children:[r.jsx(Vt,{asChild:!0,children:r.jsx(B,{variant:"ghost",className:"h-8 w-8 p-0",children:r.jsx(bn,{className:"h-4 w-4"})})}),r.jsxs(Ft,{align:e?"start":"end",children:[r.jsxs(ke,{className:`flex items-center gap-2 ${e?"flex-row-reverse":"flex-row"}`,onClick:()=>Ze(H),children:[r.jsx(Fr,{className:"h-4 w-4"}),e?"عرض التفاصيل":"View Details"]}),r.jsxs(ke,{className:`flex items-center gap-2 ${e?"flex-row-reverse":"flex-row"}`,onClick:()=>je(H),children:[r.jsx(tr,{className:"h-4 w-4"}),e?"تحرير":"Edit"]}),r.jsxs(ke,{className:`flex items-center gap-2 ${e?"flex-row-reverse":"flex-row"}`,onClick:()=>ye.mutate(H.id),children:[r.jsx(Cs,{className:"h-4 w-4"}),e?"تغيير الحالة":"Toggle Status"]}),r.jsxs(ke,{className:`flex items-center gap-2 text-destructive ${e?"flex-row-reverse":"flex-row"}`,onClick:()=>Se.mutate(H.id),children:[r.jsx(xt,{className:"h-4 w-4"}),e?"حذف":"Delete"]})]})]})})]},H.id))})]}),V&&V.totalPages>1&&r.jsxs("div",{className:"flex items-center justify-between mt-6",children:[r.jsx("div",{className:"text-sm text-muted-foreground",children:e?`عرض ${(V.page-1)*V.pageSize+1} إلى ${Math.min(V.page*V.pageSize,V.totalCount)} من ${V.totalCount}`:`Showing ${(V.page-1)*V.pageSize+1} to ${Math.min(V.page*V.pageSize,V.totalCount)} of ${V.totalCount}`}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(B,{variant:"outline",size:"sm",onClick:()=>S(H=>Math.max(H-1,1)),disabled:!V.hasPreviousPage,children:e?r.jsx(Nt,{className:"h-4 w-4"}):r.jsx(At,{className:"h-4 w-4"})}),r.jsx("span",{className:"text-sm font-medium",children:e?`${V.page} من ${V.totalPages}`:`${V.page} of ${V.totalPages}`}),r.jsx(B,{variant:"outline",size:"sm",onClick:()=>S(H=>H+1),disabled:!V.hasNextPage,children:e?r.jsx(At,{className:"h-4 w-4"}):r.jsx(Nt,{className:"h-4 w-4"})})]})]})]})]}),r.jsx(Mt,{open:d,onOpenChange:u,children:r.jsxs(Et,{className:"sm:max-w-2xl max-h-[80vh] overflow-y-auto",children:[r.jsxs(Tt,{children:[r.jsx(Ot,{children:e?"إضافة فئة منتج جديدة":"Add New Product Category"}),r.jsx($t,{children:e?"أدخل معلومات فئة المنتج الجديدة":"Enter the details for the new product category"})]}),r.jsx(Kt,{...O,children:r.jsxs("form",{onSubmit:O.handleSubmit(ze),className:"space-y-4",children:[r.jsx(ae,{control:O.control,name:"name",rules:{required:e?"اسم فئة المنتج مطلوب":"Product category name is required"},render:({field:H})=>r.jsxs(ne,{children:[r.jsx(re,{children:e?"اسم فئة المنتج":"Product Category Name"}),r.jsx(se,{children:r.jsx(Oe,{placeholder:e?"مثال: الهواتف الذكية":"e.g., Smartphones",...H})}),r.jsx(fe,{})]})}),r.jsx(ae,{control:O.control,name:"description",rules:{required:e?"وصف فئة المنتج مطلوب":"Product category description is required"},render:({field:H})=>r.jsxs(ne,{children:[r.jsx(re,{children:e?"وصف فئة المنتج":"Product Category Description"}),r.jsx(se,{children:r.jsx(Pt,{placeholder:e?"وصف فئة المنتج...":"Product category description...",rows:3,...H})}),r.jsx(fe,{})]})}),r.jsx(ae,{control:O.control,name:"parentId",render:({field:H})=>{var me;return r.jsxs(ne,{children:[r.jsx(re,{children:e?"الفئة الأب (اختياري)":"Parent Category (Optional)"}),r.jsxs(ut,{onValueChange:Ce=>H.onChange(Ce==="null"?null:parseInt(Ce)),value:((me=H.value)==null?void 0:me.toString())||"null",children:[r.jsx(se,{children:r.jsx(ct,{children:r.jsx(mt,{placeholder:e?"اختر الفئة الأب":"Select parent category"})})}),r.jsxs(dt,{children:[r.jsx(Ye,{value:"null",children:e?"لا يوجد (فئة رئيسية)":"None (Root category)"}),he==null?void 0:he.map(Ce=>r.jsx(Ye,{value:Ce.id.toString(),children:Ce.name},Ce.id))]})]}),r.jsx(fe,{})]})}}),r.jsx(ae,{control:O.control,name:"imageUrl",render:({field:H})=>r.jsxs(ne,{children:[r.jsx(re,{children:e?"صورة فئة المنتج (اختياري)":"Product Category Image (Optional)"}),r.jsx(se,{children:r.jsx(Co,{value:H.value||"",onChange:H.onChange,folder:"categories",placeholder:"https://example.com/image.jpg"})}),r.jsx(fe,{})]})}),r.jsx(ae,{control:O.control,name:"isActive",render:({field:H})=>r.jsxs(ne,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[r.jsxs("div",{className:"space-y-0.5",children:[r.jsx(re,{className:"text-base",children:e?"فئة المنتج نشطة":"Active Product Category"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:e?"تفعيل أو إلغاء تفعيل فئة المنتج":"Enable or disable this product category"})]}),r.jsx(se,{children:r.jsx(Ct,{checked:H.value,onCheckedChange:H.onChange})})]})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(qt,{className:"h-4 w-4 text-primary"}),r.jsx("h3",{className:"text-lg font-semibold",children:e?"الترجمات":"Localizations"}),r.jsx(Me,{variant:"secondary",children:z.length})]}),r.jsxs(B,{type:"button",variant:"outline",size:"sm",onClick:()=>K(!1),className:"flex items-center gap-2",children:[r.jsx(ot,{className:"h-4 w-4"}),e?"إضافة ترجمة":"Add Translation"]})]}),z.length>0?r.jsx("div",{className:"space-y-4 max-h-60 overflow-y-auto",children:z.map((H,me)=>r.jsx(Y,{className:"border-l-4 border-l-primary/20",children:r.jsxs(ee,{className:"pt-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(Me,{variant:"outline",className:"flex items-center gap-1",children:[r.jsx($e,{className:"h-3 w-3"}),Ne(O.watch(`localizations.${me}.languageId`))]}),r.jsx("span",{className:"font-medium",children:te(O.watch(`localizations.${me}.languageId`))})]}),r.jsx(B,{type:"button",variant:"ghost",size:"sm",onClick:()=>Z(me),className:"text-destructive hover:text-destructive",children:r.jsx(xt,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[r.jsx(ae,{control:O.control,name:`localizations.${me}.languageId`,rules:{required:e?"اللغة مطلوبة":"Language is required"},render:({field:Ce})=>{var le;return r.jsxs(ne,{children:[r.jsx(re,{children:e?"اللغة":"Language"}),r.jsxs(ut,{onValueChange:we=>Ce.onChange(parseInt(we)),value:(le=Ce.value)==null?void 0:le.toString(),children:[r.jsx(se,{children:r.jsx(ct,{children:r.jsx(mt,{placeholder:e?"اختر اللغة":"Select language"})})}),r.jsx(dt,{children:ue==null?void 0:ue.map(we=>r.jsx(Ye,{value:we.id.toString(),disabled:z.some((Ee,nt)=>nt!==me&&Ee.languageId===we.id),children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx($e,{className:"h-3 w-3"}),we.name," (",we.code,")"]})},we.id))})]}),r.jsx(fe,{})]})}}),r.jsx(ae,{control:O.control,name:`localizations.${me}.nameLocalized`,rules:{required:e?"الاسم المترجم مطلوب":"Localized name is required"},render:({field:Ce})=>r.jsxs(ne,{children:[r.jsx(re,{children:e?"الاسم المترجم":"Localized Name"}),r.jsx(se,{children:r.jsx(Oe,{...Ce})}),r.jsx(fe,{})]})})]}),r.jsx(ae,{control:O.control,name:`localizations.${me}.descriptionLocalized`,rules:{required:e?"الوصف المترجم مطلوب":"Localized description is required"},render:({field:Ce})=>r.jsxs(ne,{className:"mt-4",children:[r.jsx(re,{children:e?"الوصف المترجم":"Localized Description"}),r.jsx(se,{children:r.jsx(Pt,{rows:2,...Ce})}),r.jsx(fe,{})]})})]})},H.id))}):r.jsxs("div",{className:"text-center py-8 text-muted-foreground border-2 border-dashed border-muted rounded-lg",children:[r.jsx(qt,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),r.jsx("p",{className:"text-sm",children:e?'لا توجد ترجمات. اضغط "إضافة ترجمة" للبدء.':'No translations added. Click "Add Translation" to start.'})]})]}),r.jsxs(Lt,{children:[r.jsx(B,{type:"button",variant:"outline",onClick:()=>u(!1),children:e?"إلغاء":"Cancel"}),r.jsx(B,{type:"submit",className:"gradient-primary",children:e?"إنشاء":"Create"})]})]})})]})}),r.jsx(Mt,{open:h,onOpenChange:m,children:r.jsxs(Et,{className:"sm:max-w-2xl max-h-[80vh] overflow-y-auto",children:[r.jsxs(Tt,{children:[r.jsx(Ot,{children:e?"تحرير فئة المنتج":"Edit Product Category"}),r.jsx($t,{children:e?"قم بتحديث معلومات فئة المنتج":"Update the product category details"})]}),r.jsx(Kt,{...M,children:r.jsxs("form",{onSubmit:M.handleSubmit(Fe),className:"space-y-4",children:[r.jsx(ae,{control:M.control,name:"name",rules:{required:e?"اسم فئة المنتج مطلوب":"Product category name is required"},render:({field:H})=>r.jsxs(ne,{children:[r.jsx(re,{children:e?"اسم فئة المنتج":"Product Category Name"}),r.jsx(se,{children:r.jsx(Oe,{...H})}),r.jsx(fe,{})]})}),r.jsx(ae,{control:M.control,name:"description",rules:{required:e?"وصف فئة المنتج مطلوب":"Product category description is required"},render:({field:H})=>r.jsxs(ne,{children:[r.jsx(re,{children:e?"وصف فئة المنتج":"Product Category Description"}),r.jsx(se,{children:r.jsx(Pt,{rows:3,...H})}),r.jsx(fe,{})]})}),r.jsx(ae,{control:M.control,name:"parentId",render:({field:H})=>{var me;return r.jsxs(ne,{children:[r.jsx(re,{children:e?"الفئة الأب (اختياري)":"Parent Category (Optional)"}),r.jsxs(ut,{onValueChange:Ce=>H.onChange(Ce==="null"?null:parseInt(Ce)),value:((me=H.value)==null?void 0:me.toString())||"null",children:[r.jsx(se,{children:r.jsx(ct,{children:r.jsx(mt,{placeholder:e?"اختر الفئة الأب":"Select parent category"})})}),r.jsxs(dt,{children:[r.jsx(Ye,{value:"null",children:e?"لا يوجد (فئة رئيسية)":"None (Root category)"}),he==null?void 0:he.filter(Ce=>Ce.id!==(y==null?void 0:y.id)).map(Ce=>r.jsx(Ye,{value:Ce.id.toString(),children:Ce.name},Ce.id))]})]}),r.jsx(fe,{})]})}}),r.jsx(ae,{control:M.control,name:"imageUrl",render:({field:H})=>r.jsxs(ne,{children:[r.jsx(re,{children:e?"صورة فئة المنتج (اختياري)":"Product Category Image (Optional)"}),r.jsx(se,{children:r.jsx(Co,{value:H.value||"",onChange:H.onChange,folder:"categories",placeholder:"https://example.com/image.jpg"})}),r.jsx(fe,{})]})}),r.jsx(ae,{control:M.control,name:"isActive",render:({field:H})=>r.jsxs(ne,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[r.jsxs("div",{className:"space-y-0.5",children:[r.jsx(re,{className:"text-base",children:e?"فئة المنتج نشطة":"Active Product Category"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:e?"تفعيل أو إلغاء تفعيل فئة المنتج":"Enable or disable this product category"})]}),r.jsx(se,{children:r.jsx(Ct,{checked:H.value,onCheckedChange:H.onChange})})]})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(qt,{className:"h-4 w-4 text-primary"}),r.jsx("h3",{className:"text-lg font-semibold",children:e?"الترجمات":"Localizations"}),r.jsx(Me,{variant:"secondary",children:D.length})]}),r.jsxs(B,{type:"button",variant:"outline",size:"sm",onClick:()=>K(!0),className:"flex items-center gap-2",children:[r.jsx(ot,{className:"h-4 w-4"}),e?"إضافة ترجمة":"Add Translation"]})]}),D.length>0?r.jsx("div",{className:"space-y-4 max-h-60 overflow-y-auto",children:D.map((H,me)=>r.jsx(Y,{className:"border-l-4 border-l-primary/20",children:r.jsxs(ee,{className:"pt-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(Me,{variant:"outline",className:"flex items-center gap-1",children:[r.jsx($e,{className:"h-3 w-3"}),Ne(M.watch(`localizations.${me}.languageId`))]}),r.jsx("span",{className:"font-medium",children:te(M.watch(`localizations.${me}.languageId`))})]}),r.jsx(B,{type:"button",variant:"ghost",size:"sm",onClick:()=>E(me),className:"text-destructive hover:text-destructive",children:r.jsx(xt,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[r.jsx(ae,{control:M.control,name:`localizations.${me}.languageId`,rules:{required:e?"اللغة مطلوبة":"Language is required"},render:({field:Ce})=>{var le;return r.jsxs(ne,{children:[r.jsx(re,{children:e?"اللغة":"Language"}),r.jsxs(ut,{onValueChange:we=>Ce.onChange(parseInt(we)),value:(le=Ce.value)==null?void 0:le.toString(),children:[r.jsx(se,{children:r.jsx(ct,{children:r.jsx(mt,{placeholder:e?"اختر اللغة":"Select language"})})}),r.jsx(dt,{children:ue==null?void 0:ue.map(we=>r.jsx(Ye,{value:we.id.toString(),disabled:D.some((Ee,nt)=>nt!==me&&Ee.languageId===we.id),children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx($e,{className:"h-3 w-3"}),we.name," (",we.code,")"]})},we.id))})]}),r.jsx(fe,{})]})}}),r.jsx(ae,{control:M.control,name:`localizations.${me}.nameLocalized`,rules:{required:e?"الاسم المترجم مطلوب":"Localized name is required"},render:({field:Ce})=>r.jsxs(ne,{children:[r.jsx(re,{children:e?"الاسم المترجم":"Localized Name"}),r.jsx(se,{children:r.jsx(Oe,{...Ce})}),r.jsx(fe,{})]})})]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mt-4",children:[r.jsx(ae,{control:M.control,name:`localizations.${me}.descriptionLocalized`,rules:{required:e?"الوصف المترجم مطلوب":"Localized description is required"},render:({field:Ce})=>r.jsxs(ne,{children:[r.jsx(re,{children:e?"الوصف المترجم":"Localized Description"}),r.jsx(se,{children:r.jsx(Pt,{rows:2,...Ce})}),r.jsx(fe,{})]})}),r.jsx(ae,{control:M.control,name:`localizations.${me}.isActive`,render:({field:Ce})=>r.jsxs(ne,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[r.jsx("div",{className:"space-y-0.5",children:r.jsx(re,{className:"text-sm font-medium",children:e?"ترجمة نشطة":"Active Translation"})}),r.jsx(se,{children:r.jsx(Ct,{checked:Ce.value,onCheckedChange:Ce.onChange})})]})})]})]})},H.id))}):r.jsxs("div",{className:"text-center py-8 text-muted-foreground border-2 border-dashed border-muted rounded-lg",children:[r.jsx(qt,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),r.jsx("p",{className:"text-sm",children:e?'لا توجد ترجمات. اضغط "إضافة ترجمة" للبدء.':'No translations added. Click "Add Translation" to start.'})]})]}),r.jsxs(Lt,{children:[r.jsx(B,{type:"button",variant:"outline",onClick:()=>m(!1),children:e?"إلغاء":"Cancel"}),r.jsx(B,{type:"submit",className:"gradient-primary",children:e?"حفظ التغييرات":"Save Changes"})]})]})})]})}),r.jsx(Mt,{open:p,onOpenChange:g,children:r.jsxs(Et,{className:"sm:max-w-2xl max-h-[80vh] overflow-y-auto",children:[r.jsxs(Tt,{children:[r.jsxs(Ot,{className:"flex items-center gap-3",children:[r.jsx(t3,{productCategory:v,size:"md"}),e?"تفاصيل فئة المنتج":"Product Category Details"]}),r.jsx($t,{children:v==null?void 0:v.name})]}),v&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs(Y,{children:[r.jsx(Pe,{children:r.jsxs(Ie,{className:"text-lg flex items-center gap-2",children:[r.jsx(Vy,{className:"h-4 w-4"}),e?"المعلومات الأساسية":"Basic Information"]})}),r.jsxs(ee,{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:e?"صورة فئة المنتج":"Product Category Image"}),r.jsx("div",{className:"p-3 bg-muted/50 rounded-lg flex justify-center",children:r.jsx(XJ,{productCategory:v})})]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:e?"الاسم":"Name"}),r.jsx("p",{className:"font-medium",children:v.name})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:e?"الحالة":"Status"}),r.jsx("div",{className:"mt-1",children:pe(v.isActive)})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:e?"الوصف":"Description"}),r.jsx("p",{className:"mt-1 text-sm bg-muted/30 p-3 rounded-md",children:v.description})]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:e?"الفئة الأب":"Parent Category"}),r.jsx("p",{className:"font-medium",children:Be(v.parentId)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:e?"تاريخ الإنشاء":"Created Date"}),r.jsx("p",{className:"font-medium",children:oe(v.createdAt)})]})]})]})]}),r.jsxs(Y,{children:[r.jsx(Pe,{children:r.jsxs(Ie,{className:"text-lg flex items-center gap-2",children:[r.jsx(qt,{className:"h-4 w-4"}),e?"الترجمات":"Localizations",r.jsx(Me,{variant:"secondary",className:"ml-2",children:((X=v.localizations)==null?void 0:X.length)||0})]})}),r.jsx(ee,{children:v.localizations&&v.localizations.length>0?r.jsx("div",{className:"space-y-4",children:v.localizations.map(H=>r.jsx(Y,{className:"border-l-4 border-l-primary/20",children:r.jsxs(ee,{className:"pt-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(Me,{variant:"outline",className:"flex items-center gap-1",children:[r.jsx($e,{className:"h-3 w-3"}),H.languageCode]}),r.jsx("span",{className:"font-medium",children:H.languageName})]}),pe(H.isActive)]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:e?"الاسم المترجم":"Localized Name"}),r.jsx("p",{className:"mt-1 font-medium",children:H.nameLocalized})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:e?"تاريخ التحديث":"Updated Date"}),r.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:oe(H.updatedAt)})]})]}),r.jsxs("div",{className:"mt-3",children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:e?"الوصف المترجم":"Localized Description"}),r.jsx("p",{className:"mt-1 text-sm bg-muted/30 p-3 rounded-md",children:H.descriptionLocalized})]})]})},H.id))}):r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(qt,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:e?"لا توجد ترجمات متاحة":"No localizations available"})]})})]})]}),r.jsx(Lt,{children:r.jsx(B,{variant:"outline",onClick:()=>g(!1),children:e?"إغلاق":"Close"})})]})}),ce&&ce.length>0&&r.jsx(YJ,{isOpen:_,onOpenChange:A,missingProductCategoryIds:ce})]})})},RR=({productCategory:e,level:t,isRTL:n,onEdit:s,onViewDetails:a,onToggleStatus:i,onDelete:o,expandedNodes:l,onToggleExpanded:d,isLastChild:u=!1,parentConnections:h=[]})=>{const m=e.children&&e.children.length>0,p=l.has(e.id),g=x=>r.jsxs("div",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${x?"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/20 dark:text-emerald-400":"bg-red-50 text-red-600 dark:bg-red-900/20 dark:text-red-400"}`,children:[r.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${x?"bg-emerald-500":"bg-red-500"}`}),n?x?"نشط":"غير نشط":x?"Active":"Inactive"]}),y=()=>{const x=[];for(let v=0;v<t;v++){const j=h[v];x.push(r.jsx("div",{className:`absolute top-0 bottom-0 w-px ${j?"bg-border":""}`,style:{left:n?"auto":`${16+v*24}px`,right:n?`${16+v*24}px`:"auto"}},`line-${v}`))}return t>0&&(x.push(r.jsx("div",{className:"absolute top-6 w-4 h-px bg-border",style:{left:n?"auto":`${16+(t-1)*24}px`,right:n?`${16+(t-1)*24}px`:"auto"}},"horizontal-line")),u?x.push(r.jsx("div",{className:"absolute top-0 h-6 w-px bg-border",style:{left:n?"auto":`${16+(t-1)*24}px`,right:n?`${16+(t-1)*24}px`:"auto"}},"vertical-line-last")):x.push(r.jsx("div",{className:"absolute top-0 bottom-0 w-px bg-border",style:{left:n?"auto":`${16+(t-1)*24}px`,right:n?`${16+(t-1)*24}px`:"auto"}},"vertical-line"))),x};return r.jsxs("div",{className:"select-none relative",children:[y(),r.jsxs("div",{className:`relative flex items-center gap-3 p-3 hover:bg-muted/30 rounded-lg transition-all duration-200 border border-transparent hover:border-border/50 hover:shadow-sm ${n?"flex-row-reverse":"flex-row"}`,style:{marginLeft:n?"0":`${t*24}px`,marginRight:n?`${t*24}px`:"0"},children:[m?r.jsx(B,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0 rounded-full hover:bg-primary/10 transition-all duration-200",onClick:()=>d(e.id),children:p?r.jsx(vn,{className:"h-4 w-4 text-primary transition-transform duration-200"}):r.jsx(Nt,{className:"h-4 w-4 text-primary transition-transform duration-200"})}):r.jsx("div",{className:"h-7 w-7 flex items-center justify-center",children:r.jsx("div",{className:"w-2 h-2 rounded-full bg-border"})}),r.jsx("div",{className:"flex-1 min-w-0",children:r.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[r.jsx("span",{className:"font-semibold text-sm truncate text-foreground",children:e.name}),g(e.isActive),m&&r.jsxs(Me,{variant:"secondary",className:"text-xs h-5",children:[e.children.length," ",n?"عنصر":"items"]})]})}),r.jsxs(Ut,{children:[r.jsx(Vt,{asChild:!0,children:r.jsx(B,{variant:"ghost",className:"h-8 w-8 p-0 rounded-full hover:bg-muted/50 transition-colors",children:r.jsx(bn,{className:"h-4 w-4"})})}),r.jsxs(Ft,{align:n?"start":"end",className:"w-48",children:[r.jsxs(ke,{className:`flex items-center gap-2 ${n?"flex-row-reverse":"flex-row"} hover:bg-muted/50`,onClick:()=>a(e),children:[r.jsx(Fr,{className:"h-4 w-4"}),n?"عرض التفاصيل":"View Details"]}),r.jsxs(ke,{className:`flex items-center gap-2 ${n?"flex-row-reverse":"flex-row"} hover:bg-muted/50`,onClick:()=>s(e),children:[r.jsx(tr,{className:"h-4 w-4"}),n?"تحرير":"Edit"]}),r.jsxs(ke,{className:`flex items-center gap-2 ${n?"flex-row-reverse":"flex-row"} hover:bg-muted/50`,onClick:()=>i(e.id),children:[r.jsx(Cs,{className:"h-4 w-4"}),n?"تغيير الحالة":"Toggle Status"]}),r.jsxs(ke,{className:`flex items-center gap-2 text-destructive ${n?"flex-row-reverse":"flex-row"} hover:bg-destructive/10`,onClick:()=>o(e.id),children:[r.jsx(xt,{className:"h-4 w-4"}),n?"حذف":"Delete"]})]})]})]}),m&&p&&r.jsx("div",{className:"transition-all duration-300 ease-in-out",children:e.children.map((x,v)=>{const j=v===e.children.length-1,b=[...h];return t>=0&&(b[t]=!u),r.jsx(RR,{productCategory:x,level:t+1,isRTL:n,onEdit:s,onViewDetails:a,onToggleStatus:i,onDelete:o,expandedNodes:l,onToggleExpanded:d,isLastChild:j,parentConnections:b},x.id)})})]})},eee=()=>{const{isRTL:e}=rt(),t=lr(),n=rr(),[s,a]=N.useState(new Set),{data:i,isLoading:o}=qe({queryKey:["product-categories-tree"],queryFn:()=>Fn.getProductCategoryTree()});R.useEffect(()=>{if(i&&i.length>0){const b=new Set,S=C=>{C.forEach(_=>{b.add(_.id),_.children&&_.children.length>0&&S(_.children)})};S(i),a(b)}},[i]);const l=N.useCallback(b=>{const S=new Set,C=_=>{_.forEach(A=>{S.add(A.id),A.children&&A.children.length>0&&C(A.children)})};return C(b),S},[]),d=N.useCallback(()=>{i&&a(l(i))},[i,l]),u=N.useCallback(()=>{a(new Set)},[]),h=N.useCallback(b=>{a(S=>{const C=new Set(S);return C.has(b)?C.delete(b):C.add(b),C})},[]),{data:m}=qe({queryKey:["product-categories-all"],queryFn:()=>Fn.getProductCategories({pageSize:1e3})}),p=it({mutationFn:Fn.toggleProductCategoryActivation,onSuccess:()=>{n.invalidateQueries({queryKey:["product-categories"]}),n.invalidateQueries({queryKey:["product-categories-all"]}),n.invalidateQueries({queryKey:["product-categories-tree"]}),be.success(e?"تم تحديث حالة فئة المنتج":"Product category status updated")},onError:b=>{be.error(b.message||(e?"حدث خطأ أثناء تحديث حالة فئة المنتج":"Error updating product category status"))}}),g=it({mutationFn:Fn.deleteProductCategory,onSuccess:()=>{n.invalidateQueries({queryKey:["product-categories"]}),n.invalidateQueries({queryKey:["product-categories-all"]}),n.invalidateQueries({queryKey:["product-categories-dropdown"]}),n.invalidateQueries({queryKey:["product-categories-tree"]}),be.success(e?"تم حذف فئة المنتج بنجاح":"Product category deleted successfully")},onError:b=>{be.error(b.message||(e?"حدث خطأ أثناء حذف فئة المنتج":"Error deleting product category"))}}),y=b=>{t("/product-categories",{state:{editProductCategory:{...b,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}}})},x=b=>{t("/product-categories",{state:{viewProductCategory:{...b,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}}})},v={total:(m==null?void 0:m.totalCount)||0,active:(m==null?void 0:m.items.filter(b=>b.isActive).length)||0,inactive:(m==null?void 0:m.items.filter(b=>!b.isActive).length)||0,rootCategories:(i==null?void 0:i.length)||0},j=b=>b.reduce((S,C)=>S+1+j(C.children||[]),0);return i&&j(i),r.jsx(lt,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[r.jsx("div",{className:"flex items-center gap-4",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-foreground",children:e?"عرض شجرة فئات المنتجات":"Product Categories Tree View"}),r.jsx("p",{className:"text-muted-foreground",children:e?"عرض هرمي لجميع فئات المنتجات مع إمكانية التفاعل والتحرير":"Hierarchical view of all product categories with interaction and editing capabilities"})]})}),r.jsxs("div",{className:"flex flex-wrap gap-2 justify-end",children:[r.jsxs(B,{variant:"outline",size:"sm",onClick:()=>t("/product-categories"),className:"flex items-center gap-2",children:[r.jsx(Gt,{className:"h-4 w-4"}),e?"العودة لفئات المنتجات":"Back to Product Categories"]}),r.jsxs("div",{className:"flex gap-1 border rounded-lg p-1",children:[r.jsxs(B,{variant:"ghost",size:"sm",onClick:d,className:"flex items-center gap-2 h-8 px-3 text-xs",disabled:!i||i.length===0,children:[r.jsx(Qg,{className:"h-3 w-3"}),e?"توسيع الكل":"Expand All"]}),r.jsxs(B,{variant:"ghost",size:"sm",onClick:u,className:"flex items-center gap-2 h-8 px-3 text-xs",disabled:!i||i.length===0,children:[r.jsx(Xg,{className:"h-3 w-3"}),e?"طي الكل":"Collapse All"]})]}),r.jsxs(B,{className:"gradient-primary flex items-center gap-2",onClick:()=>t("/product-categories"),children:[r.jsx(ot,{className:"h-4 w-4"}),e?"إضافة فئة منتج جديدة":"Add New Product Category"]})]})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[r.jsx(Y,{className:"border-0 shadow-elegant",children:r.jsx(ee,{className:"p-6",children:r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:e?"إجمالي فئات المنتجات":"Total Product Categories"}),r.jsx("p",{className:"text-2xl font-bold",children:v.total})]})})}),r.jsx(Y,{className:"border-0 shadow-elegant",children:r.jsx(ee,{className:"p-6",children:r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:e?"فئات المنتجات النشطة":"Active Product Categories"}),r.jsx("p",{className:"text-2xl font-bold text-success",children:v.active})]})})}),r.jsx(Y,{className:"border-0 shadow-elegant",children:r.jsx(ee,{className:"p-6",children:r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:e?"فئات المنتجات غير النشطة":"Inactive Product Categories"}),r.jsx("p",{className:"text-2xl font-bold text-muted-foreground",children:v.inactive})]})})}),r.jsx(Y,{className:"border-0 shadow-elegant",children:r.jsx(ee,{className:"p-6",children:r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:e?"فئات المنتجات الرئيسية":"Root Product Categories"}),r.jsx("p",{className:"text-2xl font-bold text-blue-600",children:v.rootCategories})]})})})]}),r.jsxs(Y,{className:"border-0 shadow-elegant",children:[r.jsx(Pe,{className:"pb-4",children:r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[r.jsxs(Ie,{className:"text-lg flex items-center gap-3",children:[e?"هيكل فئات المنتجات":"Product Category Structure",r.jsxs(Me,{variant:"secondary",className:"ml-2",children:[v.rootCategories," ",e?"فئة رئيسية":"root categories"]})]}),r.jsxs("div",{className:"flex gap-1 border rounded-lg p-1 bg-background/50",children:[r.jsxs(B,{variant:"ghost",size:"sm",onClick:d,className:"flex items-center gap-2 h-7 px-3 text-xs",disabled:!i||i.length===0,children:[r.jsx(Qg,{className:"h-3 w-3"}),e?"توسيع الكل":"Expand All"]}),r.jsxs(B,{variant:"ghost",size:"sm",onClick:u,className:"flex items-center gap-2 h-7 px-3 text-xs",disabled:!i||i.length===0,children:[r.jsx(Xg,{className:"h-3 w-3"}),e?"طي الكل":"Collapse All"]})]})]})}),r.jsx(ee,{children:o?r.jsxs("div",{className:"flex items-center justify-center py-12",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"}),r.jsx("span",{className:e?"mr-3":"ml-3",children:e?"جاري تحميل الشجرة...":"Loading tree..."})]}):!i||i.length===0?r.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-muted-foreground",children:[r.jsx(Dr,{className:"h-16 w-16 mb-4 opacity-50"}),r.jsx("h3",{className:"text-lg font-medium mb-2",children:e?"لا توجد فئات منتجات":"No Product Categories Found"}),r.jsx("p",{className:"text-sm text-center mb-4",children:e?"لم يتم العثور على أي فئات منتجات لعرضها في الشجرة":"No product categories found to display in the tree view"}),r.jsx(B,{className:"gradient-primary",onClick:()=>t("/product-categories"),children:e?"إضافة فئة منتج جديدة":"Add First Product Category"})]}):r.jsx("div",{className:"space-y-1 bg-gradient-to-br from-muted/20 to-muted/5 p-4 rounded-xl border border-border/50",children:i.map((b,S)=>r.jsx(RR,{productCategory:b,level:0,isRTL:e,onEdit:y,onViewDetails:x,onToggleStatus:C=>p.mutate(C),onDelete:C=>g.mutate(C),expandedNodes:s,onToggleExpanded:h,isLastChild:S===i.length-1,parentConnections:[]},b.id))})})]})]})})};class tee{constructor(){ge(this,"baseUrl","/api/messages");ge(this,"request",async(t,n={})=>{const s=`${this.baseUrl}${t}`,a={headers:{"Content-Type":"application/json",...n.headers},...n};try{const i=await fetch(s,a);if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);return await i.json()}catch(i){throw console.error("API Request Error:",i),i}});ge(this,"getMessages",async(t={})=>{const n=new URLSearchParams;t.page&&n.append("page",t.page.toString()),t.pageSize&&n.append("pageSize",t.pageSize.toString()),t.activeOnly!==void 0&&n.append("activeOnly",t.activeOnly.toString());const s=n.toString()?`?${n.toString()}`:"",a=await this.request(s);if(!a.success)throw new Error(a.message||"Failed to fetch messages");if(!a.data)throw new Error("No data returned from server");return a.data});ge(this,"createMessage",async t=>{const n=await this.request("",{method:"POST",body:JSON.stringify(t)});if(!n.success)throw new Error(n.message||"Failed to create message");if(!n.data)throw new Error("No data returned from server");return n.data});ge(this,"updateMessage",async(t,n)=>{const s=await this.request(`/${t}`,{method:"PUT",body:JSON.stringify(n)});if(!s.success)throw new Error(s.message||"Failed to update message");if(!s.data)throw new Error("No data returned from server");return s.data});ge(this,"toggleMessageActivation",async t=>{const n=await this.request(`/${t}/toggle-activation`,{method:"PUT"});if(!n.success)throw new Error(n.message||"Failed to toggle message activation")});ge(this,"deleteMessage",async t=>{const n=await this.request(`/${t}`,{method:"DELETE"});if(!n.success)throw new Error(n.message||"Failed to delete message")});ge(this,"getMessagesMissingTranslations",async()=>{const t=await this.request("/missing-translations");if(!t.success)throw new Error(t.message||"Failed to fetch messages missing translations");if(!t.data)throw new Error("No data returned from server");return t.data})}}const Ki=new tee,ree=({missingCount:e,onApplyTranslations:t,onDismiss:n,className:s=""})=>{const{isRTL:a}=rt();return e<1?null:r.jsxs(wn,{className:`
        relative border-amber-200 bg-gradient-to-r from-amber-50 to-orange-50 
        dark:from-amber-950/20 dark:to-orange-950/20 dark:border-amber-800
        shadow-lg backdrop-blur-sm transition-all duration-300 hover:shadow-xl
        rounded-xl p-4 sm:p-6 overflow-hidden
        ${s}
      `,children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start gap-3 sm:gap-4",children:[r.jsxs("div",{className:"flex items-start gap-3 sm:gap-4 flex-shrink-0",children:[r.jsx("div",{className:"flex-shrink-0 mt-0.5 sm:mt-1",children:r.jsxs("div",{className:"relative",children:[r.jsx(Bl,{className:"h-5 w-5 sm:h-6 sm:w-6 text-amber-600 dark:text-amber-400 animate-pulse"}),r.jsx("div",{className:"absolute -top-1 -right-1 w-2.5 h-2.5 sm:w-3 sm:h-3 bg-amber-500 rounded-full animate-ping"})]})}),r.jsx("div",{className:"flex-1 sm:hidden",children:r.jsxs("div",{className:"flex items-center justify-between gap-3 mb-2",children:[r.jsxs(Tn,{className:"text-amber-800 dark:text-amber-200 font-semibold text-base sm:text-lg flex items-center gap-2",children:[r.jsx(to,{className:"h-4 w-4"}),a?"ترجمات الرسائل مفقودة":"Missing Message Translations"]}),r.jsxs(Me,{variant:"secondary",className:"bg-amber-100 text-amber-800 border-amber-300 dark:bg-amber-900/30 dark:text-amber-200 dark:border-amber-700 font-medium px-2 py-1 text-xs",children:[r.jsx($e,{className:"h-3 w-3 mr-1"}),e]})]})})]}),r.jsxs("div",{className:"flex-1 space-y-3 sm:space-y-4 min-w-0",children:[r.jsx("div",{className:"hidden sm:block space-y-2",children:r.jsxs(Tn,{className:"text-amber-800 dark:text-amber-200 font-semibold text-base sm:text-lg flex items-center gap-2",children:[r.jsx(to,{className:"h-4 w-4 sm:h-5 sm:w-5"}),a?"ترجمات الرسائل مفقودة":"Missing Message Translations"]})}),r.jsx(Nn,{className:"text-amber-700 dark:text-amber-300 text-sm sm:text-base leading-relaxed",children:a?`توجد ${e} رسالة${e>1?" رسائل":""} تحتاج إلى ترجمات. قم بإضافة الترجمات المفقودة لتحسين تجربة المستخدم متعدد اللغات.`:`There ${e===1?"is":"are"} ${e} message${e===1?"":"s"} missing translations. Add missing translations to improve multilingual user experience.`}),r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4 pt-1 sm:pt-2",children:[r.jsxs("div",{className:"hidden sm:flex items-center gap-3",children:[r.jsxs(Me,{variant:"secondary",className:"bg-amber-100 text-amber-800 border-amber-300 dark:bg-amber-900/30 dark:text-amber-200 dark:border-amber-700 font-medium px-3 py-1.5",children:[r.jsx($e,{className:"h-3 w-3 mr-1"}),e," ",a?"رسالة":"messages"]}),r.jsxs("div",{className:"flex items-center gap-2 text-xs text-amber-600 dark:text-amber-400",children:[r.jsx(yn,{className:"h-3 w-3"}),a?"تحتاج ترجمة":"Need translation"]})]}),r.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-2 sm:gap-3",children:[r.jsxs("div",{className:"sm:hidden flex items-center gap-2 text-xs text-amber-600 dark:text-amber-400",children:[r.jsx(yn,{className:"h-3 w-3"}),a?"تحتاج ترجمة":"Need translation"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[n&&r.jsx(B,{variant:"ghost",size:"sm",onClick:n,className:"text-amber-600 hover:text-amber-700 hover:bg-amber-100/50 dark:text-amber-400 dark:hover:text-amber-300 dark:hover:bg-amber-900/20 h-8 w-8 sm:h-9 sm:w-9 p-0",children:r.jsx(un,{className:"h-4 w-4"})}),t&&r.jsxs(B,{onClick:t,size:"sm",className:`\r
                      bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-600 hover:to-orange-600\r
                      text-white shadow-md hover:shadow-lg transition-all duration-200\r
                      border-0 font-medium px-3 py-2 sm:px-4 text-xs sm:text-sm h-8 sm:h-9\r
                      min-w-0 flex-shrink-0\r
                    `,children:[r.jsx(qt,{className:`h-3 w-3 sm:h-4 sm:w-4 ${a?"ml-1 sm:ml-2":"mr-1 sm:mr-2"}`}),r.jsx("span",{className:"hidden xs:inline",children:a?"إضافة الترجمات":"Apply Translations"}),r.jsx("span",{className:"xs:hidden",children:a?"إضافة":"Apply"}),a?r.jsx(Gt,{className:"h-3 w-3 sm:h-4 sm:w-4 ml-1 sm:ml-2"}):r.jsx(Rl,{className:"h-3 w-3 sm:h-4 sm:w-4 ml-1 sm:ml-2"})]})]})]})]})]})]}),r.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 sm:w-32 sm:h-32 bg-gradient-to-bl from-amber-200/20 to-transparent rounded-full -translate-y-10 translate-x-10 sm:-translate-y-16 sm:translate-x-16 pointer-events-none"}),r.jsx("div",{className:"absolute bottom-0 left-0 w-16 h-16 sm:w-24 sm:h-24 bg-gradient-to-tr from-orange-200/20 to-transparent rounded-full translate-y-8 -translate-x-8 sm:translate-y-12 sm:-translate-x-12 pointer-events-none"})]})},nee=({isOpen:e,onOpenChange:t,missingMessageIds:n})=>{var F,Z;const{isRTL:s}=rt(),a=rr(),[i,o]=N.useState(0),[l,d]=N.useState(new Set),u=n[i],h=n.length,m=Math.round((i+1)/h*100),p=Wt({defaultValues:{key:"",defaultText:"",isActive:!0,localizations:[]}}),{fields:g,append:y,remove:x,replace:v}=Qt({control:p.control,name:"localizations"}),{data:j,isLoading:b}=qe({queryKey:["message",u],queryFn:async()=>(await Ki.getMessages({pageSize:1e3})).items.find($=>$.id===u),enabled:!!u&&e}),{data:S}=qe({queryKey:["languages-dropdown"],queryFn:()=>ir.getLanguagesDropdown(),enabled:e}),C=it({mutationFn:({id:D,data:$})=>Ki.updateMessage(D,$),onSuccess:D=>{a.invalidateQueries({queryKey:["messages"]}),a.invalidateQueries({queryKey:["messages-all"]}),a.invalidateQueries({queryKey:["messages-missing-translations"]}),d($=>new Set([...$,u])),be.success(s?"تم حفظ الترجمات بنجاح":"Translations saved successfully")},onError:D=>{be.error(D.message||(s?"حدث خطأ أثناء حفظ الترجمات":"Error saving translations"))}});N.useEffect(()=>{var D,$;j&&(p.reset({key:j.key,defaultText:j.defaultText,isActive:j.isActive,localizations:((D=j.localizations)==null?void 0:D.map(E=>({id:E.id,key:E.key,text:E.text,languageId:E.languageId,isActive:E.isActive})))||[]}),v((($=j.localizations)==null?void 0:$.map(E=>({id:E.id,key:E.key,text:E.text,languageId:E.languageId,isActive:E.isActive})))||[]))},[j,p,v]);const _=()=>{i<h-1&&o(D=>D+1)},A=()=>{i>0&&o(D=>D-1)},k=()=>{d(D=>new Set([...D,u])),i<h-1?_():T()},T=()=>{o(0),d(new Set),t(!1),p.reset()},O=async D=>{u&&C.mutate({id:u,data:D},{onSuccess:()=>{i<h-1?_():(be.success(s?"تم الانتهاء من جميع الترجمات!":"All translations completed!"),T())}})},M=()=>{const D=p.getValues("key");y({key:D,text:"",languageId:0,isActive:!0})},z=D=>{if(!S)return[];const $=g.map(E=>E.languageId).filter(E=>E!==D);return S.filter(E=>!$.includes(E.id))};return e?r.jsx(Mt,{open:e,onOpenChange:t,children:r.jsxs(Et,{className:"w-[95vw] max-w-4xl h-[95vh] sm:h-[90vh] max-h-none overflow-hidden flex flex-col p-0",children:[r.jsxs(Tt,{className:"space-y-3 p-4 sm:p-6 pb-3 sm:pb-4 border-b flex-shrink-0",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-0 sm:justify-between",children:[r.jsxs(Ot,{className:"text-lg sm:text-xl flex items-center gap-2 sm:gap-3 order-1 sm:order-1",children:[r.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 flex items-center justify-center flex-shrink-0",children:r.jsx(qt,{className:"h-4 w-4 sm:h-5 sm:w-5 text-white"})}),r.jsx("span",{className:"text-base sm:text-xl font-semibold leading-tight",children:s?"إضافة ترجمات الرسائل المفقودة":"Add Missing Message Translations"})]}),r.jsx(B,{variant:"ghost",size:"sm",onClick:T,className:"text-muted-foreground hover:text-foreground order-2 sm:order-2 self-start sm:self-center h-8 w-8 p-0",children:r.jsx(un,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[r.jsxs("div",{className:"flex flex-col xs:flex-row xs:items-center xs:justify-between gap-2 text-sm",children:[r.jsx("span",{className:"text-muted-foreground text-xs sm:text-sm",children:s?`الرسالة ${i+1} من ${h}`:`Message ${i+1} of ${h}`}),r.jsxs(Me,{variant:"outline",className:"text-xs self-start xs:self-center",children:[m,"% ",s?"مكتمل":"Complete"]})]}),r.jsx(va,{value:m,className:"h-1.5 sm:h-2"}),j&&r.jsx(Y,{className:"border-0 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-950/20 dark:to-purple-950/20",children:r.jsx(ee,{className:"p-3 sm:p-4",children:r.jsxs("div",{className:"flex items-start sm:items-center gap-3",children:[r.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 rounded-full bg-gradient-primary flex items-center justify-center flex-shrink-0",children:r.jsx(to,{className:"h-3 w-3 sm:h-4 sm:w-4 text-primary-foreground"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"font-medium text-xs sm:text-sm truncate font-mono",children:j.key}),r.jsx("p",{className:"text-xs text-muted-foreground line-clamp-1 sm:line-clamp-2 mt-0.5",children:j.defaultText||(s?"لا يوجد نص افتراضي":"No default text")})]}),r.jsxs(Me,{variant:"secondary",className:"text-xs flex-shrink-0",children:[r.jsxs("span",{className:"hidden xs:inline",children:[((F=j.localizations)==null?void 0:F.length)||0," ",s?"ترجمة":"translations"]}),r.jsx("span",{className:"xs:hidden",children:((Z=j.localizations)==null?void 0:Z.length)||0})]})]})})})]}),r.jsxs($t,{className:"flex items-start gap-2 text-xs sm:text-sm",children:[r.jsx(zl,{className:"h-3 w-3 sm:h-4 sm:w-4 text-amber-500 flex-shrink-0 mt-0.5"}),r.jsx("span",{className:"leading-relaxed",children:s?"أضف ترجمات الرسائل للغات مختلفة لتحسين تجربة المستخدم متعدد اللغات":"Add message translations in different languages to improve multilingual user experience"})]})]}),r.jsx("div",{className:"flex-1 overflow-y-auto px-4 sm:px-6 py-2 sm:py-4",children:b?r.jsx("div",{className:"flex items-center justify-center py-8 sm:py-12",children:r.jsxs("div",{className:"text-center space-y-3",children:[r.jsx("div",{className:"animate-spin rounded-full h-6 w-6 sm:h-8 sm:w-8 border-b-2 border-primary mx-auto"}),r.jsx("p",{className:"text-muted-foreground text-sm",children:s?"جاري التحميل...":"Loading..."})]})}):r.jsx(Kt,{...p,children:r.jsx("form",{onSubmit:p.handleSubmit(O),className:"space-y-4 sm:space-y-6",children:r.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[r.jsxs("div",{className:"flex flex-col xs:flex-row xs:items-center xs:justify-between gap-3",children:[r.jsxs("h4",{className:"text-base sm:text-lg font-medium flex items-center gap-2",children:[r.jsx($e,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"}),s?"الترجمات":"Translations"]}),r.jsxs(B,{type:"button",variant:"outline",size:"sm",onClick:M,className:"gradient-border self-start xs:self-center h-8 sm:h-9 px-3 text-xs sm:text-sm",children:[r.jsx(ot,{className:"h-3 w-3 sm:h-4 sm:w-4"}),r.jsx("span",{className:"ml-1 sm:ml-2",children:s?"إضافة ترجمة":"Add Translation"})]})]}),g.length===0&&r.jsx(Y,{className:"border-dashed border-2 border-muted-foreground/20",children:r.jsxs(ee,{className:"py-8 sm:py-12 text-center px-4 sm:px-6",children:[r.jsx($e,{className:"h-8 w-8 sm:h-12 sm:w-12 text-muted-foreground mx-auto mb-3 sm:mb-4 opacity-50"}),r.jsx("h4",{className:"text-base sm:text-lg font-medium text-muted-foreground mb-2",children:s?"لا توجد ترجمات":"No Translations"}),r.jsx("p",{className:"text-muted-foreground text-xs sm:text-sm mb-4 leading-relaxed",children:s?"أضف ترجمات لهذه الرسالة لتحسين تجربة المستخدم":"Add translations for this message to improve user experience"}),r.jsxs(B,{type:"button",onClick:M,className:"gradient-primary h-8 sm:h-9 px-3 sm:px-4 text-xs sm:text-sm",children:[r.jsx(ot,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),s?"إضافة أول ترجمة":"Add First Translation"]})]})}),g.map((D,$)=>r.jsxs(Y,{className:"border shadow-sm",children:[r.jsx(Pe,{className:"pb-2 sm:pb-3 px-3 sm:px-6 pt-3 sm:pt-6",children:r.jsxs("div",{className:"flex items-center justify-between gap-2",children:[r.jsxs(Ie,{className:"text-xs sm:text-sm flex items-center gap-2 min-w-0 flex-1",children:[r.jsx("div",{className:"w-5 h-5 sm:w-6 sm:h-6 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:r.jsx(qt,{className:"h-2.5 w-2.5 sm:h-3 sm:w-3 text-primary"})}),r.jsx("span",{className:"truncate",children:s?`الترجمة ${$+1}`:`Translation ${$+1}`})]}),r.jsx(B,{type:"button",variant:"ghost",size:"sm",onClick:()=>x($),className:"text-destructive hover:text-destructive h-7 w-7 sm:h-8 sm:w-8 p-0 flex-shrink-0",children:r.jsx(xt,{className:"h-3 w-3 sm:h-4 sm:w-4"})})]})}),r.jsxs(ee,{className:"space-y-3 sm:space-y-4 px-3 sm:px-6 pb-3 sm:pb-6",children:[r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3 sm:gap-4",children:[r.jsx(ae,{control:p.control,name:`localizations.${$}.languageId`,rules:{required:s?"اللغة مطلوبة":"Language is required",validate:E=>E===0?s?"يرجى اختيار لغة":"Please select a language":!0},render:({field:E})=>{var V;return r.jsxs(ne,{children:[r.jsx(re,{className:"text-xs sm:text-sm",children:s?"اللغة":"Language"}),r.jsxs(ut,{onValueChange:q=>E.onChange(parseInt(q)),value:(V=E.value)==null?void 0:V.toString(),children:[r.jsx(se,{children:r.jsx(ct,{className:"h-8 sm:h-9 text-xs sm:text-sm",children:r.jsx(mt,{placeholder:s?"اختر اللغة":"Select Language"})})}),r.jsx(dt,{children:z(E.value).map(q=>r.jsx(Ye,{value:q.id.toString(),children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx($e,{className:"h-3 w-3 sm:h-4 sm:w-4"}),r.jsxs("span",{className:"text-xs sm:text-sm",children:[q.name," (",q.code,")"]})]})},q.id))})]}),r.jsx(fe,{className:"text-xs"})]})}}),r.jsx(ae,{control:p.control,name:`localizations.${$}.text`,rules:{required:s?"النص المترجم مطلوب":"Translated text is required"},render:({field:E})=>r.jsxs(ne,{className:"lg:col-span-1",children:[r.jsx(re,{className:"text-xs sm:text-sm",children:s?"النص المترجم":"Translated Text"}),r.jsx(se,{children:r.jsx(Pt,{className:"min-h-[60px] sm:min-h-[72px] text-xs sm:text-sm resize-none",placeholder:s?"نص الرسالة بهذه اللغة":"Message text in this language",rows:2,...E})}),r.jsx(fe,{className:"text-xs"})]})})]}),r.jsx(ae,{control:p.control,name:`localizations.${$}.isActive`,render:({field:E})=>r.jsxs(ne,{className:"flex flex-row items-center justify-between rounded-lg border p-2 sm:p-3",children:[r.jsx("div",{className:"space-y-0.5",children:r.jsx(re,{className:"text-xs sm:text-sm",children:s?"الترجمة نشطة":"Translation Active"})}),r.jsx(se,{children:r.jsx(Ct,{checked:E.value,onCheckedChange:E.onChange})})]})})]})]},D.id))]})})})}),r.jsx(Lt,{className:"pt-3 sm:pt-4 px-4 sm:px-6 pb-4 sm:pb-6 border-t space-y-3 sm:space-y-0 flex-shrink-0",children:r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between w-full gap-3",children:[r.jsxs("div",{className:"flex items-center gap-2 order-2 sm:order-1",children:[r.jsxs(B,{type:"button",variant:"outline",size:"sm",onClick:A,disabled:i===0,className:"h-8 sm:h-9 px-2 sm:px-3 text-xs sm:text-sm flex-1 sm:flex-initial",children:[s?r.jsx(Nt,{className:"h-3 w-3 sm:h-4 sm:w-4"}):r.jsx(At,{className:"h-3 w-3 sm:h-4 sm:w-4"}),r.jsx("span",{className:"ml-1 sm:ml-2",children:s?"السابق":"Previous"})]}),r.jsxs(B,{type:"button",variant:"outline",size:"sm",onClick:_,disabled:i>=h-1,className:"h-8 sm:h-9 px-2 sm:px-3 text-xs sm:text-sm flex-1 sm:flex-initial",children:[r.jsx("span",{className:"mr-1 sm:mr-2",children:s?"التالي":"Next"}),s?r.jsx(At,{className:"h-3 w-3 sm:h-4 sm:w-4"}):r.jsx(Nt,{className:"h-3 w-3 sm:h-4 sm:w-4"})]})]}),r.jsxs("div",{className:"flex items-center gap-2 order-1 sm:order-2",children:[r.jsxs(B,{type:"button",variant:"outline",onClick:k,className:"h-8 sm:h-9 px-2 sm:px-3 text-xs sm:text-sm",children:[r.jsx(Fl,{className:"h-3 w-3 sm:h-4 sm:w-4"}),r.jsx("span",{className:"ml-1 sm:ml-2",children:s?"تخطي":"Skip"})]}),r.jsx(B,{type:"button",variant:"outline",onClick:T,className:"h-8 sm:h-9 px-2 sm:px-3 text-xs sm:text-sm hidden xs:inline-flex",children:s?"إغلاق":"Close"}),r.jsxs(B,{type:"submit",className:"gradient-primary h-8 sm:h-9 px-3 sm:px-4 text-xs sm:text-sm font-medium",onClick:p.handleSubmit(O),disabled:C.isPending||b,children:[C.isPending?r.jsx("div",{className:"animate-spin rounded-full h-3 w-3 sm:h-4 sm:w-4 border-b-2 border-white mr-1 sm:mr-2"}):r.jsx(ln,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),r.jsx("span",{className:"hidden xs:inline",children:s?"حفظ وتابع":"Save & Continue"}),r.jsx("span",{className:"xs:hidden",children:s?"حفظ":"Save"})]})]})]})})]})}):null},see=()=>{const{isRTL:e}=rt(),t=rr(),[n,s]=N.useState(""),[a,i]=N.useState("all"),[o,l]=N.useState(!1),[d,u]=N.useState(!1),[h,m]=N.useState(!1),[p,g]=N.useState(null),[y,x]=N.useState(null),[v,j]=N.useState(1),[b]=N.useState(5),[S,C]=N.useState(!1),[_,A]=N.useState(!1),k=Wt({defaultValues:{key:"",defaultText:"",localizations:[]}}),T=Wt({defaultValues:{key:"",defaultText:"",isActive:!0,localizations:[]}}),{fields:O,append:M,remove:z}=Qt({control:k.control,name:"localizations"}),{fields:F,append:Z,remove:D}=Qt({control:T.control,name:"localizations"}),{data:$,isLoading:E,error:V}=qe({queryKey:["messages",v,b,a],queryFn:()=>{const K={page:v,pageSize:b};return a==="active"?K.activeOnly=!0:a==="inactive"&&(K.activeOnly=!1),Ki.getMessages(K)}}),{data:q}=qe({queryKey:["messages-all"],queryFn:()=>Ki.getMessages({pageSize:1e3})}),{data:U}=qe({queryKey:["languages-dropdown"],queryFn:()=>ir.getLanguagesDropdown()}),{data:Q}=qe({queryKey:["messages-missing-translations"],queryFn:()=>Ki.getMessagesMissingTranslations(),refetchInterval:3e4}),he=it({mutationFn:Ki.createMessage,onSuccess:()=>{t.invalidateQueries({queryKey:["messages"]}),t.invalidateQueries({queryKey:["messages-all"]}),be.success(e?"تم إنشاء الرسالة بنجاح":"Message created successfully")},onError:K=>{be.error(K.message||(e?"حدث خطأ أثناء إنشاء الرسالة":"Error creating message"))}}),ue=it({mutationFn:({id:K,data:te})=>Ki.updateMessage(K,te),onSuccess:()=>{t.invalidateQueries({queryKey:["messages"]}),t.invalidateQueries({queryKey:["messages-all"]}),be.success(e?"تم تحديث الرسالة بنجاح":"Message updated successfully")},onError:K=>{be.error(K.message||(e?"حدث خطأ أثناء تحديث الرسالة":"Error updating message"))}}),ce=it({mutationFn:Ki.toggleMessageActivation,onSuccess:()=>{t.invalidateQueries({queryKey:["messages"]}),t.invalidateQueries({queryKey:["messages-all"]}),be.success(e?"تم تحديث حالة الرسالة":"Message status updated")},onError:K=>{be.error(K.message||(e?"حدث خطأ أثناء تحديث حالة الرسالة":"Error updating message status"))}}),G=it({mutationFn:Ki.deleteMessage,onSuccess:()=>{t.invalidateQueries({queryKey:["messages"]}),t.invalidateQueries({queryKey:["messages-all"]}),be.success(e?"تم حذف الرسالة بنجاح":"Message deleted successfully")},onError:K=>{be.error(K.message||(e?"حدث خطأ أثناء حذف الرسالة":"Error deleting message"))}}),J=($==null?void 0:$.items.filter(K=>K.key.toLowerCase().includes(n.toLowerCase())||K.defaultText.toLowerCase().includes(n.toLowerCase())||K.localizations.some(Ne=>Ne.text.toLowerCase().includes(n.toLowerCase())||Ne.languageName.toLowerCase().includes(n.toLowerCase()))))||[],ye={total:(q==null?void 0:q.totalCount)||0,active:(q==null?void 0:q.items.filter(K=>K.isActive).length)||0,inactive:(q==null?void 0:q.items.filter(K=>!K.isActive).length)||0},Se=async K=>{he.mutate(K,{onSuccess:()=>{l(!1),k.reset()}})},We=async K=>{p&&ue.mutate({id:p.id,data:K},{onSuccess:()=>{u(!1),g(null),T.reset()}})},Ae=K=>{g(K),T.reset({key:K.key,defaultText:K.defaultText,isActive:K.isActive,localizations:K.localizations.map(te=>({id:te.id,key:te.key,text:te.text,languageId:te.languageId,isActive:te.isActive}))}),u(!0)},ze=K=>{x(K),m(!0)},Fe=(K=!1)=>{const te={key:K?T.getValues("key"):k.getValues("key"),text:"",languageId:0,isActive:!0};K?Z(te):M(te)},je=K=>r.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1.5 rounded-full text-xs font-medium transition-all duration-200 ${K?"bg-emerald-100 text-emerald-700 border border-emerald-200 dark:bg-emerald-900/20 dark:text-emerald-400 dark:border-emerald-800":"bg-red-50 text-red-600 border border-red-200 dark:bg-red-900/20 dark:text-red-400 dark:border-red-800"}`,children:[r.jsx("div",{className:`w-2 h-2 rounded-full animate-pulse ${K?"bg-emerald-500 shadow-sm shadow-emerald-500/50":"bg-red-500 shadow-sm shadow-red-500/50"}`}),r.jsx("span",{className:"font-semibold",children:e?K?"نشط":"غير نشط":K?"Active":"Inactive"})]}),Ze=K=>new Date(K).toLocaleDateString(e?"ar-SA":"en-US");return r.jsx(lt,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-foreground",children:e?"إدارة الرسائل":"Messages Management"}),r.jsx("p",{className:"text-muted-foreground",children:e?"إدارة رسائل التطبيق وترجماتها":"Manage application messages and their translations"})]}),r.jsxs(B,{className:"gradient-primary flex items-center gap-2",onClick:()=>l(!0),children:[r.jsx(ot,{className:"h-4 w-4"}),e?"إضافة رسالة جديدة":"Add New Message"]})]}),Q&&Q.length>0&&!_&&r.jsx(ree,{missingCount:Q.length,onApplyTranslations:()=>C(!0),onDismiss:()=>A(!0),className:"mb-6"}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[r.jsx(Y,{className:"border-0 shadow-elegant",children:r.jsx(ee,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:e?"إجمالي الرسائل":"Total Messages"}),r.jsx("p",{className:"text-2xl font-bold",children:ye.total})]}),r.jsx(to,{className:"h-8 w-8 text-primary"})]})})}),r.jsx(Y,{className:"border-0 shadow-elegant",children:r.jsx(ee,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:e?"الرسائل النشطة":"Active Messages"}),r.jsx("p",{className:"text-2xl font-bold text-success",children:ye.active})]}),r.jsx(Or,{className:"h-8 w-8 text-success"})]})})}),r.jsx(Y,{className:"border-0 shadow-elegant",children:r.jsx(ee,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:e?"الرسائل غير النشطة":"Inactive Messages"}),r.jsx("p",{className:"text-2xl font-bold text-muted-foreground",children:ye.inactive})]}),r.jsx(jn,{className:"h-8 w-8 text-muted-foreground"})]})})})]}),r.jsx(Y,{className:"border-0 shadow-elegant",children:r.jsx(ee,{className:"p-6",children:r.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(Qr,{className:`absolute top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground ${e?"right-3":"left-3"}`}),r.jsx(Oe,{placeholder:e?"البحث في الرسائل...":"Search messages...",value:n,onChange:K=>s(K.target.value),className:e?"pr-10 pl-4":"pl-10 pr-4"})]}),r.jsx("div",{className:"flex gap-2",children:r.jsxs(Ut,{children:[r.jsx(Vt,{asChild:!0,children:r.jsxs(B,{variant:"outline",className:"flex items-center gap-2 hover:border-primary/50 hover:bg-primary/5 transition-all duration-200",children:[r.jsx("div",{className:`w-2 h-2 rounded-full ${a==="active"?"bg-emerald-500":a==="inactive"?"bg-red-500":"bg-gradient-to-r from-emerald-500 to-red-500"}`}),e?a==="all"?"جميع الحالات":a==="active"?"نشط":"غير نشط":a==="all"?"All Status":a==="active"?"Active":"Inactive",r.jsx(vn,{className:"h-4 w-4 opacity-50"})]})}),r.jsxs(Ft,{align:"end",className:"w-48",children:[r.jsxs(ke,{onClick:()=>i("all"),className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 rounded-full bg-gradient-to-r from-emerald-500 to-red-500"}),e?"جميع الحالات":"All Status"]}),r.jsxs(ke,{onClick:()=>i("active"),className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500"}),e?"نشط":"Active"]}),r.jsxs(ke,{onClick:()=>i("inactive"),className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500"}),e?"غير نشط":"Inactive"]})]})]})})]})})}),r.jsxs(Y,{className:"border-0 shadow-elegant",children:[r.jsx(Pe,{children:r.jsxs(Ie,{className:"flex items-center gap-2",children:[r.jsx(to,{className:"h-5 w-5 text-primary"}),e?`${J.length} رسالة`:`${J.length} Messages`]})}),r.jsxs(ee,{children:[r.jsxs(On,{dir:e?"rtl":"ltr",children:[r.jsx(In,{children:r.jsxs(Xe,{className:e?"text-right":"text-left",children:[r.jsx(Re,{className:e?"text-right":"text-left",children:e?"مفتاح الرسالة":"Message Key"}),r.jsx(Re,{className:e?"text-right":"text-left",children:e?"النص الافتراضي":"Default Text"}),r.jsx(Re,{className:e?"text-right":"text-left",children:e?"الترجمات":"Localizations"}),r.jsx(Re,{className:e?"text-right":"text-left",children:e?"الحالة":"Status"}),r.jsx(Re,{className:e?"text-right":"text-left",children:e?"تاريخ الإنشاء":"Created Date"}),r.jsx(Re,{className:"text-center",children:e?"الإجراءات":"Actions"})]})}),r.jsx(Mn,{children:E?r.jsx(Xe,{className:e?"text-right":"text-left",children:r.jsx(xe,{colSpan:6,className:"text-center py-8",children:r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"}),r.jsx("span",{className:e?"mr-2":"ml-2",children:e?"جاري التحميل...":"Loading..."})]})})}):V?r.jsx(Xe,{className:e?"text-right":"text-left",children:r.jsx(xe,{colSpan:6,className:"text-center py-8 text-destructive",children:e?"خطأ في تحميل البيانات":"Error loading data"})}):J.length===0?r.jsx(Xe,{className:e?"text-right":"text-left",children:r.jsx(xe,{colSpan:6,className:"text-center py-8 text-muted-foreground",children:e?"لا توجد رسائل متاحة":"No messages available"})}):J.map(K=>r.jsxs(Xe,{className:`hover:bg-muted/50 ${e?"text-right":"text-left"}`,children:[r.jsx(xe,{className:e?"text-right":"text-left",children:r.jsxs("div",{className:`flex items-center gap-3 ${e?" text-right":"flex-row"}`,children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-primary flex items-center justify-center",children:r.jsx(to,{className:"h-4 w-4 text-primary-foreground"})}),r.jsx("div",{children:r.jsx("p",{className:"font-medium font-mono text-sm text-right",children:K.key})})]})}),r.jsx(xe,{className:e?"text-right":"text-left",children:r.jsx("div",{className:"max-w-xs",children:r.jsx("p",{className:"text-sm truncate",title:K.defaultText,children:K.defaultText||(e?"لا يوجد نص افتراضي":"No default text")})})}),r.jsx(xe,{className:e?"text-right":"text-left",children:r.jsxs("div",{className:`flex flex-wrap gap-1 ${e?"text-right justify-start":"justify-start"}`,children:[K.localizations.map(te=>r.jsxs(Me,{variant:"outline",className:"text-xs",children:[r.jsx($e,{className:`h-3 w-3 ${e?"ml-1":"mr-1"}`}),te.languageCode]},te.id)),K.localizations.length===0&&r.jsx("span",{className:"text-xs text-muted-foreground",children:e?"لا توجد ترجمات":"No translations"})]})}),r.jsx(xe,{className:e?"text-right":"text-left",children:je(K.isActive)}),r.jsx(xe,{className:`text-muted-foreground ${e?"text-right":"text-left"}`,children:Ze(K.createdAt)}),r.jsx(xe,{className:"text-center",children:r.jsxs(Ut,{children:[r.jsx(Vt,{asChild:!0,children:r.jsx(B,{variant:"ghost",className:"h-8 w-8 p-0",children:r.jsx(bn,{className:"h-4 w-4"})})}),r.jsxs(Ft,{align:e?"start":"end",children:[r.jsxs(ke,{className:`flex items-center gap-2 ${e?"flex-row-reverse":"flex-row"}`,onClick:()=>ze(K),children:[r.jsx(Fr,{className:"h-4 w-4"}),e?"عرض التفاصيل":"View Details"]}),r.jsxs(ke,{className:`flex items-center gap-2 ${e?"flex-row-reverse":"flex-row"}`,onClick:()=>Ae(K),children:[r.jsx(tr,{className:"h-4 w-4"}),e?"تحرير":"Edit"]}),r.jsxs(ke,{className:`flex items-center gap-2 ${e?"flex-row-reverse":"flex-row"}`,onClick:()=>ce.mutate(K.id),children:[r.jsx(Cs,{className:"h-4 w-4"}),e?"تغيير الحالة":"Toggle Status"]}),r.jsxs(ke,{className:`flex items-center gap-2 text-destructive ${e?"flex-row-reverse":"flex-row"}`,onClick:()=>G.mutate(K.id),children:[r.jsx(xt,{className:"h-4 w-4"}),e?"حذف":"Delete"]})]})]})})]},K.id))})]}),$&&$.totalPages>1&&r.jsxs("div",{className:"flex items-center justify-between mt-6",children:[r.jsx("div",{className:"text-sm text-muted-foreground",children:e?`عرض ${($.page-1)*$.pageSize+1} إلى ${Math.min($.page*$.pageSize,$.totalCount)} من ${$.totalCount}`:`Showing ${($.page-1)*$.pageSize+1} to ${Math.min($.page*$.pageSize,$.totalCount)} of ${$.totalCount}`}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(B,{variant:"outline",size:"sm",onClick:()=>j(K=>Math.max(K-1,1)),disabled:!$.hasPreviousPage,children:e?r.jsx(Nt,{className:"h-4 w-4"}):r.jsx(At,{className:"h-4 w-4"})}),r.jsx("span",{className:"text-sm font-medium",children:e?`${$.page} من ${$.totalPages}`:`${$.page} of ${$.totalPages}`}),r.jsx(B,{variant:"outline",size:"sm",onClick:()=>j(K=>K+1),disabled:!$.hasNextPage,children:e?r.jsx(At,{className:"h-4 w-4"}):r.jsx(Nt,{className:"h-4 w-4"})})]})]})]})]}),r.jsx(Mt,{open:o,onOpenChange:l,children:r.jsxs(Et,{className:"sm:max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Tt,{children:[r.jsx(Ot,{children:e?"إضافة رسالة جديدة":"Add New Message"}),r.jsx($t,{children:e?"أدخل معلومات الرسالة الجديدة وترجماتها":"Enter the details for the new message and its translations"})]}),r.jsx(Kt,{...k,children:r.jsxs("form",{onSubmit:k.handleSubmit(Se),className:"space-y-4",children:[r.jsx(ae,{control:k.control,name:"key",rules:{required:e?"مفتاح الرسالة مطلوب":"Message key is required"},render:({field:K})=>r.jsxs(ne,{children:[r.jsx(re,{children:e?"مفتاح الرسالة":"Message Key"}),r.jsx(se,{children:r.jsx(Oe,{placeholder:e?"مثال: welcome_message":"e.g., welcome_message",...K,className:"font-mono"})}),r.jsx(fe,{})]})}),r.jsx(ae,{control:k.control,name:"defaultText",render:({field:K})=>r.jsxs(ne,{children:[r.jsx(re,{children:e?"النص الافتراضي":"Default Text"}),r.jsx(se,{children:r.jsx(Pt,{placeholder:e?"النص الافتراضي للرسالة":"Default message text",...K})}),r.jsx(fe,{})]})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h4",{className:"text-sm font-medium",children:e?"الترجمات":"Localizations"}),r.jsxs(B,{type:"button",variant:"outline",size:"sm",onClick:()=>Fe(!1),children:[r.jsx(ot,{className:"h-4 w-4"}),e?"إضافة ترجمة":"Add Translation"]})]}),O.map((K,te)=>r.jsxs(Y,{className:"p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h5",{className:"text-sm font-medium",children:e?`الترجمة ${te+1}`:`Translation ${te+1}`}),r.jsx(B,{type:"button",variant:"ghost",size:"sm",onClick:()=>z(te),children:r.jsx(xt,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(ae,{control:k.control,name:`localizations.${te}.languageId`,rules:{required:e?"اللغة مطلوبة":"Language is required"},render:({field:Ne})=>{var pe;return r.jsxs(ne,{children:[r.jsx(re,{children:e?"اللغة":"Language"}),r.jsxs(ut,{onValueChange:oe=>Ne.onChange(parseInt(oe)),value:(pe=Ne.value)==null?void 0:pe.toString(),children:[r.jsx(se,{children:r.jsx(ct,{children:r.jsx(mt,{placeholder:e?"اختر اللغة":"Select Language"})})}),r.jsx(dt,{children:U==null?void 0:U.map(oe=>r.jsx(Ye,{value:oe.id.toString(),children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx($e,{className:"h-4 w-4"}),oe.name," (",oe.code,")"]})},oe.id))})]}),r.jsx(fe,{})]})}}),r.jsx(ae,{control:k.control,name:`localizations.${te}.text`,rules:{required:e?"النص مطلوب":"Text is required"},render:({field:Ne})=>r.jsxs(ne,{children:[r.jsx(re,{children:e?"النص المترجم":"Translated Text"}),r.jsx(se,{children:r.jsx(Pt,{placeholder:e?"النص المترجم":"Translated text",...Ne})}),r.jsx(fe,{})]})})]})]},K.id))]}),r.jsxs(Lt,{children:[r.jsx(B,{type:"button",variant:"outline",onClick:()=>l(!1),children:e?"إلغاء":"Cancel"}),r.jsx(B,{type:"submit",className:"gradient-primary",children:e?"إنشاء":"Create"})]})]})})]})}),r.jsx(Mt,{open:d,onOpenChange:u,children:r.jsxs(Et,{className:"sm:max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Tt,{children:[r.jsx(Ot,{children:e?"تحرير الرسالة":"Edit Message"}),r.jsx($t,{children:e?"قم بتحديث معلومات الرسالة وترجماتها":"Update the message details and translations"})]}),r.jsx(Kt,{...T,children:r.jsxs("form",{onSubmit:T.handleSubmit(We),className:"space-y-4",children:[r.jsx(ae,{control:T.control,name:"key",rules:{required:e?"مفتاح الرسالة مطلوب":"Message key is required"},render:({field:K})=>r.jsxs(ne,{children:[r.jsx(re,{children:e?"مفتاح الرسالة":"Message Key"}),r.jsx(se,{children:r.jsx(Oe,{...K,className:"font-mono"})}),r.jsx(fe,{})]})}),r.jsx(ae,{control:T.control,name:"defaultText",render:({field:K})=>r.jsxs(ne,{children:[r.jsx(re,{children:e?"النص الافتراضي":"Default Text"}),r.jsx(se,{children:r.jsx(Pt,{...K})}),r.jsx(fe,{})]})}),r.jsx(ae,{control:T.control,name:"isActive",render:({field:K})=>r.jsxs(ne,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[r.jsxs("div",{className:"space-y-0.5",children:[r.jsx(re,{className:"text-base",children:e?"الرسالة نشطة":"Active Message"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:e?"تفعيل أو إلغاء تفعيل الرسالة":"Enable or disable this message"})]}),r.jsx(se,{children:r.jsx(Ct,{checked:K.value,onCheckedChange:K.onChange})})]})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h4",{className:"text-sm font-medium",children:e?"الترجمات":"Localizations"}),r.jsxs(B,{type:"button",variant:"outline",size:"sm",onClick:()=>Fe(!0),children:[r.jsx(ot,{className:"h-4 w-4"}),e?"إضافة ترجمة":"Add Translation"]})]}),F.map((K,te)=>r.jsxs(Y,{className:"p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h5",{className:"text-sm font-medium",children:e?`الترجمة ${te+1}`:`Translation ${te+1}`}),r.jsx(B,{type:"button",variant:"ghost",size:"sm",onClick:()=>D(te),children:r.jsx(xt,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(ae,{control:T.control,name:`localizations.${te}.languageId`,rules:{required:e?"اللغة مطلوبة":"Language is required"},render:({field:Ne})=>{var pe;return r.jsxs(ne,{children:[r.jsx(re,{children:e?"اللغة":"Language"}),r.jsxs(ut,{onValueChange:oe=>Ne.onChange(parseInt(oe)),value:(pe=Ne.value)==null?void 0:pe.toString(),children:[r.jsx(se,{children:r.jsx(ct,{children:r.jsx(mt,{placeholder:e?"اختر اللغة":"Select Language"})})}),r.jsx(dt,{children:U==null?void 0:U.map(oe=>r.jsx(Ye,{value:oe.id.toString(),children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx($e,{className:"h-4 w-4"}),oe.name," (",oe.code,")"]})},oe.id))})]}),r.jsx(fe,{})]})}}),r.jsx(ae,{control:T.control,name:`localizations.${te}.text`,rules:{required:e?"النص مطلوب":"Text is required"},render:({field:Ne})=>r.jsxs(ne,{children:[r.jsx(re,{children:e?"النص المترجم":"Translated Text"}),r.jsx(se,{children:r.jsx(Pt,{...Ne})}),r.jsx(fe,{})]})})]}),r.jsx("div",{className:"mt-4",children:r.jsx(ae,{control:T.control,name:`localizations.${te}.isActive`,render:({field:Ne})=>r.jsxs(ne,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[r.jsx("div",{className:"space-y-0.5",children:r.jsx(re,{className:"text-sm",children:e?"الترجمة نشطة":"Active Translation"})}),r.jsx(se,{children:r.jsx(Ct,{checked:Ne.value,onCheckedChange:Ne.onChange})})]})})})]},K.id))]}),r.jsxs(Lt,{children:[r.jsx(B,{type:"button",variant:"outline",onClick:()=>u(!1),children:e?"إلغاء":"Cancel"}),r.jsx(B,{type:"submit",className:"gradient-primary",children:e?"حفظ التغييرات":"Save Changes"})]})]})})]})}),r.jsx(Mt,{open:h,onOpenChange:m,children:r.jsxs(Et,{className:"sm:max-w-3xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Tt,{children:[r.jsxs(Ot,{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-primary flex items-center justify-center",children:r.jsx(to,{className:"h-5 w-5 text-primary-foreground"})}),e?"تفاصيل الرسالة":"Message Details"]}),r.jsx($t,{children:e?"عرض شامل لمعلومات الرسالة وترجماتها":"Comprehensive view of message information and translations"})]}),y&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs(Y,{className:"border-0 shadow-sm",children:[r.jsx(Pe,{className:"pb-3",children:r.jsxs(Ie,{className:"text-lg flex items-center gap-2",children:[r.jsx(to,{className:"h-5 w-5 text-primary"}),e?"المعلومات الأساسية":"Basic Information"]})}),r.jsxs(ee,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:e?"مفتاح الرسالة":"Message Key"}),r.jsx("div",{className:"p-3 bg-muted/50 rounded-lg",children:r.jsx("code",{className:"text-sm font-mono",children:y.key})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:e?"الحالة":"Status"}),r.jsx("div",{className:"p-3",children:je(y.isActive)})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:e?"تاريخ الإنشاء":"Created Date"}),r.jsx("div",{className:"p-3 bg-muted/50 rounded-lg",children:r.jsx("span",{className:"text-sm",children:Ze(y.createdAt)})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:e?"تاريخ التحديث":"Last Modified"}),r.jsx("div",{className:"p-3 bg-muted/50 rounded-lg",children:r.jsx("span",{className:"text-sm",children:Ze(y.updatedAt)})})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:e?"النص الافتراضي":"Default Text"}),r.jsx("div",{className:"p-4 bg-muted/50 rounded-lg",children:r.jsx("p",{className:"text-sm leading-relaxed",children:y.defaultText||(e?"لا يوجد نص افتراضي":"No default text")})})]})]})]}),r.jsxs(Y,{className:"border-0 shadow-sm",children:[r.jsx(Pe,{className:"pb-3",children:r.jsxs(Ie,{className:"text-lg flex items-center gap-2",children:[r.jsx($e,{className:"h-5 w-5 text-primary"}),e?"الترجمات":"Localizations",r.jsx(Me,{variant:"secondary",className:"ml-2",children:y.localizations.length})]})}),r.jsx(ee,{children:y.localizations.length===0?r.jsxs("div",{className:"text-center py-8",children:[r.jsx($e,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4 opacity-50"}),r.jsx("p",{className:"text-muted-foreground",children:e?"لا توجد ترجمات متاحة لهذه الرسالة":"No translations available for this message"})]}):r.jsx("div",{className:"space-y-4",children:y.localizations.map((K,te)=>r.jsx(Y,{className:"border border-border/50",children:r.jsx(ee,{className:"p-4",children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center",children:r.jsx($e,{className:"h-4 w-4 text-primary"})}),r.jsxs("div",{children:[r.jsxs("h4",{className:"font-medium text-sm",children:[K.languageName," (",K.languageCode,")"]}),r.jsx("p",{className:"text-xs text-muted-foreground",children:e?`الترجمة ${te+1}`:`Translation ${te+1}`})]})]}),je(K.isActive)]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:e?"النص المترجم":"Translated Text"}),r.jsx("div",{className:"p-3 bg-muted/30 rounded-lg",children:r.jsx("p",{className:"text-sm leading-relaxed",children:K.text})})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-2 border-t border-border/30",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:e?"تاريخ الإنشاء":"Created"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:Ze(K.createdAt)})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:e?"تاريخ التحديث":"Updated"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:Ze(K.updatedAt)})]})]})]})})},K.id))})})]}),r.jsxs(Y,{className:"border-0 shadow-sm",children:[r.jsx(Pe,{className:"pb-3",children:r.jsxs(Ie,{className:"text-lg flex items-center gap-2",children:[r.jsx(Or,{className:"h-5 w-5 text-primary"}),e?"إحصائيات الرسالة":"Message Statistics"]})}),r.jsx(ee,{children:r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"text-center p-4 bg-muted/30 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-primary mb-1",children:y.localizations.length}),r.jsx("div",{className:"text-xs text-muted-foreground",children:e?"إجمالي الترجمات":"Total Translations"})]}),r.jsxs("div",{className:"text-center p-4 bg-muted/30 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-emerald-600 mb-1",children:y.localizations.filter(K=>K.isActive).length}),r.jsx("div",{className:"text-xs text-muted-foreground",children:e?"ترجمات نشطة":"Active Translations"})]}),r.jsxs("div",{className:"text-center p-4 bg-muted/30 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-red-600 mb-1",children:y.localizations.filter(K=>!K.isActive).length}),r.jsx("div",{className:"text-xs text-muted-foreground",children:e?"ترجمات غير نشطة":"Inactive Translations"})]}),r.jsxs("div",{className:"text-center p-4 bg-muted/30 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600 mb-1",children:y.key.length}),r.jsx("div",{className:"text-xs text-muted-foreground",children:e?"طول المفتاح":"Key Length"})]})]})})]})]}),r.jsxs(Lt,{children:[r.jsx(B,{type:"button",variant:"outline",onClick:()=>{m(!1),x(null)},children:e?"إغلاق":"Close"}),r.jsxs(B,{type:"button",className:"gradient-primary",onClick:()=>{y&&(Ae(y),m(!1),x(null))},children:[r.jsx(tr,{className:"h-4 w-4 mr-2"}),e?"تحرير الرسالة":"Edit Message"]})]})]})}),Q&&Q.length>0&&r.jsx(nee,{isOpen:S,onOpenChange:C,missingMessageIds:Q})]})})};class aee{constructor(){ge(this,"baseUrl","/api/post-types");ge(this,"request",async(t,n={})=>{const s=`${this.baseUrl}${t}`,a={headers:{"Content-Type":"application/json",...n.headers},...n};try{const i=await fetch(s,a);if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);return await i.json()}catch(i){throw console.error("API Request Error:",i),i}});ge(this,"getPostTypes",async(t={})=>{const n=new URLSearchParams;t.page&&n.append("page",t.page.toString()),t.pageSize&&n.append("pageSize",t.pageSize.toString()),t.activeOnly!==void 0&&n.append("activeOnly",t.activeOnly.toString());const s=n.toString()?`?${n.toString()}`:"",a=await this.request(s);if(!a.success)throw new Error(a.message||"Failed to fetch post types");if(!a.data)throw new Error("No data returned from server");return a.data});ge(this,"getPostTypeById",async t=>{const n=await this.request(`/${t}`);if(!n.success)throw new Error(n.message||"Failed to fetch post type");if(!n.data)throw new Error("No data returned from server");return n.data});ge(this,"getPostTypeByName",async t=>{const n=await this.request(`/by-name/${encodeURIComponent(t)}`);if(!n.success)throw new Error(n.message||"Failed to fetch post type");if(!n.data)throw new Error("No data returned from server");return n.data});ge(this,"createPostType",async t=>{const n=await this.request("",{method:"POST",body:JSON.stringify(t)});if(!n.success)throw new Error(n.message||"Failed to create post type");if(!n.data)throw new Error("No data returned from server");return n.data});ge(this,"updatePostType",async(t,n)=>{const s=await this.request(`/${t}`,{method:"PUT",body:JSON.stringify(n)});if(!s.success)throw new Error(s.message||"Failed to update post type");if(!s.data)throw new Error("No data returned from server");return s.data});ge(this,"togglePostTypeActivation",async t=>{const n=await this.request(`/${t}/toggle-activation`,{method:"PUT"});if(!n.success)throw new Error(n.message||"Failed to toggle post type activation")});ge(this,"deletePostType",async t=>{const n=await this.request(`/${t}`,{method:"DELETE"});if(!n.success)throw new Error(n.message||"Failed to delete post type")});ge(this,"getPostTypesMissingTranslations",async()=>{const t=await this.request("/missing-translations");if(!t.success)throw new Error(t.message||"Failed to fetch post types missing translations");if(!t.data)throw new Error("No data returned from server");return t.data});ge(this,"getPostTypesDropdown",async()=>{const t=await this.request("/dropdown");if(!t.success)throw new Error(t.message||"Failed to fetch post types dropdown");if(!t.data)throw new Error("No data returned from server");return t.data})}}const ia=new aee,iee=({missingCount:e,onApplyTranslations:t,onDismiss:n,className:s=""})=>{const{isRTL:a}=rt();return e<1?null:r.jsxs(wn,{className:`
        relative border-amber-200 bg-gradient-to-r from-amber-50 to-orange-50 
        dark:from-amber-950/20 dark:to-orange-950/20 dark:border-amber-800
        shadow-lg backdrop-blur-sm transition-all duration-300 hover:shadow-xl
        rounded-xl p-4 sm:p-6 overflow-hidden
        ${s}
      `,children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start gap-3 sm:gap-4",children:[r.jsxs("div",{className:"flex items-start gap-3 sm:gap-4 flex-shrink-0",children:[r.jsx("div",{className:"flex-shrink-0 mt-0.5 sm:mt-1",children:r.jsxs("div",{className:"relative",children:[r.jsx(Bl,{className:"h-5 w-5 sm:h-6 sm:w-6 text-amber-600 dark:text-amber-400 animate-pulse"}),r.jsx("div",{className:"absolute -top-1 -right-1 w-2.5 h-2.5 sm:w-3 sm:h-3 bg-amber-500 rounded-full animate-ping"})]})}),r.jsx("div",{className:"flex-1 sm:hidden",children:r.jsxs("div",{className:"flex items-center justify-between gap-3 mb-2",children:[r.jsxs(Tn,{className:"text-amber-800 dark:text-amber-200 font-semibold text-base sm:text-lg flex items-center gap-2",children:[r.jsx(xi,{className:"h-4 w-4"}),a?"ترجمات أنواع المنشورات مفقودة":"Missing Post Type Translations"]}),r.jsxs(Me,{variant:"secondary",className:"bg-amber-100 text-amber-800 border-amber-300 dark:bg-amber-900/30 dark:text-amber-200 dark:border-amber-700 font-medium px-2 py-1 text-xs",children:[r.jsx($e,{className:"h-3 w-3 mr-1"}),e]})]})})]}),r.jsxs("div",{className:"flex-1 space-y-3 sm:space-y-4 min-w-0",children:[r.jsx("div",{className:"hidden sm:block space-y-2",children:r.jsxs(Tn,{className:"text-amber-800 dark:text-amber-200 font-semibold text-base sm:text-lg flex items-center gap-2",children:[r.jsx(xi,{className:"h-4 w-4 sm:h-5 sm:w-5"}),a?"ترجمات أنواع المنشورات مفقودة":"Missing Post Type Translations"]})}),r.jsx(Nn,{className:"text-amber-700 dark:text-amber-300 text-sm sm:text-base leading-relaxed",children:a?`توجد ${e} من أنواع المنشورات${e>1?" أنواع":""} تحتاج إلى ترجمات. قم بإضافة الترجمات المفقودة لتحسين تجربة المستخدم متعدد اللغات.`:`There ${e===1?"is":"are"} ${e} post type${e===1?"":"s"} missing translations. Add missing translations to improve multilingual user experience.`}),r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4 pt-1 sm:pt-2",children:[r.jsxs("div",{className:"hidden sm:flex items-center gap-3",children:[r.jsxs(Me,{variant:"secondary",className:"bg-amber-100 text-amber-800 border-amber-300 dark:bg-amber-900/30 dark:text-amber-200 dark:border-amber-700 font-medium px-3 py-1.5",children:[r.jsx($e,{className:"h-3 w-3 mr-1"}),e," ",a?"نوع":"types"]}),r.jsxs("div",{className:"flex items-center gap-2 text-xs text-amber-600 dark:text-amber-400",children:[r.jsx(yn,{className:"h-3 w-3"}),a?"تحتاج ترجمة":"Need translation"]})]}),r.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-2 sm:gap-3",children:[r.jsxs("div",{className:"sm:hidden flex items-center gap-2 text-xs text-amber-600 dark:text-amber-400",children:[r.jsx(yn,{className:"h-3 w-3"}),a?"تحتاج ترجمة":"Need translation"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[n&&r.jsx(B,{variant:"ghost",size:"sm",onClick:n,className:"text-amber-600 hover:text-amber-700 hover:bg-amber-100/50 dark:text-amber-400 dark:hover:text-amber-300 dark:hover:bg-amber-900/20 h-8 w-8 sm:h-9 sm:w-9 p-0",children:r.jsx(un,{className:"h-4 w-4"})}),t&&r.jsxs(B,{onClick:t,size:"sm",className:`\r
                      bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-600 hover:to-orange-600\r
                      text-white shadow-md hover:shadow-lg transition-all duration-200\r
                      border-0 font-medium px-3 py-2 sm:px-4 text-xs sm:text-sm h-8 sm:h-9\r
                      min-w-0 flex-shrink-0\r
                    `,children:[r.jsx(qt,{className:`h-3 w-3 sm:h-4 sm:w-4 ${a?"ml-1 sm:ml-2":"mr-1 sm:mr-2"}`}),r.jsx("span",{className:"hidden xs:inline",children:a?"إضافة الترجمات":"Apply Translations"}),r.jsx("span",{className:"xs:hidden",children:a?"إضافة":"Apply"}),a?r.jsx(Gt,{className:"h-3 w-3 sm:h-4 sm:w-4 ml-1 sm:ml-2"}):r.jsx(Rl,{className:"h-3 w-3 sm:h-4 sm:w-4 ml-1 sm:ml-2"})]})]})]})]})]})]}),r.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 sm:w-32 sm:h-32 bg-gradient-to-bl from-amber-200/20 to-transparent rounded-full -translate-y-10 translate-x-10 sm:-translate-y-16 sm:translate-x-16 pointer-events-none"}),r.jsx("div",{className:"absolute bottom-0 left-0 w-16 h-16 sm:w-24 sm:h-24 bg-gradient-to-tr from-orange-200/20 to-transparent rounded-full translate-y-8 -translate-x-8 sm:translate-y-12 sm:-translate-x-12 pointer-events-none"})]})},oee=({isOpen:e,onOpenChange:t,missingPostTypeIds:n})=>{var F,Z;const{isRTL:s}=rt(),a=rr(),[i,o]=N.useState(0),[l,d]=N.useState(new Set),u=n[i],h=n.length,m=Math.round((i+1)/h*100),p=Wt({defaultValues:{name:"",description:"",isActive:!0,localizations:[]}}),{fields:g,append:y,remove:x,replace:v}=Qt({control:p.control,name:"localizations"}),{data:j,isLoading:b}=qe({queryKey:["postType",u],queryFn:async()=>(await ia.getPostTypes({pageSize:1e3})).items.find($=>$.id===u),enabled:!!u&&e}),{data:S}=qe({queryKey:["languages-dropdown"],queryFn:()=>ir.getLanguagesDropdown(),enabled:e}),C=it({mutationFn:({id:D,data:$})=>ia.updatePostType(D,$),onSuccess:D=>{a.invalidateQueries({queryKey:["postTypes"]}),a.invalidateQueries({queryKey:["postTypes-all"]}),a.invalidateQueries({queryKey:["postTypes-missing-translations"]}),d($=>new Set([...$,u])),be.success(s?"تم حفظ الترجمات بنجاح":"Translations saved successfully")},onError:D=>{be.error(D.message||(s?"حدث خطأ أثناء حفظ الترجمات":"Error saving translations"))}});N.useEffect(()=>{var D,$;j&&(p.reset({name:j.name,description:j.description,isActive:j.isActive,localizations:((D=j.localizations)==null?void 0:D.map(E=>({id:E.id,name:E.name,description:E.description,languageId:E.languageId,isActive:E.isActive})))||[]}),v((($=j.localizations)==null?void 0:$.map(E=>({id:E.id,name:E.name,description:E.description,languageId:E.languageId,isActive:E.isActive})))||[]))},[j,p,v]);const _=()=>{i<h-1&&o(D=>D+1)},A=()=>{i>0&&o(D=>D-1)},k=()=>{d(D=>new Set([...D,u])),i<h-1?_():T()},T=()=>{o(0),d(new Set),t(!1),p.reset()},O=async D=>{u&&C.mutate({id:u,data:D},{onSuccess:()=>{i<h-1?_():(be.success(s?"تم الانتهاء من جميع الترجمات!":"All translations completed!"),T())}})},M=()=>{y({name:"",description:"",languageId:0,isActive:!0})},z=D=>{if(!S)return[];const $=g.map(E=>E.languageId).filter(E=>E!==D);return S.filter(E=>!$.includes(E.id))};return e?r.jsx(Mt,{open:e,onOpenChange:t,children:r.jsxs(Et,{className:"w-[95vw] max-w-4xl h-[95vh] sm:h-[90vh] max-h-none overflow-hidden flex flex-col p-0",children:[r.jsxs(Tt,{className:"space-y-3 p-4 sm:p-6 pb-3 sm:pb-4 border-b flex-shrink-0",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-0 sm:justify-between",children:[r.jsxs(Ot,{className:"text-lg sm:text-xl flex items-center gap-2 sm:gap-3 order-1 sm:order-1",children:[r.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 flex items-center justify-center flex-shrink-0",children:r.jsx(qt,{className:"h-4 w-4 sm:h-5 sm:w-5 text-white"})}),r.jsx("span",{className:"text-base sm:text-xl font-semibold leading-tight",children:s?"إضافة ترجمات أنواع المنشورات المفقودة":"Add Missing Post Type Translations"})]}),r.jsx(B,{variant:"ghost",size:"sm",onClick:T,className:"text-muted-foreground hover:text-foreground order-2 sm:order-2 self-start sm:self-center h-8 w-8 p-0",children:r.jsx(un,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[r.jsxs("div",{className:"flex flex-col xs:flex-row xs:items-center xs:justify-between gap-2 text-sm",children:[r.jsx("span",{className:"text-muted-foreground text-xs sm:text-sm",children:s?`نوع المنشور ${i+1} من ${h}`:`Post Type ${i+1} of ${h}`}),r.jsxs(Me,{variant:"outline",className:"text-xs self-start xs:self-center",children:[m,"% ",s?"مكتمل":"Complete"]})]}),r.jsx(va,{value:m,className:"h-1.5 sm:h-2"}),j&&r.jsx(Y,{className:"border-0 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-950/20 dark:to-purple-950/20",children:r.jsx(ee,{className:"p-3 sm:p-4",children:r.jsxs("div",{className:"flex items-start sm:items-center gap-3",children:[r.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 rounded-full bg-gradient-primary flex items-center justify-center flex-shrink-0",children:r.jsx(xi,{className:"h-3 w-3 sm:h-4 sm:w-4 text-primary-foreground"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"font-medium text-xs sm:text-sm truncate",children:j.name}),r.jsx("p",{className:"text-xs text-muted-foreground line-clamp-1 sm:line-clamp-2 mt-0.5",children:j.description||(s?"لا يوجد وصف":"No description")})]}),r.jsxs(Me,{variant:"secondary",className:"text-xs flex-shrink-0",children:[r.jsxs("span",{className:"hidden xs:inline",children:[((F=j.localizations)==null?void 0:F.length)||0," ",s?"ترجمة":"translations"]}),r.jsx("span",{className:"xs:hidden",children:((Z=j.localizations)==null?void 0:Z.length)||0})]})]})})})]}),r.jsxs($t,{className:"flex items-start gap-2 text-xs sm:text-sm",children:[r.jsx(zl,{className:"h-3 w-3 sm:h-4 sm:w-4 text-amber-500 flex-shrink-0 mt-0.5"}),r.jsx("span",{className:"leading-relaxed",children:s?"أضف ترجمات أنواع المنشورات للغات مختلفة لتحسين تجربة المستخدم متعدد اللغات":"Add post type translations in different languages to improve multilingual user experience"})]})]}),r.jsx("div",{className:"flex-1 overflow-y-auto px-4 sm:px-6 py-2 sm:py-4",children:b?r.jsx("div",{className:"flex items-center justify-center py-8 sm:py-12",children:r.jsxs("div",{className:"text-center space-y-3",children:[r.jsx("div",{className:"animate-spin rounded-full h-6 w-6 sm:h-8 sm:w-8 border-b-2 border-primary mx-auto"}),r.jsx("p",{className:"text-muted-foreground text-sm",children:s?"جاري التحميل...":"Loading..."})]})}):r.jsx(Kt,{...p,children:r.jsx("form",{onSubmit:p.handleSubmit(O),className:"space-y-4 sm:space-y-6",children:r.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[r.jsxs("div",{className:"flex flex-col xs:flex-row xs:items-center xs:justify-between gap-3",children:[r.jsxs("h4",{className:"text-base sm:text-lg font-medium flex items-center gap-2",children:[r.jsx($e,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"}),s?"الترجمات":"Translations"]}),r.jsxs(B,{type:"button",variant:"outline",size:"sm",onClick:M,className:"gradient-border self-start xs:self-center h-8 sm:h-9 px-3 text-xs sm:text-sm",children:[r.jsx(ot,{className:"h-3 w-3 sm:h-4 sm:w-4"}),r.jsx("span",{className:"ml-1 sm:ml-2",children:s?"إضافة ترجمة":"Add Translation"})]})]}),g.length===0&&r.jsx(Y,{className:"border-dashed border-2 border-muted-foreground/20",children:r.jsxs(ee,{className:"py-8 sm:py-12 text-center px-4 sm:px-6",children:[r.jsx($e,{className:"h-8 w-8 sm:h-12 sm:w-12 text-muted-foreground mx-auto mb-3 sm:mb-4 opacity-50"}),r.jsx("h4",{className:"text-base sm:text-lg font-medium text-muted-foreground mb-2",children:s?"لا توجد ترجمات":"No Translations"}),r.jsx("p",{className:"text-muted-foreground text-xs sm:text-sm mb-4 leading-relaxed",children:s?"أضف ترجمات لنوع المنشور هذا لتحسين تجربة المستخدم":"Add translations for this post type to improve user experience"}),r.jsxs(B,{type:"button",onClick:M,className:"gradient-primary h-8 sm:h-9 px-3 sm:px-4 text-xs sm:text-sm",children:[r.jsx(ot,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),s?"إضافة أول ترجمة":"Add First Translation"]})]})}),g.map((D,$)=>r.jsxs(Y,{className:"border shadow-sm",children:[r.jsx(Pe,{className:"pb-2 sm:pb-3 px-3 sm:px-6 pt-3 sm:pt-6",children:r.jsxs("div",{className:"flex items-center justify-between gap-2",children:[r.jsxs(Ie,{className:"text-xs sm:text-sm flex items-center gap-2 min-w-0 flex-1",children:[r.jsx("div",{className:"w-5 h-5 sm:w-6 sm:h-6 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:r.jsx(qt,{className:"h-2.5 w-2.5 sm:h-3 sm:w-3 text-primary"})}),r.jsx("span",{className:"truncate",children:s?`الترجمة ${$+1}`:`Translation ${$+1}`})]}),r.jsx(B,{type:"button",variant:"ghost",size:"sm",onClick:()=>x($),className:"text-destructive hover:text-destructive h-7 w-7 sm:h-8 sm:w-8 p-0 flex-shrink-0",children:r.jsx(xt,{className:"h-3 w-3 sm:h-4 sm:w-4"})})]})}),r.jsxs(ee,{className:"space-y-3 sm:space-y-4 px-3 sm:px-6 pb-3 sm:pb-6",children:[r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3 sm:gap-4",children:[r.jsx(ae,{control:p.control,name:`localizations.${$}.languageId`,rules:{required:s?"اللغة مطلوبة":"Language is required",validate:E=>E===0?s?"يرجى اختيار لغة":"Please select a language":!0},render:({field:E})=>{var V;return r.jsxs(ne,{children:[r.jsx(re,{className:"text-xs sm:text-sm",children:s?"اللغة":"Language"}),r.jsxs(ut,{onValueChange:q=>E.onChange(parseInt(q)),value:(V=E.value)==null?void 0:V.toString(),children:[r.jsx(se,{children:r.jsx(ct,{className:"h-8 sm:h-9 text-xs sm:text-sm",children:r.jsx(mt,{placeholder:s?"اختر اللغة":"Select Language"})})}),r.jsx(dt,{children:z(E.value).map(q=>r.jsx(Ye,{value:q.id.toString(),children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx($e,{className:"h-3 w-3 sm:h-4 sm:w-4"}),r.jsxs("span",{className:"text-xs sm:text-sm",children:[q.name," (",q.code,")"]})]})},q.id))})]}),r.jsx(fe,{className:"text-xs"})]})}}),r.jsx(ae,{control:p.control,name:`localizations.${$}.name`,rules:{required:s?"الاسم المترجم مطلوب":"Translated name is required"},render:({field:E})=>r.jsxs(ne,{className:"lg:col-span-1",children:[r.jsx(re,{className:"text-xs sm:text-sm",children:s?"الاسم المترجم":"Translated Name"}),r.jsx(se,{children:r.jsx(Oe,{className:"h-8 sm:h-9 text-xs sm:text-sm",placeholder:s?"اسم نوع المنشور بهذه اللغة":"Post type name in this language",...E})}),r.jsx(fe,{className:"text-xs"})]})})]}),r.jsx(ae,{control:p.control,name:`localizations.${$}.description`,rules:{required:s?"الوصف المترجم مطلوب":"Translated description is required"},render:({field:E})=>r.jsxs(ne,{children:[r.jsx(re,{className:"text-xs sm:text-sm",children:s?"الوصف المترجم":"Translated Description"}),r.jsx(se,{children:r.jsx(Pt,{className:"min-h-[60px] sm:min-h-[72px] text-xs sm:text-sm resize-none",placeholder:s?"وصف نوع المنشور بهذه اللغة":"Post type description in this language",rows:2,...E})}),r.jsx(fe,{className:"text-xs"})]})}),r.jsx(ae,{control:p.control,name:`localizations.${$}.isActive`,render:({field:E})=>r.jsxs(ne,{className:"flex flex-row items-center justify-between rounded-lg border p-2 sm:p-3",children:[r.jsx("div",{className:"space-y-0.5",children:r.jsx(re,{className:"text-xs sm:text-sm",children:s?"الترجمة نشطة":"Translation Active"})}),r.jsx(se,{children:r.jsx(Ct,{checked:E.value,onCheckedChange:E.onChange})})]})})]})]},D.id))]})})})}),r.jsx(Lt,{className:"pt-3 sm:pt-4 px-4 sm:px-6 pb-4 sm:pb-6 border-t space-y-3 sm:space-y-0 flex-shrink-0",children:r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between w-full gap-3",children:[r.jsxs("div",{className:"flex items-center gap-2 order-2 sm:order-1",children:[r.jsxs(B,{type:"button",variant:"outline",size:"sm",onClick:A,disabled:i===0,className:"h-8 sm:h-9 px-2 sm:px-3 text-xs sm:text-sm flex-1 sm:flex-initial",children:[s?r.jsx(Nt,{className:"h-3 w-3 sm:h-4 sm:w-4"}):r.jsx(At,{className:"h-3 w-3 sm:h-4 sm:w-4"}),r.jsx("span",{className:"ml-1 sm:ml-2",children:s?"السابق":"Previous"})]}),r.jsxs(B,{type:"button",variant:"outline",size:"sm",onClick:_,disabled:i>=h-1,className:"h-8 sm:h-9 px-2 sm:px-3 text-xs sm:text-sm flex-1 sm:flex-initial",children:[r.jsx("span",{className:"mr-1 sm:mr-2",children:s?"التالي":"Next"}),s?r.jsx(At,{className:"h-3 w-3 sm:h-4 sm:w-4"}):r.jsx(Nt,{className:"h-3 w-3 sm:h-4 sm:w-4"})]})]}),r.jsxs("div",{className:"flex items-center gap-2 order-1 sm:order-2",children:[r.jsxs(B,{type:"button",variant:"outline",onClick:k,className:"h-8 sm:h-9 px-2 sm:px-3 text-xs sm:text-sm",children:[r.jsx(Fl,{className:"h-3 w-3 sm:h-4 sm:w-4"}),r.jsx("span",{className:"ml-1 sm:ml-2",children:s?"تخطي":"Skip"})]}),r.jsx(B,{type:"button",variant:"outline",onClick:T,className:"h-8 sm:h-9 px-2 sm:px-3 text-xs sm:text-sm hidden xs:inline-flex",children:s?"إغلاق":"Close"}),r.jsxs(B,{type:"submit",className:"gradient-primary h-8 sm:h-9 px-3 sm:px-4 text-xs sm:text-sm font-medium",onClick:p.handleSubmit(O),disabled:C.isPending||b,children:[C.isPending?r.jsx("div",{className:"animate-spin rounded-full h-3 w-3 sm:h-4 sm:w-4 border-b-2 border-white mr-1 sm:mr-2"}):r.jsx(ln,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),r.jsx("span",{className:"hidden xs:inline",children:s?"حفظ وتابع":"Save & Continue"}),r.jsx("span",{className:"xs:hidden",children:s?"حفظ":"Save"})]})]})]})})]})}):null},lee=()=>{const{isRTL:e}=rt(),t=rr(),[n,s]=N.useState(""),[a,i]=N.useState("all"),[o,l]=N.useState(!1),[d,u]=N.useState(!1),[h,m]=N.useState(!1),[p,g]=N.useState(null),[y,x]=N.useState(null),[v,j]=N.useState(1),[b]=N.useState(5),[S,C]=N.useState(!1),[_,A]=N.useState(!1),k=Wt({defaultValues:{name:"",description:"",isActive:!0,localizations:[]}}),T=Wt({defaultValues:{name:"",description:"",isActive:!0,localizations:[]}}),{fields:O,append:M,remove:z}=Qt({control:k.control,name:"localizations"}),{fields:F,append:Z,remove:D}=Qt({control:T.control,name:"localizations"}),{data:$,isLoading:E,error:V}=qe({queryKey:["postTypes",v,b,a],queryFn:()=>{const K={page:v,pageSize:b};return a==="active"?K.activeOnly=!0:a==="inactive"&&(K.activeOnly=!1),ia.getPostTypes(K)}}),{data:q}=qe({queryKey:["postTypes-all"],queryFn:()=>ia.getPostTypes({pageSize:1e3})}),{data:U}=qe({queryKey:["languages-dropdown"],queryFn:()=>ir.getLanguagesDropdown()}),{data:Q}=qe({queryKey:["postTypes-missing-translations"],queryFn:()=>ia.getPostTypesMissingTranslations(),refetchInterval:3e4}),he=it({mutationFn:ia.createPostType,onSuccess:()=>{t.invalidateQueries({queryKey:["postTypes"]}),t.invalidateQueries({queryKey:["postTypes-all"]}),be.success(e?"تم إنشاء نوع المنشور بنجاح":"Post type created successfully")},onError:K=>{be.error(K.message||(e?"حدث خطأ أثناء إنشاء نوع المنشور":"Error creating post type"))}}),ue=it({mutationFn:({id:K,data:te})=>ia.updatePostType(K,te),onSuccess:()=>{t.invalidateQueries({queryKey:["postTypes"]}),t.invalidateQueries({queryKey:["postTypes-all"]}),be.success(e?"تم تحديث نوع المنشور بنجاح":"Post type updated successfully")},onError:K=>{be.error(K.message||(e?"حدث خطأ أثناء تحديث نوع المنشور":"Error updating post type"))}}),ce=it({mutationFn:ia.togglePostTypeActivation,onSuccess:()=>{t.invalidateQueries({queryKey:["postTypes"]}),t.invalidateQueries({queryKey:["postTypes-all"]}),be.success(e?"تم تحديث حالة نوع المنشور":"Post type status updated")},onError:K=>{be.error(K.message||(e?"حدث خطأ أثناء تحديث حالة نوع المنشور":"Error updating post type status"))}}),G=it({mutationFn:ia.deletePostType,onSuccess:()=>{t.invalidateQueries({queryKey:["postTypes"]}),t.invalidateQueries({queryKey:["postTypes-all"]}),be.success(e?"تم حذف نوع المنشور بنجاح":"Post type deleted successfully")},onError:K=>{be.error(K.message||(e?"حدث خطأ أثناء حذف نوع المنشور":"Error deleting post type"))}}),J=($==null?void 0:$.items.filter(K=>K.name.toLowerCase().includes(n.toLowerCase())||K.description.toLowerCase().includes(n.toLowerCase())||K.localizations.some(Ne=>Ne.name.toLowerCase().includes(n.toLowerCase())||Ne.description.toLowerCase().includes(n.toLowerCase())||Ne.languageName.toLowerCase().includes(n.toLowerCase()))))||[],ye={total:(q==null?void 0:q.totalCount)||0,active:(q==null?void 0:q.items.filter(K=>K.isActive).length)||0,inactive:(q==null?void 0:q.items.filter(K=>!K.isActive).length)||0},Se=async K=>{he.mutate(K,{onSuccess:()=>{l(!1),k.reset()}})},We=async K=>{p&&ue.mutate({id:p.id,data:K},{onSuccess:()=>{u(!1),g(null),T.reset()}})},Ae=K=>{g(K),T.reset({name:K.name,description:K.description,isActive:K.isActive,localizations:K.localizations.map(te=>({id:te.id,name:te.name,description:te.description,languageId:te.languageId,isActive:te.isActive}))}),u(!0)},ze=K=>{x(K),m(!0)},Fe=(K=!1)=>{const te={name:"",description:"",languageId:0,isActive:!0};K?Z(te):M(te)},je=K=>r.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1.5 rounded-full text-xs font-medium transition-all duration-200 ${K?"bg-emerald-100 text-emerald-700 border border-emerald-200 dark:bg-emerald-900/20 dark:text-emerald-400 dark:border-emerald-800":"bg-red-50 text-red-600 border border-red-200 dark:bg-red-900/20 dark:text-red-400 dark:border-red-800"}`,children:[r.jsx("div",{className:`w-2 h-2 rounded-full animate-pulse ${K?"bg-emerald-500 shadow-sm shadow-emerald-500/50":"bg-red-500 shadow-sm shadow-red-500/50"}`}),r.jsx("span",{className:"font-semibold",children:e?K?"نشط":"غير نشط":K?"Active":"Inactive"})]}),Ze=K=>new Date(K).toLocaleDateString(e?"ar-SA":"en-US");return r.jsx(lt,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-foreground",children:e?"إدارة أنواع المنشورات":"Post Types Management"}),r.jsx("p",{className:"text-muted-foreground",children:e?"إدارة أنواع المنشورات وترجماتها":"Manage post types and their translations"})]}),r.jsxs(B,{className:"gradient-primary flex items-center gap-2",onClick:()=>l(!0),children:[r.jsx(ot,{className:"h-4 w-4"}),e?"إضافة نوع منشور جديد":"Add New Post Type"]})]}),Q&&Q.length>0&&!_&&r.jsx(iee,{missingCount:Q.length,onApplyTranslations:()=>C(!0),onDismiss:()=>A(!0),className:"mb-6"}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[r.jsx(Y,{className:"border-0 shadow-elegant",children:r.jsx(ee,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:e?"إجمالي الأنواع":"Total Post Types"}),r.jsx("p",{className:"text-2xl font-bold",children:ye.total})]}),r.jsx(xi,{className:"h-8 w-8 text-primary"})]})})}),r.jsx(Y,{className:"border-0 shadow-elegant",children:r.jsx(ee,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:e?"الأنواع النشطة":"Active Types"}),r.jsx("p",{className:"text-2xl font-bold text-success",children:ye.active})]}),r.jsx(Or,{className:"h-8 w-8 text-success"})]})})}),r.jsx(Y,{className:"border-0 shadow-elegant",children:r.jsx(ee,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:e?"الأنواع غير النشطة":"Inactive Types"}),r.jsx("p",{className:"text-2xl font-bold text-muted-foreground",children:ye.inactive})]}),r.jsx(jn,{className:"h-8 w-8 text-muted-foreground"})]})})})]}),r.jsx(Y,{className:"border-0 shadow-elegant",children:r.jsx(ee,{className:"p-6",children:r.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(Qr,{className:`absolute top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground ${e?"right-3":"left-3"}`}),r.jsx(Oe,{placeholder:e?"البحث في أنواع المنشورات...":"Search post types...",value:n,onChange:K=>s(K.target.value),className:e?"pr-10 pl-4":"pl-10 pr-4"})]}),r.jsx("div",{className:"flex gap-2",children:r.jsxs(Ut,{children:[r.jsx(Vt,{asChild:!0,children:r.jsxs(B,{variant:"outline",className:"flex items-center gap-2 hover:border-primary/50 hover:bg-primary/5 transition-all duration-200",children:[r.jsx("div",{className:`w-2 h-2 rounded-full ${a==="active"?"bg-emerald-500":a==="inactive"?"bg-red-500":"bg-gradient-to-r from-emerald-500 to-red-500"}`}),e?a==="all"?"جميع الحالات":a==="active"?"نشط":"غير نشط":a==="all"?"All Status":a==="active"?"Active":"Inactive",r.jsx(vn,{className:"h-4 w-4 opacity-50"})]})}),r.jsxs(Ft,{align:"end",className:"w-48",children:[r.jsxs(ke,{onClick:()=>i("all"),className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 rounded-full bg-gradient-to-r from-emerald-500 to-red-500"}),e?"جميع الحالات":"All Status"]}),r.jsxs(ke,{onClick:()=>i("active"),className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500"}),e?"نشط":"Active"]}),r.jsxs(ke,{onClick:()=>i("inactive"),className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500"}),e?"غير نشط":"Inactive"]})]})]})})]})})}),r.jsxs(Y,{className:"border-0 shadow-elegant",children:[r.jsx(Pe,{children:r.jsxs(Ie,{className:"flex items-center gap-2",children:[r.jsx(xi,{className:"h-5 w-5 text-primary"}),e?`${J.length} نوع منشور`:`${J.length} Post Types`]})}),r.jsxs(ee,{children:[r.jsxs(On,{dir:e?"rtl":"ltr",children:[r.jsx(In,{children:r.jsxs(Xe,{className:e?"text-right":"text-left",children:[r.jsx(Re,{className:e?"text-right":"text-left",children:e?"اسم النوع":"Type Name"}),r.jsx(Re,{className:e?"text-right":"text-left",children:e?"الوصف":"Description"}),r.jsx(Re,{className:e?"text-right":"text-left",children:e?"الترجمات":"Localizations"}),r.jsx(Re,{className:e?"text-right":"text-left",children:e?"الحالة":"Status"}),r.jsx(Re,{className:e?"text-right":"text-left",children:e?"تاريخ الإنشاء":"Created Date"}),r.jsx(Re,{className:"text-center",children:e?"الإجراءات":"Actions"})]})}),r.jsx(Mn,{children:E?r.jsx(Xe,{className:e?"text-right":"text-left",children:r.jsx(xe,{colSpan:6,className:"text-center py-8",children:r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"}),r.jsx("span",{className:e?"mr-2":"ml-2",children:e?"جاري التحميل...":"Loading..."})]})})}):V?r.jsx(Xe,{className:e?"text-right":"text-left",children:r.jsx(xe,{colSpan:6,className:"text-center py-8 text-destructive",children:e?"خطأ في تحميل البيانات":"Error loading data"})}):J.length===0?r.jsx(Xe,{className:e?"text-right":"text-left",children:r.jsx(xe,{colSpan:6,className:"text-center py-8 text-muted-foreground",children:e?"لا توجد أنواع منشورات متاحة":"No post types available"})}):J.map(K=>r.jsxs(Xe,{className:`hover:bg-muted/50 ${e?"text-right":"text-left"}`,children:[r.jsx(xe,{className:e?"text-right":"text-left",children:r.jsxs("div",{className:`flex items-center gap-3 ${e?" text-right":"flex-row"}`,children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-primary flex items-center justify-center",children:r.jsx(xi,{className:"h-4 w-4 text-primary-foreground"})}),r.jsx("div",{children:r.jsx("p",{className:"font-medium text-sm",children:K.name})})]})}),r.jsx(xe,{className:e?"text-right":"text-left",children:r.jsx("div",{className:"max-w-xs",children:r.jsx("p",{className:"text-sm truncate",title:K.description,children:K.description||(e?"لا يوجد وصف":"No description")})})}),r.jsx(xe,{className:e?"text-right":"text-left",children:r.jsxs("div",{className:`flex flex-wrap gap-1 ${e?"text-right justify-start":"justify-start"}`,children:[K.localizations.map(te=>r.jsxs(Me,{variant:"outline",className:"text-xs",children:[r.jsx($e,{className:`h-3 w-3 ${e?"ml-1":"mr-1"}`}),te.languageCode]},te.id)),K.localizations.length===0&&r.jsx("span",{className:"text-xs text-muted-foreground",children:e?"لا توجد ترجمات":"No translations"})]})}),r.jsx(xe,{className:e?"text-right":"text-left",children:je(K.isActive)}),r.jsx(xe,{className:`text-muted-foreground ${e?"text-right":"text-left"}`,children:Ze(K.createdAt)}),r.jsx(xe,{className:"text-center",children:r.jsxs(Ut,{children:[r.jsx(Vt,{asChild:!0,children:r.jsx(B,{variant:"ghost",className:"h-8 w-8 p-0",children:r.jsx(bn,{className:"h-4 w-4"})})}),r.jsxs(Ft,{align:e?"start":"end",children:[r.jsxs(ke,{className:`flex items-center gap-2 ${e?"flex-row-reverse":"flex-row"}`,onClick:()=>ze(K),children:[r.jsx(Fr,{className:"h-4 w-4"}),e?"عرض التفاصيل":"View Details"]}),r.jsxs(ke,{className:`flex items-center gap-2 ${e?"flex-row-reverse":"flex-row"}`,onClick:()=>Ae(K),children:[r.jsx(tr,{className:"h-4 w-4"}),e?"تحرير":"Edit"]}),r.jsxs(ke,{className:`flex items-center gap-2 ${e?"flex-row-reverse":"flex-row"}`,onClick:()=>ce.mutate(K.id),children:[r.jsx(Cs,{className:"h-4 w-4"}),e?"تغيير الحالة":"Toggle Status"]}),r.jsxs(ke,{className:`flex items-center gap-2 text-destructive ${e?"flex-row-reverse":"flex-row"}`,onClick:()=>G.mutate(K.id),children:[r.jsx(xt,{className:"h-4 w-4"}),e?"حذف":"Delete"]})]})]})})]},K.id))})]}),$&&$.totalPages>1&&r.jsxs("div",{className:"flex items-center justify-between mt-6",children:[r.jsx("div",{className:"text-sm text-muted-foreground",children:e?`عرض ${($.page-1)*$.pageSize+1} إلى ${Math.min($.page*$.pageSize,$.totalCount)} من ${$.totalCount}`:`Showing ${($.page-1)*$.pageSize+1} to ${Math.min($.page*$.pageSize,$.totalCount)} of ${$.totalCount}`}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(B,{variant:"outline",size:"sm",onClick:()=>j(K=>Math.max(K-1,1)),disabled:!$.hasPreviousPage,children:e?r.jsx(Nt,{className:"h-4 w-4"}):r.jsx(At,{className:"h-4 w-4"})}),r.jsx("span",{className:"text-sm font-medium",children:e?`${$.page} من ${$.totalPages}`:`${$.page} of ${$.totalPages}`}),r.jsx(B,{variant:"outline",size:"sm",onClick:()=>j(K=>K+1),disabled:!$.hasNextPage,children:e?r.jsx(At,{className:"h-4 w-4"}):r.jsx(Nt,{className:"h-4 w-4"})})]})]})]})]}),r.jsx(Mt,{open:o,onOpenChange:l,children:r.jsxs(Et,{className:"sm:max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Tt,{children:[r.jsx(Ot,{children:e?"إضافة نوع منشور جديد":"Add New Post Type"}),r.jsx($t,{children:e?"أدخل معلومات نوع المنشور الجديد وترجماته":"Enter the details for the new post type and its translations"})]}),r.jsx(Kt,{...k,children:r.jsxs("form",{onSubmit:k.handleSubmit(Se),className:"space-y-4",children:[r.jsx(ae,{control:k.control,name:"name",rules:{required:e?"اسم النوع مطلوب":"Type name is required"},render:({field:K})=>r.jsxs(ne,{children:[r.jsx(re,{children:e?"اسم النوع":"Type Name"}),r.jsx(se,{children:r.jsx(Oe,{placeholder:e?"مثال: مقالة، صورة، فيديو":"e.g., Article, Image, Video",...K})}),r.jsx(fe,{})]})}),r.jsx(ae,{control:k.control,name:"description",render:({field:K})=>r.jsxs(ne,{children:[r.jsx(re,{children:e?"الوصف":"Description"}),r.jsx(se,{children:r.jsx(Pt,{placeholder:e?"وصف نوع المنشور":"Post type description",...K})}),r.jsx(fe,{})]})}),r.jsx(ae,{control:k.control,name:"isActive",render:({field:K})=>r.jsxs(ne,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[r.jsxs("div",{className:"space-y-0.5",children:[r.jsx(re,{className:"text-base",children:e?"النوع نشط":"Active Type"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:e?"تفعيل أو إلغاء تفعيل نوع المنشور":"Enable or disable this post type"})]}),r.jsx(se,{children:r.jsx(Ct,{checked:K.value,onCheckedChange:K.onChange})})]})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h4",{className:"text-sm font-medium",children:e?"الترجمات":"Localizations"}),r.jsxs(B,{type:"button",variant:"outline",size:"sm",onClick:()=>Fe(!1),children:[r.jsx(ot,{className:"h-4 w-4"}),e?"إضافة ترجمة":"Add Translation"]})]}),O.map((K,te)=>r.jsxs(Y,{className:"p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h5",{className:"text-sm font-medium",children:e?`الترجمة ${te+1}`:`Translation ${te+1}`}),r.jsx(B,{type:"button",variant:"ghost",size:"sm",onClick:()=>z(te),children:r.jsx(xt,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(ae,{control:k.control,name:`localizations.${te}.languageId`,rules:{required:e?"اللغة مطلوبة":"Language is required"},render:({field:Ne})=>{var pe;return r.jsxs(ne,{children:[r.jsx(re,{children:e?"اللغة":"Language"}),r.jsxs(ut,{onValueChange:oe=>Ne.onChange(parseInt(oe)),value:(pe=Ne.value)==null?void 0:pe.toString(),children:[r.jsx(se,{children:r.jsx(ct,{children:r.jsx(mt,{placeholder:e?"اختر اللغة":"Select Language"})})}),r.jsx(dt,{children:U==null?void 0:U.map(oe=>r.jsx(Ye,{value:oe.id.toString(),children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx($e,{className:"h-4 w-4"}),oe.name," (",oe.code,")"]})},oe.id))})]}),r.jsx(fe,{})]})}}),r.jsx(ae,{control:k.control,name:`localizations.${te}.name`,rules:{required:e?"الاسم مطلوب":"Name is required"},render:({field:Ne})=>r.jsxs(ne,{children:[r.jsx(re,{children:e?"الاسم المترجم":"Translated Name"}),r.jsx(se,{children:r.jsx(Oe,{placeholder:e?"الاسم المترجم":"Translated name",...Ne})}),r.jsx(fe,{})]})})]}),r.jsx("div",{className:"mt-4",children:r.jsx(ae,{control:k.control,name:`localizations.${te}.description`,rules:{required:e?"الوصف مطلوب":"Description is required"},render:({field:Ne})=>r.jsxs(ne,{children:[r.jsx(re,{children:e?"الوصف المترجم":"Translated Description"}),r.jsx(se,{children:r.jsx(Pt,{placeholder:e?"الوصف المترجم":"Translated description",...Ne})}),r.jsx(fe,{})]})})})]},K.id))]}),r.jsxs(Lt,{children:[r.jsx(B,{type:"button",variant:"outline",onClick:()=>l(!1),children:e?"إلغاء":"Cancel"}),r.jsx(B,{type:"submit",className:"gradient-primary",children:e?"إنشاء":"Create"})]})]})})]})}),r.jsx(Mt,{open:d,onOpenChange:u,children:r.jsxs(Et,{className:"sm:max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Tt,{children:[r.jsx(Ot,{children:e?"تحرير نوع المنشور":"Edit Post Type"}),r.jsx($t,{children:e?"قم بتحديث معلومات نوع المنشور وترجماته":"Update the post type details and translations"})]}),r.jsx(Kt,{...T,children:r.jsxs("form",{onSubmit:T.handleSubmit(We),className:"space-y-4",children:[r.jsx(ae,{control:T.control,name:"name",rules:{required:e?"اسم النوع مطلوب":"Type name is required"},render:({field:K})=>r.jsxs(ne,{children:[r.jsx(re,{children:e?"اسم النوع":"Type Name"}),r.jsx(se,{children:r.jsx(Oe,{...K})}),r.jsx(fe,{})]})}),r.jsx(ae,{control:T.control,name:"description",render:({field:K})=>r.jsxs(ne,{children:[r.jsx(re,{children:e?"الوصف":"Description"}),r.jsx(se,{children:r.jsx(Pt,{...K})}),r.jsx(fe,{})]})}),r.jsx(ae,{control:T.control,name:"isActive",render:({field:K})=>r.jsxs(ne,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[r.jsxs("div",{className:"space-y-0.5",children:[r.jsx(re,{className:"text-base",children:e?"النوع نشط":"Active Type"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:e?"تفعيل أو إلغاء تفعيل نوع المنشور":"Enable or disable this post type"})]}),r.jsx(se,{children:r.jsx(Ct,{checked:K.value,onCheckedChange:K.onChange})})]})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h4",{className:"text-sm font-medium",children:e?"الترجمات":"Localizations"}),r.jsxs(B,{type:"button",variant:"outline",size:"sm",onClick:()=>Fe(!0),children:[r.jsx(ot,{className:"h-4 w-4"}),e?"إضافة ترجمة":"Add Translation"]})]}),F.map((K,te)=>r.jsxs(Y,{className:"p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h5",{className:"text-sm font-medium",children:e?`الترجمة ${te+1}`:`Translation ${te+1}`}),r.jsx(B,{type:"button",variant:"ghost",size:"sm",onClick:()=>D(te),children:r.jsx(xt,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(ae,{control:T.control,name:`localizations.${te}.languageId`,rules:{required:e?"اللغة مطلوبة":"Language is required"},render:({field:Ne})=>{var pe;return r.jsxs(ne,{children:[r.jsx(re,{children:e?"اللغة":"Language"}),r.jsxs(ut,{onValueChange:oe=>Ne.onChange(parseInt(oe)),value:(pe=Ne.value)==null?void 0:pe.toString(),children:[r.jsx(se,{children:r.jsx(ct,{children:r.jsx(mt,{placeholder:e?"اختر اللغة":"Select Language"})})}),r.jsx(dt,{children:U==null?void 0:U.map(oe=>r.jsx(Ye,{value:oe.id.toString(),children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx($e,{className:"h-4 w-4"}),oe.name," (",oe.code,")"]})},oe.id))})]}),r.jsx(fe,{})]})}}),r.jsx(ae,{control:T.control,name:`localizations.${te}.name`,rules:{required:e?"الاسم مطلوب":"Name is required"},render:({field:Ne})=>r.jsxs(ne,{children:[r.jsx(re,{children:e?"الاسم المترجم":"Translated Name"}),r.jsx(se,{children:r.jsx(Oe,{...Ne})}),r.jsx(fe,{})]})})]}),r.jsx("div",{className:"mt-4",children:r.jsx(ae,{control:T.control,name:`localizations.${te}.description`,rules:{required:e?"الوصف مطلوب":"Description is required"},render:({field:Ne})=>r.jsxs(ne,{children:[r.jsx(re,{children:e?"الوصف المترجم":"Translated Description"}),r.jsx(se,{children:r.jsx(Pt,{...Ne})}),r.jsx(fe,{})]})})}),r.jsx("div",{className:"mt-4",children:r.jsx(ae,{control:T.control,name:`localizations.${te}.isActive`,render:({field:Ne})=>r.jsxs(ne,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[r.jsx("div",{className:"space-y-0.5",children:r.jsx(re,{className:"text-sm",children:e?"الترجمة نشطة":"Active Translation"})}),r.jsx(se,{children:r.jsx(Ct,{checked:Ne.value,onCheckedChange:Ne.onChange})})]})})})]},K.id))]}),r.jsxs(Lt,{children:[r.jsx(B,{type:"button",variant:"outline",onClick:()=>u(!1),children:e?"إلغاء":"Cancel"}),r.jsx(B,{type:"submit",className:"gradient-primary",children:e?"حفظ التغييرات":"Save Changes"})]})]})})]})}),r.jsx(Mt,{open:h,onOpenChange:m,children:r.jsxs(Et,{className:"sm:max-w-3xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Tt,{children:[r.jsxs(Ot,{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-primary flex items-center justify-center",children:r.jsx(xi,{className:"h-5 w-5 text-primary-foreground"})}),e?"تفاصيل نوع المنشور":"Post Type Details"]}),r.jsx($t,{children:e?"عرض شامل لمعلومات نوع المنشور وترجماته":"Comprehensive view of post type information and translations"})]}),y&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs(Y,{className:"border-0 shadow-sm",children:[r.jsx(Pe,{className:"pb-3",children:r.jsxs(Ie,{className:"text-lg flex items-center gap-2",children:[r.jsx(xi,{className:"h-5 w-5 text-primary"}),e?"المعلومات الأساسية":"Basic Information"]})}),r.jsxs(ee,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:e?"اسم النوع":"Type Name"}),r.jsx("div",{className:"p-3 bg-muted/50 rounded-lg",children:r.jsx("span",{className:"text-sm font-medium",children:y.name})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:e?"الحالة":"Status"}),r.jsx("div",{className:"p-3",children:je(y.isActive)})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:e?"تاريخ الإنشاء":"Created Date"}),r.jsx("div",{className:"p-3 bg-muted/50 rounded-lg",children:r.jsx("span",{className:"text-sm",children:Ze(y.createdAt)})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:e?"تاريخ التحديث":"Last Modified"}),r.jsx("div",{className:"p-3 bg-muted/50 rounded-lg",children:r.jsx("span",{className:"text-sm",children:Ze(y.updatedAt)})})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:e?"الوصف":"Description"}),r.jsx("div",{className:"p-4 bg-muted/50 rounded-lg",children:r.jsx("p",{className:"text-sm leading-relaxed",children:y.description||(e?"لا يوجد وصف":"No description")})})]})]})]}),r.jsxs(Y,{className:"border-0 shadow-sm",children:[r.jsx(Pe,{className:"pb-3",children:r.jsxs(Ie,{className:"text-lg flex items-center gap-2",children:[r.jsx($e,{className:"h-5 w-5 text-primary"}),e?"الترجمات":"Localizations",r.jsx(Me,{variant:"secondary",className:"ml-2",children:y.localizations.length})]})}),r.jsx(ee,{children:y.localizations.length===0?r.jsxs("div",{className:"text-center py-8",children:[r.jsx($e,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4 opacity-50"}),r.jsx("p",{className:"text-muted-foreground",children:e?"لا توجد ترجمات متاحة لنوع المنشور هذا":"No translations available for this post type"})]}):r.jsx("div",{className:"space-y-4",children:y.localizations.map((K,te)=>r.jsx(Y,{className:"border border-border/50",children:r.jsx(ee,{className:"p-4",children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center",children:r.jsx($e,{className:"h-4 w-4 text-primary"})}),r.jsxs("div",{children:[r.jsxs("h4",{className:"font-medium text-sm",children:[K.languageName," (",K.languageCode,")"]}),r.jsx("p",{className:"text-xs text-muted-foreground",children:e?`الترجمة ${te+1}`:`Translation ${te+1}`})]})]}),je(K.isActive)]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:e?"الاسم المترجم":"Translated Name"}),r.jsx("div",{className:"p-3 bg-muted/30 rounded-lg",children:r.jsx("p",{className:"text-sm font-medium",children:K.name})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:e?"الوصف المترجم":"Translated Description"}),r.jsx("div",{className:"p-3 bg-muted/30 rounded-lg",children:r.jsx("p",{className:"text-sm leading-relaxed",children:K.description})})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-2 border-t border-border/30",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:e?"تاريخ الإنشاء":"Created"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:Ze(K.createdAt)})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:e?"تاريخ التحديث":"Updated"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:Ze(K.updatedAt)})]})]})]})})},K.id))})})]}),r.jsxs(Y,{className:"border-0 shadow-sm",children:[r.jsx(Pe,{className:"pb-3",children:r.jsxs(Ie,{className:"text-lg flex items-center gap-2",children:[r.jsx(Or,{className:"h-5 w-5 text-primary"}),e?"إحصائيات نوع المنشور":"Post Type Statistics"]})}),r.jsx(ee,{children:r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"text-center p-4 bg-muted/30 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-primary mb-1",children:y.localizations.length}),r.jsx("div",{className:"text-xs text-muted-foreground",children:e?"إجمالي الترجمات":"Total Translations"})]}),r.jsxs("div",{className:"text-center p-4 bg-muted/30 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-emerald-600 mb-1",children:y.localizations.filter(K=>K.isActive).length}),r.jsx("div",{className:"text-xs text-muted-foreground",children:e?"ترجمات نشطة":"Active Translations"})]}),r.jsxs("div",{className:"text-center p-4 bg-muted/30 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-red-600 mb-1",children:y.localizations.filter(K=>!K.isActive).length}),r.jsx("div",{className:"text-xs text-muted-foreground",children:e?"ترجمات غير نشطة":"Inactive Translations"})]}),r.jsxs("div",{className:"text-center p-4 bg-muted/30 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600 mb-1",children:y.name.length}),r.jsx("div",{className:"text-xs text-muted-foreground",children:e?"طول الاسم":"Name Length"})]})]})})]})]}),r.jsxs(Lt,{children:[r.jsx(B,{type:"button",variant:"outline",onClick:()=>{m(!1),x(null)},children:e?"إغلاق":"Close"}),r.jsxs(B,{type:"button",className:"gradient-primary",onClick:()=>{y&&(Ae(y),m(!1),x(null))},children:[r.jsx(tr,{className:"h-4 w-4 mr-2"}),e?"تحرير نوع المنشور":"Edit Post Type"]})]})]})}),Q&&Q.length>0&&r.jsx(oee,{isOpen:S,onOpenChange:C,missingPostTypeIds:Q})]})})};class cee{constructor(){ge(this,"baseUrl","/api/region");ge(this,"request",async(t,n={})=>{const s=`${this.baseUrl}${t}`,a={headers:{"Content-Type":"application/json",...n.headers},...n};try{const i=await fetch(s,a);if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);return await i.json()}catch(i){throw console.error("Region API Request Error:",i),i}});ge(this,"getRegionById",async t=>{const n=await this.request(`/${t}`);if(!n.success)throw new Error(n.message||"Failed to fetch region");if(!n.data)throw new Error("No data returned from server");return n.data});ge(this,"getRegions",async(t={})=>{const n=new URLSearchParams;t.page&&n.append("page",t.page.toString()),t.pageSize&&n.append("pageSize",t.pageSize.toString()),t.isActive!==void 0&&n.append("isActive",t.isActive.toString());const s=n.toString()?`?${n.toString()}`:"",a=await this.request(s);if(!a.success)throw new Error(a.message||"Failed to fetch regions");if(!a.data)throw new Error("No data returned from server");return a.data});ge(this,"getRegionsDropdown",async(t={})=>{const n=new URLSearchParams;t.isActive!==void 0&&n.append("isActive",t.isActive.toString());const s=`/dropdown${n.toString()?`?${n.toString()}`:""}`,a=await this.request(s);if(!a.success)throw new Error(a.message||"Failed to fetch regions dropdown");if(!a.data)throw new Error("No data returned from server");return a.data});ge(this,"getRegionTree",async(t={})=>{const n=new URLSearchParams;t.isActive!==void 0&&n.append("isActive",t.isActive.toString());const s=`/tree${n.toString()?`?${n.toString()}`:""}`,a=await this.request(s);if(!a.success)throw new Error(a.message||"Failed to fetch region tree");if(!a.data)throw new Error("No data returned from server");return a.data});ge(this,"getSubRegions",async(t,n={})=>{const s=new URLSearchParams;n.isActive!==void 0&&s.append("isActive",n.isActive.toString());const a=`/${t}/subregions${s.toString()?`?${s.toString()}`:""}`,i=await this.request(a);if(!i.success)throw new Error(i.message||"Failed to fetch subregions");if(!i.data)throw new Error("No data returned from server");return i.data});ge(this,"createRegion",async t=>{const n=await this.request("",{method:"POST",body:JSON.stringify(t)});if(!n.success)throw new Error(n.message||"Failed to create region");if(!n.data)throw new Error("No data returned from server");return n.data});ge(this,"updateRegion",async(t,n)=>{const s=await this.request(`/${t}`,{method:"PUT",body:JSON.stringify(n)});if(!s.success)throw new Error(s.message||"Failed to update region");if(!s.data)throw new Error("No data returned from server");return s.data});ge(this,"toggleRegionActivation",async t=>{const n=await this.request(`/${t}/toggle-activation`,{method:"PUT"});if(!n.success)throw new Error(n.message||"Failed to toggle region activation")});ge(this,"deleteRegion",async t=>{const n=await this.request(`/${t}`,{method:"DELETE"});if(!n.success)throw new Error(n.message||"Failed to delete region")});ge(this,"getRegionsMissingTranslations",async()=>{const t=await this.request("/missing-translations");if(!t.success)throw new Error(t.message||"Failed to fetch regions missing translations");if(!t.data)throw new Error("No data returned from server");return t.data})}}const Ms=new cee,dee=({missingCount:e,onApplyTranslations:t,onDismiss:n,className:s=""})=>{const{isRTL:a}=rt();return e<1?null:r.jsxs(wn,{className:`
        relative border-amber-200 bg-gradient-to-r from-amber-50 to-orange-50 
        dark:from-amber-950/20 dark:to-orange-950/20 dark:border-amber-800
        shadow-lg backdrop-blur-sm transition-all duration-300 hover:shadow-xl
        rounded-xl p-4 sm:p-6 overflow-hidden
        ${s}
      `,children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start gap-3 sm:gap-4",children:[r.jsxs("div",{className:"flex items-start gap-3 sm:gap-4 flex-shrink-0",children:[r.jsx("div",{className:"flex-shrink-0 mt-0.5 sm:mt-1",children:r.jsxs("div",{className:"relative",children:[r.jsx(Bl,{className:"h-5 w-5 sm:h-6 sm:w-6 text-amber-600 dark:text-amber-400 animate-pulse"}),r.jsx("div",{className:"absolute -top-1 -right-1 w-2.5 h-2.5 sm:w-3 sm:h-3 bg-amber-500 rounded-full animate-ping"})]})}),r.jsx("div",{className:"flex-1 sm:hidden",children:r.jsxs("div",{className:"flex items-center justify-between gap-3 mb-2",children:[r.jsxs(Tn,{className:"text-amber-800 dark:text-amber-200 font-semibold text-base sm:text-lg flex items-center gap-2",children:[r.jsx(zt,{className:"h-4 w-4"}),a?"ترجمات المناطق مفقودة":"Missing Region Translations"]}),r.jsxs(Me,{variant:"secondary",className:"bg-amber-100 text-amber-800 border-amber-300 dark:bg-amber-900/30 dark:text-amber-200 dark:border-amber-700 font-medium px-2 py-1 text-xs",children:[r.jsx($e,{className:"h-3 w-3 mr-1"}),e]})]})})]}),r.jsxs("div",{className:"flex-1 space-y-3 sm:space-y-4 min-w-0",children:[r.jsx("div",{className:"hidden sm:block space-y-2",children:r.jsxs(Tn,{className:"text-amber-800 dark:text-amber-200 font-semibold text-base sm:text-lg flex items-center gap-2",children:[r.jsx(zt,{className:"h-4 w-4 sm:h-5 sm:w-5"}),a?"ترجمات المناطق مفقودة":"Missing Region Translations"]})}),r.jsx(Nn,{className:"text-amber-700 dark:text-amber-300 text-sm sm:text-base leading-relaxed",children:a?`توجد ${e} من المناطق${e>1,""} تحتاج إلى ترجمات. قم بإضافة الترجمات المفقودة لتحسين تجربة المستخدم متعدد اللغات.`:`There ${e===1?"is":"are"} ${e} region${e===1?"":"s"} missing translations. Add missing translations to improve multilingual user experience.`}),r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4 pt-1 sm:pt-2",children:[r.jsxs("div",{className:"hidden sm:flex items-center gap-3",children:[r.jsxs(Me,{variant:"secondary",className:"bg-amber-100 text-amber-800 border-amber-300 dark:bg-amber-900/30 dark:text-amber-200 dark:border-amber-700 font-medium px-3 py-1.5",children:[r.jsx($e,{className:"h-3 w-3 mr-1"}),e," ",a?"منطقة":"regions"]}),r.jsxs("div",{className:"flex items-center gap-2 text-xs text-amber-600 dark:text-amber-400",children:[r.jsx(yn,{className:"h-3 w-3"}),a?"تحتاج ترجمة":"Need translation"]})]}),r.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-2 sm:gap-3",children:[r.jsxs("div",{className:"sm:hidden flex items-center gap-2 text-xs text-amber-600 dark:text-amber-400",children:[r.jsx(yn,{className:"h-3 w-3"}),a?"تحتاج ترجمة":"Need translation"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[n&&r.jsx(B,{variant:"ghost",size:"sm",onClick:n,className:"text-amber-600 hover:text-amber-700 hover:bg-amber-100/50 dark:text-amber-400 dark:hover:text-amber-300 dark:hover:bg-amber-900/20 h-8 w-8 sm:h-9 sm:w-9 p-0",children:r.jsx(un,{className:"h-4 w-4"})}),t&&r.jsxs(B,{onClick:t,size:"sm",className:`\r
                      bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-600 hover:to-orange-600\r
                      text-white shadow-md hover:shadow-lg transition-all duration-200\r
                      border-0 font-medium px-3 py-2 sm:px-4 text-xs sm:text-sm h-8 sm:h-9\r
                      min-w-0 flex-shrink-0\r
                    `,children:[r.jsx(qt,{className:`h-3 w-3 sm:h-4 sm:w-4 ${a?"ml-1 sm:ml-2":"mr-1 sm:mr-2"}`}),r.jsx("span",{className:"hidden xs:inline",children:a?"إضافة الترجمات":"Apply Translations"}),r.jsx("span",{className:"xs:hidden",children:a?"إضافة":"Apply"}),a?r.jsx(Gt,{className:"h-3 w-3 sm:h-4 sm:w-4 ml-1 sm:ml-2"}):r.jsx(Rl,{className:"h-3 w-3 sm:h-4 sm:w-4 ml-1 sm:ml-2"})]})]})]})]})]})]}),r.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 sm:w-32 sm:h-32 bg-gradient-to-bl from-amber-200/20 to-transparent rounded-full -translate-y-10 translate-x-10 sm:-translate-y-16 sm:translate-x-16 pointer-events-none"}),r.jsx("div",{className:"absolute bottom-0 left-0 w-16 h-16 sm:w-24 sm:h-24 bg-gradient-to-tr from-orange-200/20 to-transparent rounded-full translate-y-8 -translate-x-8 sm:translate-y-12 sm:-translate-x-12 pointer-events-none"})]})},uee=({isOpen:e,onOpenChange:t,missingRegionIds:n})=>{var F,Z;const{isRTL:s}=rt(),a=rr(),[i,o]=N.useState(0),[l,d]=N.useState(new Set),u=n[i],h=n.length,m=Math.round((i+1)/h*100),p=Wt({defaultValues:{name:"",parentId:void 0,isActive:!0,localizations:[]}}),{fields:g,append:y,remove:x,replace:v}=Qt({control:p.control,name:"localizations"}),{data:j,isLoading:b}=qe({queryKey:["region",u],queryFn:async()=>(await Ms.getRegions({pageSize:1e3})).items.find($=>$.id===u),enabled:!!u&&e}),{data:S}=qe({queryKey:["languages-dropdown"],queryFn:()=>ir.getLanguagesDropdown(),enabled:e}),C=it({mutationFn:({id:D,data:$})=>Ms.updateRegion(D,$),onSuccess:D=>{a.invalidateQueries({queryKey:["regions"]}),a.invalidateQueries({queryKey:["regions-all"]}),a.invalidateQueries({queryKey:["regions-missing-translations"]}),d($=>new Set([...$,u])),be.success(s?"تم حفظ الترجمات بنجاح":"Translations saved successfully")},onError:D=>{be.error(D.message||(s?"حدث خطأ أثناء حفظ الترجمات":"Error saving translations"))}});N.useEffect(()=>{var D,$;j&&(p.reset({name:j.name,parentId:j.parentId,isActive:j.isActive,localizations:((D=j.localizations)==null?void 0:D.map(E=>({id:E.id,localizedName:E.localizedName,languageId:E.languageId,isActive:E.isActive})))||[]}),v((($=j.localizations)==null?void 0:$.map(E=>({id:E.id,localizedName:E.localizedName,languageId:E.languageId,isActive:E.isActive})))||[]))},[j,p,v]);const _=()=>{i<h-1&&o(D=>D+1)},A=()=>{i>0&&o(D=>D-1)},k=()=>{d(D=>new Set([...D,u])),i<h-1?_():T()},T=()=>{o(0),d(new Set),t(!1),p.reset()},O=async D=>{u&&C.mutate({id:u,data:D},{onSuccess:()=>{i<h-1?_():(be.success(s?"تم الانتهاء من جميع الترجمات!":"All translations completed!"),T())}})},M=()=>{y({localizedName:"",languageId:0,isActive:!0})},z=D=>{if(!S)return[];const $=g.map(E=>E.languageId).filter(E=>E!==D);return S.filter(E=>!$.includes(E.id))};return e?r.jsx(Mt,{open:e,onOpenChange:t,children:r.jsxs(Et,{className:"w-[95vw] max-w-4xl h-[95vh] sm:h-[90vh] max-h-none overflow-hidden flex flex-col p-0",children:[r.jsxs(Tt,{className:"space-y-3 p-4 sm:p-6 pb-3 sm:pb-4 border-b flex-shrink-0",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-0 sm:justify-between",children:[r.jsxs(Ot,{className:"text-lg sm:text-xl flex items-center gap-2 sm:gap-3 order-1 sm:order-1",children:[r.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 flex items-center justify-center flex-shrink-0",children:r.jsx(qt,{className:"h-4 w-4 sm:h-5 sm:w-5 text-white"})}),r.jsx("span",{className:"text-base sm:text-xl font-semibold leading-tight",children:s?"إضافة ترجمات المناطق المفقودة":"Add Missing Region Translations"})]}),r.jsx(B,{variant:"ghost",size:"sm",onClick:T,className:"text-muted-foreground hover:text-foreground order-2 sm:order-2 self-start sm:self-center h-8 w-8 p-0",children:r.jsx(un,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[r.jsxs("div",{className:"flex flex-col xs:flex-row xs:items-center xs:justify-between gap-2 text-sm",children:[r.jsx("span",{className:"text-muted-foreground text-xs sm:text-sm",children:s?`المنطقة ${i+1} من ${h}`:`Region ${i+1} of ${h}`}),r.jsxs(Me,{variant:"outline",className:"text-xs self-start xs:self-center",children:[m,"% ",s?"مكتمل":"Complete"]})]}),r.jsx(va,{value:m,className:"h-1.5 sm:h-2"}),j&&r.jsx(Y,{className:"border-0 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-950/20 dark:to-purple-950/20",children:r.jsx(ee,{className:"p-3 sm:p-4",children:r.jsxs("div",{className:"flex items-start sm:items-center gap-3",children:[r.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 rounded-full bg-gradient-primary flex items-center justify-center flex-shrink-0",children:r.jsx(zt,{className:"h-3 w-3 sm:h-4 sm:w-4 text-primary-foreground"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"font-medium text-xs sm:text-sm truncate",children:j.name}),r.jsx("p",{className:"text-xs text-muted-foreground line-clamp-1 sm:line-clamp-2 mt-0.5",children:j.parentName?`${s?"تابع لـ":"Under"} ${j.parentName}`:s?"منطقة رئيسية":"Root region"})]}),r.jsxs(Me,{variant:"secondary",className:"text-xs flex-shrink-0",children:[r.jsxs("span",{className:"hidden xs:inline",children:[((F=j.localizations)==null?void 0:F.length)||0," ",s?"ترجمة":"translations"]}),r.jsx("span",{className:"xs:hidden",children:((Z=j.localizations)==null?void 0:Z.length)||0})]})]})})})]}),r.jsxs($t,{className:"flex items-start gap-2 text-xs sm:text-sm",children:[r.jsx(zl,{className:"h-3 w-3 sm:h-4 sm:w-4 text-amber-500 flex-shrink-0 mt-0.5"}),r.jsx("span",{className:"leading-relaxed",children:s?"أضف ترجمات المناطق للغات مختلفة لتحسين تجربة المستخدم متعدد اللغات":"Add region translations in different languages to improve multilingual user experience"})]})]}),r.jsx("div",{className:"flex-1 overflow-y-auto px-4 sm:px-6 py-2 sm:py-4",children:b?r.jsx("div",{className:"flex items-center justify-center py-8 sm:py-12",children:r.jsxs("div",{className:"text-center space-y-3",children:[r.jsx("div",{className:"animate-spin rounded-full h-6 w-6 sm:h-8 sm:w-8 border-b-2 border-primary mx-auto"}),r.jsx("p",{className:"text-muted-foreground text-sm",children:s?"جاري التحميل...":"Loading..."})]})}):r.jsx(Kt,{...p,children:r.jsx("form",{onSubmit:p.handleSubmit(O),className:"space-y-4 sm:space-y-6",children:r.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[r.jsxs("div",{className:"flex flex-col xs:flex-row xs:items-center xs:justify-between gap-3",children:[r.jsxs("h4",{className:"text-base sm:text-lg font-medium flex items-center gap-2",children:[r.jsx($e,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"}),s?"الترجمات":"Translations"]}),r.jsxs(B,{type:"button",variant:"outline",size:"sm",onClick:M,className:"gradient-border self-start xs:self-center h-8 sm:h-9 px-3 text-xs sm:text-sm",children:[r.jsx(ot,{className:"h-3 w-3 sm:h-4 sm:w-4"}),r.jsx("span",{className:"ml-1 sm:ml-2",children:s?"إضافة ترجمة":"Add Translation"})]})]}),g.length===0&&r.jsx(Y,{className:"border-dashed border-2 border-muted-foreground/20",children:r.jsxs(ee,{className:"py-8 sm:py-12 text-center px-4 sm:px-6",children:[r.jsx($e,{className:"h-8 w-8 sm:h-12 sm:w-12 text-muted-foreground mx-auto mb-3 sm:mb-4 opacity-50"}),r.jsx("h4",{className:"text-base sm:text-lg font-medium text-muted-foreground mb-2",children:s?"لا توجد ترجمات":"No Translations"}),r.jsx("p",{className:"text-muted-foreground text-xs sm:text-sm mb-4 leading-relaxed",children:s?"أضف ترجمات للمنطقة هذه لتحسين تجربة المستخدم":"Add translations for this region to improve user experience"}),r.jsxs(B,{type:"button",onClick:M,className:"gradient-primary h-8 sm:h-9 px-3 sm:px-4 text-xs sm:text-sm",children:[r.jsx(ot,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),s?"إضافة أول ترجمة":"Add First Translation"]})]})}),g.map((D,$)=>r.jsxs(Y,{className:"border shadow-sm",children:[r.jsx(Pe,{className:"pb-2 sm:pb-3 px-3 sm:px-6 pt-3 sm:pt-6",children:r.jsxs("div",{className:"flex items-center justify-between gap-2",children:[r.jsxs(Ie,{className:"text-xs sm:text-sm flex items-center gap-2 min-w-0 flex-1",children:[r.jsx("div",{className:"w-5 h-5 sm:w-6 sm:h-6 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:r.jsx(qt,{className:"h-2.5 w-2.5 sm:h-3 sm:w-3 text-primary"})}),r.jsx("span",{className:"truncate",children:s?`الترجمة ${$+1}`:`Translation ${$+1}`})]}),r.jsx(B,{type:"button",variant:"ghost",size:"sm",onClick:()=>x($),className:"text-destructive hover:text-destructive h-7 w-7 sm:h-8 sm:w-8 p-0 flex-shrink-0",children:r.jsx(xt,{className:"h-3 w-3 sm:h-4 sm:w-4"})})]})}),r.jsxs(ee,{className:"space-y-3 sm:space-y-4 px-3 sm:px-6 pb-3 sm:pb-6",children:[r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3 sm:gap-4",children:[r.jsx(ae,{control:p.control,name:`localizations.${$}.languageId`,rules:{required:s?"اللغة مطلوبة":"Language is required",validate:E=>E===0?s?"يرجى اختيار لغة":"Please select a language":!0},render:({field:E})=>{var V;return r.jsxs(ne,{children:[r.jsx(re,{className:"text-xs sm:text-sm",children:s?"اللغة":"Language"}),r.jsxs(ut,{onValueChange:q=>E.onChange(parseInt(q)),value:(V=E.value)==null?void 0:V.toString(),children:[r.jsx(se,{children:r.jsx(ct,{className:"h-8 sm:h-9 text-xs sm:text-sm",children:r.jsx(mt,{placeholder:s?"اختر اللغة":"Select Language"})})}),r.jsx(dt,{children:z(E.value).map(q=>r.jsx(Ye,{value:q.id.toString(),children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx($e,{className:"h-3 w-3 sm:h-4 sm:w-4"}),r.jsxs("span",{className:"text-xs sm:text-sm",children:[q.name," (",q.code,")"]})]})},q.id))})]}),r.jsx(fe,{className:"text-xs"})]})}}),r.jsx(ae,{control:p.control,name:`localizations.${$}.localizedName`,rules:{required:s?"الاسم المترجم مطلوب":"Translated name is required"},render:({field:E})=>r.jsxs(ne,{className:"lg:col-span-1",children:[r.jsx(re,{className:"text-xs sm:text-sm",children:s?"الاسم المترجم":"Translated Name"}),r.jsx(se,{children:r.jsx(Oe,{className:"h-8 sm:h-9 text-xs sm:text-sm",placeholder:s?"اسم المنطقة بهذه اللغة":"Region name in this language",...E})}),r.jsx(fe,{className:"text-xs"})]})})]}),r.jsx(ae,{control:p.control,name:`localizations.${$}.isActive`,render:({field:E})=>r.jsxs(ne,{className:"flex flex-row items-center justify-between rounded-lg border p-2 sm:p-3",children:[r.jsx("div",{className:"space-y-0.5",children:r.jsx(re,{className:"text-xs sm:text-sm",children:s?"الترجمة نشطة":"Translation Active"})}),r.jsx(se,{children:r.jsx(Ct,{checked:E.value,onCheckedChange:E.onChange})})]})})]})]},D.id))]})})})}),r.jsx(Lt,{className:"pt-3 sm:pt-4 px-4 sm:px-6 pb-4 sm:pb-6 border-t space-y-3 sm:space-y-0 flex-shrink-0",children:r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between w-full gap-3",children:[r.jsxs("div",{className:"flex items-center gap-2 order-2 sm:order-1",children:[r.jsxs(B,{type:"button",variant:"outline",size:"sm",onClick:A,disabled:i===0,className:"h-8 sm:h-9 px-2 sm:px-3 text-xs sm:text-sm flex-1 sm:flex-initial",children:[s?r.jsx(Nt,{className:"h-3 w-3 sm:h-4 sm:w-4"}):r.jsx(At,{className:"h-3 w-3 sm:h-4 sm:w-4"}),r.jsx("span",{className:"ml-1 sm:ml-2",children:s?"السابق":"Previous"})]}),r.jsxs(B,{type:"button",variant:"outline",size:"sm",onClick:_,disabled:i>=h-1,className:"h-8 sm:h-9 px-2 sm:px-3 text-xs sm:text-sm flex-1 sm:flex-initial",children:[r.jsx("span",{className:"mr-1 sm:mr-2",children:s?"التالي":"Next"}),s?r.jsx(At,{className:"h-3 w-3 sm:h-4 sm:w-4"}):r.jsx(Nt,{className:"h-3 w-3 sm:h-4 sm:w-4"})]})]}),r.jsxs("div",{className:"flex items-center gap-2 order-1 sm:order-2",children:[r.jsxs(B,{type:"button",variant:"outline",onClick:k,className:"h-8 sm:h-9 px-2 sm:px-3 text-xs sm:text-sm",children:[r.jsx(Fl,{className:"h-3 w-3 sm:h-4 sm:w-4"}),r.jsx("span",{className:"ml-1 sm:ml-2",children:s?"تخطي":"Skip"})]}),r.jsx(B,{type:"button",variant:"outline",onClick:T,className:"h-8 sm:h-9 px-2 sm:px-3 text-xs sm:text-sm hidden xs:inline-flex",children:s?"إغلاق":"Close"}),r.jsxs(B,{type:"submit",className:"gradient-primary h-8 sm:h-9 px-3 sm:px-4 text-xs sm:text-sm font-medium",onClick:p.handleSubmit(O),disabled:C.isPending||b,children:[C.isPending?r.jsx("div",{className:"animate-spin rounded-full h-3 w-3 sm:h-4 sm:w-4 border-b-2 border-white mr-1 sm:mr-2"}):r.jsx(ln,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),r.jsx("span",{className:"hidden xs:inline",children:s?"حفظ وتابع":"Save & Continue"}),r.jsx("span",{className:"xs:hidden",children:s?"حفظ":"Save"})]})]})]})})]})}):null},mee=()=>{const{isRTL:e}=rt(),t=lr(),n=rr(),[s,a]=N.useState(""),[i,o]=N.useState("all"),[l,d]=N.useState(!1),[u,h]=N.useState(!1),[m,p]=N.useState(!1),[g,y]=N.useState(null),[x,v]=N.useState(null),[j,b]=N.useState(1),[S]=N.useState(5),[C,_]=N.useState(!1),[A,k]=N.useState(!1),T=Wt({defaultValues:{name:"",parentId:void 0,isActive:!0,localizations:[]}}),O=Wt({defaultValues:{name:"",parentId:void 0,isActive:!0,localizations:[]}}),{fields:M,append:z,remove:F}=Qt({control:T.control,name:"localizations"}),{fields:Z,append:D,remove:$}=Qt({control:O.control,name:"localizations"}),{data:E,isLoading:V,error:q}=qe({queryKey:["regions",j,S,i],queryFn:()=>{const oe={page:j,pageSize:S};return i==="active"?oe.isActive=!0:i==="inactive"&&(oe.isActive=!1),Ms.getRegions(oe)}}),{data:U}=qe({queryKey:["regions-all"],queryFn:()=>Ms.getRegions({pageSize:1e3})}),{data:Q}=qe({queryKey:["regions-dropdown"],queryFn:()=>Ms.getRegionsDropdown({isActive:!0})}),{data:he}=qe({queryKey:["languages-dropdown"],queryFn:()=>ir.getLanguagesDropdown()}),{data:ue}=qe({queryKey:["regions-missing-translations"],queryFn:()=>Ms.getRegionsMissingTranslations(),refetchInterval:3e4}),ce=it({mutationFn:Ms.createRegion,onSuccess:()=>{n.invalidateQueries({queryKey:["regions"]}),n.invalidateQueries({queryKey:["regions-all"]}),n.invalidateQueries({queryKey:["regions-dropdown"]}),be.success(e?"تم إنشاء المنطقة بنجاح":"Region created successfully")},onError:oe=>{be.error(oe.message||(e?"حدث خطأ أثناء إنشاء المنطقة":"Error creating region"))}}),G=it({mutationFn:({id:oe,data:Be})=>Ms.updateRegion(oe,Be),onSuccess:()=>{n.invalidateQueries({queryKey:["regions"]}),n.invalidateQueries({queryKey:["regions-all"]}),n.invalidateQueries({queryKey:["regions-dropdown"]}),be.success(e?"تم تحديث المنطقة بنجاح":"Region updated successfully")},onError:oe=>{be.error(oe.message||(e?"حدث خطأ أثناء تحديث المنطقة":"Error updating region"))}}),J=it({mutationFn:Ms.toggleRegionActivation,onSuccess:()=>{n.invalidateQueries({queryKey:["regions"]}),n.invalidateQueries({queryKey:["regions-all"]}),be.success(e?"تم تحديث حالة المنطقة":"Region status updated")},onError:oe=>{be.error(oe.message||(e?"حدث خطأ أثناء تحديث حالة المنطقة":"Error updating region status"))}}),ye=it({mutationFn:Ms.deleteRegion,onSuccess:()=>{n.invalidateQueries({queryKey:["regions"]}),n.invalidateQueries({queryKey:["regions-all"]}),n.invalidateQueries({queryKey:["regions-dropdown"]}),be.success(e?"تم حذف المنطقة بنجاح":"Region deleted successfully")},onError:oe=>{be.error(oe.message||(e?"حدث خطأ أثناء حذف المنطقة":"Error deleting region"))}}),Se=(E==null?void 0:E.items.filter(oe=>oe.name.toLowerCase().includes(s.toLowerCase())||oe.parentName&&oe.parentName.toLowerCase().includes(s.toLowerCase())||oe.localizations.some(X=>X.name.toLowerCase().includes(s.toLowerCase())||X.languageName.toLowerCase().includes(s.toLowerCase()))))||[],We={total:(U==null?void 0:U.totalCount)||0,active:(U==null?void 0:U.items.filter(oe=>oe.isActive).length)||0,inactive:(U==null?void 0:U.items.filter(oe=>!oe.isActive).length)||0},Ae=async oe=>{const Be={...oe,localizations:oe.localizations.map(X=>({name:X.name,languageId:X.languageId,isActive:X.isActive??!0}))};ce.mutate(Be,{onSuccess:()=>{d(!1),T.reset()}})},ze=async oe=>{g&&G.mutate({id:g.id,data:oe},{onSuccess:()=>{h(!1),y(null),O.reset()}})},Fe=oe=>{y(oe),O.reset({name:oe.name,parentId:oe.parentId,isActive:oe.isActive,localizations:oe.localizations.map(Be=>({id:Be.id,name:Be.name,languageId:Be.languageId,isActive:Be.isActive}))}),h(!0)},je=oe=>{v(oe),p(!0)},Ze=oe=>{t(`/locations?regionId=${oe.id}`)},K=(oe=!1)=>{const Be={name:"",languageId:0,isActive:!0};oe?D(Be):z(Be)},te=oe=>r.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1.5 rounded-full text-xs font-medium transition-all duration-200 ${oe?"bg-emerald-100 text-emerald-700 border border-emerald-200 dark:bg-emerald-900/20 dark:text-emerald-400 dark:border-emerald-800":"bg-red-50 text-red-600 border border-red-200 dark:bg-red-900/20 dark:text-red-400 dark:border-red-800"}`,children:[r.jsx("div",{className:`w-2 h-2 rounded-full animate-pulse ${oe?"bg-emerald-500 shadow-sm shadow-emerald-500/50":"bg-red-500 shadow-sm shadow-red-500/50"}`}),r.jsx("span",{className:"font-semibold",children:e?oe?"نشط":"غير نشط":oe?"Active":"Inactive"})]}),Ne=oe=>new Date(oe).toLocaleDateString(e?"ar-SA":"en-US"),pe=oe=>r.jsxs("div",{className:`flex items-center gap-3 ${e?" text-right":"flex-row"}`,children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-primary flex items-center justify-center",children:r.jsx(zt,{className:"h-4 w-4 text-primary-foreground"})}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("p",{className:"font-medium text-sm",children:oe.name}),oe.children&&oe.children.length>0&&r.jsxs(Me,{variant:"outline",className:"text-xs",children:[oe.children.length," ",e?"فرع":"sub-regions"]})]}),oe.parentName&&r.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[r.jsx(gg,{className:"h-3 w-3"}),e?`تابع لـ: ${oe.parentName}`:`Under: ${oe.parentName}`]})]})]});return r.jsx(lt,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-foreground",children:e?"إدارة المناطق":"Regions Management"}),r.jsx("p",{className:"text-muted-foreground",children:e?"إدارة المناطق وترجماتها":"Manage regions and their translations"})]}),r.jsxs(B,{className:"gradient-primary flex items-center gap-2",onClick:()=>d(!0),children:[r.jsx(ot,{className:"h-4 w-4"}),e?"إضافة منطقة جديدة":"Add New Region"]})]}),ue&&ue.length>0&&!A&&r.jsx(dee,{missingCount:ue.length,onApplyTranslations:()=>_(!0),onDismiss:()=>k(!0),className:"mb-6"}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[r.jsx(Y,{className:"border-0 shadow-elegant",children:r.jsx(ee,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:e?"إجمالي المناطق":"Total Regions"}),r.jsx("p",{className:"text-2xl font-bold",children:We.total})]}),r.jsx(vL,{className:"h-8 w-8 text-primary"})]})})}),r.jsx(Y,{className:"border-0 shadow-elegant",children:r.jsx(ee,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:e?"المناطق النشطة":"Active Regions"}),r.jsx("p",{className:"text-2xl font-bold text-success",children:We.active})]}),r.jsx(Or,{className:"h-8 w-8 text-success"})]})})}),r.jsx(Y,{className:"border-0 shadow-elegant",children:r.jsx(ee,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:e?"المناطق غير النشطة":"Inactive Regions"}),r.jsx("p",{className:"text-2xl font-bold text-muted-foreground",children:We.inactive})]}),r.jsx(jn,{className:"h-8 w-8 text-muted-foreground"})]})})})]}),r.jsx(Y,{className:"border-0 shadow-elegant",children:r.jsx(ee,{className:"p-6",children:r.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(Qr,{className:`absolute top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground ${e?"right-3":"left-3"}`}),r.jsx(Oe,{placeholder:e?"البحث في المناطق...":"Search regions...",value:s,onChange:oe=>a(oe.target.value),className:e?"pr-10 pl-4":"pl-10 pr-4"})]}),r.jsx("div",{className:"flex gap-2",children:r.jsxs(Ut,{children:[r.jsx(Vt,{asChild:!0,children:r.jsxs(B,{variant:"outline",className:"flex items-center gap-2 hover:border-primary/50 hover:bg-primary/5 transition-all duration-200",children:[r.jsx("div",{className:`w-2 h-2 rounded-full ${i==="active"?"bg-emerald-500":i==="inactive"?"bg-red-500":"bg-gradient-to-r from-emerald-500 to-red-500"}`}),e?i==="all"?"جميع الحالات":i==="active"?"نشط":"غير نشط":i==="all"?"All Status":i==="active"?"Active":"Inactive",r.jsx(vn,{className:"h-4 w-4 opacity-50"})]})}),r.jsxs(Ft,{align:"end",className:"w-48",children:[r.jsxs(ke,{onClick:()=>o("all"),className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 rounded-full bg-gradient-to-r from-emerald-500 to-red-500"}),e?"جميع الحالات":"All Status"]}),r.jsxs(ke,{onClick:()=>o("active"),className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500"}),e?"نشط":"Active"]}),r.jsxs(ke,{onClick:()=>o("inactive"),className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500"}),e?"غير نشط":"Inactive"]})]})]})})]})})}),r.jsxs(Y,{className:"border-0 shadow-elegant",children:[r.jsx(Pe,{children:r.jsxs(Ie,{className:"flex items-center gap-2",children:[r.jsx(zt,{className:"h-5 w-5 text-primary"}),e?`${Se.length} منطقة`:`${Se.length} Regions`]})}),r.jsxs(ee,{children:[r.jsxs(On,{dir:e?"rtl":"ltr",children:[r.jsx(In,{children:r.jsxs(Xe,{className:e?"text-right":"text-left",children:[r.jsx(Re,{className:e?"text-right":"text-left",children:e?"اسم المنطقة":"Region Name"}),r.jsx(Re,{className:e?"text-right":"text-left",children:e?"المنطقة الأساسية":"Parent Region"}),r.jsx(Re,{className:e?"text-right":"text-left",children:e?"الترجمات":"Localizations"}),r.jsx(Re,{className:e?"text-right":"text-left",children:e?"الحالة":"Status"}),r.jsx(Re,{className:e?"text-right":"text-left",children:e?"تاريخ الإنشاء":"Created Date"}),r.jsx(Re,{className:"text-center",children:e?"الإجراءات":"Actions"})]})}),r.jsx(Mn,{children:V?r.jsx(Xe,{className:e?"text-right":"text-left",children:r.jsx(xe,{colSpan:6,className:"text-center py-8",children:r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"}),r.jsx("span",{className:e?"mr-2":"ml-2",children:e?"جاري التحميل...":"Loading..."})]})})}):q?r.jsx(Xe,{className:e?"text-right":"text-left",children:r.jsx(xe,{colSpan:6,className:"text-center py-8 text-destructive",children:e?"خطأ في تحميل البيانات":"Error loading data"})}):Se.length===0?r.jsx(Xe,{className:e?"text-right":"text-left",children:r.jsx(xe,{colSpan:6,className:"text-center py-8 text-muted-foreground",children:e?"لا توجد مناطق متاحة":"No regions available"})}):Se.map(oe=>r.jsxs(Xe,{className:`hover:bg-muted/50 ${e?"text-right":"text-left"}`,children:[r.jsx(xe,{className:e?"text-right":"text-left",children:pe(oe)}),r.jsx(xe,{className:e?"text-right":"text-left",children:oe.parentName?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(gg,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{className:"text-sm",children:oe.parentName})]}):r.jsx("span",{className:"text-sm text-muted-foreground",children:e?"منطقة رئيسية":"Root region"})}),r.jsx(xe,{className:e?"text-right":"text-left",children:r.jsxs("div",{className:`flex flex-wrap gap-1 ${e?"text-right justify-start":"justify-start"}`,children:[oe.localizations.map(Be=>r.jsxs(Me,{variant:"outline",className:"text-xs",children:[r.jsx($e,{className:`h-3 w-3 ${e?"ml-1":"mr-1"}`}),Be.languageCode]},Be.id)),oe.localizations.length===0&&r.jsx("span",{className:"text-xs text-muted-foreground",children:e?"لا توجد ترجمات":"No translations"})]})}),r.jsx(xe,{className:e?"text-right":"text-left",children:te(oe.isActive)}),r.jsx(xe,{className:`text-muted-foreground ${e?"text-right":"text-left"}`,children:Ne(oe.createdAt)}),r.jsx(xe,{className:"text-center",children:r.jsxs(Ut,{children:[r.jsx(Vt,{asChild:!0,children:r.jsx(B,{variant:"ghost",className:"h-8 w-8 p-0",children:r.jsx(bn,{className:"h-4 w-4"})})}),r.jsxs(Ft,{align:e?"start":"end",children:[r.jsxs(ke,{className:`flex items-center gap-2 ${e?"flex-row-reverse":"flex-row"}`,onClick:()=>je(oe),children:[r.jsx(Fr,{className:"h-4 w-4"}),e?"عرض التفاصيل":"View Details"]}),r.jsxs(ke,{className:`flex items-center gap-2 ${e?"flex-row-reverse":"flex-row"}`,onClick:()=>Ze(oe),children:[r.jsx(zt,{className:"h-4 w-4"}),e?"عرض المواقع":"View Locations"]}),r.jsxs(ke,{className:`flex items-center gap-2 ${e?"flex-row-reverse":"flex-row"}`,onClick:()=>Fe(oe),children:[r.jsx(tr,{className:"h-4 w-4"}),e?"تحرير":"Edit"]}),r.jsxs(ke,{className:`flex items-center gap-2 ${e?"flex-row-reverse":"flex-row"}`,onClick:()=>J.mutate(oe.id),children:[r.jsx(Cs,{className:"h-4 w-4"}),e?"تغيير الحالة":"Toggle Status"]}),r.jsxs(ke,{className:`flex items-center gap-2 text-destructive ${e?"flex-row-reverse":"flex-row"}`,onClick:()=>ye.mutate(oe.id),children:[r.jsx(xt,{className:"h-4 w-4"}),e?"حذف":"Delete"]})]})]})})]},oe.id))})]}),E&&E.totalPages>1&&r.jsxs("div",{className:"flex items-center justify-between mt-6",children:[r.jsx("div",{className:"text-sm text-muted-foreground",children:e?`عرض ${(E.page-1)*E.pageSize+1} إلى ${Math.min(E.page*E.pageSize,E.totalCount)} من ${E.totalCount}`:`Showing ${(E.page-1)*E.pageSize+1} to ${Math.min(E.page*E.pageSize,E.totalCount)} of ${E.totalCount}`}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(B,{variant:"outline",size:"sm",onClick:()=>b(oe=>Math.max(oe-1,1)),disabled:!E.hasPreviousPage,children:e?r.jsx(Nt,{className:"h-4 w-4"}):r.jsx(At,{className:"h-4 w-4"})}),r.jsx("span",{className:"text-sm font-medium",children:e?`${E.page} من ${E.totalPages}`:`${E.page} of ${E.totalPages}`}),r.jsx(B,{variant:"outline",size:"sm",onClick:()=>b(oe=>oe+1),disabled:!E.hasNextPage,children:e?r.jsx(At,{className:"h-4 w-4"}):r.jsx(Nt,{className:"h-4 w-4"})})]})]})]})]}),r.jsx(Mt,{open:l,onOpenChange:d,children:r.jsxs(Et,{className:"sm:max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Tt,{children:[r.jsx(Ot,{children:e?"إضافة منطقة جديدة":"Add New Region"}),r.jsx($t,{children:e?"أدخل معلومات المنطقة الجديدة وترجماتها":"Enter the details for the new region and its translations"})]}),r.jsx(Kt,{...T,children:r.jsxs("form",{onSubmit:T.handleSubmit(Ae),className:"space-y-4",children:[r.jsx(ae,{control:T.control,name:"name",rules:{required:e?"اسم المنطقة مطلوب":"Region name is required"},render:({field:oe})=>r.jsxs(ne,{children:[r.jsx(re,{children:e?"اسم المنطقة":"Region Name"}),r.jsx(se,{children:r.jsx(Oe,{placeholder:e?"مثال: الرياض، جدة، دبي":"e.g., Riyadh, Jeddah, Dubai",...oe})}),r.jsx(fe,{})]})}),r.jsx(ae,{control:T.control,name:"parentId",render:({field:oe})=>{var Be;return r.jsxs(ne,{children:[r.jsx(re,{children:e?"المنطقة الأساسية":"Parent Region"}),r.jsxs(ut,{onValueChange:X=>oe.onChange(X==="none"?void 0:parseInt(X)),value:((Be=oe.value)==null?void 0:Be.toString())||"none",children:[r.jsx(se,{children:r.jsx(ct,{children:r.jsx(mt,{placeholder:e?"اختر المنطقة الأساسية (اختياري)":"Select Parent Region (Optional)"})})}),r.jsxs(dt,{children:[r.jsx(Ye,{value:"none",children:r.jsx("span",{className:"text-muted-foreground",children:e?"لا يوجد (منطقة رئيسية)":"None (Root Region)"})}),Q==null?void 0:Q.map(X=>r.jsx(Ye,{value:X.id.toString(),children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(zt,{className:"h-4 w-4"}),X.fullPath]})},X.id))]})]}),r.jsx(fe,{})]})}}),r.jsx(ae,{control:T.control,name:"isActive",render:({field:oe})=>r.jsxs(ne,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[r.jsxs("div",{className:"space-y-0.5",children:[r.jsx(re,{className:"text-base",children:e?"المنطقة نشطة":"Active Region"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:e?"تفعيل أو إلغاء تفعيل المنطقة":"Enable or disable this region"})]}),r.jsx(se,{children:r.jsx(Ct,{checked:oe.value,onCheckedChange:oe.onChange})})]})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h4",{className:"text-sm font-medium",children:e?"الترجمات":"Localizations"}),r.jsxs(B,{type:"button",variant:"outline",size:"sm",onClick:()=>K(!1),children:[r.jsx(ot,{className:"h-4 w-4"}),e?"إضافة ترجمة":"Add Translation"]})]}),M.map((oe,Be)=>r.jsxs(Y,{className:"p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h5",{className:"text-sm font-medium",children:e?`الترجمة ${Be+1}`:`Translation ${Be+1}`}),r.jsx(B,{type:"button",variant:"ghost",size:"sm",onClick:()=>F(Be),children:r.jsx(xt,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(ae,{control:T.control,name:`localizations.${Be}.languageId`,rules:{required:e?"اللغة مطلوبة":"Language is required"},render:({field:X})=>{var H;return r.jsxs(ne,{children:[r.jsx(re,{children:e?"اللغة":"Language"}),r.jsxs(ut,{onValueChange:me=>X.onChange(parseInt(me)),value:(H=X.value)==null?void 0:H.toString(),children:[r.jsx(se,{children:r.jsx(ct,{children:r.jsx(mt,{placeholder:e?"اختر اللغة":"Select Language"})})}),r.jsx(dt,{children:he==null?void 0:he.map(me=>r.jsx(Ye,{value:me.id.toString(),children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx($e,{className:"h-4 w-4"}),me.name," (",me.code,")"]})},me.id))})]}),r.jsx(fe,{})]})}}),r.jsx(ae,{control:T.control,name:`localizations.${Be}.name`,rules:{required:e?"الاسم مطلوب":"Name is required"},render:({field:X})=>r.jsxs(ne,{children:[r.jsx(re,{children:e?"الاسم المترجم":"Translated Name"}),r.jsx(se,{children:r.jsx(Oe,{placeholder:e?"الاسم المترجم":"Translated name",...X})}),r.jsx(fe,{})]})})]})]},oe.id))]}),r.jsxs(Lt,{children:[r.jsx(B,{type:"button",variant:"outline",onClick:()=>d(!1),children:e?"إلغاء":"Cancel"}),r.jsx(B,{type:"submit",className:"gradient-primary",children:e?"إنشاء":"Create"})]})]})})]})}),r.jsx(Mt,{open:u,onOpenChange:h,children:r.jsxs(Et,{className:"sm:max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Tt,{children:[r.jsx(Ot,{children:e?"تحرير المنطقة":"Edit Region"}),r.jsx($t,{children:e?"قم بتحديث معلومات المنطقة وترجماتها":"Update the region details and translations"})]}),r.jsx(Kt,{...O,children:r.jsxs("form",{onSubmit:O.handleSubmit(ze),className:"space-y-4",children:[r.jsx(ae,{control:O.control,name:"name",rules:{required:e?"اسم المنطقة مطلوب":"Region name is required"},render:({field:oe})=>r.jsxs(ne,{children:[r.jsx(re,{children:e?"اسم المنطقة":"Region Name"}),r.jsx(se,{children:r.jsx(Oe,{...oe})}),r.jsx(fe,{})]})}),r.jsx(ae,{control:O.control,name:"parentId",render:({field:oe})=>{var Be;return r.jsxs(ne,{children:[r.jsx(re,{children:e?"المنطقة الأساسية":"Parent Region"}),r.jsxs(ut,{onValueChange:X=>oe.onChange(X==="none"?void 0:parseInt(X)),value:((Be=oe.value)==null?void 0:Be.toString())||"none",children:[r.jsx(se,{children:r.jsx(ct,{children:r.jsx(mt,{placeholder:e?"اختر المنطقة الأساسية (اختياري)":"Select Parent Region (Optional)"})})}),r.jsxs(dt,{children:[r.jsx(Ye,{value:"none",children:r.jsx("span",{className:"text-muted-foreground",children:e?"لا يوجد (منطقة رئيسية)":"None (Root Region)"})}),Q==null?void 0:Q.filter(X=>X.id!==(g==null?void 0:g.id)).map(X=>r.jsx(Ye,{value:X.id.toString(),children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(zt,{className:"h-4 w-4"}),X.fullPath]})},X.id))]})]}),r.jsx(fe,{})]})}}),r.jsx(ae,{control:O.control,name:"isActive",render:({field:oe})=>r.jsxs(ne,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[r.jsxs("div",{className:"space-y-0.5",children:[r.jsx(re,{className:"text-base",children:e?"المنطقة نشطة":"Active Region"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:e?"تفعيل أو إلغاء تفعيل المنطقة":"Enable or disable this region"})]}),r.jsx(se,{children:r.jsx(Ct,{checked:oe.value,onCheckedChange:oe.onChange})})]})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h4",{className:"text-sm font-medium",children:e?"الترجمات":"Localizations"}),r.jsxs(B,{type:"button",variant:"outline",size:"sm",onClick:()=>K(!0),children:[r.jsx(ot,{className:"h-4 w-4"}),e?"إضافة ترجمة":"Add Translation"]})]}),Z.map((oe,Be)=>r.jsxs(Y,{className:"p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h5",{className:"text-sm font-medium",children:e?`الترجمة ${Be+1}`:`Translation ${Be+1}`}),r.jsx(B,{type:"button",variant:"ghost",size:"sm",onClick:()=>$(Be),children:r.jsx(xt,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(ae,{control:O.control,name:`localizations.${Be}.languageId`,rules:{required:e?"اللغة مطلوبة":"Language is required"},render:({field:X})=>{var H;return r.jsxs(ne,{children:[r.jsx(re,{children:e?"اللغة":"Language"}),r.jsxs(ut,{onValueChange:me=>X.onChange(parseInt(me)),value:(H=X.value)==null?void 0:H.toString(),children:[r.jsx(se,{children:r.jsx(ct,{children:r.jsx(mt,{placeholder:e?"اختر اللغة":"Select Language"})})}),r.jsx(dt,{children:he==null?void 0:he.map(me=>r.jsx(Ye,{value:me.id.toString(),children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx($e,{className:"h-4 w-4"}),me.name," (",me.code,")"]})},me.id))})]}),r.jsx(fe,{})]})}}),r.jsx(ae,{control:O.control,name:`localizations.${Be}.name`,rules:{required:e?"الاسم مطلوب":"Name is required"},render:({field:X})=>r.jsxs(ne,{children:[r.jsx(re,{children:e?"الاسم المترجم":"Translated Name"}),r.jsx(se,{children:r.jsx(Oe,{...X})}),r.jsx(fe,{})]})})]}),r.jsx("div",{className:"mt-4",children:r.jsx(ae,{control:O.control,name:`localizations.${Be}.isActive`,render:({field:X})=>r.jsxs(ne,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[r.jsx("div",{className:"space-y-0.5",children:r.jsx(re,{className:"text-sm",children:e?"الترجمة نشطة":"Active Translation"})}),r.jsx(se,{children:r.jsx(Ct,{checked:X.value,onCheckedChange:X.onChange})})]})})})]},oe.id))]}),r.jsxs(Lt,{children:[r.jsx(B,{type:"button",variant:"outline",onClick:()=>h(!1),children:e?"إلغاء":"Cancel"}),r.jsx(B,{type:"submit",className:"gradient-primary",children:e?"حفظ التغييرات":"Save Changes"})]})]})})]})}),r.jsx(Mt,{open:m,onOpenChange:p,children:r.jsxs(Et,{className:"sm:max-w-3xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Tt,{children:[r.jsxs(Ot,{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-primary flex items-center justify-center",children:r.jsx(zt,{className:"h-5 w-5 text-primary-foreground"})}),e?"تفاصيل المنطقة":"Region Details"]}),r.jsx($t,{children:e?"عرض شامل لمعلومات المنطقة وترجماتها":"Comprehensive view of region information and translations"})]}),x&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs(Y,{className:"border-0 shadow-sm",children:[r.jsx(Pe,{className:"pb-3",children:r.jsxs(Ie,{className:"text-lg flex items-center gap-2",children:[r.jsx(zt,{className:"h-5 w-5 text-primary"}),e?"المعلومات الأساسية":"Basic Information"]})}),r.jsx(ee,{className:"space-y-4",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:e?"اسم المنطقة":"Region Name"}),r.jsx("div",{className:"p-3 bg-muted/50 rounded-lg",children:r.jsx("span",{className:"text-sm font-medium",children:x.name})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:e?"الحالة":"Status"}),r.jsx("div",{className:"p-3",children:te(x.isActive)})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:e?"المنطقة الأساسية":"Parent Region"}),r.jsx("div",{className:"p-3 bg-muted/50 rounded-lg",children:r.jsx("span",{className:"text-sm",children:x.parentName||(e?"منطقة رئيسية":"Root region")})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:e?"المناطق الفرعية":"Sub-regions"}),r.jsx("div",{className:"p-3 bg-muted/50 rounded-lg",children:r.jsx("span",{className:"text-sm",children:x.children.length})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:e?"تاريخ الإنشاء":"Created Date"}),r.jsx("div",{className:"p-3 bg-muted/50 rounded-lg",children:r.jsx("span",{className:"text-sm",children:Ne(x.createdAt)})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:e?"تاريخ التحديث":"Last Modified"}),r.jsx("div",{className:"p-3 bg-muted/50 rounded-lg",children:r.jsx("span",{className:"text-sm",children:Ne(x.updatedAt)})})]})]})})]}),x.children.length>0&&r.jsxs(Y,{className:"border-0 shadow-sm",children:[r.jsx(Pe,{className:"pb-3",children:r.jsxs(Ie,{className:"text-lg flex items-center gap-2",children:[r.jsx(gg,{className:"h-5 w-5 text-primary"}),e?"المناطق الفرعية":"Sub-regions",r.jsx(Me,{variant:"secondary",className:"ml-2",children:x.children.length})]})}),r.jsx(ee,{children:r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:x.children.map(oe=>r.jsx("div",{className:"p-3 bg-muted/30 rounded-lg border",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(zt,{className:"h-4 w-4 text-primary"}),r.jsx("span",{className:"text-sm font-medium",children:oe.name}),te(oe.isActive)]})},oe.id))})})]}),r.jsxs(Y,{className:"border-0 shadow-sm",children:[r.jsx(Pe,{className:"pb-3",children:r.jsxs(Ie,{className:"text-lg flex items-center gap-2",children:[r.jsx($e,{className:"h-5 w-5 text-primary"}),e?"الترجمات":"Localizations",r.jsx(Me,{variant:"secondary",className:"ml-2",children:x.localizations.length})]})}),r.jsx(ee,{children:x.localizations.length===0?r.jsxs("div",{className:"text-center py-8",children:[r.jsx($e,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4 opacity-50"}),r.jsx("p",{className:"text-muted-foreground",children:e?"لا توجد ترجمات متاحة لهذه المنطقة":"No translations available for this region"})]}):r.jsx("div",{className:"space-y-4",children:x.localizations.map((oe,Be)=>r.jsx(Y,{className:"border border-border/50",children:r.jsx(ee,{className:"p-4",children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center",children:r.jsx($e,{className:"h-4 w-4 text-primary"})}),r.jsxs("div",{children:[r.jsxs("h4",{className:"font-medium text-sm",children:[oe.languageName," (",oe.languageCode,")"]}),r.jsx("p",{className:"text-xs text-muted-foreground",children:e?`الترجمة ${Be+1}`:`Translation ${Be+1}`})]})]}),te(oe.isActive)]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:e?"الاسم المترجم":"Translated Name"}),r.jsx("div",{className:"p-3 bg-muted/30 rounded-lg",children:r.jsx("p",{className:"text-sm font-medium",children:oe.name})})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-2 border-t border-border/30",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:e?"تاريخ الإنشاء":"Created"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:Ne(oe.createdAt)})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:e?"معرف اللغة":"Language ID"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:oe.languageId})]})]})]})})},oe.id))})})]}),r.jsxs(Y,{className:"border-0 shadow-sm",children:[r.jsx(Pe,{className:"pb-3",children:r.jsxs(Ie,{className:"text-lg flex items-center gap-2",children:[r.jsx(Or,{className:"h-5 w-5 text-primary"}),e?"إحصائيات المنطقة":"Region Statistics"]})}),r.jsx(ee,{children:r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"text-center p-4 bg-muted/30 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-primary mb-1",children:x.localizations.length}),r.jsx("div",{className:"text-xs text-muted-foreground",children:e?"إجمالي الترجمات":"Total Translations"})]}),r.jsxs("div",{className:"text-center p-4 bg-muted/30 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-emerald-600 mb-1",children:x.localizations.filter(oe=>oe.isActive).length}),r.jsx("div",{className:"text-xs text-muted-foreground",children:e?"ترجمات نشطة":"Active Translations"})]}),r.jsxs("div",{className:"text-center p-4 bg-muted/30 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600 mb-1",children:x.children.length}),r.jsx("div",{className:"text-xs text-muted-foreground",children:e?"مناطق فرعية":"Sub-regions"})]}),r.jsxs("div",{className:"text-center p-4 bg-muted/30 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-purple-600 mb-1",children:x.name.length}),r.jsx("div",{className:"text-xs text-muted-foreground",children:e?"طول الاسم":"Name Length"})]})]})})]})]}),r.jsxs(Lt,{children:[r.jsx(B,{type:"button",variant:"outline",onClick:()=>{p(!1),v(null)},children:e?"إغلاق":"Close"}),r.jsxs(B,{type:"button",className:"gradient-primary",onClick:()=>{x&&(Fe(x),p(!1),v(null))},children:[r.jsx(tr,{className:"h-4 w-4 mr-2"}),e?"تحرير المنطقة":"Edit Region"]})]})]})}),ue&&ue.length>0&&r.jsx(uee,{isOpen:C,onOpenChange:_,missingRegionIds:ue})]})})};class hee{constructor(){ge(this,"baseUrl","/api/location");ge(this,"request",async(t,n={})=>{const s=`${this.baseUrl}${t}`,a={headers:{"Content-Type":"application/json",...n.headers},...n};try{const i=await fetch(s,a);if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);return await i.json()}catch(i){throw console.error("Location API Request Error:",i),i}});ge(this,"getLocationById",async t=>{const n=await this.request(`/${t}`);if(!n.success)throw new Error(n.message||"Failed to fetch location");if(!n.data)throw new Error("No data returned from server");return n.data});ge(this,"getLocations",async(t={})=>{const n=new URLSearchParams;t.page&&n.append("page",t.page.toString()),t.pageSize&&n.append("pageSize",t.pageSize.toString()),t.isActive!==void 0&&n.append("isActive",t.isActive.toString()),t.userId!==void 0&&n.append("userId",t.userId.toString()),t.regionId!==void 0&&n.append("regionId",t.regionId.toString());const s=n.toString()?`?${n.toString()}`:"",a=await this.request(s);if(!a.success)throw new Error(a.message||"Failed to fetch locations");if(!a.data)throw new Error("No data returned from server");return a.data});ge(this,"getLocationsByRegion",async(t,n={})=>{const s=new URLSearchParams;n.page&&s.append("page",n.page.toString()),n.pageSize&&s.append("pageSize",n.pageSize.toString()),n.isActive!==void 0&&s.append("isActive",n.isActive.toString());const a=`/region/${t}${s.toString()?`?${s.toString()}`:""}`,i=await this.request(a);if(!i.success)throw new Error(i.message||"Failed to fetch locations by region");if(!i.data)throw new Error("No data returned from server");return i.data});ge(this,"getLocationsByUserId",async t=>{const n=await this.request(`/user/${t}`);if(!n.success)throw new Error(n.message||"Failed to fetch customer locations");if(!n.data)throw new Error("No data returned from server");return n.data});ge(this,"getLocationsDropdown",async(t={})=>{const n=new URLSearchParams;t.isActive!==void 0&&n.append("isActive",t.isActive.toString());const s=`/dropdown${n.toString()?`?${n.toString()}`:""}`,a=await this.request(s);if(!a.success)throw new Error(a.message||"Failed to fetch locations dropdown");if(!a.data)throw new Error("No data returned from server");return a.data});ge(this,"getLocationsDropdownByRegion",async(t,n={})=>{const s=new URLSearchParams;n.isActive!==void 0&&s.append("isActive",n.isActive.toString());const a=`/dropdown/region/${t}${s.toString()?`?${s.toString()}`:""}`,i=await this.request(a);if(!i.success)throw new Error(i.message||"Failed to fetch locations dropdown by region");if(!i.data)throw new Error("No data returned from server");return i.data});ge(this,"createLocation",async t=>{const n=await this.request("",{method:"POST",body:JSON.stringify(t)});if(!n.success)throw new Error(n.message||"Failed to create location");if(!n.data)throw new Error("No data returned from server");return n.data});ge(this,"updateLocation",async(t,n)=>{const s=await this.request(`/${t}`,{method:"PUT",body:JSON.stringify(n)});if(!s.success)throw new Error(s.message||"Failed to update location");if(!s.data)throw new Error("No data returned from server");return s.data});ge(this,"toggleLocationActivation",async t=>{const n=await this.request(`/${t}/toggle-activation`,{method:"PUT"});if(!n.success)throw new Error(n.message||"Failed to toggle location activation")});ge(this,"deleteLocation",async t=>{const n=await this.request(`/${t}`,{method:"DELETE"});if(!n.success)throw new Error(n.message||"Failed to delete location")});ge(this,"getLocationsMissingTranslations",async()=>{const t=await this.request("/missing-translations");if(!t.success)throw new Error(t.message||"Failed to fetch locations missing translations");if(!t.data)throw new Error("No data returned from server");return t.data})}}const no=new hee,fee=()=>{var E;const{isRTL:e}=rt(),[t]=e0(),n=lr(),s=rr(),[a,i]=N.useState(""),[o,l]=N.useState("all"),[d,u]=N.useState("all"),[h,m]=N.useState(null),[p,g]=N.useState(null),[y,x]=N.useState(1),[v]=N.useState(10);N.useEffect(()=>{const V=t.get("userId"),q=t.get("regionId");if(console.log("URL parameters - userId:",V,"regionId:",q),V){const U=parseInt(V);isNaN(U)?(console.log("Invalid userId parameter"),m(null)):(console.log("Setting userIdFilter to:",U),m(U))}else console.log("No userId parameter found"),m(null);if(q){const U=parseInt(q);isNaN(U)?(console.log("Invalid regionId parameter"),g(null)):(console.log("Setting regionIdFilter to:",U),g(U))}else console.log("No regionId parameter found"),g(null)},[t]);const{data:j,isLoading:b,error:S}=qe({queryKey:["locations",y,v,o,h,p],queryFn:()=>{const V={page:y,pageSize:v};return o==="active"?V.isActive=!0:o==="inactive"&&(V.isActive=!1),h!==null&&(V.userId=h),p!==null&&(V.regionId=p),no.getLocations(V)}}),{data:C}=qe({queryKey:["locations-all"],queryFn:()=>no.getLocations({pageSize:1e3})}),{data:_}=qe({queryKey:["regions-dropdown"],queryFn:()=>Ms.getRegionsDropdown()});qe({queryKey:["languages-dropdown"],queryFn:()=>ir.getLanguagesDropdown()}),qe({queryKey:["customers-dropdown"],queryFn:()=>Qi.getCustomers({pageSize:1e3})}),qe({queryKey:["locations-missing-translations"],queryFn:()=>no.getLocationsMissingTranslations(),refetchInterval:3e4});const A=it({mutationFn:no.toggleLocationActivation,onSuccess:()=>{s.invalidateQueries({queryKey:["locations"]}),s.invalidateQueries({queryKey:["locations-all"]}),be.success(e?"تم تحديث حالة الموقع":"Location status updated")},onError:V=>{be.error(V.message||(e?"حدث خطأ أثناء تحديث حالة الموقع":"Error updating location status"))}}),k=it({mutationFn:no.deleteLocation,onSuccess:()=>{s.invalidateQueries({queryKey:["locations"]}),s.invalidateQueries({queryKey:["locations-all"]}),be.success(e?"تم حذف الموقع بنجاح":"Location deleted successfully")},onError:V=>{be.error(V.message||(e?"حدث خطأ أثناء حذف الموقع":"Error deleting location"))}}),T=(j==null?void 0:j.items.filter(V=>{const q=V.name.toLowerCase().includes(a.toLowerCase())||V.regionName.toLowerCase().includes(a.toLowerCase())||V.userName.toLowerCase().includes(a.toLowerCase())||V.localizations.some(Q=>Q.name.toLowerCase().includes(a.toLowerCase())),U=d==="all"||V.regionId.toString()===d;return q&&U}))||[],O={total:(C==null?void 0:C.totalCount)||0,active:(C==null?void 0:C.items.filter(V=>V.isActive).length)||0,inactive:(C==null?void 0:C.items.filter(V=>!V.isActive).length)||0},M=()=>{const V=new URLSearchParams;h&&V.set("userId",h.toString()),p&&V.set("regionId",p.toString());const q=V.toString();n(`/locations/create${q?`?${q}`:""}`)},z=V=>{const q=new URLSearchParams;h&&q.set("userId",h.toString()),p&&q.set("regionId",p.toString());const U=q.toString();n(`/locations/edit/${V.id}${U?`?${U}`:""}`)},F=V=>{const q=new URLSearchParams;h&&q.set("userId",h.toString()),p&&q.set("regionId",p.toString());const U=q.toString();n(`/locations/${V.id}${U?`?${U}`:""}`)},Z=V=>r.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1.5 rounded-full text-xs font-medium transition-all duration-200 ${V?"bg-emerald-100 text-emerald-700 border border-emerald-200 dark:bg-emerald-900/20 dark:text-emerald-400 dark:border-emerald-800":"bg-red-50 text-red-600 border border-red-200 dark:bg-red-900/20 dark:text-red-400 dark:border-red-800"}`,children:[r.jsx("div",{className:`w-2 h-2 rounded-full animate-pulse ${V?"bg-emerald-500 shadow-sm shadow-emerald-500/50":"bg-red-500 shadow-sm shadow-red-500/50"}`}),r.jsx("span",{className:"font-semibold",children:e?V?"نشط":"غير نشط":V?"Active":"Inactive"})]}),D=V=>new Date(V).toLocaleDateString(e?"ar-SA":"en-US"),$=(V,q=30)=>V.length<=q?V:V.substring(0,q)+"...";return r.jsx(lt,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-foreground",children:e?"إدارة المواقع":"Locations Management"}),r.jsx("p",{className:"text-muted-foreground",children:e?"إدارة المواقع وترجماتها":"Manage locations and their translations"}),(h||p)&&r.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[h&&r.jsxs(Me,{variant:"secondary",className:"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/20 dark:text-blue-300 dark:border-blue-800",children:[r.jsx(Gr,{className:"h-3 w-3 mr-1"}),e?`مفلتر حسب العميل: #${h}`:`Filtered by Customer ID: #${h}`]}),p&&r.jsxs(Me,{variant:"secondary",className:"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/20 dark:text-green-300 dark:border-green-800",children:[r.jsx(zt,{className:"h-3 w-3 mr-1"}),e?`مفلتر حسب المنطقة: #${p}`:`Filtered by Region ID: #${p}`]}),r.jsxs(B,{variant:"outline",size:"sm",onClick:()=>{m(null),g(null);const V=new URLSearchParams(t);V.delete("userId"),V.delete("regionId"),window.history.replaceState(null,"",`${window.location.pathname}${V.toString()?"?"+V.toString():""}`)},className:"h-6 px-2 text-xs",children:[r.jsx(jn,{className:"h-3 w-3 mr-1"}),e?"إزالة الفلاتر":"Clear Filters"]})]})]}),r.jsxs(B,{className:"gradient-primary flex items-center gap-2",onClick:M,children:[r.jsx(ot,{className:"h-4 w-4"}),e?"إضافة موقع جديد":"Add New Location"]})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[r.jsx(Y,{className:"border-0 shadow-elegant",children:r.jsx(ee,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:e?"إجمالي المواقع":"Total Locations"}),r.jsx("p",{className:"text-2xl font-bold",children:O.total})]}),r.jsx(zt,{className:"h-8 w-8 text-primary"})]})})}),r.jsx(Y,{className:"border-0 shadow-elegant",children:r.jsx(ee,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:e?"المواقع النشطة":"Active Locations"}),r.jsx("p",{className:"text-2xl font-bold text-success",children:O.active})]}),r.jsx(Or,{className:"h-8 w-8 text-success"})]})})}),r.jsx(Y,{className:"border-0 shadow-elegant",children:r.jsx(ee,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:e?"المواقع غير النشطة":"Inactive Locations"}),r.jsx("p",{className:"text-2xl font-bold text-muted-foreground",children:O.inactive})]}),r.jsx(jn,{className:"h-8 w-8 text-muted-foreground"})]})})})]}),r.jsx(Y,{className:"border-0 shadow-elegant",children:r.jsx(ee,{className:"p-6",children:r.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(Qr,{className:`absolute top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground ${e?"right-3":"left-3"}`}),r.jsx(Oe,{placeholder:e?"البحث في المواقع...":"Search locations...",value:a,onChange:V=>i(V.target.value),className:e?"pr-10 pl-4":"pl-10 pr-4"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(Ut,{children:[r.jsx(Vt,{asChild:!0,children:r.jsxs(B,{variant:"outline",className:"flex items-center gap-2 hover:border-primary/50 hover:bg-primary/5 transition-all duration-200",children:[r.jsx("div",{className:`w-2 h-2 rounded-full ${o==="active"?"bg-emerald-500":o==="inactive"?"bg-red-500":"bg-gradient-to-r from-emerald-500 to-red-500"}`}),e?o==="all"?"جميع الحالات":o==="active"?"نشط":"غير نشط":o==="all"?"All Status":o==="active"?"Active":"Inactive",r.jsx(vn,{className:"h-4 w-4 opacity-50"})]})}),r.jsxs(Ft,{align:"end",className:"w-48",children:[r.jsxs(ke,{onClick:()=>l("all"),className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 rounded-full bg-gradient-to-r from-emerald-500 to-red-500"}),e?"جميع الحالات":"All Status"]}),r.jsxs(ke,{onClick:()=>l("active"),className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500"}),e?"نشط":"Active"]}),r.jsxs(ke,{onClick:()=>l("inactive"),className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500"}),e?"غير نشط":"Inactive"]})]})]}),r.jsxs(Ut,{children:[r.jsx(Vt,{asChild:!0,children:r.jsxs(B,{variant:"outline",className:"flex items-center gap-2 hover:border-primary/50 hover:bg-primary/5 transition-all duration-200",children:[r.jsx(zt,{className:"h-4 w-4"}),d==="all"?e?"جميع المناطق":"All Regions":((E=_==null?void 0:_.find(V=>V.id.toString()===d))==null?void 0:E.name)||"Region",r.jsx(vn,{className:"h-4 w-4 opacity-50"})]})}),r.jsxs(Ft,{align:"end",className:"w-48",children:[r.jsxs(ke,{onClick:()=>u("all"),className:"flex items-center gap-2",children:[r.jsx(zt,{className:"h-4 w-4"}),e?"جميع المناطق":"All Regions"]}),_==null?void 0:_.map(V=>r.jsxs(ke,{onClick:()=>u(V.id.toString()),className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),V.name]},V.id))]})]})]})]})})}),r.jsxs(Y,{className:"border-0 shadow-elegant",children:[r.jsx(Pe,{children:r.jsxs(Ie,{className:"flex items-center gap-2",children:[r.jsx(zt,{className:"h-5 w-5 text-primary"}),e?`${T.length} موقع`:`${T.length} Locations`]})}),r.jsxs(ee,{children:[r.jsx("div",{className:"overflow-x-auto",children:r.jsxs(On,{dir:e?"rtl":"ltr",className:`${e?"text-right":"text-left"} min-w-full`,children:[r.jsx(In,{children:r.jsxs(Xe,{className:e?"text-right":"text-left",children:[r.jsx(Re,{className:"text-start min-w-[200px]",children:e?"اسم الموقع":"Location Name"}),r.jsx(Re,{className:"text-start min-w-[150px]",children:e?"المنطقة":"Region"}),r.jsx(Re,{className:"text-start min-w-[150px]",children:e?"العميل":"Customer"}),r.jsx(Re,{className:"text-start min-w-[100px]",children:e?"الترجمات":"Translations"}),r.jsx(Re,{className:"text-start min-w-[100px]",children:e?"الحالة":"Status"}),r.jsx(Re,{className:"text-start min-w-[150px]",children:e?"تاريخ الإنشاء":"Created Date"}),r.jsx(Re,{className:"text-center min-w-[80px]",children:e?"الإجراءات":"Actions"})]})}),r.jsx(Mn,{children:b?r.jsx(Xe,{className:e?"text-right":"text-left",children:r.jsx(xe,{colSpan:7,className:"text-center py-8",children:r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"}),r.jsx("span",{className:e?"mr-2":"ml-2",children:e?"جاري التحميل...":"Loading..."})]})})}):S?r.jsx(Xe,{className:e?"text-right":"text-left",children:r.jsx(xe,{colSpan:7,className:"text-center py-8 text-destructive",children:e?"خطأ في تحميل البيانات":"Error loading data"})}):T.length===0?r.jsx(Xe,{className:e?"text-right":"text-left",children:r.jsx(xe,{colSpan:7,className:"text-center py-8 text-muted-foreground",children:r.jsxs("div",{className:"flex flex-col items-center gap-2",children:[r.jsx(zt,{className:"w-12 h-12 text-muted-foreground"}),r.jsx("p",{className:"text-muted-foreground",children:e?"لا توجد مواقع متاحة":"No locations available"})]})})}):T.map(V=>r.jsxs(Xe,{className:`hover:bg-muted/50 ${e?"text-right":"text-left"}`,children:[r.jsx(xe,{className:e?"text-right":"text-left",children:r.jsxs("div",{className:`flex items-center gap-3 ${e?"text-right":"flex-row"}`,children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-primary flex items-center justify-center",children:r.jsx(zt,{className:"h-4 w-4 text-primary-foreground"})}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("p",{className:"font-medium text-sm",children:$(V.name,25)}),V.latitude!==0&&V.longitude!==0&&r.jsxs(Me,{variant:"outline",className:"text-xs px-1.5 py-0.5 bg-blue-50 text-blue-700 border-blue-200 dark:bg-blue-900/20 dark:text-blue-300 dark:border-blue-800",children:[r.jsx(zt,{className:"h-2.5 w-2.5"}),e?"خريطة":"Map"]})]}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:["ID: #",V.id]})]})]})}),r.jsx(xe,{className:e?"text-right":"text-left",children:r.jsx("div",{className:"text-sm",children:V.regionName})}),r.jsx(xe,{className:e?"text-right":"text-left",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Gr,{className:"h-3 w-3"}),r.jsx("span",{className:"text-sm",children:V.userName})]})}),r.jsx(xe,{className:e?"text-right":"text-left",children:r.jsxs("div",{className:`flex flex-wrap gap-1 ${e?"text-right justify-start":"justify-start"}`,children:[V.localizations.map(q=>r.jsxs(Me,{variant:"outline",className:"text-xs",children:[r.jsx($e,{className:`h-3 w-3 ${e?"ml-1":"mr-1"}`}),q.languageCode]},q.id)),V.localizations.length===0&&r.jsx("span",{className:"text-xs text-muted-foreground",children:e?"لا توجد ترجمات":"No translations"})]})}),r.jsx(xe,{className:e?"text-right":"text-left",children:Z(V.isActive)}),r.jsx(xe,{className:`text-muted-foreground ${e?"text-right":"text-left"}`,children:D(V.createdAt)}),r.jsx(xe,{className:"text-center",children:r.jsxs(Ut,{children:[r.jsx(Vt,{asChild:!0,children:r.jsx(B,{variant:"ghost",className:"h-8 w-8 p-0",children:r.jsx(bn,{className:"h-4 w-4"})})}),r.jsxs(Ft,{align:e?"start":"end",children:[r.jsxs(ke,{className:`flex items-center gap-2 ${e?"flex-row-reverse":"flex-row"}`,onClick:()=>F(V),children:[r.jsx(Fr,{className:"h-4 w-4"}),e?"عرض التفاصيل":"View Details"]}),V.latitude!==0&&V.longitude!==0&&r.jsxs(ke,{className:`flex items-center gap-2 ${e?"flex-row-reverse":"flex-row"}`,onClick:()=>{const q=`https://www.google.com/maps?q=${V.latitude},${V.longitude}`;window.open(q,"_blank")},children:[r.jsx(zt,{className:"h-4 w-4"}),e?"عرض على الخريطة":"View on Map"]}),r.jsxs(ke,{className:`flex items-center gap-2 ${e?"flex-row-reverse":"flex-row"}`,onClick:()=>z(V),children:[r.jsx(tr,{className:"h-4 w-4"}),e?"تحرير":"Edit"]}),r.jsxs(ke,{className:`flex items-center gap-2 ${e?"flex-row-reverse":"flex-row"}`,onClick:()=>A.mutate(V.id),children:[r.jsx(Cs,{className:"h-4 w-4"}),e?"تغيير الحالة":"Toggle Status"]}),r.jsxs(ke,{className:`flex items-center gap-2 text-destructive ${e?"flex-row-reverse":"flex-row"}`,onClick:()=>k.mutate(V.id),children:[r.jsx(xt,{className:"h-4 w-4"}),e?"حذف":"Delete"]})]})]})})]},V.id))})]})}),j&&j.totalPages>1&&r.jsxs("div",{className:"flex items-center justify-between mt-6",children:[r.jsx("div",{className:"text-sm text-muted-foreground",children:e?`عرض ${(j.page-1)*j.pageSize+1} إلى ${Math.min(j.page*j.pageSize,j.totalCount)} من ${j.totalCount}`:`Showing ${(j.page-1)*j.pageSize+1} to ${Math.min(j.page*j.pageSize,j.totalCount)} of ${j.totalCount}`}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(B,{variant:"outline",size:"sm",onClick:()=>x(V=>Math.max(V-1,1)),disabled:!j.hasPreviousPage,children:e?r.jsx(Nt,{className:"h-4 w-4"}):r.jsx(At,{className:"h-4 w-4"})}),r.jsx("span",{className:"text-sm font-medium",children:e?`${j.page} من ${j.totalPages}`:`${j.page} of ${j.totalPages}`}),r.jsx(B,{variant:"outline",size:"sm",onClick:()=>x(V=>V+1),disabled:!j.hasNextPage,children:e?r.jsx(At,{className:"h-4 w-4"}):r.jsx(Nt,{className:"h-4 w-4"})})]})]})]})]})]})})};function pee(e,t){const n=N.useRef(t);N.useEffect(function(){t!==n.current&&e.attributionControl!=null&&(n.current!=null&&e.attributionControl.removeAttribution(n.current),t!=null&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}const xee=1;function gee(e){return Object.freeze({__version:xee,map:e})}function vee(e,t){return Object.freeze({...e,...t})}const zR=N.createContext(null),FR=zR.Provider;function BR(){const e=N.useContext(zR);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function yee(e){function t(n,s){const{instance:a,context:i}=e(n).current;return N.useImperativeHandle(s,()=>a),n.children==null?null:R.createElement(FR,{value:i},n.children)}return N.forwardRef(t)}function jee(e){function t(n,s){const{instance:a}=e(n).current;return N.useImperativeHandle(s,()=>a),null}return N.forwardRef(t)}function bee(e,t){const n=N.useRef();N.useEffect(function(){return t!=null&&e.instance.on(t),n.current=t,function(){n.current!=null&&e.instance.off(n.current),n.current=null}},[e,t])}function qR(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}var QN={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(n,s){s(t)})(Ah,function(n){var s="1.9.4";function a(c){var f,w,P,I;for(w=1,P=arguments.length;w<P;w++){I=arguments[w];for(f in I)c[f]=I[f]}return c}var i=Object.create||function(){function c(){}return function(f){return c.prototype=f,new c}}();function o(c,f){var w=Array.prototype.slice;if(c.bind)return c.bind.apply(c,w.call(arguments,1));var P=w.call(arguments,2);return function(){return c.apply(f,P.length?P.concat(w.call(arguments)):arguments)}}var l=0;function d(c){return"_leaflet_id"in c||(c._leaflet_id=++l),c._leaflet_id}function u(c,f,w){var P,I,W,ie;return ie=function(){P=!1,I&&(W.apply(w,I),I=!1)},W=function(){P?I=arguments:(c.apply(w,arguments),setTimeout(ie,f),P=!0)},W}function h(c,f,w){var P=f[1],I=f[0],W=P-I;return c===P&&w?c:((c-I)%W+W)%W+I}function m(){return!1}function p(c,f){if(f===!1)return c;var w=Math.pow(10,f===void 0?6:f);return Math.round(c*w)/w}function g(c){return c.trim?c.trim():c.replace(/^\s+|\s+$/g,"")}function y(c){return g(c).split(/\s+/)}function x(c,f){Object.prototype.hasOwnProperty.call(c,"options")||(c.options=c.options?i(c.options):{});for(var w in f)c.options[w]=f[w];return c.options}function v(c,f,w){var P=[];for(var I in c)P.push(encodeURIComponent(w?I.toUpperCase():I)+"="+encodeURIComponent(c[I]));return(!f||f.indexOf("?")===-1?"?":"&")+P.join("&")}var j=/\{ *([\w_ -]+) *\}/g;function b(c,f){return c.replace(j,function(w,P){var I=f[P];if(I===void 0)throw new Error("No value provided for variable "+w);return typeof I=="function"&&(I=I(f)),I})}var S=Array.isArray||function(c){return Object.prototype.toString.call(c)==="[object Array]"};function C(c,f){for(var w=0;w<c.length;w++)if(c[w]===f)return w;return-1}var _="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function A(c){return window["webkit"+c]||window["moz"+c]||window["ms"+c]}var k=0;function T(c){var f=+new Date,w=Math.max(0,16-(f-k));return k=f+w,window.setTimeout(c,w)}var O=window.requestAnimationFrame||A("RequestAnimationFrame")||T,M=window.cancelAnimationFrame||A("CancelAnimationFrame")||A("CancelRequestAnimationFrame")||function(c){window.clearTimeout(c)};function z(c,f,w){if(w&&O===T)c.call(f);else return O.call(window,o(c,f))}function F(c){c&&M.call(window,c)}var Z={__proto__:null,extend:a,create:i,bind:o,get lastId(){return l},stamp:d,throttle:u,wrapNum:h,falseFn:m,formatNum:p,trim:g,splitWords:y,setOptions:x,getParamString:v,template:b,isArray:S,indexOf:C,emptyImageUrl:_,requestFn:O,cancelFn:M,requestAnimFrame:z,cancelAnimFrame:F};function D(){}D.extend=function(c){var f=function(){x(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},w=f.__super__=this.prototype,P=i(w);P.constructor=f,f.prototype=P;for(var I in this)Object.prototype.hasOwnProperty.call(this,I)&&I!=="prototype"&&I!=="__super__"&&(f[I]=this[I]);return c.statics&&a(f,c.statics),c.includes&&($(c.includes),a.apply(null,[P].concat(c.includes))),a(P,c),delete P.statics,delete P.includes,P.options&&(P.options=w.options?i(w.options):{},a(P.options,c.options)),P._initHooks=[],P.callInitHooks=function(){if(!this._initHooksCalled){w.callInitHooks&&w.callInitHooks.call(this),this._initHooksCalled=!0;for(var W=0,ie=P._initHooks.length;W<ie;W++)P._initHooks[W].call(this)}},f},D.include=function(c){var f=this.prototype.options;return a(this.prototype,c),c.options&&(this.prototype.options=f,this.mergeOptions(c.options)),this},D.mergeOptions=function(c){return a(this.prototype.options,c),this},D.addInitHook=function(c){var f=Array.prototype.slice.call(arguments,1),w=typeof c=="function"?c:function(){this[c].apply(this,f)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(w),this};function $(c){if(!(typeof L>"u"||!L||!L.Mixin)){c=S(c)?c:[c];for(var f=0;f<c.length;f++)c[f]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var E={on:function(c,f,w){if(typeof c=="object")for(var P in c)this._on(P,c[P],f);else{c=y(c);for(var I=0,W=c.length;I<W;I++)this._on(c[I],f,w)}return this},off:function(c,f,w){if(!arguments.length)delete this._events;else if(typeof c=="object")for(var P in c)this._off(P,c[P],f);else{c=y(c);for(var I=arguments.length===1,W=0,ie=c.length;W<ie;W++)I?this._off(c[W]):this._off(c[W],f,w)}return this},_on:function(c,f,w,P){if(typeof f!="function"){console.warn("wrong listener type: "+typeof f);return}if(this._listens(c,f,w)===!1){w===this&&(w=void 0);var I={fn:f,ctx:w};P&&(I.once=!0),this._events=this._events||{},this._events[c]=this._events[c]||[],this._events[c].push(I)}},_off:function(c,f,w){var P,I,W;if(this._events&&(P=this._events[c],!!P)){if(arguments.length===1){if(this._firingCount)for(I=0,W=P.length;I<W;I++)P[I].fn=m;delete this._events[c];return}if(typeof f!="function"){console.warn("wrong listener type: "+typeof f);return}var ie=this._listens(c,f,w);if(ie!==!1){var ve=P[ie];this._firingCount&&(ve.fn=m,this._events[c]=P=P.slice()),P.splice(ie,1)}}},fire:function(c,f,w){if(!this.listens(c,w))return this;var P=a({},f,{type:c,target:this,sourceTarget:f&&f.sourceTarget||this});if(this._events){var I=this._events[c];if(I){this._firingCount=this._firingCount+1||1;for(var W=0,ie=I.length;W<ie;W++){var ve=I[W],_e=ve.fn;ve.once&&this.off(c,_e,ve.ctx),_e.call(ve.ctx||this,P)}this._firingCount--}}return w&&this._propagateEvent(P),this},listens:function(c,f,w,P){typeof c!="string"&&console.warn('"string" type argument expected');var I=f;typeof f!="function"&&(P=!!f,I=void 0,w=void 0);var W=this._events&&this._events[c];if(W&&W.length&&this._listens(c,I,w)!==!1)return!0;if(P){for(var ie in this._eventParents)if(this._eventParents[ie].listens(c,f,w,P))return!0}return!1},_listens:function(c,f,w){if(!this._events)return!1;var P=this._events[c]||[];if(!f)return!!P.length;w===this&&(w=void 0);for(var I=0,W=P.length;I<W;I++)if(P[I].fn===f&&P[I].ctx===w)return I;return!1},once:function(c,f,w){if(typeof c=="object")for(var P in c)this._on(P,c[P],f,!0);else{c=y(c);for(var I=0,W=c.length;I<W;I++)this._on(c[I],f,w,!0)}return this},addEventParent:function(c){return this._eventParents=this._eventParents||{},this._eventParents[d(c)]=c,this},removeEventParent:function(c){return this._eventParents&&delete this._eventParents[d(c)],this},_propagateEvent:function(c){for(var f in this._eventParents)this._eventParents[f].fire(c.type,a({layer:c.target,propagatedFrom:c.target},c),!0)}};E.addEventListener=E.on,E.removeEventListener=E.clearAllEventListeners=E.off,E.addOneTimeEventListener=E.once,E.fireEvent=E.fire,E.hasEventListeners=E.listens;var V=D.extend(E);function q(c,f,w){this.x=w?Math.round(c):c,this.y=w?Math.round(f):f}var U=Math.trunc||function(c){return c>0?Math.floor(c):Math.ceil(c)};q.prototype={clone:function(){return new q(this.x,this.y)},add:function(c){return this.clone()._add(Q(c))},_add:function(c){return this.x+=c.x,this.y+=c.y,this},subtract:function(c){return this.clone()._subtract(Q(c))},_subtract:function(c){return this.x-=c.x,this.y-=c.y,this},divideBy:function(c){return this.clone()._divideBy(c)},_divideBy:function(c){return this.x/=c,this.y/=c,this},multiplyBy:function(c){return this.clone()._multiplyBy(c)},_multiplyBy:function(c){return this.x*=c,this.y*=c,this},scaleBy:function(c){return new q(this.x*c.x,this.y*c.y)},unscaleBy:function(c){return new q(this.x/c.x,this.y/c.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=U(this.x),this.y=U(this.y),this},distanceTo:function(c){c=Q(c);var f=c.x-this.x,w=c.y-this.y;return Math.sqrt(f*f+w*w)},equals:function(c){return c=Q(c),c.x===this.x&&c.y===this.y},contains:function(c){return c=Q(c),Math.abs(c.x)<=Math.abs(this.x)&&Math.abs(c.y)<=Math.abs(this.y)},toString:function(){return"Point("+p(this.x)+", "+p(this.y)+")"}};function Q(c,f,w){return c instanceof q?c:S(c)?new q(c[0],c[1]):c==null?c:typeof c=="object"&&"x"in c&&"y"in c?new q(c.x,c.y):new q(c,f,w)}function he(c,f){if(c)for(var w=f?[c,f]:c,P=0,I=w.length;P<I;P++)this.extend(w[P])}he.prototype={extend:function(c){var f,w;if(!c)return this;if(c instanceof q||typeof c[0]=="number"||"x"in c)f=w=Q(c);else if(c=ue(c),f=c.min,w=c.max,!f||!w)return this;return!this.min&&!this.max?(this.min=f.clone(),this.max=w.clone()):(this.min.x=Math.min(f.x,this.min.x),this.max.x=Math.max(w.x,this.max.x),this.min.y=Math.min(f.y,this.min.y),this.max.y=Math.max(w.y,this.max.y)),this},getCenter:function(c){return Q((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,c)},getBottomLeft:function(){return Q(this.min.x,this.max.y)},getTopRight:function(){return Q(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(c){var f,w;return typeof c[0]=="number"||c instanceof q?c=Q(c):c=ue(c),c instanceof he?(f=c.min,w=c.max):f=w=c,f.x>=this.min.x&&w.x<=this.max.x&&f.y>=this.min.y&&w.y<=this.max.y},intersects:function(c){c=ue(c);var f=this.min,w=this.max,P=c.min,I=c.max,W=I.x>=f.x&&P.x<=w.x,ie=I.y>=f.y&&P.y<=w.y;return W&&ie},overlaps:function(c){c=ue(c);var f=this.min,w=this.max,P=c.min,I=c.max,W=I.x>f.x&&P.x<w.x,ie=I.y>f.y&&P.y<w.y;return W&&ie},isValid:function(){return!!(this.min&&this.max)},pad:function(c){var f=this.min,w=this.max,P=Math.abs(f.x-w.x)*c,I=Math.abs(f.y-w.y)*c;return ue(Q(f.x-P,f.y-I),Q(w.x+P,w.y+I))},equals:function(c){return c?(c=ue(c),this.min.equals(c.getTopLeft())&&this.max.equals(c.getBottomRight())):!1}};function ue(c,f){return!c||c instanceof he?c:new he(c,f)}function ce(c,f){if(c)for(var w=f?[c,f]:c,P=0,I=w.length;P<I;P++)this.extend(w[P])}ce.prototype={extend:function(c){var f=this._southWest,w=this._northEast,P,I;if(c instanceof J)P=c,I=c;else if(c instanceof ce){if(P=c._southWest,I=c._northEast,!P||!I)return this}else return c?this.extend(ye(c)||G(c)):this;return!f&&!w?(this._southWest=new J(P.lat,P.lng),this._northEast=new J(I.lat,I.lng)):(f.lat=Math.min(P.lat,f.lat),f.lng=Math.min(P.lng,f.lng),w.lat=Math.max(I.lat,w.lat),w.lng=Math.max(I.lng,w.lng)),this},pad:function(c){var f=this._southWest,w=this._northEast,P=Math.abs(f.lat-w.lat)*c,I=Math.abs(f.lng-w.lng)*c;return new ce(new J(f.lat-P,f.lng-I),new J(w.lat+P,w.lng+I))},getCenter:function(){return new J((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new J(this.getNorth(),this.getWest())},getSouthEast:function(){return new J(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(c){typeof c[0]=="number"||c instanceof J||"lat"in c?c=ye(c):c=G(c);var f=this._southWest,w=this._northEast,P,I;return c instanceof ce?(P=c.getSouthWest(),I=c.getNorthEast()):P=I=c,P.lat>=f.lat&&I.lat<=w.lat&&P.lng>=f.lng&&I.lng<=w.lng},intersects:function(c){c=G(c);var f=this._southWest,w=this._northEast,P=c.getSouthWest(),I=c.getNorthEast(),W=I.lat>=f.lat&&P.lat<=w.lat,ie=I.lng>=f.lng&&P.lng<=w.lng;return W&&ie},overlaps:function(c){c=G(c);var f=this._southWest,w=this._northEast,P=c.getSouthWest(),I=c.getNorthEast(),W=I.lat>f.lat&&P.lat<w.lat,ie=I.lng>f.lng&&P.lng<w.lng;return W&&ie},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(c,f){return c?(c=G(c),this._southWest.equals(c.getSouthWest(),f)&&this._northEast.equals(c.getNorthEast(),f)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function G(c,f){return c instanceof ce?c:new ce(c,f)}function J(c,f,w){if(isNaN(c)||isNaN(f))throw new Error("Invalid LatLng object: ("+c+", "+f+")");this.lat=+c,this.lng=+f,w!==void 0&&(this.alt=+w)}J.prototype={equals:function(c,f){if(!c)return!1;c=ye(c);var w=Math.max(Math.abs(this.lat-c.lat),Math.abs(this.lng-c.lng));return w<=(f===void 0?1e-9:f)},toString:function(c){return"LatLng("+p(this.lat,c)+", "+p(this.lng,c)+")"},distanceTo:function(c){return We.distance(this,ye(c))},wrap:function(){return We.wrapLatLng(this)},toBounds:function(c){var f=180*c/40075017,w=f/Math.cos(Math.PI/180*this.lat);return G([this.lat-f,this.lng-w],[this.lat+f,this.lng+w])},clone:function(){return new J(this.lat,this.lng,this.alt)}};function ye(c,f,w){return c instanceof J?c:S(c)&&typeof c[0]!="object"?c.length===3?new J(c[0],c[1],c[2]):c.length===2?new J(c[0],c[1]):null:c==null?c:typeof c=="object"&&"lat"in c?new J(c.lat,"lng"in c?c.lng:c.lon,c.alt):f===void 0?null:new J(c,f,w)}var Se={latLngToPoint:function(c,f){var w=this.projection.project(c),P=this.scale(f);return this.transformation._transform(w,P)},pointToLatLng:function(c,f){var w=this.scale(f),P=this.transformation.untransform(c,w);return this.projection.unproject(P)},project:function(c){return this.projection.project(c)},unproject:function(c){return this.projection.unproject(c)},scale:function(c){return 256*Math.pow(2,c)},zoom:function(c){return Math.log(c/256)/Math.LN2},getProjectedBounds:function(c){if(this.infinite)return null;var f=this.projection.bounds,w=this.scale(c),P=this.transformation.transform(f.min,w),I=this.transformation.transform(f.max,w);return new he(P,I)},infinite:!1,wrapLatLng:function(c){var f=this.wrapLng?h(c.lng,this.wrapLng,!0):c.lng,w=this.wrapLat?h(c.lat,this.wrapLat,!0):c.lat,P=c.alt;return new J(w,f,P)},wrapLatLngBounds:function(c){var f=c.getCenter(),w=this.wrapLatLng(f),P=f.lat-w.lat,I=f.lng-w.lng;if(P===0&&I===0)return c;var W=c.getSouthWest(),ie=c.getNorthEast(),ve=new J(W.lat-P,W.lng-I),_e=new J(ie.lat-P,ie.lng-I);return new ce(ve,_e)}},We=a({},Se,{wrapLng:[-180,180],R:6371e3,distance:function(c,f){var w=Math.PI/180,P=c.lat*w,I=f.lat*w,W=Math.sin((f.lat-c.lat)*w/2),ie=Math.sin((f.lng-c.lng)*w/2),ve=W*W+Math.cos(P)*Math.cos(I)*ie*ie,_e=2*Math.atan2(Math.sqrt(ve),Math.sqrt(1-ve));return this.R*_e}}),Ae=6378137,ze={R:Ae,MAX_LATITUDE:85.0511287798,project:function(c){var f=Math.PI/180,w=this.MAX_LATITUDE,P=Math.max(Math.min(w,c.lat),-w),I=Math.sin(P*f);return new q(this.R*c.lng*f,this.R*Math.log((1+I)/(1-I))/2)},unproject:function(c){var f=180/Math.PI;return new J((2*Math.atan(Math.exp(c.y/this.R))-Math.PI/2)*f,c.x*f/this.R)},bounds:function(){var c=Ae*Math.PI;return new he([-c,-c],[c,c])}()};function Fe(c,f,w,P){if(S(c)){this._a=c[0],this._b=c[1],this._c=c[2],this._d=c[3];return}this._a=c,this._b=f,this._c=w,this._d=P}Fe.prototype={transform:function(c,f){return this._transform(c.clone(),f)},_transform:function(c,f){return f=f||1,c.x=f*(this._a*c.x+this._b),c.y=f*(this._c*c.y+this._d),c},untransform:function(c,f){return f=f||1,new q((c.x/f-this._b)/this._a,(c.y/f-this._d)/this._c)}};function je(c,f,w,P){return new Fe(c,f,w,P)}var Ze=a({},We,{code:"EPSG:3857",projection:ze,transformation:function(){var c=.5/(Math.PI*ze.R);return je(c,.5,-c,.5)}()}),K=a({},Ze,{code:"EPSG:900913"});function te(c){return document.createElementNS("http://www.w3.org/2000/svg",c)}function Ne(c,f){var w="",P,I,W,ie,ve,_e;for(P=0,W=c.length;P<W;P++){for(ve=c[P],I=0,ie=ve.length;I<ie;I++)_e=ve[I],w+=(I?"L":"M")+_e.x+" "+_e.y;w+=f?ht.svg?"z":"x":""}return w||"M0 0"}var pe=document.documentElement.style,oe="ActiveXObject"in window,Be=oe&&!document.addEventListener,X="msLaunchUri"in navigator&&!("documentMode"in document),H=ri("webkit"),me=ri("android"),Ce=ri("android 2")||ri("android 3"),le=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),we=me&&ri("Google")&&le<537&&!("AudioNode"in window),Ee=!!window.opera,nt=!X&&ri("chrome"),yt=ri("gecko")&&!H&&!Ee&&!oe,Ln=!nt&&ri("safari"),Qs=ri("phantom"),As="OTransition"in pe,gd=navigator.platform.indexOf("Win")===0,Xa=oe&&"transition"in pe,cs="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ce,ec="MozPerspective"in pe,Sa=!window.L_DISABLE_3D&&(Xa||cs||ec)&&!As&&!Qs,Li=typeof orientation<"u"||ri("mobile"),vd=Li&&H,Gp=Li&&cs,Hm=!window.PointerEvent&&window.MSPointerEvent,Zp=!!(window.PointerEvent||Hm),yd="ontouchstart"in window||!!window.TouchEvent,Ja=!window.L_NO_TOUCH&&(yd||Zp),mj=Li&&Ee,St=Li&&yt,cr=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,yr=function(){var c=!1;try{var f=Object.defineProperty({},"passive",{get:function(){c=!0}});window.addEventListener("testPassiveEventSupport",m,f),window.removeEventListener("testPassiveEventSupport",m,f)}catch{}return c}(),ks=function(){return!!document.createElement("canvas").getContext}(),Wn=!!(document.createElementNS&&te("svg").createSVGRect),ei=!!Wn&&function(){var c=document.createElement("div");return c.innerHTML="<svg/>",(c.firstChild&&c.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),$i=!Wn&&function(){try{var c=document.createElement("div");c.innerHTML='<v:shape adj="1"/>';var f=c.firstChild;return f.style.behavior="url(#default#VML)",f&&typeof f.adj=="object"}catch{return!1}}(),Es=navigator.platform.indexOf("Mac")===0,ti=navigator.platform.indexOf("Linux")===0;function ri(c){return navigator.userAgent.toLowerCase().indexOf(c)>=0}var ht={ie:oe,ielt9:Be,edge:X,webkit:H,android:me,android23:Ce,androidStock:we,opera:Ee,chrome:nt,gecko:yt,safari:Ln,phantom:Qs,opera12:As,win:gd,ie3d:Xa,webkit3d:cs,gecko3d:ec,any3d:Sa,mobile:Li,mobileWebkit:vd,mobileWebkit3d:Gp,msPointer:Hm,pointer:Zp,touch:Ja,touchNative:yd,mobileOpera:mj,mobileGecko:St,retina:cr,passiveEvents:yr,canvas:ks,svg:Wn,vml:$i,inlineSvg:ei,mac:Es,linux:ti},DC=ht.msPointer?"MSPointerDown":"pointerdown",RC=ht.msPointer?"MSPointerMove":"pointermove",zC=ht.msPointer?"MSPointerUp":"pointerup",FC=ht.msPointer?"MSPointerCancel":"pointercancel",hj={touchstart:DC,touchmove:RC,touchend:zC,touchcancel:FC},BC={touchstart:$9,touchmove:Qp,touchend:Qp,touchcancel:Qp},jd={},qC=!1;function T9(c,f,w){return f==="touchstart"&&L9(),BC[f]?(w=BC[f].bind(this,w),c.addEventListener(hj[f],w,!1),w):(console.warn("wrong event specified:",f),m)}function O9(c,f,w){if(!hj[f]){console.warn("wrong event specified:",f);return}c.removeEventListener(hj[f],w,!1)}function I9(c){jd[c.pointerId]=c}function M9(c){jd[c.pointerId]&&(jd[c.pointerId]=c)}function UC(c){delete jd[c.pointerId]}function L9(){qC||(document.addEventListener(DC,I9,!0),document.addEventListener(RC,M9,!0),document.addEventListener(zC,UC,!0),document.addEventListener(FC,UC,!0),qC=!0)}function Qp(c,f){if(f.pointerType!==(f.MSPOINTER_TYPE_MOUSE||"mouse")){f.touches=[];for(var w in jd)f.touches.push(jd[w]);f.changedTouches=[f],c(f)}}function $9(c,f){f.MSPOINTER_TYPE_TOUCH&&f.pointerType===f.MSPOINTER_TYPE_TOUCH&&_n(f),Qp(c,f)}function D9(c){var f={},w,P;for(P in c)w=c[P],f[P]=w&&w.bind?w.bind(c):w;return c=f,f.type="dblclick",f.detail=2,f.isTrusted=!1,f._simulated=!0,f}var R9=200;function z9(c,f){c.addEventListener("dblclick",f);var w=0,P;function I(W){if(W.detail!==1){P=W.detail;return}if(!(W.pointerType==="mouse"||W.sourceCapabilities&&!W.sourceCapabilities.firesTouchEvents)){var ie=GC(W);if(!(ie.some(function(_e){return _e instanceof HTMLLabelElement&&_e.attributes.for})&&!ie.some(function(_e){return _e instanceof HTMLInputElement||_e instanceof HTMLSelectElement}))){var ve=Date.now();ve-w<=R9?(P++,P===2&&f(D9(W))):P=1,w=ve}}}return c.addEventListener("click",I),{dblclick:f,simDblclick:I}}function F9(c,f){c.removeEventListener("dblclick",f.dblclick),c.removeEventListener("click",f.simDblclick)}var fj=Jp(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Gm=Jp(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),VC=Gm==="webkitTransition"||Gm==="OTransition"?Gm+"End":"transitionend";function WC(c){return typeof c=="string"?document.getElementById(c):c}function Zm(c,f){var w=c.style[f]||c.currentStyle&&c.currentStyle[f];if((!w||w==="auto")&&document.defaultView){var P=document.defaultView.getComputedStyle(c,null);w=P?P[f]:null}return w==="auto"?null:w}function nr(c,f,w){var P=document.createElement(c);return P.className=f||"",w&&w.appendChild(P),P}function Lr(c){var f=c.parentNode;f&&f.removeChild(c)}function Yp(c){for(;c.firstChild;)c.removeChild(c.firstChild)}function bd(c){var f=c.parentNode;f&&f.lastChild!==c&&f.appendChild(c)}function wd(c){var f=c.parentNode;f&&f.firstChild!==c&&f.insertBefore(c,f.firstChild)}function pj(c,f){if(c.classList!==void 0)return c.classList.contains(f);var w=Xp(c);return w.length>0&&new RegExp("(^|\\s)"+f+"(\\s|$)").test(w)}function Dt(c,f){if(c.classList!==void 0)for(var w=y(f),P=0,I=w.length;P<I;P++)c.classList.add(w[P]);else if(!pj(c,f)){var W=Xp(c);xj(c,(W?W+" ":"")+f)}}function Wr(c,f){c.classList!==void 0?c.classList.remove(f):xj(c,g((" "+Xp(c)+" ").replace(" "+f+" "," ")))}function xj(c,f){c.className.baseVal===void 0?c.className=f:c.className.baseVal=f}function Xp(c){return c.correspondingElement&&(c=c.correspondingElement),c.className.baseVal===void 0?c.className:c.className.baseVal}function Ys(c,f){"opacity"in c.style?c.style.opacity=f:"filter"in c.style&&B9(c,f)}function B9(c,f){var w=!1,P="DXImageTransform.Microsoft.Alpha";try{w=c.filters.item(P)}catch{if(f===1)return}f=Math.round(f*100),w?(w.Enabled=f!==100,w.Opacity=f):c.style.filter+=" progid:"+P+"(opacity="+f+")"}function Jp(c){for(var f=document.documentElement.style,w=0;w<c.length;w++)if(c[w]in f)return c[w];return!1}function tc(c,f,w){var P=f||new q(0,0);c.style[fj]=(ht.ie3d?"translate("+P.x+"px,"+P.y+"px)":"translate3d("+P.x+"px,"+P.y+"px,0)")+(w?" scale("+w+")":"")}function Yr(c,f){c._leaflet_pos=f,ht.any3d?tc(c,f):(c.style.left=f.x+"px",c.style.top=f.y+"px")}function rc(c){return c._leaflet_pos||new q(0,0)}var Qm,Ym,gj;if("onselectstart"in document)Qm=function(){kt(window,"selectstart",_n)},Ym=function(){jr(window,"selectstart",_n)};else{var Xm=Jp(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Qm=function(){if(Xm){var c=document.documentElement.style;gj=c[Xm],c[Xm]="none"}},Ym=function(){Xm&&(document.documentElement.style[Xm]=gj,gj=void 0)}}function vj(){kt(window,"dragstart",_n)}function yj(){jr(window,"dragstart",_n)}var ex,jj;function bj(c){for(;c.tabIndex===-1;)c=c.parentNode;c.style&&(tx(),ex=c,jj=c.style.outlineStyle,c.style.outlineStyle="none",kt(window,"keydown",tx))}function tx(){ex&&(ex.style.outlineStyle=jj,ex=void 0,jj=void 0,jr(window,"keydown",tx))}function KC(c){do c=c.parentNode;while((!c.offsetWidth||!c.offsetHeight)&&c!==document.body);return c}function wj(c){var f=c.getBoundingClientRect();return{x:f.width/c.offsetWidth||1,y:f.height/c.offsetHeight||1,boundingClientRect:f}}var q9={__proto__:null,TRANSFORM:fj,TRANSITION:Gm,TRANSITION_END:VC,get:WC,getStyle:Zm,create:nr,remove:Lr,empty:Yp,toFront:bd,toBack:wd,hasClass:pj,addClass:Dt,removeClass:Wr,setClass:xj,getClass:Xp,setOpacity:Ys,testProp:Jp,setTransform:tc,setPosition:Yr,getPosition:rc,get disableTextSelection(){return Qm},get enableTextSelection(){return Ym},disableImageDrag:vj,enableImageDrag:yj,preventOutline:bj,restoreOutline:tx,getSizedParentNode:KC,getScale:wj};function kt(c,f,w,P){if(f&&typeof f=="object")for(var I in f)Sj(c,I,f[I],w);else{f=y(f);for(var W=0,ie=f.length;W<ie;W++)Sj(c,f[W],w,P)}return this}var ni="_leaflet_events";function jr(c,f,w,P){if(arguments.length===1)HC(c),delete c[ni];else if(f&&typeof f=="object")for(var I in f)_j(c,I,f[I],w);else if(f=y(f),arguments.length===2)HC(c,function(ve){return C(f,ve)!==-1});else for(var W=0,ie=f.length;W<ie;W++)_j(c,f[W],w,P);return this}function HC(c,f){for(var w in c[ni]){var P=w.split(/\d/)[0];(!f||f(P))&&_j(c,P,null,null,w)}}var Nj={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Sj(c,f,w,P){var I=f+d(w)+(P?"_"+d(P):"");if(c[ni]&&c[ni][I])return this;var W=function(ve){return w.call(P||c,ve||window.event)},ie=W;!ht.touchNative&&ht.pointer&&f.indexOf("touch")===0?W=T9(c,f,W):ht.touch&&f==="dblclick"?W=z9(c,W):"addEventListener"in c?f==="touchstart"||f==="touchmove"||f==="wheel"||f==="mousewheel"?c.addEventListener(Nj[f]||f,W,ht.passiveEvents?{passive:!1}:!1):f==="mouseenter"||f==="mouseleave"?(W=function(ve){ve=ve||window.event,Pj(c,ve)&&ie(ve)},c.addEventListener(Nj[f],W,!1)):c.addEventListener(f,ie,!1):c.attachEvent("on"+f,W),c[ni]=c[ni]||{},c[ni][I]=W}function _j(c,f,w,P,I){I=I||f+d(w)+(P?"_"+d(P):"");var W=c[ni]&&c[ni][I];if(!W)return this;!ht.touchNative&&ht.pointer&&f.indexOf("touch")===0?O9(c,f,W):ht.touch&&f==="dblclick"?F9(c,W):"removeEventListener"in c?c.removeEventListener(Nj[f]||f,W,!1):c.detachEvent("on"+f,W),c[ni][I]=null}function nc(c){return c.stopPropagation?c.stopPropagation():c.originalEvent?c.originalEvent._stopped=!0:c.cancelBubble=!0,this}function Cj(c){return Sj(c,"wheel",nc),this}function Jm(c){return kt(c,"mousedown touchstart dblclick contextmenu",nc),c._leaflet_disable_click=!0,this}function _n(c){return c.preventDefault?c.preventDefault():c.returnValue=!1,this}function sc(c){return _n(c),nc(c),this}function GC(c){if(c.composedPath)return c.composedPath();for(var f=[],w=c.target;w;)f.push(w),w=w.parentNode;return f}function ZC(c,f){if(!f)return new q(c.clientX,c.clientY);var w=wj(f),P=w.boundingClientRect;return new q((c.clientX-P.left)/w.x-f.clientLeft,(c.clientY-P.top)/w.y-f.clientTop)}var U9=ht.linux&&ht.chrome?window.devicePixelRatio:ht.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function QC(c){return ht.edge?c.wheelDeltaY/2:c.deltaY&&c.deltaMode===0?-c.deltaY/U9:c.deltaY&&c.deltaMode===1?-c.deltaY*20:c.deltaY&&c.deltaMode===2?-c.deltaY*60:c.deltaX||c.deltaZ?0:c.wheelDelta?(c.wheelDeltaY||c.wheelDelta)/2:c.detail&&Math.abs(c.detail)<32765?-c.detail*20:c.detail?c.detail/-32765*60:0}function Pj(c,f){var w=f.relatedTarget;if(!w)return!0;try{for(;w&&w!==c;)w=w.parentNode}catch{return!1}return w!==c}var V9={__proto__:null,on:kt,off:jr,stopPropagation:nc,disableScrollPropagation:Cj,disableClickPropagation:Jm,preventDefault:_n,stop:sc,getPropagationPath:GC,getMousePosition:ZC,getWheelDelta:QC,isExternalTarget:Pj,addListener:kt,removeListener:jr},YC=V.extend({run:function(c,f,w,P){this.stop(),this._el=c,this._inProgress=!0,this._duration=w||.25,this._easeOutPower=1/Math.max(P||.5,.2),this._startPos=rc(c),this._offset=f.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=z(this._animate,this),this._step()},_step:function(c){var f=+new Date-this._startTime,w=this._duration*1e3;f<w?this._runFrame(this._easeOut(f/w),c):(this._runFrame(1),this._complete())},_runFrame:function(c,f){var w=this._startPos.add(this._offset.multiplyBy(c));f&&w._round(),Yr(this._el,w),this.fire("step")},_complete:function(){F(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(c){return 1-Math.pow(1-c,this._easeOutPower)}}),Jt=V.extend({options:{crs:Ze,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(c,f){f=x(this,f),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(c),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),f.maxBounds&&this.setMaxBounds(f.maxBounds),f.zoom!==void 0&&(this._zoom=this._limitZoom(f.zoom)),f.center&&f.zoom!==void 0&&this.setView(ye(f.center),f.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Gm&&ht.any3d&&!ht.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),kt(this._proxy,VC,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(c,f,w){if(f=f===void 0?this._zoom:this._limitZoom(f),c=this._limitCenter(ye(c),f,this.options.maxBounds),w=w||{},this._stop(),this._loaded&&!w.reset&&w!==!0){w.animate!==void 0&&(w.zoom=a({animate:w.animate},w.zoom),w.pan=a({animate:w.animate,duration:w.duration},w.pan));var P=this._zoom!==f?this._tryAnimatedZoom&&this._tryAnimatedZoom(c,f,w.zoom):this._tryAnimatedPan(c,w.pan);if(P)return clearTimeout(this._sizeTimer),this}return this._resetView(c,f,w.pan&&w.pan.noMoveStart),this},setZoom:function(c,f){return this._loaded?this.setView(this.getCenter(),c,{zoom:f}):(this._zoom=c,this)},zoomIn:function(c,f){return c=c||(ht.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+c,f)},zoomOut:function(c,f){return c=c||(ht.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-c,f)},setZoomAround:function(c,f,w){var P=this.getZoomScale(f),I=this.getSize().divideBy(2),W=c instanceof q?c:this.latLngToContainerPoint(c),ie=W.subtract(I).multiplyBy(1-1/P),ve=this.containerPointToLatLng(I.add(ie));return this.setView(ve,f,{zoom:w})},_getBoundsCenterZoom:function(c,f){f=f||{},c=c.getBounds?c.getBounds():G(c);var w=Q(f.paddingTopLeft||f.padding||[0,0]),P=Q(f.paddingBottomRight||f.padding||[0,0]),I=this.getBoundsZoom(c,!1,w.add(P));if(I=typeof f.maxZoom=="number"?Math.min(f.maxZoom,I):I,I===1/0)return{center:c.getCenter(),zoom:I};var W=P.subtract(w).divideBy(2),ie=this.project(c.getSouthWest(),I),ve=this.project(c.getNorthEast(),I),_e=this.unproject(ie.add(ve).divideBy(2).add(W),I);return{center:_e,zoom:I}},fitBounds:function(c,f){if(c=G(c),!c.isValid())throw new Error("Bounds are not valid.");var w=this._getBoundsCenterZoom(c,f);return this.setView(w.center,w.zoom,f)},fitWorld:function(c){return this.fitBounds([[-90,-180],[90,180]],c)},panTo:function(c,f){return this.setView(c,this._zoom,{pan:f})},panBy:function(c,f){if(c=Q(c).round(),f=f||{},!c.x&&!c.y)return this.fire("moveend");if(f.animate!==!0&&!this.getSize().contains(c))return this._resetView(this.unproject(this.project(this.getCenter()).add(c)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new YC,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),f.noMoveStart||this.fire("movestart"),f.animate!==!1){Dt(this._mapPane,"leaflet-pan-anim");var w=this._getMapPanePos().subtract(c).round();this._panAnim.run(this._mapPane,w,f.duration||.25,f.easeLinearity)}else this._rawPanBy(c),this.fire("move").fire("moveend");return this},flyTo:function(c,f,w){if(w=w||{},w.animate===!1||!ht.any3d)return this.setView(c,f,w);this._stop();var P=this.project(this.getCenter()),I=this.project(c),W=this.getSize(),ie=this._zoom;c=ye(c),f=f===void 0?ie:f;var ve=Math.max(W.x,W.y),_e=ve*this.getZoomScale(ie,f),De=I.distanceTo(P)||1,Je=1.42,wt=Je*Je;function Ht(Xr){var hx=Xr?-1:1,O7=Xr?_e:ve,I7=_e*_e-ve*ve+hx*wt*wt*De*De,M7=2*O7*wt*De,Rj=I7/M7,TP=Math.sqrt(Rj*Rj+1)-Rj,L7=TP<1e-9?-18:Math.log(TP);return L7}function Kn(Xr){return(Math.exp(Xr)-Math.exp(-Xr))/2}function hn(Xr){return(Math.exp(Xr)+Math.exp(-Xr))/2}function Js(Xr){return Kn(Xr)/hn(Xr)}var ds=Ht(0);function Ad(Xr){return ve*(hn(ds)/hn(ds+Je*Xr))}function A7(Xr){return ve*(hn(ds)*Js(ds+Je*Xr)-Kn(ds))/wt}function k7(Xr){return 1-Math.pow(1-Xr,1.5)}var E7=Date.now(),kP=(Ht(1)-ds)/Je,T7=w.duration?1e3*w.duration:1e3*kP*.8;function EP(){var Xr=(Date.now()-E7)/T7,hx=k7(Xr)*kP;Xr<=1?(this._flyToFrame=z(EP,this),this._move(this.unproject(P.add(I.subtract(P).multiplyBy(A7(hx)/De)),ie),this.getScaleZoom(ve/Ad(hx),ie),{flyTo:!0})):this._move(c,f)._moveEnd(!0)}return this._moveStart(!0,w.noMoveStart),EP.call(this),this},flyToBounds:function(c,f){var w=this._getBoundsCenterZoom(c,f);return this.flyTo(w.center,w.zoom,f)},setMaxBounds:function(c){return c=G(c),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),c.isValid()?(this.options.maxBounds=c,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(c){var f=this.options.minZoom;return this.options.minZoom=c,this._loaded&&f!==c&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(c):this},setMaxZoom:function(c){var f=this.options.maxZoom;return this.options.maxZoom=c,this._loaded&&f!==c&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(c):this},panInsideBounds:function(c,f){this._enforcingBounds=!0;var w=this.getCenter(),P=this._limitCenter(w,this._zoom,G(c));return w.equals(P)||this.panTo(P,f),this._enforcingBounds=!1,this},panInside:function(c,f){f=f||{};var w=Q(f.paddingTopLeft||f.padding||[0,0]),P=Q(f.paddingBottomRight||f.padding||[0,0]),I=this.project(this.getCenter()),W=this.project(c),ie=this.getPixelBounds(),ve=ue([ie.min.add(w),ie.max.subtract(P)]),_e=ve.getSize();if(!ve.contains(W)){this._enforcingBounds=!0;var De=W.subtract(ve.getCenter()),Je=ve.extend(W).getSize().subtract(_e);I.x+=De.x<0?-Je.x:Je.x,I.y+=De.y<0?-Je.y:Je.y,this.panTo(this.unproject(I),f),this._enforcingBounds=!1}return this},invalidateSize:function(c){if(!this._loaded)return this;c=a({animate:!1,pan:!0},c===!0?{animate:!0}:c);var f=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var w=this.getSize(),P=f.divideBy(2).round(),I=w.divideBy(2).round(),W=P.subtract(I);return!W.x&&!W.y?this:(c.animate&&c.pan?this.panBy(W):(c.pan&&this._rawPanBy(W),this.fire("move"),c.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:f,newSize:w}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(c){if(c=this._locateOptions=a({timeout:1e4,watch:!1},c),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var f=o(this._handleGeolocationResponse,this),w=o(this._handleGeolocationError,this);return c.watch?this._locationWatchId=navigator.geolocation.watchPosition(f,w,c):navigator.geolocation.getCurrentPosition(f,w,c),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(c){if(this._container._leaflet_id){var f=c.code,w=c.message||(f===1?"permission denied":f===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:f,message:"Geolocation error: "+w+"."})}},_handleGeolocationResponse:function(c){if(this._container._leaflet_id){var f=c.coords.latitude,w=c.coords.longitude,P=new J(f,w),I=P.toBounds(c.coords.accuracy*2),W=this._locateOptions;if(W.setView){var ie=this.getBoundsZoom(I);this.setView(P,W.maxZoom?Math.min(ie,W.maxZoom):ie)}var ve={latlng:P,bounds:I,timestamp:c.timestamp};for(var _e in c.coords)typeof c.coords[_e]=="number"&&(ve[_e]=c.coords[_e]);this.fire("locationfound",ve)}},addHandler:function(c,f){if(!f)return this;var w=this[c]=new f(this);return this._handlers.push(w),this.options[c]&&w.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Lr(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(F(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var c;for(c in this._layers)this._layers[c].remove();for(c in this._panes)Lr(this._panes[c]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(c,f){var w="leaflet-pane"+(c?" leaflet-"+c.replace("Pane","")+"-pane":""),P=nr("div",w,f||this._mapPane);return c&&(this._panes[c]=P),P},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var c=this.getPixelBounds(),f=this.unproject(c.getBottomLeft()),w=this.unproject(c.getTopRight());return new ce(f,w)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(c,f,w){c=G(c),w=Q(w||[0,0]);var P=this.getZoom()||0,I=this.getMinZoom(),W=this.getMaxZoom(),ie=c.getNorthWest(),ve=c.getSouthEast(),_e=this.getSize().subtract(w),De=ue(this.project(ve,P),this.project(ie,P)).getSize(),Je=ht.any3d?this.options.zoomSnap:1,wt=_e.x/De.x,Ht=_e.y/De.y,Kn=f?Math.max(wt,Ht):Math.min(wt,Ht);return P=this.getScaleZoom(Kn,P),Je&&(P=Math.round(P/(Je/100))*(Je/100),P=f?Math.ceil(P/Je)*Je:Math.floor(P/Je)*Je),Math.max(I,Math.min(W,P))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new q(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(c,f){var w=this._getTopLeftPoint(c,f);return new he(w,w.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(c){return this.options.crs.getProjectedBounds(c===void 0?this.getZoom():c)},getPane:function(c){return typeof c=="string"?this._panes[c]:c},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(c,f){var w=this.options.crs;return f=f===void 0?this._zoom:f,w.scale(c)/w.scale(f)},getScaleZoom:function(c,f){var w=this.options.crs;f=f===void 0?this._zoom:f;var P=w.zoom(c*w.scale(f));return isNaN(P)?1/0:P},project:function(c,f){return f=f===void 0?this._zoom:f,this.options.crs.latLngToPoint(ye(c),f)},unproject:function(c,f){return f=f===void 0?this._zoom:f,this.options.crs.pointToLatLng(Q(c),f)},layerPointToLatLng:function(c){var f=Q(c).add(this.getPixelOrigin());return this.unproject(f)},latLngToLayerPoint:function(c){var f=this.project(ye(c))._round();return f._subtract(this.getPixelOrigin())},wrapLatLng:function(c){return this.options.crs.wrapLatLng(ye(c))},wrapLatLngBounds:function(c){return this.options.crs.wrapLatLngBounds(G(c))},distance:function(c,f){return this.options.crs.distance(ye(c),ye(f))},containerPointToLayerPoint:function(c){return Q(c).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(c){return Q(c).add(this._getMapPanePos())},containerPointToLatLng:function(c){var f=this.containerPointToLayerPoint(Q(c));return this.layerPointToLatLng(f)},latLngToContainerPoint:function(c){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ye(c)))},mouseEventToContainerPoint:function(c){return ZC(c,this._container)},mouseEventToLayerPoint:function(c){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(c))},mouseEventToLatLng:function(c){return this.layerPointToLatLng(this.mouseEventToLayerPoint(c))},_initContainer:function(c){var f=this._container=WC(c);if(f){if(f._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");kt(f,"scroll",this._onScroll,this),this._containerId=d(f)},_initLayout:function(){var c=this._container;this._fadeAnimated=this.options.fadeAnimation&&ht.any3d,Dt(c,"leaflet-container"+(ht.touch?" leaflet-touch":"")+(ht.retina?" leaflet-retina":"")+(ht.ielt9?" leaflet-oldie":"")+(ht.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var f=Zm(c,"position");f!=="absolute"&&f!=="relative"&&f!=="fixed"&&f!=="sticky"&&(c.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var c=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Yr(this._mapPane,new q(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Dt(c.markerPane,"leaflet-zoom-hide"),Dt(c.shadowPane,"leaflet-zoom-hide"))},_resetView:function(c,f,w){Yr(this._mapPane,new q(0,0));var P=!this._loaded;this._loaded=!0,f=this._limitZoom(f),this.fire("viewprereset");var I=this._zoom!==f;this._moveStart(I,w)._move(c,f)._moveEnd(I),this.fire("viewreset"),P&&this.fire("load")},_moveStart:function(c,f){return c&&this.fire("zoomstart"),f||this.fire("movestart"),this},_move:function(c,f,w,P){f===void 0&&(f=this._zoom);var I=this._zoom!==f;return this._zoom=f,this._lastCenter=c,this._pixelOrigin=this._getNewPixelOrigin(c),P?w&&w.pinch&&this.fire("zoom",w):((I||w&&w.pinch)&&this.fire("zoom",w),this.fire("move",w)),this},_moveEnd:function(c){return c&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return F(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(c){Yr(this._mapPane,this._getMapPanePos().subtract(c))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(c){this._targets={},this._targets[d(this._container)]=this;var f=c?jr:kt;f(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&f(window,"resize",this._onResize,this),ht.any3d&&this.options.transform3DLimit&&(c?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){F(this._resizeRequest),this._resizeRequest=z(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var c=this._getMapPanePos();Math.max(Math.abs(c.x),Math.abs(c.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(c,f){for(var w=[],P,I=f==="mouseout"||f==="mouseover",W=c.target||c.srcElement,ie=!1;W;){if(P=this._targets[d(W)],P&&(f==="click"||f==="preclick")&&this._draggableMoved(P)){ie=!0;break}if(P&&P.listens(f,!0)&&(I&&!Pj(W,c)||(w.push(P),I))||W===this._container)break;W=W.parentNode}return!w.length&&!ie&&!I&&this.listens(f,!0)&&(w=[this]),w},_isClickDisabled:function(c){for(;c&&c!==this._container;){if(c._leaflet_disable_click)return!0;c=c.parentNode}},_handleDOMEvent:function(c){var f=c.target||c.srcElement;if(!(!this._loaded||f._leaflet_disable_events||c.type==="click"&&this._isClickDisabled(f))){var w=c.type;w==="mousedown"&&bj(f),this._fireDOMEvent(c,w)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(c,f,w){if(c.type==="click"){var P=a({},c);P.type="preclick",this._fireDOMEvent(P,P.type,w)}var I=this._findEventTargets(c,f);if(w){for(var W=[],ie=0;ie<w.length;ie++)w[ie].listens(f,!0)&&W.push(w[ie]);I=W.concat(I)}if(I.length){f==="contextmenu"&&_n(c);var ve=I[0],_e={originalEvent:c};if(c.type!=="keypress"&&c.type!=="keydown"&&c.type!=="keyup"){var De=ve.getLatLng&&(!ve._radius||ve._radius<=10);_e.containerPoint=De?this.latLngToContainerPoint(ve.getLatLng()):this.mouseEventToContainerPoint(c),_e.layerPoint=this.containerPointToLayerPoint(_e.containerPoint),_e.latlng=De?ve.getLatLng():this.layerPointToLatLng(_e.layerPoint)}for(ie=0;ie<I.length;ie++)if(I[ie].fire(f,_e,!0),_e.originalEvent._stopped||I[ie].options.bubblingMouseEvents===!1&&C(this._mouseEvents,f)!==-1)return}},_draggableMoved:function(c){return c=c.dragging&&c.dragging.enabled()?c:this,c.dragging&&c.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var c=0,f=this._handlers.length;c<f;c++)this._handlers[c].disable()},whenReady:function(c,f){return this._loaded?c.call(f||this,{target:this}):this.on("load",c,f),this},_getMapPanePos:function(){return rc(this._mapPane)||new q(0,0)},_moved:function(){var c=this._getMapPanePos();return c&&!c.equals([0,0])},_getTopLeftPoint:function(c,f){var w=c&&f!==void 0?this._getNewPixelOrigin(c,f):this.getPixelOrigin();return w.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(c,f){var w=this.getSize()._divideBy(2);return this.project(c,f)._subtract(w)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(c,f,w){var P=this._getNewPixelOrigin(w,f);return this.project(c,f)._subtract(P)},_latLngBoundsToNewLayerBounds:function(c,f,w){var P=this._getNewPixelOrigin(w,f);return ue([this.project(c.getSouthWest(),f)._subtract(P),this.project(c.getNorthWest(),f)._subtract(P),this.project(c.getSouthEast(),f)._subtract(P),this.project(c.getNorthEast(),f)._subtract(P)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(c){return this.latLngToLayerPoint(c).subtract(this._getCenterLayerPoint())},_limitCenter:function(c,f,w){if(!w)return c;var P=this.project(c,f),I=this.getSize().divideBy(2),W=new he(P.subtract(I),P.add(I)),ie=this._getBoundsOffset(W,w,f);return Math.abs(ie.x)<=1&&Math.abs(ie.y)<=1?c:this.unproject(P.add(ie),f)},_limitOffset:function(c,f){if(!f)return c;var w=this.getPixelBounds(),P=new he(w.min.add(c),w.max.add(c));return c.add(this._getBoundsOffset(P,f))},_getBoundsOffset:function(c,f,w){var P=ue(this.project(f.getNorthEast(),w),this.project(f.getSouthWest(),w)),I=P.min.subtract(c.min),W=P.max.subtract(c.max),ie=this._rebound(I.x,-W.x),ve=this._rebound(I.y,-W.y);return new q(ie,ve)},_rebound:function(c,f){return c+f>0?Math.round(c-f)/2:Math.max(0,Math.ceil(c))-Math.max(0,Math.floor(f))},_limitZoom:function(c){var f=this.getMinZoom(),w=this.getMaxZoom(),P=ht.any3d?this.options.zoomSnap:1;return P&&(c=Math.round(c/P)*P),Math.max(f,Math.min(w,c))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Wr(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(c,f){var w=this._getCenterOffset(c)._trunc();return(f&&f.animate)!==!0&&!this.getSize().contains(w)?!1:(this.panBy(w,f),!0)},_createAnimProxy:function(){var c=this._proxy=nr("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(c),this.on("zoomanim",function(f){var w=fj,P=this._proxy.style[w];tc(this._proxy,this.project(f.center,f.zoom),this.getZoomScale(f.zoom,1)),P===this._proxy.style[w]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Lr(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var c=this.getCenter(),f=this.getZoom();tc(this._proxy,this.project(c,f),this.getZoomScale(f,1))},_catchTransitionEnd:function(c){this._animatingZoom&&c.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(c,f,w){if(this._animatingZoom)return!0;if(w=w||{},!this._zoomAnimated||w.animate===!1||this._nothingToAnimate()||Math.abs(f-this._zoom)>this.options.zoomAnimationThreshold)return!1;var P=this.getZoomScale(f),I=this._getCenterOffset(c)._divideBy(1-1/P);return w.animate!==!0&&!this.getSize().contains(I)?!1:(z(function(){this._moveStart(!0,w.noMoveStart||!1)._animateZoom(c,f,!0)},this),!0)},_animateZoom:function(c,f,w,P){this._mapPane&&(w&&(this._animatingZoom=!0,this._animateToCenter=c,this._animateToZoom=f,Dt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:c,zoom:f,noUpdate:P}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Wr(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function W9(c,f){return new Jt(c,f)}var _a=D.extend({options:{position:"topright"},initialize:function(c){x(this,c)},getPosition:function(){return this.options.position},setPosition:function(c){var f=this._map;return f&&f.removeControl(this),this.options.position=c,f&&f.addControl(this),this},getContainer:function(){return this._container},addTo:function(c){this.remove(),this._map=c;var f=this._container=this.onAdd(c),w=this.getPosition(),P=c._controlCorners[w];return Dt(f,"leaflet-control"),w.indexOf("bottom")!==-1?P.insertBefore(f,P.firstChild):P.appendChild(f),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Lr(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(c){this._map&&c&&c.screenX>0&&c.screenY>0&&this._map.getContainer().focus()}}),eh=function(c){return new _a(c)};Jt.include({addControl:function(c){return c.addTo(this),this},removeControl:function(c){return c.remove(),this},_initControlPos:function(){var c=this._controlCorners={},f="leaflet-",w=this._controlContainer=nr("div",f+"control-container",this._container);function P(I,W){var ie=f+I+" "+f+W;c[I+W]=nr("div",ie,w)}P("top","left"),P("top","right"),P("bottom","left"),P("bottom","right")},_clearControlPos:function(){for(var c in this._controlCorners)Lr(this._controlCorners[c]);Lr(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var XC=_a.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(c,f,w,P){return w<P?-1:P<w?1:0}},initialize:function(c,f,w){x(this,w),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var P in c)this._addLayer(c[P],P);for(P in f)this._addLayer(f[P],P,!0)},onAdd:function(c){this._initLayout(),this._update(),this._map=c,c.on("zoomend",this._checkDisabledLayers,this);for(var f=0;f<this._layers.length;f++)this._layers[f].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(c){return _a.prototype.addTo.call(this,c),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var c=0;c<this._layers.length;c++)this._layers[c].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(c,f){return this._addLayer(c,f),this._map?this._update():this},addOverlay:function(c,f){return this._addLayer(c,f,!0),this._map?this._update():this},removeLayer:function(c){c.off("add remove",this._onLayerChange,this);var f=this._getLayer(d(c));return f&&this._layers.splice(this._layers.indexOf(f),1),this._map?this._update():this},expand:function(){Dt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var c=this._map.getSize().y-(this._container.offsetTop+50);return c<this._section.clientHeight?(Dt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=c+"px"):Wr(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Wr(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var c="leaflet-control-layers",f=this._container=nr("div",c),w=this.options.collapsed;f.setAttribute("aria-haspopup",!0),Jm(f),Cj(f);var P=this._section=nr("section",c+"-list");w&&(this._map.on("click",this.collapse,this),kt(f,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var I=this._layersLink=nr("a",c+"-toggle",f);I.href="#",I.title="Layers",I.setAttribute("role","button"),kt(I,{keydown:function(W){W.keyCode===13&&this._expandSafely()},click:function(W){_n(W),this._expandSafely()}},this),w||this.expand(),this._baseLayersList=nr("div",c+"-base",P),this._separator=nr("div",c+"-separator",P),this._overlaysList=nr("div",c+"-overlays",P),f.appendChild(P)},_getLayer:function(c){for(var f=0;f<this._layers.length;f++)if(this._layers[f]&&d(this._layers[f].layer)===c)return this._layers[f]},_addLayer:function(c,f,w){this._map&&c.on("add remove",this._onLayerChange,this),this._layers.push({layer:c,name:f,overlay:w}),this.options.sortLayers&&this._layers.sort(o(function(P,I){return this.options.sortFunction(P.layer,I.layer,P.name,I.name)},this)),this.options.autoZIndex&&c.setZIndex&&(this._lastZIndex++,c.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Yp(this._baseLayersList),Yp(this._overlaysList),this._layerControlInputs=[];var c,f,w,P,I=0;for(w=0;w<this._layers.length;w++)P=this._layers[w],this._addItem(P),f=f||P.overlay,c=c||!P.overlay,I+=P.overlay?0:1;return this.options.hideSingleBase&&(c=c&&I>1,this._baseLayersList.style.display=c?"":"none"),this._separator.style.display=f&&c?"":"none",this},_onLayerChange:function(c){this._handlingClick||this._update();var f=this._getLayer(d(c.target)),w=f.overlay?c.type==="add"?"overlayadd":"overlayremove":c.type==="add"?"baselayerchange":null;w&&this._map.fire(w,f)},_createRadioElement:function(c,f){var w='<input type="radio" class="leaflet-control-layers-selector" name="'+c+'"'+(f?' checked="checked"':"")+"/>",P=document.createElement("div");return P.innerHTML=w,P.firstChild},_addItem:function(c){var f=document.createElement("label"),w=this._map.hasLayer(c.layer),P;c.overlay?(P=document.createElement("input"),P.type="checkbox",P.className="leaflet-control-layers-selector",P.defaultChecked=w):P=this._createRadioElement("leaflet-base-layers_"+d(this),w),this._layerControlInputs.push(P),P.layerId=d(c.layer),kt(P,"click",this._onInputClick,this);var I=document.createElement("span");I.innerHTML=" "+c.name;var W=document.createElement("span");f.appendChild(W),W.appendChild(P),W.appendChild(I);var ie=c.overlay?this._overlaysList:this._baseLayersList;return ie.appendChild(f),this._checkDisabledLayers(),f},_onInputClick:function(){if(!this._preventClick){var c=this._layerControlInputs,f,w,P=[],I=[];this._handlingClick=!0;for(var W=c.length-1;W>=0;W--)f=c[W],w=this._getLayer(f.layerId).layer,f.checked?P.push(w):f.checked||I.push(w);for(W=0;W<I.length;W++)this._map.hasLayer(I[W])&&this._map.removeLayer(I[W]);for(W=0;W<P.length;W++)this._map.hasLayer(P[W])||this._map.addLayer(P[W]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var c=this._layerControlInputs,f,w,P=this._map.getZoom(),I=c.length-1;I>=0;I--)f=c[I],w=this._getLayer(f.layerId).layer,f.disabled=w.options.minZoom!==void 0&&P<w.options.minZoom||w.options.maxZoom!==void 0&&P>w.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var c=this._section;this._preventClick=!0,kt(c,"click",_n),this.expand();var f=this;setTimeout(function(){jr(c,"click",_n),f._preventClick=!1})}}),K9=function(c,f,w){return new XC(c,f,w)},Aj=_a.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(c){var f="leaflet-control-zoom",w=nr("div",f+" leaflet-bar"),P=this.options;return this._zoomInButton=this._createButton(P.zoomInText,P.zoomInTitle,f+"-in",w,this._zoomIn),this._zoomOutButton=this._createButton(P.zoomOutText,P.zoomOutTitle,f+"-out",w,this._zoomOut),this._updateDisabled(),c.on("zoomend zoomlevelschange",this._updateDisabled,this),w},onRemove:function(c){c.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(c){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(c.shiftKey?3:1))},_zoomOut:function(c){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(c.shiftKey?3:1))},_createButton:function(c,f,w,P,I){var W=nr("a",w,P);return W.innerHTML=c,W.href="#",W.title=f,W.setAttribute("role","button"),W.setAttribute("aria-label",f),Jm(W),kt(W,"click",sc),kt(W,"click",I,this),kt(W,"click",this._refocusOnMap,this),W},_updateDisabled:function(){var c=this._map,f="leaflet-disabled";Wr(this._zoomInButton,f),Wr(this._zoomOutButton,f),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||c._zoom===c.getMinZoom())&&(Dt(this._zoomOutButton,f),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||c._zoom===c.getMaxZoom())&&(Dt(this._zoomInButton,f),this._zoomInButton.setAttribute("aria-disabled","true"))}});Jt.mergeOptions({zoomControl:!0}),Jt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Aj,this.addControl(this.zoomControl))});var H9=function(c){return new Aj(c)},JC=_a.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(c){var f="leaflet-control-scale",w=nr("div",f),P=this.options;return this._addScales(P,f+"-line",w),c.on(P.updateWhenIdle?"moveend":"move",this._update,this),c.whenReady(this._update,this),w},onRemove:function(c){c.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(c,f,w){c.metric&&(this._mScale=nr("div",f,w)),c.imperial&&(this._iScale=nr("div",f,w))},_update:function(){var c=this._map,f=c.getSize().y/2,w=c.distance(c.containerPointToLatLng([0,f]),c.containerPointToLatLng([this.options.maxWidth,f]));this._updateScales(w)},_updateScales:function(c){this.options.metric&&c&&this._updateMetric(c),this.options.imperial&&c&&this._updateImperial(c)},_updateMetric:function(c){var f=this._getRoundNum(c),w=f<1e3?f+" m":f/1e3+" km";this._updateScale(this._mScale,w,f/c)},_updateImperial:function(c){var f=c*3.2808399,w,P,I;f>5280?(w=f/5280,P=this._getRoundNum(w),this._updateScale(this._iScale,P+" mi",P/w)):(I=this._getRoundNum(f),this._updateScale(this._iScale,I+" ft",I/f))},_updateScale:function(c,f,w){c.style.width=Math.round(this.options.maxWidth*w)+"px",c.innerHTML=f},_getRoundNum:function(c){var f=Math.pow(10,(Math.floor(c)+"").length-1),w=c/f;return w=w>=10?10:w>=5?5:w>=3?3:w>=2?2:1,f*w}}),G9=function(c){return new JC(c)},Z9='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',kj=_a.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(ht.inlineSvg?Z9+" ":"")+"Leaflet</a>"},initialize:function(c){x(this,c),this._attributions={}},onAdd:function(c){c.attributionControl=this,this._container=nr("div","leaflet-control-attribution"),Jm(this._container);for(var f in c._layers)c._layers[f].getAttribution&&this.addAttribution(c._layers[f].getAttribution());return this._update(),c.on("layeradd",this._addAttribution,this),this._container},onRemove:function(c){c.off("layeradd",this._addAttribution,this)},_addAttribution:function(c){c.layer.getAttribution&&(this.addAttribution(c.layer.getAttribution()),c.layer.once("remove",function(){this.removeAttribution(c.layer.getAttribution())},this))},setPrefix:function(c){return this.options.prefix=c,this._update(),this},addAttribution:function(c){return c?(this._attributions[c]||(this._attributions[c]=0),this._attributions[c]++,this._update(),this):this},removeAttribution:function(c){return c?(this._attributions[c]&&(this._attributions[c]--,this._update()),this):this},_update:function(){if(this._map){var c=[];for(var f in this._attributions)this._attributions[f]&&c.push(f);var w=[];this.options.prefix&&w.push(this.options.prefix),c.length&&w.push(c.join(", ")),this._container.innerHTML=w.join(' <span aria-hidden="true">|</span> ')}}});Jt.mergeOptions({attributionControl:!0}),Jt.addInitHook(function(){this.options.attributionControl&&new kj().addTo(this)});var Q9=function(c){return new kj(c)};_a.Layers=XC,_a.Zoom=Aj,_a.Scale=JC,_a.Attribution=kj,eh.layers=K9,eh.zoom=H9,eh.scale=G9,eh.attribution=Q9;var si=D.extend({initialize:function(c){this._map=c},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});si.addTo=function(c,f){return c.addHandler(f,this),this};var Y9={Events:E},eP=ht.touch?"touchstart mousedown":"mousedown",zo=V.extend({options:{clickTolerance:3},initialize:function(c,f,w,P){x(this,P),this._element=c,this._dragStartTarget=f||c,this._preventOutline=w},enable:function(){this._enabled||(kt(this._dragStartTarget,eP,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(zo._dragging===this&&this.finishDrag(!0),jr(this._dragStartTarget,eP,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(c){if(this._enabled&&(this._moved=!1,!pj(this._element,"leaflet-zoom-anim"))){if(c.touches&&c.touches.length!==1){zo._dragging===this&&this.finishDrag();return}if(!(zo._dragging||c.shiftKey||c.which!==1&&c.button!==1&&!c.touches)&&(zo._dragging=this,this._preventOutline&&bj(this._element),vj(),Qm(),!this._moving)){this.fire("down");var f=c.touches?c.touches[0]:c,w=KC(this._element);this._startPoint=new q(f.clientX,f.clientY),this._startPos=rc(this._element),this._parentScale=wj(w);var P=c.type==="mousedown";kt(document,P?"mousemove":"touchmove",this._onMove,this),kt(document,P?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(c){if(this._enabled){if(c.touches&&c.touches.length>1){this._moved=!0;return}var f=c.touches&&c.touches.length===1?c.touches[0]:c,w=new q(f.clientX,f.clientY)._subtract(this._startPoint);!w.x&&!w.y||Math.abs(w.x)+Math.abs(w.y)<this.options.clickTolerance||(w.x/=this._parentScale.x,w.y/=this._parentScale.y,_n(c),this._moved||(this.fire("dragstart"),this._moved=!0,Dt(document.body,"leaflet-dragging"),this._lastTarget=c.target||c.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Dt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(w),this._moving=!0,this._lastEvent=c,this._updatePosition())}},_updatePosition:function(){var c={originalEvent:this._lastEvent};this.fire("predrag",c),Yr(this._element,this._newPos),this.fire("drag",c)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(c){Wr(document.body,"leaflet-dragging"),this._lastTarget&&(Wr(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),jr(document,"mousemove touchmove",this._onMove,this),jr(document,"mouseup touchend touchcancel",this._onUp,this),yj(),Ym();var f=this._moved&&this._moving;this._moving=!1,zo._dragging=!1,f&&this.fire("dragend",{noInertia:c,distance:this._newPos.distanceTo(this._startPos)})}});function tP(c,f,w){var P,I=[1,4,2,8],W,ie,ve,_e,De,Je,wt,Ht;for(W=0,Je=c.length;W<Je;W++)c[W]._code=ac(c[W],f);for(ve=0;ve<4;ve++){for(wt=I[ve],P=[],W=0,Je=c.length,ie=Je-1;W<Je;ie=W++)_e=c[W],De=c[ie],_e._code&wt?De._code&wt||(Ht=rx(De,_e,wt,f,w),Ht._code=ac(Ht,f),P.push(Ht)):(De._code&wt&&(Ht=rx(De,_e,wt,f,w),Ht._code=ac(Ht,f),P.push(Ht)),P.push(_e));c=P}return c}function rP(c,f){var w,P,I,W,ie,ve,_e,De,Je;if(!c||c.length===0)throw new Error("latlngs not passed");Xs(c)||(console.warn("latlngs are not flat! Only the first ring will be used"),c=c[0]);var wt=ye([0,0]),Ht=G(c),Kn=Ht.getNorthWest().distanceTo(Ht.getSouthWest())*Ht.getNorthEast().distanceTo(Ht.getNorthWest());Kn<1700&&(wt=Ej(c));var hn=c.length,Js=[];for(w=0;w<hn;w++){var ds=ye(c[w]);Js.push(f.project(ye([ds.lat-wt.lat,ds.lng-wt.lng])))}for(ve=_e=De=0,w=0,P=hn-1;w<hn;P=w++)I=Js[w],W=Js[P],ie=I.y*W.x-W.y*I.x,_e+=(I.x+W.x)*ie,De+=(I.y+W.y)*ie,ve+=ie*3;ve===0?Je=Js[0]:Je=[_e/ve,De/ve];var Ad=f.unproject(Q(Je));return ye([Ad.lat+wt.lat,Ad.lng+wt.lng])}function Ej(c){for(var f=0,w=0,P=0,I=0;I<c.length;I++){var W=ye(c[I]);f+=W.lat,w+=W.lng,P++}return ye([f/P,w/P])}var X9={__proto__:null,clipPolygon:tP,polygonCenter:rP,centroid:Ej};function nP(c,f){if(!f||!c.length)return c.slice();var w=f*f;return c=t7(c,w),c=e7(c,w),c}function sP(c,f,w){return Math.sqrt(th(c,f,w,!0))}function J9(c,f,w){return th(c,f,w)}function e7(c,f){var w=c.length,P=typeof Uint8Array<"u"?Uint8Array:Array,I=new P(w);I[0]=I[w-1]=1,Tj(c,I,f,0,w-1);var W,ie=[];for(W=0;W<w;W++)I[W]&&ie.push(c[W]);return ie}function Tj(c,f,w,P,I){var W=0,ie,ve,_e;for(ve=P+1;ve<=I-1;ve++)_e=th(c[ve],c[P],c[I],!0),_e>W&&(ie=ve,W=_e);W>w&&(f[ie]=1,Tj(c,f,w,P,ie),Tj(c,f,w,ie,I))}function t7(c,f){for(var w=[c[0]],P=1,I=0,W=c.length;P<W;P++)r7(c[P],c[I])>f&&(w.push(c[P]),I=P);return I<W-1&&w.push(c[W-1]),w}var aP;function iP(c,f,w,P,I){var W=P?aP:ac(c,w),ie=ac(f,w),ve,_e,De;for(aP=ie;;){if(!(W|ie))return[c,f];if(W&ie)return!1;ve=W||ie,_e=rx(c,f,ve,w,I),De=ac(_e,w),ve===W?(c=_e,W=De):(f=_e,ie=De)}}function rx(c,f,w,P,I){var W=f.x-c.x,ie=f.y-c.y,ve=P.min,_e=P.max,De,Je;return w&8?(De=c.x+W*(_e.y-c.y)/ie,Je=_e.y):w&4?(De=c.x+W*(ve.y-c.y)/ie,Je=ve.y):w&2?(De=_e.x,Je=c.y+ie*(_e.x-c.x)/W):w&1&&(De=ve.x,Je=c.y+ie*(ve.x-c.x)/W),new q(De,Je,I)}function ac(c,f){var w=0;return c.x<f.min.x?w|=1:c.x>f.max.x&&(w|=2),c.y<f.min.y?w|=4:c.y>f.max.y&&(w|=8),w}function r7(c,f){var w=f.x-c.x,P=f.y-c.y;return w*w+P*P}function th(c,f,w,P){var I=f.x,W=f.y,ie=w.x-I,ve=w.y-W,_e=ie*ie+ve*ve,De;return _e>0&&(De=((c.x-I)*ie+(c.y-W)*ve)/_e,De>1?(I=w.x,W=w.y):De>0&&(I+=ie*De,W+=ve*De)),ie=c.x-I,ve=c.y-W,P?ie*ie+ve*ve:new q(I,W)}function Xs(c){return!S(c[0])||typeof c[0][0]!="object"&&typeof c[0][0]<"u"}function oP(c){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Xs(c)}function lP(c,f){var w,P,I,W,ie,ve,_e,De;if(!c||c.length===0)throw new Error("latlngs not passed");Xs(c)||(console.warn("latlngs are not flat! Only the first ring will be used"),c=c[0]);var Je=ye([0,0]),wt=G(c),Ht=wt.getNorthWest().distanceTo(wt.getSouthWest())*wt.getNorthEast().distanceTo(wt.getNorthWest());Ht<1700&&(Je=Ej(c));var Kn=c.length,hn=[];for(w=0;w<Kn;w++){var Js=ye(c[w]);hn.push(f.project(ye([Js.lat-Je.lat,Js.lng-Je.lng])))}for(w=0,P=0;w<Kn-1;w++)P+=hn[w].distanceTo(hn[w+1])/2;if(P===0)De=hn[0];else for(w=0,W=0;w<Kn-1;w++)if(ie=hn[w],ve=hn[w+1],I=ie.distanceTo(ve),W+=I,W>P){_e=(W-P)/I,De=[ve.x-_e*(ve.x-ie.x),ve.y-_e*(ve.y-ie.y)];break}var ds=f.unproject(Q(De));return ye([ds.lat+Je.lat,ds.lng+Je.lng])}var n7={__proto__:null,simplify:nP,pointToSegmentDistance:sP,closestPointOnSegment:J9,clipSegment:iP,_getEdgeIntersection:rx,_getBitCode:ac,_sqClosestPointOnSegment:th,isFlat:Xs,_flat:oP,polylineCenter:lP},Oj={project:function(c){return new q(c.lng,c.lat)},unproject:function(c){return new J(c.y,c.x)},bounds:new he([-180,-90],[180,90])},Ij={R:6378137,R_MINOR:6356752314245179e-9,bounds:new he([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(c){var f=Math.PI/180,w=this.R,P=c.lat*f,I=this.R_MINOR/w,W=Math.sqrt(1-I*I),ie=W*Math.sin(P),ve=Math.tan(Math.PI/4-P/2)/Math.pow((1-ie)/(1+ie),W/2);return P=-w*Math.log(Math.max(ve,1e-10)),new q(c.lng*f*w,P)},unproject:function(c){for(var f=180/Math.PI,w=this.R,P=this.R_MINOR/w,I=Math.sqrt(1-P*P),W=Math.exp(-c.y/w),ie=Math.PI/2-2*Math.atan(W),ve=0,_e=.1,De;ve<15&&Math.abs(_e)>1e-7;ve++)De=I*Math.sin(ie),De=Math.pow((1-De)/(1+De),I/2),_e=Math.PI/2-2*Math.atan(W*De)-ie,ie+=_e;return new J(ie*f,c.x*f/w)}},s7={__proto__:null,LonLat:Oj,Mercator:Ij,SphericalMercator:ze},a7=a({},We,{code:"EPSG:3395",projection:Ij,transformation:function(){var c=.5/(Math.PI*Ij.R);return je(c,.5,-c,.5)}()}),cP=a({},We,{code:"EPSG:4326",projection:Oj,transformation:je(1/180,1,-1/180,.5)}),i7=a({},Se,{projection:Oj,transformation:je(1,0,-1,0),scale:function(c){return Math.pow(2,c)},zoom:function(c){return Math.log(c)/Math.LN2},distance:function(c,f){var w=f.lng-c.lng,P=f.lat-c.lat;return Math.sqrt(w*w+P*P)},infinite:!0});Se.Earth=We,Se.EPSG3395=a7,Se.EPSG3857=Ze,Se.EPSG900913=K,Se.EPSG4326=cP,Se.Simple=i7;var Ca=V.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(c){return c.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(c){return c&&c.removeLayer(this),this},getPane:function(c){return this._map.getPane(c?this.options[c]||c:this.options.pane)},addInteractiveTarget:function(c){return this._map._targets[d(c)]=this,this},removeInteractiveTarget:function(c){return delete this._map._targets[d(c)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(c){var f=c.target;if(f.hasLayer(this)){if(this._map=f,this._zoomAnimated=f._zoomAnimated,this.getEvents){var w=this.getEvents();f.on(w,this),this.once("remove",function(){f.off(w,this)},this)}this.onAdd(f),this.fire("add"),f.fire("layeradd",{layer:this})}}});Jt.include({addLayer:function(c){if(!c._layerAdd)throw new Error("The provided object is not a Layer.");var f=d(c);return this._layers[f]?this:(this._layers[f]=c,c._mapToAdd=this,c.beforeAdd&&c.beforeAdd(this),this.whenReady(c._layerAdd,c),this)},removeLayer:function(c){var f=d(c);return this._layers[f]?(this._loaded&&c.onRemove(this),delete this._layers[f],this._loaded&&(this.fire("layerremove",{layer:c}),c.fire("remove")),c._map=c._mapToAdd=null,this):this},hasLayer:function(c){return d(c)in this._layers},eachLayer:function(c,f){for(var w in this._layers)c.call(f,this._layers[w]);return this},_addLayers:function(c){c=c?S(c)?c:[c]:[];for(var f=0,w=c.length;f<w;f++)this.addLayer(c[f])},_addZoomLimit:function(c){(!isNaN(c.options.maxZoom)||!isNaN(c.options.minZoom))&&(this._zoomBoundLayers[d(c)]=c,this._updateZoomLevels())},_removeZoomLimit:function(c){var f=d(c);this._zoomBoundLayers[f]&&(delete this._zoomBoundLayers[f],this._updateZoomLevels())},_updateZoomLevels:function(){var c=1/0,f=-1/0,w=this._getZoomSpan();for(var P in this._zoomBoundLayers){var I=this._zoomBoundLayers[P].options;c=I.minZoom===void 0?c:Math.min(c,I.minZoom),f=I.maxZoom===void 0?f:Math.max(f,I.maxZoom)}this._layersMaxZoom=f===-1/0?void 0:f,this._layersMinZoom=c===1/0?void 0:c,w!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Nd=Ca.extend({initialize:function(c,f){x(this,f),this._layers={};var w,P;if(c)for(w=0,P=c.length;w<P;w++)this.addLayer(c[w])},addLayer:function(c){var f=this.getLayerId(c);return this._layers[f]=c,this._map&&this._map.addLayer(c),this},removeLayer:function(c){var f=c in this._layers?c:this.getLayerId(c);return this._map&&this._layers[f]&&this._map.removeLayer(this._layers[f]),delete this._layers[f],this},hasLayer:function(c){var f=typeof c=="number"?c:this.getLayerId(c);return f in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(c){var f=Array.prototype.slice.call(arguments,1),w,P;for(w in this._layers)P=this._layers[w],P[c]&&P[c].apply(P,f);return this},onAdd:function(c){this.eachLayer(c.addLayer,c)},onRemove:function(c){this.eachLayer(c.removeLayer,c)},eachLayer:function(c,f){for(var w in this._layers)c.call(f,this._layers[w]);return this},getLayer:function(c){return this._layers[c]},getLayers:function(){var c=[];return this.eachLayer(c.push,c),c},setZIndex:function(c){return this.invoke("setZIndex",c)},getLayerId:function(c){return d(c)}}),o7=function(c,f){return new Nd(c,f)},Di=Nd.extend({addLayer:function(c){return this.hasLayer(c)?this:(c.addEventParent(this),Nd.prototype.addLayer.call(this,c),this.fire("layeradd",{layer:c}))},removeLayer:function(c){return this.hasLayer(c)?(c in this._layers&&(c=this._layers[c]),c.removeEventParent(this),Nd.prototype.removeLayer.call(this,c),this.fire("layerremove",{layer:c})):this},setStyle:function(c){return this.invoke("setStyle",c)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var c=new ce;for(var f in this._layers){var w=this._layers[f];c.extend(w.getBounds?w.getBounds():w.getLatLng())}return c}}),l7=function(c,f){return new Di(c,f)},Sd=D.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(c){x(this,c)},createIcon:function(c){return this._createIcon("icon",c)},createShadow:function(c){return this._createIcon("shadow",c)},_createIcon:function(c,f){var w=this._getIconUrl(c);if(!w){if(c==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var P=this._createImg(w,f&&f.tagName==="IMG"?f:null);return this._setIconStyles(P,c),(this.options.crossOrigin||this.options.crossOrigin==="")&&(P.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),P},_setIconStyles:function(c,f){var w=this.options,P=w[f+"Size"];typeof P=="number"&&(P=[P,P]);var I=Q(P),W=Q(f==="shadow"&&w.shadowAnchor||w.iconAnchor||I&&I.divideBy(2,!0));c.className="leaflet-marker-"+f+" "+(w.className||""),W&&(c.style.marginLeft=-W.x+"px",c.style.marginTop=-W.y+"px"),I&&(c.style.width=I.x+"px",c.style.height=I.y+"px")},_createImg:function(c,f){return f=f||document.createElement("img"),f.src=c,f},_getIconUrl:function(c){return ht.retina&&this.options[c+"RetinaUrl"]||this.options[c+"Url"]}});function c7(c){return new Sd(c)}var rh=Sd.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(c){return typeof rh.imagePath!="string"&&(rh.imagePath=this._detectIconPath()),(this.options.imagePath||rh.imagePath)+Sd.prototype._getIconUrl.call(this,c)},_stripUrl:function(c){var f=function(w,P,I){var W=P.exec(w);return W&&W[I]};return c=f(c,/^url\((['"])?(.+)\1\)$/,2),c&&f(c,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var c=nr("div","leaflet-default-icon-path",document.body),f=Zm(c,"background-image")||Zm(c,"backgroundImage");if(document.body.removeChild(c),f=this._stripUrl(f),f)return f;var w=document.querySelector('link[href$="leaflet.css"]');return w?w.href.substring(0,w.href.length-11-1):""}}),dP=si.extend({initialize:function(c){this._marker=c},addHooks:function(){var c=this._marker._icon;this._draggable||(this._draggable=new zo(c,c,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Dt(c,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Wr(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(c){var f=this._marker,w=f._map,P=this._marker.options.autoPanSpeed,I=this._marker.options.autoPanPadding,W=rc(f._icon),ie=w.getPixelBounds(),ve=w.getPixelOrigin(),_e=ue(ie.min._subtract(ve).add(I),ie.max._subtract(ve).subtract(I));if(!_e.contains(W)){var De=Q((Math.max(_e.max.x,W.x)-_e.max.x)/(ie.max.x-_e.max.x)-(Math.min(_e.min.x,W.x)-_e.min.x)/(ie.min.x-_e.min.x),(Math.max(_e.max.y,W.y)-_e.max.y)/(ie.max.y-_e.max.y)-(Math.min(_e.min.y,W.y)-_e.min.y)/(ie.min.y-_e.min.y)).multiplyBy(P);w.panBy(De,{animate:!1}),this._draggable._newPos._add(De),this._draggable._startPos._add(De),Yr(f._icon,this._draggable._newPos),this._onDrag(c),this._panRequest=z(this._adjustPan.bind(this,c))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(c){this._marker.options.autoPan&&(F(this._panRequest),this._panRequest=z(this._adjustPan.bind(this,c)))},_onDrag:function(c){var f=this._marker,w=f._shadow,P=rc(f._icon),I=f._map.layerPointToLatLng(P);w&&Yr(w,P),f._latlng=I,c.latlng=I,c.oldLatLng=this._oldLatLng,f.fire("move",c).fire("drag",c)},_onDragEnd:function(c){F(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",c)}}),nx=Ca.extend({options:{icon:new rh,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(c,f){x(this,f),this._latlng=ye(c)},onAdd:function(c){this._zoomAnimated=this._zoomAnimated&&c.options.markerZoomAnimation,this._zoomAnimated&&c.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(c){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&c.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(c){var f=this._latlng;return this._latlng=ye(c),this.update(),this.fire("move",{oldLatLng:f,latlng:this._latlng})},setZIndexOffset:function(c){return this.options.zIndexOffset=c,this.update()},getIcon:function(){return this.options.icon},setIcon:function(c){return this.options.icon=c,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var c=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(c)}return this},_initIcon:function(){var c=this.options,f="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),w=c.icon.createIcon(this._icon),P=!1;w!==this._icon&&(this._icon&&this._removeIcon(),P=!0,c.title&&(w.title=c.title),w.tagName==="IMG"&&(w.alt=c.alt||"")),Dt(w,f),c.keyboard&&(w.tabIndex="0",w.setAttribute("role","button")),this._icon=w,c.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&kt(w,"focus",this._panOnFocus,this);var I=c.icon.createShadow(this._shadow),W=!1;I!==this._shadow&&(this._removeShadow(),W=!0),I&&(Dt(I,f),I.alt=""),this._shadow=I,c.opacity<1&&this._updateOpacity(),P&&this.getPane().appendChild(this._icon),this._initInteraction(),I&&W&&this.getPane(c.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&jr(this._icon,"focus",this._panOnFocus,this),Lr(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Lr(this._shadow),this._shadow=null},_setPos:function(c){this._icon&&Yr(this._icon,c),this._shadow&&Yr(this._shadow,c),this._zIndex=c.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(c){this._icon&&(this._icon.style.zIndex=this._zIndex+c)},_animateZoom:function(c){var f=this._map._latLngToNewLayerPoint(this._latlng,c.zoom,c.center).round();this._setPos(f)},_initInteraction:function(){if(this.options.interactive&&(Dt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),dP)){var c=this.options.draggable;this.dragging&&(c=this.dragging.enabled(),this.dragging.disable()),this.dragging=new dP(this),c&&this.dragging.enable()}},setOpacity:function(c){return this.options.opacity=c,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var c=this.options.opacity;this._icon&&Ys(this._icon,c),this._shadow&&Ys(this._shadow,c)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var c=this._map;if(c){var f=this.options.icon.options,w=f.iconSize?Q(f.iconSize):Q(0,0),P=f.iconAnchor?Q(f.iconAnchor):Q(0,0);c.panInside(this._latlng,{paddingTopLeft:P,paddingBottomRight:w.subtract(P)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function d7(c,f){return new nx(c,f)}var Fo=Ca.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(c){this._renderer=c.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(c){return x(this,c),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&c&&Object.prototype.hasOwnProperty.call(c,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),sx=Fo.extend({options:{fill:!0,radius:10},initialize:function(c,f){x(this,f),this._latlng=ye(c),this._radius=this.options.radius},setLatLng:function(c){var f=this._latlng;return this._latlng=ye(c),this.redraw(),this.fire("move",{oldLatLng:f,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(c){return this.options.radius=this._radius=c,this.redraw()},getRadius:function(){return this._radius},setStyle:function(c){var f=c&&c.radius||this._radius;return Fo.prototype.setStyle.call(this,c),this.setRadius(f),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var c=this._radius,f=this._radiusY||c,w=this._clickTolerance(),P=[c+w,f+w];this._pxBounds=new he(this._point.subtract(P),this._point.add(P))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(c){return c.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function u7(c,f){return new sx(c,f)}var Mj=sx.extend({initialize:function(c,f,w){if(typeof f=="number"&&(f=a({},w,{radius:f})),x(this,f),this._latlng=ye(c),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(c){return this._mRadius=c,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var c=[this._radius,this._radiusY||this._radius];return new ce(this._map.layerPointToLatLng(this._point.subtract(c)),this._map.layerPointToLatLng(this._point.add(c)))},setStyle:Fo.prototype.setStyle,_project:function(){var c=this._latlng.lng,f=this._latlng.lat,w=this._map,P=w.options.crs;if(P.distance===We.distance){var I=Math.PI/180,W=this._mRadius/We.R/I,ie=w.project([f+W,c]),ve=w.project([f-W,c]),_e=ie.add(ve).divideBy(2),De=w.unproject(_e).lat,Je=Math.acos((Math.cos(W*I)-Math.sin(f*I)*Math.sin(De*I))/(Math.cos(f*I)*Math.cos(De*I)))/I;(isNaN(Je)||Je===0)&&(Je=W/Math.cos(Math.PI/180*f)),this._point=_e.subtract(w.getPixelOrigin()),this._radius=isNaN(Je)?0:_e.x-w.project([De,c-Je]).x,this._radiusY=_e.y-ie.y}else{var wt=P.unproject(P.project(this._latlng).subtract([this._mRadius,0]));this._point=w.latLngToLayerPoint(this._latlng),this._radius=this._point.x-w.latLngToLayerPoint(wt).x}this._updateBounds()}});function m7(c,f,w){return new Mj(c,f,w)}var Ri=Fo.extend({options:{smoothFactor:1,noClip:!1},initialize:function(c,f){x(this,f),this._setLatLngs(c)},getLatLngs:function(){return this._latlngs},setLatLngs:function(c){return this._setLatLngs(c),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(c){for(var f=1/0,w=null,P=th,I,W,ie=0,ve=this._parts.length;ie<ve;ie++)for(var _e=this._parts[ie],De=1,Je=_e.length;De<Je;De++){I=_e[De-1],W=_e[De];var wt=P(c,I,W,!0);wt<f&&(f=wt,w=P(c,I,W))}return w&&(w.distance=Math.sqrt(f)),w},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return lP(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(c,f){return f=f||this._defaultShape(),c=ye(c),f.push(c),this._bounds.extend(c),this.redraw()},_setLatLngs:function(c){this._bounds=new ce,this._latlngs=this._convertLatLngs(c)},_defaultShape:function(){return Xs(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(c){for(var f=[],w=Xs(c),P=0,I=c.length;P<I;P++)w?(f[P]=ye(c[P]),this._bounds.extend(f[P])):f[P]=this._convertLatLngs(c[P]);return f},_project:function(){var c=new he;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,c),this._bounds.isValid()&&c.isValid()&&(this._rawPxBounds=c,this._updateBounds())},_updateBounds:function(){var c=this._clickTolerance(),f=new q(c,c);this._rawPxBounds&&(this._pxBounds=new he([this._rawPxBounds.min.subtract(f),this._rawPxBounds.max.add(f)]))},_projectLatlngs:function(c,f,w){var P=c[0]instanceof J,I=c.length,W,ie;if(P){for(ie=[],W=0;W<I;W++)ie[W]=this._map.latLngToLayerPoint(c[W]),w.extend(ie[W]);f.push(ie)}else for(W=0;W<I;W++)this._projectLatlngs(c[W],f,w)},_clipPoints:function(){var c=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(c))){if(this.options.noClip){this._parts=this._rings;return}var f=this._parts,w,P,I,W,ie,ve,_e;for(w=0,I=0,W=this._rings.length;w<W;w++)for(_e=this._rings[w],P=0,ie=_e.length;P<ie-1;P++)ve=iP(_e[P],_e[P+1],c,P,!0),ve&&(f[I]=f[I]||[],f[I].push(ve[0]),(ve[1]!==_e[P+1]||P===ie-2)&&(f[I].push(ve[1]),I++))}},_simplifyPoints:function(){for(var c=this._parts,f=this.options.smoothFactor,w=0,P=c.length;w<P;w++)c[w]=nP(c[w],f)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(c,f){var w,P,I,W,ie,ve,_e=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(c))return!1;for(w=0,W=this._parts.length;w<W;w++)for(ve=this._parts[w],P=0,ie=ve.length,I=ie-1;P<ie;I=P++)if(!(!f&&P===0)&&sP(c,ve[I],ve[P])<=_e)return!0;return!1}});function h7(c,f){return new Ri(c,f)}Ri._flat=oP;var _d=Ri.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return rP(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(c){var f=Ri.prototype._convertLatLngs.call(this,c),w=f.length;return w>=2&&f[0]instanceof J&&f[0].equals(f[w-1])&&f.pop(),f},_setLatLngs:function(c){Ri.prototype._setLatLngs.call(this,c),Xs(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Xs(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var c=this._renderer._bounds,f=this.options.weight,w=new q(f,f);if(c=new he(c.min.subtract(w),c.max.add(w)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(c))){if(this.options.noClip){this._parts=this._rings;return}for(var P=0,I=this._rings.length,W;P<I;P++)W=tP(this._rings[P],c,!0),W.length&&this._parts.push(W)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(c){var f=!1,w,P,I,W,ie,ve,_e,De;if(!this._pxBounds||!this._pxBounds.contains(c))return!1;for(W=0,_e=this._parts.length;W<_e;W++)for(w=this._parts[W],ie=0,De=w.length,ve=De-1;ie<De;ve=ie++)P=w[ie],I=w[ve],P.y>c.y!=I.y>c.y&&c.x<(I.x-P.x)*(c.y-P.y)/(I.y-P.y)+P.x&&(f=!f);return f||Ri.prototype._containsPoint.call(this,c,!0)}});function f7(c,f){return new _d(c,f)}var zi=Di.extend({initialize:function(c,f){x(this,f),this._layers={},c&&this.addData(c)},addData:function(c){var f=S(c)?c:c.features,w,P,I;if(f){for(w=0,P=f.length;w<P;w++)I=f[w],(I.geometries||I.geometry||I.features||I.coordinates)&&this.addData(I);return this}var W=this.options;if(W.filter&&!W.filter(c))return this;var ie=ax(c,W);return ie?(ie.feature=lx(c),ie.defaultOptions=ie.options,this.resetStyle(ie),W.onEachFeature&&W.onEachFeature(c,ie),this.addLayer(ie)):this},resetStyle:function(c){return c===void 0?this.eachLayer(this.resetStyle,this):(c.options=a({},c.defaultOptions),this._setLayerStyle(c,this.options.style),this)},setStyle:function(c){return this.eachLayer(function(f){this._setLayerStyle(f,c)},this)},_setLayerStyle:function(c,f){c.setStyle&&(typeof f=="function"&&(f=f(c.feature)),c.setStyle(f))}});function ax(c,f){var w=c.type==="Feature"?c.geometry:c,P=w?w.coordinates:null,I=[],W=f&&f.pointToLayer,ie=f&&f.coordsToLatLng||Lj,ve,_e,De,Je;if(!P&&!w)return null;switch(w.type){case"Point":return ve=ie(P),uP(W,c,ve,f);case"MultiPoint":for(De=0,Je=P.length;De<Je;De++)ve=ie(P[De]),I.push(uP(W,c,ve,f));return new Di(I);case"LineString":case"MultiLineString":return _e=ix(P,w.type==="LineString"?0:1,ie),new Ri(_e,f);case"Polygon":case"MultiPolygon":return _e=ix(P,w.type==="Polygon"?1:2,ie),new _d(_e,f);case"GeometryCollection":for(De=0,Je=w.geometries.length;De<Je;De++){var wt=ax({geometry:w.geometries[De],type:"Feature",properties:c.properties},f);wt&&I.push(wt)}return new Di(I);case"FeatureCollection":for(De=0,Je=w.features.length;De<Je;De++){var Ht=ax(w.features[De],f);Ht&&I.push(Ht)}return new Di(I);default:throw new Error("Invalid GeoJSON object.")}}function uP(c,f,w,P){return c?c(f,w):new nx(w,P&&P.markersInheritOptions&&P)}function Lj(c){return new J(c[1],c[0],c[2])}function ix(c,f,w){for(var P=[],I=0,W=c.length,ie;I<W;I++)ie=f?ix(c[I],f-1,w):(w||Lj)(c[I]),P.push(ie);return P}function $j(c,f){return c=ye(c),c.alt!==void 0?[p(c.lng,f),p(c.lat,f),p(c.alt,f)]:[p(c.lng,f),p(c.lat,f)]}function ox(c,f,w,P){for(var I=[],W=0,ie=c.length;W<ie;W++)I.push(f?ox(c[W],Xs(c[W])?0:f-1,w,P):$j(c[W],P));return!f&&w&&I.length>0&&I.push(I[0].slice()),I}function Cd(c,f){return c.feature?a({},c.feature,{geometry:f}):lx(f)}function lx(c){return c.type==="Feature"||c.type==="FeatureCollection"?c:{type:"Feature",properties:{},geometry:c}}var Dj={toGeoJSON:function(c){return Cd(this,{type:"Point",coordinates:$j(this.getLatLng(),c)})}};nx.include(Dj),Mj.include(Dj),sx.include(Dj),Ri.include({toGeoJSON:function(c){var f=!Xs(this._latlngs),w=ox(this._latlngs,f?1:0,!1,c);return Cd(this,{type:(f?"Multi":"")+"LineString",coordinates:w})}}),_d.include({toGeoJSON:function(c){var f=!Xs(this._latlngs),w=f&&!Xs(this._latlngs[0]),P=ox(this._latlngs,w?2:f?1:0,!0,c);return f||(P=[P]),Cd(this,{type:(w?"Multi":"")+"Polygon",coordinates:P})}}),Nd.include({toMultiPoint:function(c){var f=[];return this.eachLayer(function(w){f.push(w.toGeoJSON(c).geometry.coordinates)}),Cd(this,{type:"MultiPoint",coordinates:f})},toGeoJSON:function(c){var f=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(f==="MultiPoint")return this.toMultiPoint(c);var w=f==="GeometryCollection",P=[];return this.eachLayer(function(I){if(I.toGeoJSON){var W=I.toGeoJSON(c);if(w)P.push(W.geometry);else{var ie=lx(W);ie.type==="FeatureCollection"?P.push.apply(P,ie.features):P.push(ie)}}}),w?Cd(this,{geometries:P,type:"GeometryCollection"}):{type:"FeatureCollection",features:P}}});function mP(c,f){return new zi(c,f)}var p7=mP,cx=Ca.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(c,f,w){this._url=c,this._bounds=G(f),x(this,w)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Dt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Lr(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(c){return this.options.opacity=c,this._image&&this._updateOpacity(),this},setStyle:function(c){return c.opacity&&this.setOpacity(c.opacity),this},bringToFront:function(){return this._map&&bd(this._image),this},bringToBack:function(){return this._map&&wd(this._image),this},setUrl:function(c){return this._url=c,this._image&&(this._image.src=c),this},setBounds:function(c){return this._bounds=G(c),this._map&&this._reset(),this},getEvents:function(){var c={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(c.zoomanim=this._animateZoom),c},setZIndex:function(c){return this.options.zIndex=c,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var c=this._url.tagName==="IMG",f=this._image=c?this._url:nr("img");if(Dt(f,"leaflet-image-layer"),this._zoomAnimated&&Dt(f,"leaflet-zoom-animated"),this.options.className&&Dt(f,this.options.className),f.onselectstart=m,f.onmousemove=m,f.onload=o(this.fire,this,"load"),f.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),c){this._url=f.src;return}f.src=this._url,f.alt=this.options.alt},_animateZoom:function(c){var f=this._map.getZoomScale(c.zoom),w=this._map._latLngBoundsToNewLayerBounds(this._bounds,c.zoom,c.center).min;tc(this._image,w,f)},_reset:function(){var c=this._image,f=new he(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),w=f.getSize();Yr(c,f.min),c.style.width=w.x+"px",c.style.height=w.y+"px"},_updateOpacity:function(){Ys(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var c=this.options.errorOverlayUrl;c&&this._url!==c&&(this._url=c,this._image.src=c)},getCenter:function(){return this._bounds.getCenter()}}),x7=function(c,f,w){return new cx(c,f,w)},hP=cx.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var c=this._url.tagName==="VIDEO",f=this._image=c?this._url:nr("video");if(Dt(f,"leaflet-image-layer"),this._zoomAnimated&&Dt(f,"leaflet-zoom-animated"),this.options.className&&Dt(f,this.options.className),f.onselectstart=m,f.onmousemove=m,f.onloadeddata=o(this.fire,this,"load"),c){for(var w=f.getElementsByTagName("source"),P=[],I=0;I<w.length;I++)P.push(w[I].src);this._url=w.length>0?P:[f.src];return}S(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(f.style,"objectFit")&&(f.style.objectFit="fill"),f.autoplay=!!this.options.autoplay,f.loop=!!this.options.loop,f.muted=!!this.options.muted,f.playsInline=!!this.options.playsInline;for(var W=0;W<this._url.length;W++){var ie=nr("source");ie.src=this._url[W],f.appendChild(ie)}}});function g7(c,f,w){return new hP(c,f,w)}var fP=cx.extend({_initImage:function(){var c=this._image=this._url;Dt(c,"leaflet-image-layer"),this._zoomAnimated&&Dt(c,"leaflet-zoom-animated"),this.options.className&&Dt(c,this.options.className),c.onselectstart=m,c.onmousemove=m}});function v7(c,f,w){return new fP(c,f,w)}var ai=Ca.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(c,f){c&&(c instanceof J||S(c))?(this._latlng=ye(c),x(this,f)):(x(this,c),this._source=f),this.options.content&&(this._content=this.options.content)},openOn:function(c){return c=arguments.length?c:this._source._map,c.hasLayer(this)||c.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(c){return this._map?this.close():(arguments.length?this._source=c:c=this._source,this._prepareOpen(),this.openOn(c._map)),this},onAdd:function(c){this._zoomAnimated=c._zoomAnimated,this._container||this._initLayout(),c._fadeAnimated&&Ys(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),c._fadeAnimated&&Ys(this._container,1),this.bringToFront(),this.options.interactive&&(Dt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(c){c._fadeAnimated?(Ys(this._container,0),this._removeTimeout=setTimeout(o(Lr,void 0,this._container),200)):Lr(this._container),this.options.interactive&&(Wr(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(c){return this._latlng=ye(c),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(c){return this._content=c,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var c={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(c.zoomanim=this._animateZoom),c},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&bd(this._container),this},bringToBack:function(){return this._map&&wd(this._container),this},_prepareOpen:function(c){var f=this._source;if(!f._map)return!1;if(f instanceof Di){f=null;var w=this._source._layers;for(var P in w)if(w[P]._map){f=w[P];break}if(!f)return!1;this._source=f}if(!c)if(f.getCenter)c=f.getCenter();else if(f.getLatLng)c=f.getLatLng();else if(f.getBounds)c=f.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(c),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var c=this._contentNode,f=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof f=="string")c.innerHTML=f;else{for(;c.hasChildNodes();)c.removeChild(c.firstChild);c.appendChild(f)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var c=this._map.latLngToLayerPoint(this._latlng),f=Q(this.options.offset),w=this._getAnchor();this._zoomAnimated?Yr(this._container,c.add(w)):f=f.add(c).add(w);var P=this._containerBottom=-f.y,I=this._containerLeft=-Math.round(this._containerWidth/2)+f.x;this._container.style.bottom=P+"px",this._container.style.left=I+"px"}},_getAnchor:function(){return[0,0]}});Jt.include({_initOverlay:function(c,f,w,P){var I=f;return I instanceof c||(I=new c(P).setContent(f)),w&&I.setLatLng(w),I}}),Ca.include({_initOverlay:function(c,f,w,P){var I=w;return I instanceof c?(x(I,P),I._source=this):(I=f&&!P?f:new c(P,this),I.setContent(w)),I}});var dx=ai.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(c){return c=arguments.length?c:this._source._map,!c.hasLayer(this)&&c._popup&&c._popup.options.autoClose&&c.removeLayer(c._popup),c._popup=this,ai.prototype.openOn.call(this,c)},onAdd:function(c){ai.prototype.onAdd.call(this,c),c.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Fo||this._source.on("preclick",nc))},onRemove:function(c){ai.prototype.onRemove.call(this,c),c.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Fo||this._source.off("preclick",nc))},getEvents:function(){var c=ai.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(c.preclick=this.close),this.options.keepInView&&(c.moveend=this._adjustPan),c},_initLayout:function(){var c="leaflet-popup",f=this._container=nr("div",c+" "+(this.options.className||"")+" leaflet-zoom-animated"),w=this._wrapper=nr("div",c+"-content-wrapper",f);if(this._contentNode=nr("div",c+"-content",w),Jm(f),Cj(this._contentNode),kt(f,"contextmenu",nc),this._tipContainer=nr("div",c+"-tip-container",f),this._tip=nr("div",c+"-tip",this._tipContainer),this.options.closeButton){var P=this._closeButton=nr("a",c+"-close-button",f);P.setAttribute("role","button"),P.setAttribute("aria-label","Close popup"),P.href="#close",P.innerHTML='<span aria-hidden="true">&#215;</span>',kt(P,"click",function(I){_n(I),this.close()},this)}},_updateLayout:function(){var c=this._contentNode,f=c.style;f.width="",f.whiteSpace="nowrap";var w=c.offsetWidth;w=Math.min(w,this.options.maxWidth),w=Math.max(w,this.options.minWidth),f.width=w+1+"px",f.whiteSpace="",f.height="";var P=c.offsetHeight,I=this.options.maxHeight,W="leaflet-popup-scrolled";I&&P>I?(f.height=I+"px",Dt(c,W)):Wr(c,W),this._containerWidth=this._container.offsetWidth},_animateZoom:function(c){var f=this._map._latLngToNewLayerPoint(this._latlng,c.zoom,c.center),w=this._getAnchor();Yr(this._container,f.add(w))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var c=this._map,f=parseInt(Zm(this._container,"marginBottom"),10)||0,w=this._container.offsetHeight+f,P=this._containerWidth,I=new q(this._containerLeft,-w-this._containerBottom);I._add(rc(this._container));var W=c.layerPointToContainerPoint(I),ie=Q(this.options.autoPanPadding),ve=Q(this.options.autoPanPaddingTopLeft||ie),_e=Q(this.options.autoPanPaddingBottomRight||ie),De=c.getSize(),Je=0,wt=0;W.x+P+_e.x>De.x&&(Je=W.x+P-De.x+_e.x),W.x-Je-ve.x<0&&(Je=W.x-ve.x),W.y+w+_e.y>De.y&&(wt=W.y+w-De.y+_e.y),W.y-wt-ve.y<0&&(wt=W.y-ve.y),(Je||wt)&&(this.options.keepInView&&(this._autopanning=!0),c.fire("autopanstart").panBy([Je,wt]))}},_getAnchor:function(){return Q(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),y7=function(c,f){return new dx(c,f)};Jt.mergeOptions({closePopupOnClick:!0}),Jt.include({openPopup:function(c,f,w){return this._initOverlay(dx,c,f,w).openOn(this),this},closePopup:function(c){return c=arguments.length?c:this._popup,c&&c.close(),this}}),Ca.include({bindPopup:function(c,f){return this._popup=this._initOverlay(dx,this._popup,c,f),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(c){return this._popup&&(this instanceof Di||(this._popup._source=this),this._popup._prepareOpen(c||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(c){return this._popup&&this._popup.setContent(c),this},getPopup:function(){return this._popup},_openPopup:function(c){if(!(!this._popup||!this._map)){sc(c);var f=c.layer||c.target;if(this._popup._source===f&&!(f instanceof Fo)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(c.latlng);return}this._popup._source=f,this.openPopup(c.latlng)}},_movePopup:function(c){this._popup.setLatLng(c.latlng)},_onKeyPress:function(c){c.originalEvent.keyCode===13&&this._openPopup(c)}});var ux=ai.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(c){ai.prototype.onAdd.call(this,c),this.setOpacity(this.options.opacity),c.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(c){ai.prototype.onRemove.call(this,c),c.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var c=ai.prototype.getEvents.call(this);return this.options.permanent||(c.preclick=this.close),c},_initLayout:function(){var c="leaflet-tooltip",f=c+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=nr("div",f),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+d(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(c){var f,w,P=this._map,I=this._container,W=P.latLngToContainerPoint(P.getCenter()),ie=P.layerPointToContainerPoint(c),ve=this.options.direction,_e=I.offsetWidth,De=I.offsetHeight,Je=Q(this.options.offset),wt=this._getAnchor();ve==="top"?(f=_e/2,w=De):ve==="bottom"?(f=_e/2,w=0):ve==="center"?(f=_e/2,w=De/2):ve==="right"?(f=0,w=De/2):ve==="left"?(f=_e,w=De/2):ie.x<W.x?(ve="right",f=0,w=De/2):(ve="left",f=_e+(Je.x+wt.x)*2,w=De/2),c=c.subtract(Q(f,w,!0)).add(Je).add(wt),Wr(I,"leaflet-tooltip-right"),Wr(I,"leaflet-tooltip-left"),Wr(I,"leaflet-tooltip-top"),Wr(I,"leaflet-tooltip-bottom"),Dt(I,"leaflet-tooltip-"+ve),Yr(I,c)},_updatePosition:function(){var c=this._map.latLngToLayerPoint(this._latlng);this._setPosition(c)},setOpacity:function(c){this.options.opacity=c,this._container&&Ys(this._container,c)},_animateZoom:function(c){var f=this._map._latLngToNewLayerPoint(this._latlng,c.zoom,c.center);this._setPosition(f)},_getAnchor:function(){return Q(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),j7=function(c,f){return new ux(c,f)};Jt.include({openTooltip:function(c,f,w){return this._initOverlay(ux,c,f,w).openOn(this),this},closeTooltip:function(c){return c.close(),this}}),Ca.include({bindTooltip:function(c,f){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(ux,this._tooltip,c,f),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(c){if(!(!c&&this._tooltipHandlersAdded)){var f=c?"off":"on",w={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?w.add=this._openTooltip:(w.mouseover=this._openTooltip,w.mouseout=this.closeTooltip,w.click=this._openTooltip,this._map?this._addFocusListeners():w.add=this._addFocusListeners),this._tooltip.options.sticky&&(w.mousemove=this._moveTooltip),this[f](w),this._tooltipHandlersAdded=!c}},openTooltip:function(c){return this._tooltip&&(this instanceof Di||(this._tooltip._source=this),this._tooltip._prepareOpen(c)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(c){return this._tooltip&&this._tooltip.setContent(c),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(c){var f=typeof c.getElement=="function"&&c.getElement();f&&(kt(f,"focus",function(){this._tooltip._source=c,this.openTooltip()},this),kt(f,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(c){var f=typeof c.getElement=="function"&&c.getElement();f&&f.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(c){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var f=this;this._map.once("moveend",function(){f._openOnceFlag=!1,f._openTooltip(c)});return}this._tooltip._source=c.layer||c.target,this.openTooltip(this._tooltip.options.sticky?c.latlng:void 0)}},_moveTooltip:function(c){var f=c.latlng,w,P;this._tooltip.options.sticky&&c.originalEvent&&(w=this._map.mouseEventToContainerPoint(c.originalEvent),P=this._map.containerPointToLayerPoint(w),f=this._map.layerPointToLatLng(P)),this._tooltip.setLatLng(f)}});var pP=Sd.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(c){var f=c&&c.tagName==="DIV"?c:document.createElement("div"),w=this.options;if(w.html instanceof Element?(Yp(f),f.appendChild(w.html)):f.innerHTML=w.html!==!1?w.html:"",w.bgPos){var P=Q(w.bgPos);f.style.backgroundPosition=-P.x+"px "+-P.y+"px"}return this._setIconStyles(f,"icon"),f},createShadow:function(){return null}});function b7(c){return new pP(c)}Sd.Default=rh;var nh=Ca.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ht.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(c){x(this,c)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(c){c._addZoomLimit(this)},onRemove:function(c){this._removeAllTiles(),Lr(this._container),c._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(bd(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(wd(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(c){return this.options.opacity=c,this._updateOpacity(),this},setZIndex:function(c){return this.options.zIndex=c,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var c=this._clampZoom(this._map.getZoom());c!==this._tileZoom&&(this._tileZoom=c,this._updateLevels()),this._update()}return this},getEvents:function(){var c={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=u(this._onMoveEnd,this.options.updateInterval,this)),c.move=this._onMove),this._zoomAnimated&&(c.zoomanim=this._animateZoom),c},createTile:function(){return document.createElement("div")},getTileSize:function(){var c=this.options.tileSize;return c instanceof q?c:new q(c,c)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(c){for(var f=this.getPane().children,w=-c(-1/0,1/0),P=0,I=f.length,W;P<I;P++)W=f[P].style.zIndex,f[P]!==this._container&&W&&(w=c(w,+W));isFinite(w)&&(this.options.zIndex=w+c(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ht.ielt9){Ys(this._container,this.options.opacity);var c=+new Date,f=!1,w=!1;for(var P in this._tiles){var I=this._tiles[P];if(!(!I.current||!I.loaded)){var W=Math.min(1,(c-I.loaded)/200);Ys(I.el,W),W<1?f=!0:(I.active?w=!0:this._onOpaqueTile(I),I.active=!0)}}w&&!this._noPrune&&this._pruneTiles(),f&&(F(this._fadeFrame),this._fadeFrame=z(this._updateOpacity,this))}},_onOpaqueTile:m,_initContainer:function(){this._container||(this._container=nr("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var c=this._tileZoom,f=this.options.maxZoom;if(c!==void 0){for(var w in this._levels)w=Number(w),this._levels[w].el.children.length||w===c?(this._levels[w].el.style.zIndex=f-Math.abs(c-w),this._onUpdateLevel(w)):(Lr(this._levels[w].el),this._removeTilesAtZoom(w),this._onRemoveLevel(w),delete this._levels[w]);var P=this._levels[c],I=this._map;return P||(P=this._levels[c]={},P.el=nr("div","leaflet-tile-container leaflet-zoom-animated",this._container),P.el.style.zIndex=f,P.origin=I.project(I.unproject(I.getPixelOrigin()),c).round(),P.zoom=c,this._setZoomTransform(P,I.getCenter(),I.getZoom()),m(P.el.offsetWidth),this._onCreateLevel(P)),this._level=P,P}},_onUpdateLevel:m,_onRemoveLevel:m,_onCreateLevel:m,_pruneTiles:function(){if(this._map){var c,f,w=this._map.getZoom();if(w>this.options.maxZoom||w<this.options.minZoom){this._removeAllTiles();return}for(c in this._tiles)f=this._tiles[c],f.retain=f.current;for(c in this._tiles)if(f=this._tiles[c],f.current&&!f.active){var P=f.coords;this._retainParent(P.x,P.y,P.z,P.z-5)||this._retainChildren(P.x,P.y,P.z,P.z+2)}for(c in this._tiles)this._tiles[c].retain||this._removeTile(c)}},_removeTilesAtZoom:function(c){for(var f in this._tiles)this._tiles[f].coords.z===c&&this._removeTile(f)},_removeAllTiles:function(){for(var c in this._tiles)this._removeTile(c)},_invalidateAll:function(){for(var c in this._levels)Lr(this._levels[c].el),this._onRemoveLevel(Number(c)),delete this._levels[c];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(c,f,w,P){var I=Math.floor(c/2),W=Math.floor(f/2),ie=w-1,ve=new q(+I,+W);ve.z=+ie;var _e=this._tileCoordsToKey(ve),De=this._tiles[_e];return De&&De.active?(De.retain=!0,!0):(De&&De.loaded&&(De.retain=!0),ie>P?this._retainParent(I,W,ie,P):!1)},_retainChildren:function(c,f,w,P){for(var I=2*c;I<2*c+2;I++)for(var W=2*f;W<2*f+2;W++){var ie=new q(I,W);ie.z=w+1;var ve=this._tileCoordsToKey(ie),_e=this._tiles[ve];if(_e&&_e.active){_e.retain=!0;continue}else _e&&_e.loaded&&(_e.retain=!0);w+1<P&&this._retainChildren(I,W,w+1,P)}},_resetView:function(c){var f=c&&(c.pinch||c.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),f,f)},_animateZoom:function(c){this._setView(c.center,c.zoom,!0,c.noUpdate)},_clampZoom:function(c){var f=this.options;return f.minNativeZoom!==void 0&&c<f.minNativeZoom?f.minNativeZoom:f.maxNativeZoom!==void 0&&f.maxNativeZoom<c?f.maxNativeZoom:c},_setView:function(c,f,w,P){var I=Math.round(f);this.options.maxZoom!==void 0&&I>this.options.maxZoom||this.options.minZoom!==void 0&&I<this.options.minZoom?I=void 0:I=this._clampZoom(I);var W=this.options.updateWhenZooming&&I!==this._tileZoom;(!P||W)&&(this._tileZoom=I,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),I!==void 0&&this._update(c),w||this._pruneTiles(),this._noPrune=!!w),this._setZoomTransforms(c,f)},_setZoomTransforms:function(c,f){for(var w in this._levels)this._setZoomTransform(this._levels[w],c,f)},_setZoomTransform:function(c,f,w){var P=this._map.getZoomScale(w,c.zoom),I=c.origin.multiplyBy(P).subtract(this._map._getNewPixelOrigin(f,w)).round();ht.any3d?tc(c.el,I,P):Yr(c.el,I)},_resetGrid:function(){var c=this._map,f=c.options.crs,w=this._tileSize=this.getTileSize(),P=this._tileZoom,I=this._map.getPixelWorldBounds(this._tileZoom);I&&(this._globalTileRange=this._pxBoundsToTileRange(I)),this._wrapX=f.wrapLng&&!this.options.noWrap&&[Math.floor(c.project([0,f.wrapLng[0]],P).x/w.x),Math.ceil(c.project([0,f.wrapLng[1]],P).x/w.y)],this._wrapY=f.wrapLat&&!this.options.noWrap&&[Math.floor(c.project([f.wrapLat[0],0],P).y/w.x),Math.ceil(c.project([f.wrapLat[1],0],P).y/w.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(c){var f=this._map,w=f._animatingZoom?Math.max(f._animateToZoom,f.getZoom()):f.getZoom(),P=f.getZoomScale(w,this._tileZoom),I=f.project(c,this._tileZoom).floor(),W=f.getSize().divideBy(P*2);return new he(I.subtract(W),I.add(W))},_update:function(c){var f=this._map;if(f){var w=this._clampZoom(f.getZoom());if(c===void 0&&(c=f.getCenter()),this._tileZoom!==void 0){var P=this._getTiledPixelBounds(c),I=this._pxBoundsToTileRange(P),W=I.getCenter(),ie=[],ve=this.options.keepBuffer,_e=new he(I.getBottomLeft().subtract([ve,-ve]),I.getTopRight().add([ve,-ve]));if(!(isFinite(I.min.x)&&isFinite(I.min.y)&&isFinite(I.max.x)&&isFinite(I.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var De in this._tiles){var Je=this._tiles[De].coords;(Je.z!==this._tileZoom||!_e.contains(new q(Je.x,Je.y)))&&(this._tiles[De].current=!1)}if(Math.abs(w-this._tileZoom)>1){this._setView(c,w);return}for(var wt=I.min.y;wt<=I.max.y;wt++)for(var Ht=I.min.x;Ht<=I.max.x;Ht++){var Kn=new q(Ht,wt);if(Kn.z=this._tileZoom,!!this._isValidTile(Kn)){var hn=this._tiles[this._tileCoordsToKey(Kn)];hn?hn.current=!0:ie.push(Kn)}}if(ie.sort(function(ds,Ad){return ds.distanceTo(W)-Ad.distanceTo(W)}),ie.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Js=document.createDocumentFragment();for(Ht=0;Ht<ie.length;Ht++)this._addTile(ie[Ht],Js);this._level.el.appendChild(Js)}}}},_isValidTile:function(c){var f=this._map.options.crs;if(!f.infinite){var w=this._globalTileRange;if(!f.wrapLng&&(c.x<w.min.x||c.x>w.max.x)||!f.wrapLat&&(c.y<w.min.y||c.y>w.max.y))return!1}if(!this.options.bounds)return!0;var P=this._tileCoordsToBounds(c);return G(this.options.bounds).overlaps(P)},_keyToBounds:function(c){return this._tileCoordsToBounds(this._keyToTileCoords(c))},_tileCoordsToNwSe:function(c){var f=this._map,w=this.getTileSize(),P=c.scaleBy(w),I=P.add(w),W=f.unproject(P,c.z),ie=f.unproject(I,c.z);return[W,ie]},_tileCoordsToBounds:function(c){var f=this._tileCoordsToNwSe(c),w=new ce(f[0],f[1]);return this.options.noWrap||(w=this._map.wrapLatLngBounds(w)),w},_tileCoordsToKey:function(c){return c.x+":"+c.y+":"+c.z},_keyToTileCoords:function(c){var f=c.split(":"),w=new q(+f[0],+f[1]);return w.z=+f[2],w},_removeTile:function(c){var f=this._tiles[c];f&&(Lr(f.el),delete this._tiles[c],this.fire("tileunload",{tile:f.el,coords:this._keyToTileCoords(c)}))},_initTile:function(c){Dt(c,"leaflet-tile");var f=this.getTileSize();c.style.width=f.x+"px",c.style.height=f.y+"px",c.onselectstart=m,c.onmousemove=m,ht.ielt9&&this.options.opacity<1&&Ys(c,this.options.opacity)},_addTile:function(c,f){var w=this._getTilePos(c),P=this._tileCoordsToKey(c),I=this.createTile(this._wrapCoords(c),o(this._tileReady,this,c));this._initTile(I),this.createTile.length<2&&z(o(this._tileReady,this,c,null,I)),Yr(I,w),this._tiles[P]={el:I,coords:c,current:!0},f.appendChild(I),this.fire("tileloadstart",{tile:I,coords:c})},_tileReady:function(c,f,w){f&&this.fire("tileerror",{error:f,tile:w,coords:c});var P=this._tileCoordsToKey(c);w=this._tiles[P],w&&(w.loaded=+new Date,this._map._fadeAnimated?(Ys(w.el,0),F(this._fadeFrame),this._fadeFrame=z(this._updateOpacity,this)):(w.active=!0,this._pruneTiles()),f||(Dt(w.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:w.el,coords:c})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ht.ielt9||!this._map._fadeAnimated?z(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(c){return c.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(c){var f=new q(this._wrapX?h(c.x,this._wrapX):c.x,this._wrapY?h(c.y,this._wrapY):c.y);return f.z=c.z,f},_pxBoundsToTileRange:function(c){var f=this.getTileSize();return new he(c.min.unscaleBy(f).floor(),c.max.unscaleBy(f).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var c in this._tiles)if(!this._tiles[c].loaded)return!1;return!0}});function w7(c){return new nh(c)}var Pd=nh.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(c,f){this._url=c,f=x(this,f),f.detectRetina&&ht.retina&&f.maxZoom>0?(f.tileSize=Math.floor(f.tileSize/2),f.zoomReverse?(f.zoomOffset--,f.minZoom=Math.min(f.maxZoom,f.minZoom+1)):(f.zoomOffset++,f.maxZoom=Math.max(f.minZoom,f.maxZoom-1)),f.minZoom=Math.max(0,f.minZoom)):f.zoomReverse?f.minZoom=Math.min(f.maxZoom,f.minZoom):f.maxZoom=Math.max(f.minZoom,f.maxZoom),typeof f.subdomains=="string"&&(f.subdomains=f.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(c,f){return this._url===c&&f===void 0&&(f=!0),this._url=c,f||this.redraw(),this},createTile:function(c,f){var w=document.createElement("img");return kt(w,"load",o(this._tileOnLoad,this,f,w)),kt(w,"error",o(this._tileOnError,this,f,w)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(w.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(w.referrerPolicy=this.options.referrerPolicy),w.alt="",w.src=this.getTileUrl(c),w},getTileUrl:function(c){var f={r:ht.retina?"@2x":"",s:this._getSubdomain(c),x:c.x,y:c.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var w=this._globalTileRange.max.y-c.y;this.options.tms&&(f.y=w),f["-y"]=w}return b(this._url,a(f,this.options))},_tileOnLoad:function(c,f){ht.ielt9?setTimeout(o(c,this,null,f),0):c(null,f)},_tileOnError:function(c,f,w){var P=this.options.errorTileUrl;P&&f.getAttribute("src")!==P&&(f.src=P),c(w,f)},_onTileRemove:function(c){c.tile.onload=null},_getZoomForUrl:function(){var c=this._tileZoom,f=this.options.maxZoom,w=this.options.zoomReverse,P=this.options.zoomOffset;return w&&(c=f-c),c+P},_getSubdomain:function(c){var f=Math.abs(c.x+c.y)%this.options.subdomains.length;return this.options.subdomains[f]},_abortLoading:function(){var c,f;for(c in this._tiles)if(this._tiles[c].coords.z!==this._tileZoom&&(f=this._tiles[c].el,f.onload=m,f.onerror=m,!f.complete)){f.src=_;var w=this._tiles[c].coords;Lr(f),delete this._tiles[c],this.fire("tileabort",{tile:f,coords:w})}},_removeTile:function(c){var f=this._tiles[c];if(f)return f.el.setAttribute("src",_),nh.prototype._removeTile.call(this,c)},_tileReady:function(c,f,w){if(!(!this._map||w&&w.getAttribute("src")===_))return nh.prototype._tileReady.call(this,c,f,w)}});function xP(c,f){return new Pd(c,f)}var gP=Pd.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(c,f){this._url=c;var w=a({},this.defaultWmsParams);for(var P in f)P in this.options||(w[P]=f[P]);f=x(this,f);var I=f.detectRetina&&ht.retina?2:1,W=this.getTileSize();w.width=W.x*I,w.height=W.y*I,this.wmsParams=w},onAdd:function(c){this._crs=this.options.crs||c.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var f=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[f]=this._crs.code,Pd.prototype.onAdd.call(this,c)},getTileUrl:function(c){var f=this._tileCoordsToNwSe(c),w=this._crs,P=ue(w.project(f[0]),w.project(f[1])),I=P.min,W=P.max,ie=(this._wmsVersion>=1.3&&this._crs===cP?[I.y,I.x,W.y,W.x]:[I.x,I.y,W.x,W.y]).join(","),ve=Pd.prototype.getTileUrl.call(this,c);return ve+v(this.wmsParams,ve,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+ie},setParams:function(c,f){return a(this.wmsParams,c),f||this.redraw(),this}});function N7(c,f){return new gP(c,f)}Pd.WMS=gP,xP.wms=N7;var Fi=Ca.extend({options:{padding:.1},initialize:function(c){x(this,c),d(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Dt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var c={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(c.zoomanim=this._onAnimZoom),c},_onAnimZoom:function(c){this._updateTransform(c.center,c.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(c,f){var w=this._map.getZoomScale(f,this._zoom),P=this._map.getSize().multiplyBy(.5+this.options.padding),I=this._map.project(this._center,f),W=P.multiplyBy(-w).add(I).subtract(this._map._getNewPixelOrigin(c,f));ht.any3d?tc(this._container,W,w):Yr(this._container,W)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var c in this._layers)this._layers[c]._reset()},_onZoomEnd:function(){for(var c in this._layers)this._layers[c]._project()},_updatePaths:function(){for(var c in this._layers)this._layers[c]._update()},_update:function(){var c=this.options.padding,f=this._map.getSize(),w=this._map.containerPointToLayerPoint(f.multiplyBy(-c)).round();this._bounds=new he(w,w.add(f.multiplyBy(1+c*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),vP=Fi.extend({options:{tolerance:0},getEvents:function(){var c=Fi.prototype.getEvents.call(this);return c.viewprereset=this._onViewPreReset,c},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Fi.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var c=this._container=document.createElement("canvas");kt(c,"mousemove",this._onMouseMove,this),kt(c,"click dblclick mousedown mouseup contextmenu",this._onClick,this),kt(c,"mouseout",this._handleMouseOut,this),c._leaflet_disable_events=!0,this._ctx=c.getContext("2d")},_destroyContainer:function(){F(this._redrawRequest),delete this._ctx,Lr(this._container),jr(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var c;this._redrawBounds=null;for(var f in this._layers)c=this._layers[f],c._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Fi.prototype._update.call(this);var c=this._bounds,f=this._container,w=c.getSize(),P=ht.retina?2:1;Yr(f,c.min),f.width=P*w.x,f.height=P*w.y,f.style.width=w.x+"px",f.style.height=w.y+"px",ht.retina&&this._ctx.scale(2,2),this._ctx.translate(-c.min.x,-c.min.y),this.fire("update")}},_reset:function(){Fi.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(c){this._updateDashArray(c),this._layers[d(c)]=c;var f=c._order={layer:c,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=f),this._drawLast=f,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(c){this._requestRedraw(c)},_removePath:function(c){var f=c._order,w=f.next,P=f.prev;w?w.prev=P:this._drawLast=P,P?P.next=w:this._drawFirst=w,delete c._order,delete this._layers[d(c)],this._requestRedraw(c)},_updatePath:function(c){this._extendRedrawBounds(c),c._project(),c._update(),this._requestRedraw(c)},_updateStyle:function(c){this._updateDashArray(c),this._requestRedraw(c)},_updateDashArray:function(c){if(typeof c.options.dashArray=="string"){var f=c.options.dashArray.split(/[, ]+/),w=[],P,I;for(I=0;I<f.length;I++){if(P=Number(f[I]),isNaN(P))return;w.push(P)}c.options._dashArray=w}else c.options._dashArray=c.options.dashArray},_requestRedraw:function(c){this._map&&(this._extendRedrawBounds(c),this._redrawRequest=this._redrawRequest||z(this._redraw,this))},_extendRedrawBounds:function(c){if(c._pxBounds){var f=(c.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new he,this._redrawBounds.extend(c._pxBounds.min.subtract([f,f])),this._redrawBounds.extend(c._pxBounds.max.add([f,f]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var c=this._redrawBounds;if(c){var f=c.getSize();this._ctx.clearRect(c.min.x,c.min.y,f.x,f.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var c,f=this._redrawBounds;if(this._ctx.save(),f){var w=f.getSize();this._ctx.beginPath(),this._ctx.rect(f.min.x,f.min.y,w.x,w.y),this._ctx.clip()}this._drawing=!0;for(var P=this._drawFirst;P;P=P.next)c=P.layer,(!f||c._pxBounds&&c._pxBounds.intersects(f))&&c._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(c,f){if(this._drawing){var w,P,I,W,ie=c._parts,ve=ie.length,_e=this._ctx;if(ve){for(_e.beginPath(),w=0;w<ve;w++){for(P=0,I=ie[w].length;P<I;P++)W=ie[w][P],_e[P?"lineTo":"moveTo"](W.x,W.y);f&&_e.closePath()}this._fillStroke(_e,c)}}},_updateCircle:function(c){if(!(!this._drawing||c._empty())){var f=c._point,w=this._ctx,P=Math.max(Math.round(c._radius),1),I=(Math.max(Math.round(c._radiusY),1)||P)/P;I!==1&&(w.save(),w.scale(1,I)),w.beginPath(),w.arc(f.x,f.y/I,P,0,Math.PI*2,!1),I!==1&&w.restore(),this._fillStroke(w,c)}},_fillStroke:function(c,f){var w=f.options;w.fill&&(c.globalAlpha=w.fillOpacity,c.fillStyle=w.fillColor||w.color,c.fill(w.fillRule||"evenodd")),w.stroke&&w.weight!==0&&(c.setLineDash&&c.setLineDash(f.options&&f.options._dashArray||[]),c.globalAlpha=w.opacity,c.lineWidth=w.weight,c.strokeStyle=w.color,c.lineCap=w.lineCap,c.lineJoin=w.lineJoin,c.stroke())},_onClick:function(c){for(var f=this._map.mouseEventToLayerPoint(c),w,P,I=this._drawFirst;I;I=I.next)w=I.layer,w.options.interactive&&w._containsPoint(f)&&(!(c.type==="click"||c.type==="preclick")||!this._map._draggableMoved(w))&&(P=w);this._fireEvent(P?[P]:!1,c)},_onMouseMove:function(c){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var f=this._map.mouseEventToLayerPoint(c);this._handleMouseHover(c,f)}},_handleMouseOut:function(c){var f=this._hoveredLayer;f&&(Wr(this._container,"leaflet-interactive"),this._fireEvent([f],c,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(c,f){if(!this._mouseHoverThrottled){for(var w,P,I=this._drawFirst;I;I=I.next)w=I.layer,w.options.interactive&&w._containsPoint(f)&&(P=w);P!==this._hoveredLayer&&(this._handleMouseOut(c),P&&(Dt(this._container,"leaflet-interactive"),this._fireEvent([P],c,"mouseover"),this._hoveredLayer=P)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,c),this._mouseHoverThrottled=!0,setTimeout(o(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(c,f,w){this._map._fireDOMEvent(f,w||f.type,c)},_bringToFront:function(c){var f=c._order;if(f){var w=f.next,P=f.prev;if(w)w.prev=P;else return;P?P.next=w:w&&(this._drawFirst=w),f.prev=this._drawLast,this._drawLast.next=f,f.next=null,this._drawLast=f,this._requestRedraw(c)}},_bringToBack:function(c){var f=c._order;if(f){var w=f.next,P=f.prev;if(P)P.next=w;else return;w?w.prev=P:P&&(this._drawLast=P),f.prev=null,f.next=this._drawFirst,this._drawFirst.prev=f,this._drawFirst=f,this._requestRedraw(c)}}});function yP(c){return ht.canvas?new vP(c):null}var sh=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(c){return document.createElement("<lvml:"+c+' class="lvml">')}}catch{}return function(c){return document.createElement("<"+c+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),S7={_initContainer:function(){this._container=nr("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Fi.prototype._update.call(this),this.fire("update"))},_initPath:function(c){var f=c._container=sh("shape");Dt(f,"leaflet-vml-shape "+(this.options.className||"")),f.coordsize="1 1",c._path=sh("path"),f.appendChild(c._path),this._updateStyle(c),this._layers[d(c)]=c},_addPath:function(c){var f=c._container;this._container.appendChild(f),c.options.interactive&&c.addInteractiveTarget(f)},_removePath:function(c){var f=c._container;Lr(f),c.removeInteractiveTarget(f),delete this._layers[d(c)]},_updateStyle:function(c){var f=c._stroke,w=c._fill,P=c.options,I=c._container;I.stroked=!!P.stroke,I.filled=!!P.fill,P.stroke?(f||(f=c._stroke=sh("stroke")),I.appendChild(f),f.weight=P.weight+"px",f.color=P.color,f.opacity=P.opacity,P.dashArray?f.dashStyle=S(P.dashArray)?P.dashArray.join(" "):P.dashArray.replace(/( *, *)/g," "):f.dashStyle="",f.endcap=P.lineCap.replace("butt","flat"),f.joinstyle=P.lineJoin):f&&(I.removeChild(f),c._stroke=null),P.fill?(w||(w=c._fill=sh("fill")),I.appendChild(w),w.color=P.fillColor||P.color,w.opacity=P.fillOpacity):w&&(I.removeChild(w),c._fill=null)},_updateCircle:function(c){var f=c._point.round(),w=Math.round(c._radius),P=Math.round(c._radiusY||w);this._setPath(c,c._empty()?"M0 0":"AL "+f.x+","+f.y+" "+w+","+P+" 0,"+65535*360)},_setPath:function(c,f){c._path.v=f},_bringToFront:function(c){bd(c._container)},_bringToBack:function(c){wd(c._container)}},mx=ht.vml?sh:te,ah=Fi.extend({_initContainer:function(){this._container=mx("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=mx("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Lr(this._container),jr(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Fi.prototype._update.call(this);var c=this._bounds,f=c.getSize(),w=this._container;(!this._svgSize||!this._svgSize.equals(f))&&(this._svgSize=f,w.setAttribute("width",f.x),w.setAttribute("height",f.y)),Yr(w,c.min),w.setAttribute("viewBox",[c.min.x,c.min.y,f.x,f.y].join(" ")),this.fire("update")}},_initPath:function(c){var f=c._path=mx("path");c.options.className&&Dt(f,c.options.className),c.options.interactive&&Dt(f,"leaflet-interactive"),this._updateStyle(c),this._layers[d(c)]=c},_addPath:function(c){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(c._path),c.addInteractiveTarget(c._path)},_removePath:function(c){Lr(c._path),c.removeInteractiveTarget(c._path),delete this._layers[d(c)]},_updatePath:function(c){c._project(),c._update()},_updateStyle:function(c){var f=c._path,w=c.options;f&&(w.stroke?(f.setAttribute("stroke",w.color),f.setAttribute("stroke-opacity",w.opacity),f.setAttribute("stroke-width",w.weight),f.setAttribute("stroke-linecap",w.lineCap),f.setAttribute("stroke-linejoin",w.lineJoin),w.dashArray?f.setAttribute("stroke-dasharray",w.dashArray):f.removeAttribute("stroke-dasharray"),w.dashOffset?f.setAttribute("stroke-dashoffset",w.dashOffset):f.removeAttribute("stroke-dashoffset")):f.setAttribute("stroke","none"),w.fill?(f.setAttribute("fill",w.fillColor||w.color),f.setAttribute("fill-opacity",w.fillOpacity),f.setAttribute("fill-rule",w.fillRule||"evenodd")):f.setAttribute("fill","none"))},_updatePoly:function(c,f){this._setPath(c,Ne(c._parts,f))},_updateCircle:function(c){var f=c._point,w=Math.max(Math.round(c._radius),1),P=Math.max(Math.round(c._radiusY),1)||w,I="a"+w+","+P+" 0 1,0 ",W=c._empty()?"M0 0":"M"+(f.x-w)+","+f.y+I+w*2+",0 "+I+-w*2+",0 ";this._setPath(c,W)},_setPath:function(c,f){c._path.setAttribute("d",f)},_bringToFront:function(c){bd(c._path)},_bringToBack:function(c){wd(c._path)}});ht.vml&&ah.include(S7);function jP(c){return ht.svg||ht.vml?new ah(c):null}Jt.include({getRenderer:function(c){var f=c.options.renderer||this._getPaneRenderer(c.options.pane)||this.options.renderer||this._renderer;return f||(f=this._renderer=this._createRenderer()),this.hasLayer(f)||this.addLayer(f),f},_getPaneRenderer:function(c){if(c==="overlayPane"||c===void 0)return!1;var f=this._paneRenderers[c];return f===void 0&&(f=this._createRenderer({pane:c}),this._paneRenderers[c]=f),f},_createRenderer:function(c){return this.options.preferCanvas&&yP(c)||jP(c)}});var bP=_d.extend({initialize:function(c,f){_d.prototype.initialize.call(this,this._boundsToLatLngs(c),f)},setBounds:function(c){return this.setLatLngs(this._boundsToLatLngs(c))},_boundsToLatLngs:function(c){return c=G(c),[c.getSouthWest(),c.getNorthWest(),c.getNorthEast(),c.getSouthEast()]}});function _7(c,f){return new bP(c,f)}ah.create=mx,ah.pointsToPath=Ne,zi.geometryToLayer=ax,zi.coordsToLatLng=Lj,zi.coordsToLatLngs=ix,zi.latLngToCoords=$j,zi.latLngsToCoords=ox,zi.getFeature=Cd,zi.asFeature=lx,Jt.mergeOptions({boxZoom:!0});var wP=si.extend({initialize:function(c){this._map=c,this._container=c._container,this._pane=c._panes.overlayPane,this._resetStateTimeout=0,c.on("unload",this._destroy,this)},addHooks:function(){kt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){jr(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Lr(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(c){if(!c.shiftKey||c.which!==1&&c.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Qm(),vj(),this._startPoint=this._map.mouseEventToContainerPoint(c),kt(document,{contextmenu:sc,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(c){this._moved||(this._moved=!0,this._box=nr("div","leaflet-zoom-box",this._container),Dt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(c);var f=new he(this._point,this._startPoint),w=f.getSize();Yr(this._box,f.min),this._box.style.width=w.x+"px",this._box.style.height=w.y+"px"},_finish:function(){this._moved&&(Lr(this._box),Wr(this._container,"leaflet-crosshair")),Ym(),yj(),jr(document,{contextmenu:sc,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(c){if(!(c.which!==1&&c.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var f=new ce(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(f).fire("boxzoomend",{boxZoomBounds:f})}},_onKeyDown:function(c){c.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Jt.addInitHook("addHandler","boxZoom",wP),Jt.mergeOptions({doubleClickZoom:!0});var NP=si.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(c){var f=this._map,w=f.getZoom(),P=f.options.zoomDelta,I=c.originalEvent.shiftKey?w-P:w+P;f.options.doubleClickZoom==="center"?f.setZoom(I):f.setZoomAround(c.containerPoint,I)}});Jt.addInitHook("addHandler","doubleClickZoom",NP),Jt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var SP=si.extend({addHooks:function(){if(!this._draggable){var c=this._map;this._draggable=new zo(c._mapPane,c._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),c.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),c.on("zoomend",this._onZoomEnd,this),c.whenReady(this._onZoomEnd,this))}Dt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Wr(this._map._container,"leaflet-grab"),Wr(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var c=this._map;if(c._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var f=G(this._map.options.maxBounds);this._offsetLimit=ue(this._map.latLngToContainerPoint(f.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(f.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;c.fire("movestart").fire("dragstart"),c.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(c){if(this._map.options.inertia){var f=this._lastTime=+new Date,w=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(w),this._times.push(f),this._prunePositions(f)}this._map.fire("move",c).fire("drag",c)},_prunePositions:function(c){for(;this._positions.length>1&&c-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var c=this._map.getSize().divideBy(2),f=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=f.subtract(c).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(c,f){return c-(c-f)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var c=this._draggable._newPos.subtract(this._draggable._startPos),f=this._offsetLimit;c.x<f.min.x&&(c.x=this._viscousLimit(c.x,f.min.x)),c.y<f.min.y&&(c.y=this._viscousLimit(c.y,f.min.y)),c.x>f.max.x&&(c.x=this._viscousLimit(c.x,f.max.x)),c.y>f.max.y&&(c.y=this._viscousLimit(c.y,f.max.y)),this._draggable._newPos=this._draggable._startPos.add(c)}},_onPreDragWrap:function(){var c=this._worldWidth,f=Math.round(c/2),w=this._initialWorldOffset,P=this._draggable._newPos.x,I=(P-f+w)%c+f-w,W=(P+f+w)%c-f-w,ie=Math.abs(I+w)<Math.abs(W+w)?I:W;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=ie},_onDragEnd:function(c){var f=this._map,w=f.options,P=!w.inertia||c.noInertia||this._times.length<2;if(f.fire("dragend",c),P)f.fire("moveend");else{this._prunePositions(+new Date);var I=this._lastPos.subtract(this._positions[0]),W=(this._lastTime-this._times[0])/1e3,ie=w.easeLinearity,ve=I.multiplyBy(ie/W),_e=ve.distanceTo([0,0]),De=Math.min(w.inertiaMaxSpeed,_e),Je=ve.multiplyBy(De/_e),wt=De/(w.inertiaDeceleration*ie),Ht=Je.multiplyBy(-wt/2).round();!Ht.x&&!Ht.y?f.fire("moveend"):(Ht=f._limitOffset(Ht,f.options.maxBounds),z(function(){f.panBy(Ht,{duration:wt,easeLinearity:ie,noMoveStart:!0,animate:!0})}))}}});Jt.addInitHook("addHandler","dragging",SP),Jt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var _P=si.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(c){this._map=c,this._setPanDelta(c.options.keyboardPanDelta),this._setZoomDelta(c.options.zoomDelta)},addHooks:function(){var c=this._map._container;c.tabIndex<=0&&(c.tabIndex="0"),kt(c,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),jr(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var c=document.body,f=document.documentElement,w=c.scrollTop||f.scrollTop,P=c.scrollLeft||f.scrollLeft;this._map._container.focus(),window.scrollTo(P,w)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(c){var f=this._panKeys={},w=this.keyCodes,P,I;for(P=0,I=w.left.length;P<I;P++)f[w.left[P]]=[-1*c,0];for(P=0,I=w.right.length;P<I;P++)f[w.right[P]]=[c,0];for(P=0,I=w.down.length;P<I;P++)f[w.down[P]]=[0,c];for(P=0,I=w.up.length;P<I;P++)f[w.up[P]]=[0,-1*c]},_setZoomDelta:function(c){var f=this._zoomKeys={},w=this.keyCodes,P,I;for(P=0,I=w.zoomIn.length;P<I;P++)f[w.zoomIn[P]]=c;for(P=0,I=w.zoomOut.length;P<I;P++)f[w.zoomOut[P]]=-c},_addHooks:function(){kt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){jr(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(c){if(!(c.altKey||c.ctrlKey||c.metaKey)){var f=c.keyCode,w=this._map,P;if(f in this._panKeys){if(!w._panAnim||!w._panAnim._inProgress)if(P=this._panKeys[f],c.shiftKey&&(P=Q(P).multiplyBy(3)),w.options.maxBounds&&(P=w._limitOffset(Q(P),w.options.maxBounds)),w.options.worldCopyJump){var I=w.wrapLatLng(w.unproject(w.project(w.getCenter()).add(P)));w.panTo(I)}else w.panBy(P)}else if(f in this._zoomKeys)w.setZoom(w.getZoom()+(c.shiftKey?3:1)*this._zoomKeys[f]);else if(f===27&&w._popup&&w._popup.options.closeOnEscapeKey)w.closePopup();else return;sc(c)}}});Jt.addInitHook("addHandler","keyboard",_P),Jt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var CP=si.extend({addHooks:function(){kt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){jr(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(c){var f=QC(c),w=this._map.options.wheelDebounceTime;this._delta+=f,this._lastMousePos=this._map.mouseEventToContainerPoint(c),this._startTime||(this._startTime=+new Date);var P=Math.max(w-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),P),sc(c)},_performZoom:function(){var c=this._map,f=c.getZoom(),w=this._map.options.zoomSnap||0;c._stop();var P=this._delta/(this._map.options.wheelPxPerZoomLevel*4),I=4*Math.log(2/(1+Math.exp(-Math.abs(P))))/Math.LN2,W=w?Math.ceil(I/w)*w:I,ie=c._limitZoom(f+(this._delta>0?W:-W))-f;this._delta=0,this._startTime=null,ie&&(c.options.scrollWheelZoom==="center"?c.setZoom(f+ie):c.setZoomAround(this._lastMousePos,f+ie))}});Jt.addInitHook("addHandler","scrollWheelZoom",CP);var C7=600;Jt.mergeOptions({tapHold:ht.touchNative&&ht.safari&&ht.mobile,tapTolerance:15});var PP=si.extend({addHooks:function(){kt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){jr(this._map._container,"touchstart",this._onDown,this)},_onDown:function(c){if(clearTimeout(this._holdTimeout),c.touches.length===1){var f=c.touches[0];this._startPos=this._newPos=new q(f.clientX,f.clientY),this._holdTimeout=setTimeout(o(function(){this._cancel(),this._isTapValid()&&(kt(document,"touchend",_n),kt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",f))},this),C7),kt(document,"touchend touchcancel contextmenu",this._cancel,this),kt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function c(){jr(document,"touchend",_n),jr(document,"touchend touchcancel",c)},_cancel:function(){clearTimeout(this._holdTimeout),jr(document,"touchend touchcancel contextmenu",this._cancel,this),jr(document,"touchmove",this._onMove,this)},_onMove:function(c){var f=c.touches[0];this._newPos=new q(f.clientX,f.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(c,f){var w=new MouseEvent(c,{bubbles:!0,cancelable:!0,view:window,screenX:f.screenX,screenY:f.screenY,clientX:f.clientX,clientY:f.clientY});w._simulated=!0,f.target.dispatchEvent(w)}});Jt.addInitHook("addHandler","tapHold",PP),Jt.mergeOptions({touchZoom:ht.touch,bounceAtZoomLimits:!0});var AP=si.extend({addHooks:function(){Dt(this._map._container,"leaflet-touch-zoom"),kt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Wr(this._map._container,"leaflet-touch-zoom"),jr(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(c){var f=this._map;if(!(!c.touches||c.touches.length!==2||f._animatingZoom||this._zooming)){var w=f.mouseEventToContainerPoint(c.touches[0]),P=f.mouseEventToContainerPoint(c.touches[1]);this._centerPoint=f.getSize()._divideBy(2),this._startLatLng=f.containerPointToLatLng(this._centerPoint),f.options.touchZoom!=="center"&&(this._pinchStartLatLng=f.containerPointToLatLng(w.add(P)._divideBy(2))),this._startDist=w.distanceTo(P),this._startZoom=f.getZoom(),this._moved=!1,this._zooming=!0,f._stop(),kt(document,"touchmove",this._onTouchMove,this),kt(document,"touchend touchcancel",this._onTouchEnd,this),_n(c)}},_onTouchMove:function(c){if(!(!c.touches||c.touches.length!==2||!this._zooming)){var f=this._map,w=f.mouseEventToContainerPoint(c.touches[0]),P=f.mouseEventToContainerPoint(c.touches[1]),I=w.distanceTo(P)/this._startDist;if(this._zoom=f.getScaleZoom(I,this._startZoom),!f.options.bounceAtZoomLimits&&(this._zoom<f.getMinZoom()&&I<1||this._zoom>f.getMaxZoom()&&I>1)&&(this._zoom=f._limitZoom(this._zoom)),f.options.touchZoom==="center"){if(this._center=this._startLatLng,I===1)return}else{var W=w._add(P)._divideBy(2)._subtract(this._centerPoint);if(I===1&&W.x===0&&W.y===0)return;this._center=f.unproject(f.project(this._pinchStartLatLng,this._zoom).subtract(W),this._zoom)}this._moved||(f._moveStart(!0,!1),this._moved=!0),F(this._animRequest);var ie=o(f._move,f,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=z(ie,this,!0),_n(c)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,F(this._animRequest),jr(document,"touchmove",this._onTouchMove,this),jr(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Jt.addInitHook("addHandler","touchZoom",AP),Jt.BoxZoom=wP,Jt.DoubleClickZoom=NP,Jt.Drag=SP,Jt.Keyboard=_P,Jt.ScrollWheelZoom=CP,Jt.TapHold=PP,Jt.TouchZoom=AP,n.Bounds=he,n.Browser=ht,n.CRS=Se,n.Canvas=vP,n.Circle=Mj,n.CircleMarker=sx,n.Class=D,n.Control=_a,n.DivIcon=pP,n.DivOverlay=ai,n.DomEvent=V9,n.DomUtil=q9,n.Draggable=zo,n.Evented=V,n.FeatureGroup=Di,n.GeoJSON=zi,n.GridLayer=nh,n.Handler=si,n.Icon=Sd,n.ImageOverlay=cx,n.LatLng=J,n.LatLngBounds=ce,n.Layer=Ca,n.LayerGroup=Nd,n.LineUtil=n7,n.Map=Jt,n.Marker=nx,n.Mixin=Y9,n.Path=Fo,n.Point=q,n.PolyUtil=X9,n.Polygon=_d,n.Polyline=Ri,n.Popup=dx,n.PosAnimation=YC,n.Projection=s7,n.Rectangle=bP,n.Renderer=Fi,n.SVG=ah,n.SVGOverlay=fP,n.TileLayer=Pd,n.Tooltip=ux,n.Transformation=Fe,n.Util=Z,n.VideoOverlay=hP,n.bind=o,n.bounds=ue,n.canvas=yP,n.circle=m7,n.circleMarker=u7,n.control=eh,n.divIcon=b7,n.extend=a,n.featureGroup=l7,n.geoJSON=mP,n.geoJson=p7,n.gridLayer=w7,n.icon=c7,n.imageOverlay=x7,n.latLng=ye,n.latLngBounds=G,n.layerGroup=o7,n.map=W9,n.marker=d7,n.point=Q,n.polygon=f7,n.polyline=h7,n.popup=y7,n.rectangle=_7,n.setOptions=x,n.stamp=d,n.svg=jP,n.svgOverlay=v7,n.tileLayer=xP,n.tooltip=j7,n.transformation=je,n.version=s,n.videoOverlay=g7;var P7=window.L;n.noConflict=function(){return window.L=P7,this},window.L=n})})(QN,QN.exports);var y0=QN.exports;const Kl=ar(y0);function UR(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function VR(e,t){return t==null?function(s,a){const i=N.useRef();return i.current||(i.current=e(s,a)),i}:function(s,a){const i=N.useRef();i.current||(i.current=e(s,a));const o=N.useRef(s),{instance:l}=i.current;return N.useEffect(function(){o.current!==s&&(t(l,s,o.current),o.current=s)},[l,s,a]),i}}function wee(e,t){N.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var i;(i=t.layerContainer)==null||i.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function WR(e){return function(n){const s=BR(),a=e(qR(n,s),s);return pee(s.map,n.attribution),bee(a.current,n.eventHandlers),wee(a.current,s),a}}function Nee(e,t){const n=VR(e,t),s=WR(n);return yee(s)}function See(e,t){const n=VR(e,t),s=WR(n);return jee(s)}function _ee(e,t,n){const{opacity:s,zIndex:a}=t;s!=null&&s!==n.opacity&&e.setOpacity(s),a!=null&&a!==n.zIndex&&e.setZIndex(a)}function Cee(){return BR().map}function E_(e){const t=Cee();return N.useEffect(function(){return t.on(e),function(){t.off(e)}},[t,e]),t}function YN(){return YN=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},YN.apply(this,arguments)}function Pee({bounds:e,boundsOptions:t,center:n,children:s,className:a,id:i,placeholder:o,style:l,whenReady:d,zoom:u,...h},m){const[p]=N.useState({className:a,id:i,style:l}),[g,y]=N.useState(null);N.useImperativeHandle(m,()=>(g==null?void 0:g.map)??null,[g]);const x=N.useCallback(j=>{if(j!==null&&g===null){const b=new y0.Map(j,h);n!=null&&u!=null?b.setView(n,u):e!=null&&b.fitBounds(e,t),d!=null&&b.whenReady(d),y(gee(b))}},[]);N.useEffect(()=>()=>{g==null||g.map.remove()},[g]);const v=g?R.createElement(FR,{value:g},s):o??null;return R.createElement("div",YN({},p,{ref:x}),v)}const Tf=N.forwardRef(Pee),Of=Nee(function({position:t,...n},s){const a=new y0.Marker(t,n);return UR(a,vee(s,{overlayContainer:a}))},function(t,n,s){n.position!==s.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==s.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==s.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==s.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==s.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),If=See(function({url:t,...n},s){const a=new y0.TileLayer(t,qR(n,s));return UR(a,s)},function(t,n,s){_ee(t,n,s);const{url:a}=n;a!=null&&a!==s.url&&t.setUrl(a)});delete Kl.Icon.Default.prototype._getIconUrl;Kl.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const Aee=({position:e,onLocationSelect:t})=>(E_({click(n){t(n.latlng.lat,n.latlng.lng)}}),e?r.jsx(Of,{position:e}):null),kee=()=>{var he,ue;const{isRTL:e}=rt(),t=lr(),[n]=e0(),s=rr(),a=n.get("userId")?parseInt(n.get("userId")):null,i=n.get("regionId")?parseInt(n.get("regionId")):null,[o,l]=N.useState(null),[d,u]=N.useState({lat:"",lng:""}),[h,m]=N.useState(""),[p,g]=N.useState([]),[y,x]=N.useState(!1),[v,j]=N.useState([24.7136,46.6753]),[b,S]=N.useState(13),C=Wt({defaultValues:{name:"",regionId:i||0,userId:a||0,latitude:0,longitude:0,isActive:!0,localizations:[]}}),{fields:_,append:A,remove:k}=Qt({control:C.control,name:"localizations"});N.useEffect(()=>{a&&C.setValue("userId",a),i&&C.setValue("regionId",i)},[a,i,C]);const{data:T}=qe({queryKey:["regions-dropdown"],queryFn:()=>Ms.getRegionsDropdown()}),{data:O}=qe({queryKey:["languages-dropdown"],queryFn:()=>ir.getLanguagesDropdown()}),{data:M}=qe({queryKey:["customers-dropdown"],queryFn:()=>Qi.getCustomers({pageSize:1e3})}),z=N.useCallback(async ce=>{if(!ce.trim()||ce.length<3){g([]);return}x(!0);try{const G=await fetch("https://nominatim.openstreetmap.org/search?"+new URLSearchParams({q:ce,format:"json",limit:"5",countrycodes:"sa,ae,kw,qa,bh,om,jo,eg,lb,sy,iq",addressdetails:"1"}));if(G.ok){const J=await G.json();g(J)}else throw new Error("Search failed")}catch{be.error(e?"فشل البحث عن الأماكن. يرجى المحاولة مرة أخرى.":"Failed to search for places. Please try again.")}finally{x(!1)}},[e]);N.useEffect(()=>{const ce=setTimeout(()=>{z(h)},500);return()=>clearTimeout(ce)},[h,z]);const F=(ce,G)=>{l([ce,G]),u({lat:ce.toFixed(6),lng:G.toFixed(6)}),C.setValue("latitude",ce),C.setValue("longitude",G),be.success(e?`تم تحديد الموقع - خط العرض: ${ce.toFixed(6)}, خط الطول: ${G.toFixed(6)}`:`Location selected - Lat: ${ce.toFixed(6)}, Lng: ${G.toFixed(6)}`)},Z=ce=>{const G=parseFloat(ce.lat),J=parseFloat(ce.lon),ye=[G,J];l(ye),j(ye),S(15),u({lat:G.toFixed(6),lng:J.toFixed(6)}),m(ce.display_name),g([]),C.setValue("latitude",G),C.setValue("longitude",J),be.success(e?"تم اختيار المكان":"Place selected",{description:ce.display_name})},D=(ce,G)=>{u(Se=>({...Se,[ce]:G}));const J=parseFloat(ce==="lat"?G:d.lat),ye=parseFloat(ce==="lng"?G:d.lng);!isNaN(J)&&!isNaN(ye)&&(l([J,ye]),C.setValue("latitude",J),C.setValue("longitude",ye))},$=()=>{if(o){const ce=`${d.lat}, ${d.lng}`;navigator.clipboard.writeText(ce),be.success(e?"تم نسخ الإحداثيات إلى الحافظة":"Coordinates copied to clipboard")}},E=()=>{l(null),u({lat:"",lng:""}),m(""),g([]),j([24.7136,46.6753]),S(13),C.setValue("latitude",0),C.setValue("longitude",0),be.success(e?"تم مسح تحديد الموقع":"Location selection cleared")},V=it({mutationFn:no.createLocation,onSuccess:()=>{s.invalidateQueries({queryKey:["locations"]}),s.invalidateQueries({queryKey:["locations-all"]}),be.success(e?"تم إنشاء الموقع بنجاح":"Location created successfully");const ce=new URLSearchParams;a&&ce.set("userId",a.toString()),i&&ce.set("regionId",i.toString());const G=ce.toString();t(`/locations${G?`?${G}`:""}`)},onError:ce=>{be.error(ce.message||(e?"حدث خطأ أثناء إنشاء الموقع":"Error creating location"))}}),q=async ce=>{V.mutate(ce)},U=()=>{A({name:"",languageId:0,isActive:!0})},Q=()=>{const ce=new URLSearchParams;a&&ce.set("userId",a.toString()),i&&ce.set("regionId",i.toString());const G=ce.toString();t(`/locations${G?`?${G}`:""}`)};return r.jsx(lt,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs(B,{variant:"outline",size:"sm",onClick:Q,className:"flex items-center gap-2",children:[r.jsx(Gt,{className:"h-4 w-4"}),e?"العودة":"Back"]}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-foreground",children:e?"إضافة موقع جديد":"Create New Location"}),r.jsx("p",{className:"text-muted-foreground",children:e?"أدخل معلومات الموقع الجديد وحدد موقعه على الخريطة":"Enter the details for the new location and select its position on the map"}),(a||i)&&r.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[a&&r.jsxs(Me,{variant:"secondary",className:"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/20 dark:text-blue-300 dark:border-blue-800",children:[r.jsx(Gr,{className:"h-3 w-3 mr-1"}),e?`مفلتر حسب العميل: #${a}`:`Pre-selected Customer ID: #${a}`]}),i&&r.jsxs(Me,{variant:"secondary",className:"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/20 dark:text-green-300 dark:border-green-800",children:[r.jsx(zt,{className:"h-3 w-3 mr-1"}),e?`مفلتر حسب المنطقة: #${i}`:`Pre-selected Region ID: #${i}`]})]})]})]}),r.jsxs(Y,{className:"border-0 shadow-elegant",children:[r.jsx(Pe,{children:r.jsxs(Ie,{className:"flex items-center gap-2",children:[r.jsx(zt,{className:"h-5 w-5 text-primary"}),e?"معلومات الموقع":"Location Information"]})}),r.jsx(ee,{children:r.jsx(Kt,{...C,children:r.jsxs("form",{onSubmit:C.handleSubmit(q),className:"space-y-6",children:[r.jsx("div",{className:"space-y-4",children:r.jsx(ae,{control:C.control,name:"name",rules:{required:e?"اسم الموقع مطلوب":"Location name is required"},render:({field:ce})=>r.jsxs(ne,{children:[r.jsx(re,{children:e?"اسم الموقع":"Location Name"}),r.jsx(se,{children:r.jsx(Oe,{placeholder:e?"مثال: المكتب الرئيسي، المتجر الفرعي":"e.g., Main Office, Branch Store",...ce})}),r.jsx(fe,{})]})})}),r.jsxs("div",{className:`grid grid-cols-1 ${!a&&!i||!a||!i?"md:grid-cols-2":""} gap-4`,children:[!i&&r.jsx(ae,{control:C.control,name:"regionId",rules:{required:e?"المنطقة مطلوبة":"Region is required"},render:({field:ce})=>{var G;return r.jsxs(ne,{children:[r.jsx(re,{children:e?"المنطقة":"Region"}),r.jsxs(ut,{onValueChange:J=>ce.onChange(parseInt(J)),value:(G=ce.value)==null?void 0:G.toString(),children:[r.jsx(se,{children:r.jsx(ct,{children:r.jsx(mt,{placeholder:e?"اختر المنطقة":"Select Region"})})}),r.jsx(dt,{children:T==null?void 0:T.map(J=>r.jsx(Ye,{value:J.id.toString(),children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(zt,{className:"h-4 w-4"}),J.fullPath]})},J.id))})]}),r.jsx(fe,{})]})}}),i&&r.jsxs("div",{className:"space-y-2",children:[r.jsx(re,{children:e?"المنطقة المحددة":"Selected Region"}),r.jsx("div",{className:"p-3 bg-muted/50 rounded-lg border",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(zt,{className:"h-4 w-4 text-primary"}),r.jsx("span",{className:"text-sm font-medium",children:((he=T==null?void 0:T.find(ce=>ce.id===i))==null?void 0:he.fullPath)||`Region ID: ${i}`}),r.jsx(Me,{variant:"secondary",className:"ml-2",children:e?"محدد تلقائياً":"Pre-selected"})]})})]}),!a&&r.jsx(ae,{control:C.control,name:"userId",rules:{required:e?"العميل مطلوب":"Customer is required"},render:({field:ce})=>{var G;return r.jsxs(ne,{children:[r.jsx(re,{children:e?"العميل":"Customer"}),r.jsxs(ut,{onValueChange:J=>ce.onChange(parseInt(J)),value:(G=ce.value)==null?void 0:G.toString(),children:[r.jsx(se,{children:r.jsx(ct,{children:r.jsx(mt,{placeholder:e?"اختر العميل":"Select Customer"})})}),r.jsx(dt,{children:M==null?void 0:M.items.map(J=>r.jsx(Ye,{value:J.userId.toString(),children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Gr,{className:"h-4 w-4"}),J.name]})},J.userId))})]}),r.jsx(fe,{})]})}}),a&&r.jsxs("div",{className:"space-y-2",children:[r.jsx(re,{children:e?"العميل المحدد":"Selected Customer"}),r.jsx("div",{className:"p-3 bg-muted/50 rounded-lg border",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Gr,{className:"h-4 w-4 text-primary"}),r.jsx("span",{className:"text-sm font-medium",children:((ue=M==null?void 0:M.items.find(ce=>ce.userId===a))==null?void 0:ue.name)||`Customer ID: ${a}`}),r.jsx(Me,{variant:"secondary",className:"ml-2",children:e?"محدد تلقائياً":"Pre-selected"})]})})]})]}),r.jsx(ae,{control:C.control,name:"isActive",render:({field:ce})=>r.jsxs(ne,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[r.jsxs("div",{className:"space-y-0.5",children:[r.jsx(re,{className:"text-base",children:e?"الموقع نشط":"Active Location"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:e?"تفعيل أو إلغاء تفعيل الموقع":"Enable or disable this location"})]}),r.jsx(se,{children:r.jsx(Ct,{checked:ce.value,onCheckedChange:ce.onChange})})]})}),r.jsxs("div",{className:"space-y-4 border rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h4",{className:"text-sm font-medium flex items-center gap-2",children:[r.jsx(zt,{className:"h-4 w-4 text-primary"}),e?"تحديد الموقع على الخريطة":"Location on Map"]}),o&&r.jsxs(B,{type:"button",variant:"outline",size:"sm",onClick:E,children:[r.jsx(IS,{className:"h-4 w-4"}),e?"إعادة تعيين":"Reset"]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium",children:e?"البحث عن مكان":"Search for a place"}),r.jsxs("div",{className:"relative",children:[r.jsx(Qr,{className:`absolute top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground ${e?"right-3":"left-3"}`}),y&&r.jsx(dn,{className:`absolute top-1/2 transform -translate-y-1/2 h-4 w-4 animate-spin text-muted-foreground ${e?"left-3":"right-3"}`}),r.jsx(Oe,{value:h,onChange:ce=>m(ce.target.value),placeholder:e?"ابحث عن مكان...":"Search for a place...",className:e?"pr-10 pl-10":"pl-10 pr-10"})]}),p.length>0&&r.jsx("div",{className:"max-h-32 overflow-y-auto border rounded-lg bg-background",children:p.map(ce=>r.jsx("div",{className:"p-2 hover:bg-muted cursor-pointer border-b last:border-b-0 transition-colors",onClick:()=>Z(ce),children:r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(zt,{className:"h-4 w-4 text-muted-foreground mt-0.5 flex-shrink-0"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-medium truncate",children:ce.display_name.split(",")[0]}),r.jsx("p",{className:"text-xs text-muted-foreground truncate",children:ce.display_name})]})]})},ce.place_id))})]}),r.jsx("div",{className:"h-96 w-full rounded-lg overflow-hidden border",children:r.jsxs(Tf,{center:v,zoom:b,style:{height:"100%",width:"100%"},children:[r.jsx(If,{attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),r.jsx(Aee,{position:o,onLocationSelect:F})]},`${v[0]}-${v[1]}-${b}`)}),o&&r.jsxs("div",{className:"p-3 rounded-lg bg-primary/10 border border-primary/20",children:[r.jsx("h3",{className:"font-medium text-primary text-sm mb-2",children:e?"الموقع المحدد":"Selected Location"}),r.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm text-muted-foreground",children:[r.jsxs("p",{children:[r.jsx("strong",{children:e?"خط العرض:":"Latitude:"})," ",d.lat]}),r.jsxs("p",{children:[r.jsx("strong",{children:e?"خط الطول:":"Longitude:"})," ",d.lng]})]}),r.jsxs(B,{type:"button",variant:"outline",size:"sm",onClick:$,className:"mt-2 w-full",children:[r.jsx(jf,{className:"h-4 w-4 mr-2"}),e?"نسخ الإحداثيات":"Copy Coordinates"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:e?"خط العرض (Latitude)":"Latitude"}),r.jsx(Oe,{type:"number",step:"any",value:d.lat,onChange:ce=>D("lat",ce.target.value),placeholder:e?"أدخل خط العرض":"Enter latitude"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:e?"خط الطول (Longitude)":"Longitude"}),r.jsx(Oe,{type:"number",step:"any",value:d.lng,onChange:ce=>D("lng",ce.target.value),placeholder:e?"أدخل خط الطول":"Enter longitude"})]})]}),r.jsxs("div",{className:"p-3 rounded-lg bg-muted/30",children:[r.jsx("h4",{className:"font-medium text-sm mb-2",children:e?"كيفية الاستخدام:":"How to use:"}),r.jsxs("ul",{className:"text-xs text-muted-foreground space-y-1",children:[r.jsx("li",{children:e?"• ابحث عن مكان بالاسم في خانة البحث":"• Search for places by name in the search box"}),r.jsx("li",{children:e?"• انقر في أي مكان على الخريطة لتحديد موقع":"• Click anywhere on the map to select a location"}),r.jsx("li",{children:e?"• أو أدخل الإحداثيات يدوياً":"• Or enter coordinates manually"})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h4",{className:"text-sm font-medium",children:e?"الترجمات":"Localizations"}),r.jsxs(B,{type:"button",variant:"outline",size:"sm",onClick:U,children:[r.jsx(ot,{className:"h-4 w-4"}),e?"إضافة ترجمة":"Add Translation"]})]}),_.map((ce,G)=>r.jsxs(Y,{className:"p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h5",{className:"text-sm font-medium",children:e?`الترجمة ${G+1}`:`Translation ${G+1}`}),r.jsx(B,{type:"button",variant:"ghost",size:"sm",onClick:()=>k(G),children:r.jsx(xt,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(ae,{control:C.control,name:`localizations.${G}.languageId`,rules:{required:e?"اللغة مطلوبة":"Language is required"},render:({field:J})=>{var ye;return r.jsxs(ne,{children:[r.jsx(re,{children:e?"اللغة":"Language"}),r.jsxs(ut,{onValueChange:Se=>J.onChange(parseInt(Se)),value:(ye=J.value)==null?void 0:ye.toString(),children:[r.jsx(se,{children:r.jsx(ct,{children:r.jsx(mt,{placeholder:e?"اختر اللغة":"Select Language"})})}),r.jsx(dt,{children:O==null?void 0:O.map(Se=>r.jsx(Ye,{value:Se.id.toString(),children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx($e,{className:"h-4 w-4"}),Se.name," (",Se.code,")"]})},Se.id))})]}),r.jsx(fe,{})]})}}),r.jsx(ae,{control:C.control,name:`localizations.${G}.name`,rules:{required:e?"الاسم مطلوب":"Name is required"},render:({field:J})=>r.jsxs(ne,{children:[r.jsx(re,{children:e?"الاسم المترجم":"Translated Name"}),r.jsx(se,{children:r.jsx(Oe,{placeholder:e?"الاسم المترجم":"Translated name",...J})}),r.jsx(fe,{})]})})]})]},ce.id))]}),r.jsxs("div",{className:"flex items-center justify-end gap-4 pt-6 border-t",children:[r.jsx(B,{type:"button",variant:"outline",onClick:Q,children:e?"إلغاء":"Cancel"}),r.jsx(B,{type:"submit",className:"gradient-primary",disabled:V.isPending,children:V.isPending?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary-foreground"}),e?"جاري الإنشاء...":"Creating..."]}):r.jsxs(r.Fragment,{children:[r.jsx(ot,{className:"h-4 w-4 mr-2"}),e?"إنشاء الموقع":"Create Location"]})})]})]})})})]})]})})};delete Kl.Icon.Default.prototype._getIconUrl;Kl.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const Eee=()=>{const{isRTL:e}=rt(),{id:t}=Io(),n=lr(),[s]=e0(),[a,i]=N.useState(!1),o=s.get("userId"),l=s.get("regionId"),{data:d,isLoading:u,error:h}=qe({queryKey:["location",t],queryFn:()=>no.getLocationById(parseInt(t)),enabled:!!t}),m=()=>{const x=new URLSearchParams;o&&x.set("userId",o),l&&x.set("regionId",l);const v=x.toString();n(`/locations${v?`?${v}`:""}`)},p=()=>{if(!d)return;const x=new URLSearchParams;o&&x.set("userId",o),l&&x.set("regionId",l);const v=x.toString();n(`/locations/edit/${d.id}${v?`?${v}`:""}`)},g=x=>r.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1.5 rounded-full text-xs font-medium transition-all duration-200 ${x?"bg-emerald-100 text-emerald-700 border border-emerald-200 dark:bg-emerald-900/20 dark:text-emerald-400 dark:border-emerald-800":"bg-red-50 text-red-600 border border-red-200 dark:bg-red-900/20 dark:text-red-400 dark:border-red-800"}`,children:[r.jsx("div",{className:`w-2 h-2 rounded-full animate-pulse ${x?"bg-emerald-500 shadow-sm shadow-emerald-500/50":"bg-red-500 shadow-sm shadow-red-500/50"}`}),r.jsx("span",{className:"font-semibold",children:e?x?"نشط":"غير نشط":x?"Active":"Inactive"})]}),y=x=>new Date(x).toLocaleDateString(e?"ar-SA":"en-US");return u?r.jsx(lt,{children:r.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"}),r.jsx("span",{children:e?"جاري التحميل...":"Loading..."})]})})}):h||!d?r.jsx(lt,{children:r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs(B,{variant:"outline",size:"sm",onClick:m,children:[r.jsx(Gt,{className:"h-4 w-4"}),e?"العودة":"Back"]}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-foreground",children:e?"خطأ":"Error"}),r.jsx("p",{className:"text-muted-foreground",children:e?"لم يتم العثور على الموقع":"Location not found"})]})]})})}):r.jsxs(lt,{children:[r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs(B,{variant:"outline",size:"sm",onClick:m,children:[r.jsx(Gt,{className:"h-4 w-4"}),e?"العودة":"Back"]}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-foreground",children:d.name}),r.jsx("p",{className:"text-muted-foreground",children:e?"تفاصيل الموقع":"Location Details"}),(o||l)&&r.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[o&&r.jsxs(Me,{variant:"secondary",className:"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/20 dark:text-blue-300 dark:border-blue-800",children:[r.jsx(Gr,{className:"h-3 w-3 mr-1"}),e?`مفلتر حسب العميل: #${o}`:`Filtered by Customer ID: #${o}`]}),l&&r.jsxs(Me,{variant:"secondary",className:"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/20 dark:text-green-300 dark:border-green-800",children:[r.jsx(zt,{className:"h-3 w-3 mr-1"}),e?`مفلتر حسب المنطقة: #${l}`:`Filtered by Region ID: #${l}`]})]})]})]}),r.jsxs(B,{className:"gradient-primary",onClick:p,children:[r.jsx(tr,{className:"h-4 w-4 mr-2"}),e?"تحرير الموقع":"Edit Location"]})]}),r.jsxs(Y,{className:"border-0 shadow-elegant",children:[r.jsx(Pe,{className:"pb-3",children:r.jsxs(Ie,{className:"text-lg flex items-center gap-2",children:[r.jsx(zt,{className:"h-5 w-5 text-primary"}),e?"المعلومات الأساسية":"Basic Information"]})}),r.jsx(ee,{className:"space-y-4",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:e?"اسم الموقع":"Location Name"}),r.jsx("div",{className:"p-3 bg-muted/50 rounded-lg",children:r.jsx("span",{className:"text-sm font-medium",children:d.name})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:e?"المنطقة":"Region"}),r.jsx("div",{className:"p-3 bg-muted/50 rounded-lg",children:r.jsx("span",{className:"text-sm font-medium",children:d.regionName})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:e?"اسم العميل":"Customer Name"}),r.jsx("div",{className:"p-3 bg-muted/50 rounded-lg",children:r.jsx("span",{className:"text-sm",children:d.userName})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:e?"الحالة":"Status"}),r.jsx("div",{className:"p-3",children:g(d.isActive)})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:e?"تاريخ الإنشاء":"Created Date"}),r.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg flex items-center gap-2",children:[r.jsx(ZA,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{className:"text-sm",children:y(d.createdAt)})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:e?"تاريخ التحديث":"Last Modified"}),r.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg flex items-center gap-2",children:[r.jsx(ZA,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{className:"text-sm",children:y(d.updatedAt)})]})]})]})})]}),r.jsxs(Y,{className:"border-0 shadow-elegant",children:[r.jsx(Pe,{className:"pb-3",children:r.jsxs(Ie,{className:"text-lg flex items-center gap-2",children:[r.jsx(zt,{className:"h-5 w-5 text-primary"}),e?"موقع الخريطة":"Map Location"]})}),r.jsx(ee,{children:d.latitude===0&&d.longitude===0?r.jsxs("div",{className:"text-center py-8",children:[r.jsx(zt,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4 opacity-50"}),r.jsx("p",{className:"text-muted-foreground",children:e?"لم يتم تحديد موقع على الخريطة":"No map location set for this location"})]}):r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-3 bg-muted/30 rounded-lg",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:e?"خط العرض":"Latitude"}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsx("span",{className:"text-sm font-medium",children:d.latitude.toFixed(6)})})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:e?"خط الطول":"Longitude"}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsx("span",{className:"text-sm font-medium",children:d.longitude.toFixed(6)})})]})]}),r.jsx("div",{className:"h-80 w-full rounded-lg overflow-hidden border",children:r.jsxs(Tf,{center:[d.latitude,d.longitude],zoom:15,style:{height:"100%",width:"100%"},scrollWheelZoom:!0,doubleClickZoom:!0,dragging:!0,zoomControl:!0,children:[r.jsx(If,{attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),r.jsx(Of,{position:[d.latitude,d.longitude]})]})}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(B,{type:"button",variant:"outline",size:"sm",onClick:()=>i(!0),className:"flex-1",children:[r.jsx(hV,{className:"h-4 w-4 mr-2"}),e?"عرض بملء الشاشة":"Full Screen"]}),r.jsxs(B,{type:"button",variant:"outline",size:"sm",onClick:()=>{const x=`${d.latitude.toFixed(6)}, ${d.longitude.toFixed(6)}`;navigator.clipboard.writeText(x),be.success(e?"تم نسخ الإحداثيات إلى الحافظة":"Coordinates copied to clipboard")},className:"flex-1",children:[r.jsx(jf,{className:"h-4 w-4 mr-2"}),e?"نسخ الإحداثيات":"Copy Coordinates"]}),r.jsxs(B,{type:"button",variant:"outline",size:"sm",onClick:()=>{const x=`https://www.google.com/maps?q=${d.latitude},${d.longitude}`;window.open(x,"_blank")},className:"flex-1",children:[r.jsx($e,{className:"h-4 w-4 mr-2"}),e?"فتح في Google Maps":"Open in Google Maps"]})]})]})})]}),r.jsxs(Y,{className:"border-0 shadow-elegant",children:[r.jsx(Pe,{className:"pb-3",children:r.jsxs(Ie,{className:"text-lg flex items-center gap-2",children:[r.jsx($e,{className:"h-5 w-5 text-primary"}),e?"الترجمات":"Localizations",r.jsx(Me,{variant:"secondary",className:"ml-2",children:d.localizations.length})]})}),r.jsx(ee,{children:d.localizations.length===0?r.jsxs("div",{className:"text-center py-8",children:[r.jsx($e,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4 opacity-50"}),r.jsx("p",{className:"text-muted-foreground",children:e?"لا توجد ترجمات متاحة لهذا الموقع":"No translations available for this location"})]}):r.jsx("div",{className:"space-y-4",children:d.localizations.map((x,v)=>r.jsx(Y,{className:"border border-border/50",children:r.jsx(ee,{className:"p-4",children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center",children:r.jsx($e,{className:"h-4 w-4 text-primary"})}),r.jsxs("div",{children:[r.jsxs("h4",{className:"font-medium text-sm",children:[x.languageName," (",x.languageCode,")"]}),r.jsx("p",{className:"text-xs text-muted-foreground",children:e?`الترجمة ${v+1}`:`Translation ${v+1}`})]})]}),g(x.isActive)]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:e?"الاسم المترجم":"Translated Name"}),r.jsx("div",{className:"p-3 bg-muted/30 rounded-lg",children:r.jsx("p",{className:"text-sm font-medium",children:x.name})})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-2 border-t border-border/30",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:e?"تاريخ الإنشاء":"Created"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:y(x.createdAt)})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:e?"تاريخ التحديث":"Updated"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:y(x.updatedAt)})]})]})]})})},x.id))})})]}),r.jsxs(Y,{className:"border-0 shadow-elegant",children:[r.jsx(Pe,{className:"pb-3",children:r.jsxs(Ie,{className:"text-lg flex items-center gap-2",children:[r.jsx(Or,{className:"h-5 w-5 text-primary"}),e?"إحصائيات الموقع":"Location Statistics"]})}),r.jsx(ee,{children:r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"text-center p-4 bg-muted/30 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-primary mb-1",children:d.localizations.length}),r.jsx("div",{className:"text-xs text-muted-foreground",children:e?"إجمالي الترجمات":"Total Translations"})]}),r.jsxs("div",{className:"text-center p-4 bg-muted/30 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-emerald-600 mb-1",children:d.localizations.filter(x=>x.isActive).length}),r.jsx("div",{className:"text-xs text-muted-foreground",children:e?"ترجمات نشطة":"Active Translations"})]}),r.jsxs("div",{className:"text-center p-4 bg-muted/30 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-red-600 mb-1",children:d.localizations.filter(x=>!x.isActive).length}),r.jsx("div",{className:"text-xs text-muted-foreground",children:e?"ترجمات غير نشطة":"Inactive Translations"})]}),r.jsxs("div",{className:"text-center p-4 bg-muted/30 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600 mb-1",children:d.name.length}),r.jsx("div",{className:"text-xs text-muted-foreground",children:e?"طول الاسم":"Name Length"})]})]})})]})]}),r.jsx(Mt,{open:a,onOpenChange:i,children:r.jsxs(Et,{className:"max-w-[95vw] max-h-[95vh] w-full h-full p-0",children:[r.jsx(Tt,{className:"p-4 pb-2",children:r.jsxs(Ot,{className:"flex items-center gap-2",children:[r.jsx(zt,{className:"h-5 w-5 text-primary"}),e?"موقع الخريطة - عرض بملء الشاشة":"Map Location - Full Screen View"]})}),r.jsxs("div",{className:"flex-1 p-4 pt-0",children:[r.jsx("div",{className:"h-[calc(95vh-120px)] w-full rounded-lg overflow-hidden border",children:r.jsxs(Tf,{center:[d.latitude,d.longitude],zoom:16,style:{height:"100%",width:"100%"},scrollWheelZoom:!0,doubleClickZoom:!0,dragging:!0,zoomControl:!0,children:[r.jsx(If,{attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),r.jsx(Of,{position:[d.latitude,d.longitude]})]},a?"fullscreen-map":"closed")}),r.jsxs("div",{className:"flex items-center gap-2 mt-4 pt-4 border-t",children:[r.jsxs(B,{type:"button",variant:"outline",size:"sm",onClick:()=>{const x=`${d.latitude.toFixed(6)}, ${d.longitude.toFixed(6)}`;navigator.clipboard.writeText(x),be.success(e?"تم نسخ الإحداثيات إلى الحافظة":"Coordinates copied to clipboard")},className:"flex-1",children:[r.jsx(jf,{className:"h-4 w-4 mr-2"}),e?"نسخ الإحداثيات":"Copy Coordinates"]}),r.jsxs(B,{type:"button",variant:"outline",size:"sm",onClick:()=>{const x=`https://www.google.com/maps?q=${d.latitude},${d.longitude}`;window.open(x,"_blank")},className:"flex-1",children:[r.jsx($e,{className:"h-4 w-4 mr-2"}),e?"فتح في Google Maps":"Open in Google Maps"]})]})]})]})})]})};delete Kl.Icon.Default.prototype._getIconUrl;Kl.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const Tee=({position:e,onLocationSelect:t})=>(E_({click(n){t(n.latlng.lat,n.latlng.lng)}}),e?r.jsx(Of,{position:e}):null),Oee=()=>{const{isRTL:e}=rt(),t=lr(),{id:n}=Io(),[s]=e0(),a=rr(),i=s.get("userId")?parseInt(s.get("userId")):null,o=s.get("regionId")?parseInt(s.get("regionId")):null,[l,d]=N.useState(null),[u,h]=N.useState({lat:"",lng:""}),[m,p]=N.useState(""),[g,y]=N.useState([]),[x,v]=N.useState(!1),[j,b]=N.useState([24.7136,46.6753]),[S,C]=N.useState(13),{data:_,isLoading:A}=qe({queryKey:["location",n],queryFn:()=>no.getLocationById(parseInt(n)),enabled:!!n}),k=Wt({defaultValues:{name:"",regionId:0,userId:0,latitude:0,longitude:0,isActive:!0,localizations:[]}}),{fields:T,append:O,remove:M}=Qt({control:k.control,name:"localizations"});N.useEffect(()=>{if(_&&(k.reset({name:_.name,regionId:_.regionId,userId:_.userId,latitude:_.latitude||0,longitude:_.longitude||0,isActive:_.isActive,localizations:_.localizations.map(G=>({id:G.id,name:G.name,languageId:G.languageId,isActive:G.isActive}))}),_.latitude&&_.longitude)){const G=[_.latitude,_.longitude];d(G),b(G),h({lat:_.latitude.toFixed(6),lng:_.longitude.toFixed(6)})}},[_,k]);const{data:z}=qe({queryKey:["regions-dropdown"],queryFn:()=>Ms.getRegionsDropdown()}),{data:F}=qe({queryKey:["languages-dropdown"],queryFn:()=>ir.getLanguagesDropdown()}),{data:Z}=qe({queryKey:["customers-dropdown"],queryFn:()=>Qi.getCustomers({pageSize:1e3})}),D=N.useCallback(async G=>{if(!G.trim()||G.length<3){y([]);return}v(!0);try{const J=await fetch("https://nominatim.openstreetmap.org/search?"+new URLSearchParams({q:G,format:"json",limit:"5",countrycodes:"sa,ae,kw,qa,bh,om,jo,eg,lb,sy,iq",addressdetails:"1"}));if(J.ok){const ye=await J.json();y(ye)}else throw new Error("Search failed")}catch{be.error(e?"فشل البحث عن الأماكن. يرجى المحاولة مرة أخرى.":"Failed to search for places. Please try again.")}finally{v(!1)}},[e]);N.useEffect(()=>{const G=setTimeout(()=>{D(m)},500);return()=>clearTimeout(G)},[m,D]);const $=(G,J)=>{d([G,J]),h({lat:G.toFixed(6),lng:J.toFixed(6)}),k.setValue("latitude",G),k.setValue("longitude",J),be.success(e?`تم تحديد الموقع - خط العرض: ${G.toFixed(6)}, خط الطول: ${J.toFixed(6)}`:`Location selected - Lat: ${G.toFixed(6)}, Lng: ${J.toFixed(6)}`)},E=G=>{const J=parseFloat(G.lat),ye=parseFloat(G.lon),Se=[J,ye];d(Se),b(Se),C(15),h({lat:J.toFixed(6),lng:ye.toFixed(6)}),p(G.display_name),y([]),k.setValue("latitude",J),k.setValue("longitude",ye),be.success(e?"تم اختيار المكان":"Place selected",{description:G.display_name})},V=(G,J)=>{h(We=>({...We,[G]:J}));const ye=parseFloat(G==="lat"?J:u.lat),Se=parseFloat(G==="lng"?J:u.lng);!isNaN(ye)&&!isNaN(Se)&&(d([ye,Se]),k.setValue("latitude",ye),k.setValue("longitude",Se))},q=()=>{if(l){const G=`${u.lat}, ${u.lng}`;navigator.clipboard.writeText(G),be.success(e?"تم نسخ الإحداثيات إلى الحافظة":"Coordinates copied to clipboard")}},U=()=>{d(null),h({lat:"",lng:""}),p(""),y([]),b([24.7136,46.6753]),C(13),k.setValue("latitude",0),k.setValue("longitude",0),be.success(e?"تم مسح تحديد الموقع":"Location selection cleared")},Q=it({mutationFn:({id:G,data:J})=>no.updateLocation(G,J),onSuccess:()=>{a.invalidateQueries({queryKey:["locations"]}),a.invalidateQueries({queryKey:["locations-all"]}),a.invalidateQueries({queryKey:["location",n]}),be.success(e?"تم تحديث الموقع بنجاح":"Location updated successfully");const G=new URLSearchParams;i&&G.set("userId",i.toString()),o&&G.set("regionId",o.toString());const J=G.toString();t(`/locations${J?`?${J}`:""}`)},onError:G=>{be.error(G.message||(e?"حدث خطأ أثناء تحديث الموقع":"Error updating location"))}}),he=async G=>{n&&Q.mutate({id:parseInt(n),data:G})},ue=()=>{O({name:"",languageId:0,isActive:!0})},ce=()=>{const G=new URLSearchParams;i&&G.set("userId",i.toString()),o&&G.set("regionId",o.toString());const J=G.toString();t(`/locations${J?`?${J}`:""}`)};return A?r.jsx(lt,{children:r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(dn,{className:"h-6 w-6 animate-spin"}),r.jsx("span",{children:e?"جاري تحميل بيانات الموقع...":"Loading location data..."})]})})}):_?r.jsx(lt,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs(B,{variant:"outline",size:"sm",onClick:ce,className:"flex items-center gap-2",children:[r.jsx(Gt,{className:"h-4 w-4"}),e?"العودة":"Back"]}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-foreground",children:e?"تحرير الموقع":"Edit Location"}),r.jsx("p",{className:"text-muted-foreground",children:e?`تحرير معلومات الموقع "${_.name}" وتحديد موقعه على الخريطة`:`Edit the details for "${_.name}" and update its position on the map`}),(i||o)&&r.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[i&&r.jsxs(Me,{variant:"secondary",className:"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/20 dark:text-blue-300 dark:border-blue-800",children:[r.jsx(Gr,{className:"h-3 w-3 mr-1"}),e?`مفلتر حسب العميل: #${i}`:`Filtered by Customer: #${i}`]}),o&&r.jsxs(Me,{variant:"secondary",className:"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/20 dark:text-green-300 dark:border-green-800",children:[r.jsx(zt,{className:"h-3 w-3 mr-1"}),e?`مفلتر حسب المنطقة: #${o}`:`Filtered by Region: #${o}`]})]})]})]}),r.jsxs(Y,{className:"border-0 shadow-elegant",children:[r.jsx(Pe,{children:r.jsxs(Ie,{className:"flex items-center gap-2",children:[r.jsx(tr,{className:"h-5 w-5 text-primary"}),e?"معلومات الموقع":"Location Information"]})}),r.jsx(ee,{children:r.jsx(Kt,{...k,children:r.jsxs("form",{onSubmit:k.handleSubmit(he),className:"space-y-6",children:[r.jsx("div",{className:"space-y-4",children:r.jsx(ae,{control:k.control,name:"name",rules:{required:e?"اسم الموقع مطلوب":"Location name is required"},render:({field:G})=>r.jsxs(ne,{children:[r.jsx(re,{children:e?"اسم الموقع":"Location Name"}),r.jsx(se,{children:r.jsx(Oe,{placeholder:e?"مثال: المكتب الرئيسي، المتجر الفرعي":"e.g., Main Office, Branch Store",...G})}),r.jsx(fe,{})]})})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(ae,{control:k.control,name:"regionId",rules:{required:e?"المنطقة مطلوبة":"Region is required"},render:({field:G})=>{var J;return r.jsxs(ne,{children:[r.jsx(re,{children:e?"المنطقة":"Region"}),r.jsxs(ut,{onValueChange:ye=>G.onChange(parseInt(ye)),value:(J=G.value)==null?void 0:J.toString(),children:[r.jsx(se,{children:r.jsx(ct,{children:r.jsx(mt,{placeholder:e?"اختر المنطقة":"Select Region"})})}),r.jsx(dt,{children:z==null?void 0:z.map(ye=>r.jsx(Ye,{value:ye.id.toString(),children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(zt,{className:"h-4 w-4"}),ye.fullPath]})},ye.id))})]}),r.jsx(fe,{})]})}}),r.jsx(ae,{control:k.control,name:"userId",rules:{required:e?"العميل مطلوب":"Customer is required"},render:({field:G})=>{var J;return r.jsxs(ne,{children:[r.jsx(re,{children:e?"العميل":"Customer"}),r.jsxs(ut,{onValueChange:ye=>G.onChange(parseInt(ye)),value:(J=G.value)==null?void 0:J.toString(),children:[r.jsx(se,{children:r.jsx(ct,{children:r.jsx(mt,{placeholder:e?"اختر العميل":"Select Customer"})})}),r.jsx(dt,{children:Z==null?void 0:Z.items.map(ye=>r.jsx(Ye,{value:ye.userId.toString(),children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Gr,{className:"h-4 w-4"}),ye.name]})},ye.userId))})]}),r.jsx(fe,{})]})}})]}),r.jsx(ae,{control:k.control,name:"isActive",render:({field:G})=>r.jsxs(ne,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[r.jsxs("div",{className:"space-y-0.5",children:[r.jsx(re,{className:"text-base",children:e?"الموقع نشط":"Active Location"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:e?"تفعيل أو إلغاء تفعيل الموقع":"Enable or disable this location"})]}),r.jsx(se,{children:r.jsx(Ct,{checked:G.value,onCheckedChange:G.onChange})})]})}),r.jsxs("div",{className:"space-y-4 border rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h4",{className:"text-sm font-medium flex items-center gap-2",children:[r.jsx(zt,{className:"h-4 w-4 text-primary"}),e?"تحديد الموقع على الخريطة":"Location on Map"]}),l&&r.jsxs(B,{type:"button",variant:"outline",size:"sm",onClick:U,children:[r.jsx(IS,{className:"h-4 w-4"}),e?"إعادة تعيين":"Reset"]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium",children:e?"البحث عن مكان":"Search for a place"}),r.jsxs("div",{className:"relative",children:[r.jsx(Qr,{className:`absolute top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground ${e?"right-3":"left-3"}`}),x&&r.jsx(dn,{className:`absolute top-1/2 transform -translate-y-1/2 h-4 w-4 animate-spin text-muted-foreground ${e?"left-3":"right-3"}`}),r.jsx(Oe,{value:m,onChange:G=>p(G.target.value),placeholder:e?"ابحث عن مكان...":"Search for a place...",className:e?"pr-10 pl-10":"pl-10 pr-10"})]}),g.length>0&&r.jsx("div",{className:"max-h-32 overflow-y-auto border rounded-lg bg-background",children:g.map(G=>r.jsx("div",{className:"p-2 hover:bg-muted cursor-pointer border-b last:border-b-0 transition-colors",onClick:()=>E(G),children:r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(zt,{className:"h-4 w-4 text-muted-foreground mt-0.5 flex-shrink-0"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-medium truncate",children:G.display_name.split(",")[0]}),r.jsx("p",{className:"text-xs text-muted-foreground truncate",children:G.display_name})]})]})},G.place_id))})]}),r.jsx("div",{className:"h-96 w-full rounded-lg overflow-hidden border",children:r.jsxs(Tf,{center:j,zoom:S,style:{height:"100%",width:"100%"},children:[r.jsx(If,{attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),r.jsx(Tee,{position:l,onLocationSelect:$})]},`${j[0]}-${j[1]}-${S}`)}),l&&r.jsxs("div",{className:"p-3 rounded-lg bg-primary/10 border border-primary/20",children:[r.jsx("h3",{className:"font-medium text-primary text-sm mb-2",children:e?"الموقع المحدد":"Selected Location"}),r.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm text-muted-foreground",children:[r.jsxs("p",{children:[r.jsx("strong",{children:e?"خط العرض:":"Latitude:"})," ",u.lat]}),r.jsxs("p",{children:[r.jsx("strong",{children:e?"خط الطول:":"Longitude:"})," ",u.lng]})]}),r.jsxs(B,{type:"button",variant:"outline",size:"sm",onClick:q,className:"mt-2 w-full",children:[r.jsx(jf,{className:"h-4 w-4 mr-2"}),e?"نسخ الإحداثيات":"Copy Coordinates"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:e?"خط العرض (Latitude)":"Latitude"}),r.jsx(Oe,{type:"number",step:"any",value:u.lat,onChange:G=>V("lat",G.target.value),placeholder:e?"أدخل خط العرض":"Enter latitude"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:e?"خط الطول (Longitude)":"Longitude"}),r.jsx(Oe,{type:"number",step:"any",value:u.lng,onChange:G=>V("lng",G.target.value),placeholder:e?"أدخل خط الطول":"Enter longitude"})]})]}),r.jsxs("div",{className:"p-3 rounded-lg bg-muted/30",children:[r.jsx("h4",{className:"font-medium text-sm mb-2",children:e?"كيفية الاستخدام:":"How to use:"}),r.jsxs("ul",{className:"text-xs text-muted-foreground space-y-1",children:[r.jsx("li",{children:e?"• ابحث عن مكان بالاسم في خانة البحث":"• Search for places by name in the search box"}),r.jsx("li",{children:e?"• انقر في أي مكان على الخريطة لتحديد موقع":"• Click anywhere on the map to select a location"}),r.jsx("li",{children:e?"• أو أدخل الإحداثيات يدوياً":"• Or enter coordinates manually"})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h4",{className:"text-sm font-medium",children:e?"الترجمات":"Localizations"}),r.jsxs(B,{type:"button",variant:"outline",size:"sm",onClick:ue,children:[r.jsx(ot,{className:"h-4 w-4"}),e?"إضافة ترجمة":"Add Translation"]})]}),T.map((G,J)=>r.jsxs(Y,{className:"p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h5",{className:"text-sm font-medium",children:e?`الترجمة ${J+1}`:`Translation ${J+1}`}),r.jsx(B,{type:"button",variant:"ghost",size:"sm",onClick:()=>M(J),children:r.jsx(xt,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(ae,{control:k.control,name:`localizations.${J}.languageId`,rules:{required:e?"اللغة مطلوبة":"Language is required"},render:({field:ye})=>{var Se;return r.jsxs(ne,{children:[r.jsx(re,{children:e?"اللغة":"Language"}),r.jsxs(ut,{onValueChange:We=>ye.onChange(parseInt(We)),value:(Se=ye.value)==null?void 0:Se.toString(),children:[r.jsx(se,{children:r.jsx(ct,{children:r.jsx(mt,{placeholder:e?"اختر اللغة":"Select Language"})})}),r.jsx(dt,{children:F==null?void 0:F.map(We=>r.jsx(Ye,{value:We.id.toString(),children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx($e,{className:"h-4 w-4"}),We.name," (",We.code,")"]})},We.id))})]}),r.jsx(fe,{})]})}}),r.jsx(ae,{control:k.control,name:`localizations.${J}.name`,rules:{required:e?"الاسم مطلوب":"Name is required"},render:({field:ye})=>r.jsxs(ne,{children:[r.jsx(re,{children:e?"الاسم المترجم":"Translated Name"}),r.jsx(se,{children:r.jsx(Oe,{placeholder:e?"الاسم المترجم":"Translated name",...ye})}),r.jsx(fe,{})]})})]}),r.jsx("div",{className:"mt-4",children:r.jsx(ae,{control:k.control,name:`localizations.${J}.isActive`,render:({field:ye})=>r.jsxs(ne,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[r.jsx("div",{className:"space-y-0.5",children:r.jsx(re,{className:"text-sm",children:e?"الترجمة نشطة":"Active Translation"})}),r.jsx(se,{children:r.jsx(Ct,{checked:ye.value,onCheckedChange:ye.onChange})})]})})})]},G.id))]}),r.jsxs("div",{className:"flex items-center justify-end gap-4 pt-6 border-t",children:[r.jsx(B,{type:"button",variant:"outline",onClick:ce,children:e?"إلغاء":"Cancel"}),r.jsx(B,{type:"submit",className:"gradient-primary",disabled:Q.isPending,children:Q.isPending?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary-foreground"}),e?"جاري التحديث...":"Updating..."]}):r.jsxs(r.Fragment,{children:[r.jsx(tr,{className:"h-4 w-4 mr-2"}),e?"حفظ التغييرات":"Save Changes"]})})]})]})})})]})]})}):r.jsx(lt,{children:r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h2",{className:"text-xl font-semibold mb-2",children:e?"الموقع غير موجود":"Location not found"}),r.jsx("p",{className:"text-muted-foreground mb-4",children:e?"لم يتم العثور على الموقع المطلوب":"The requested location could not be found"}),r.jsxs(B,{onClick:ce,children:[r.jsx(Gt,{className:"h-4 w-4 mr-2"}),e?"العودة للمواقع":"Back to Locations"]})]})})})};var XN=(e=>(e.Name="Name",e))(XN||{});class Iee{constructor(){ge(this,"baseUrl","/api/employees");ge(this,"request",async(t,n={})=>{const s=`${this.baseUrl}${t}`,a={headers:{"Content-Type":"application/json",...n.headers},...n};try{const i=await fetch(s,a);if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);return await i.json()}catch(i){throw console.error("Employee API Request Error:",i),i}});ge(this,"registerEmployee",async t=>{const n=await this.request("/create",{method:"POST",body:JSON.stringify(t)});if(!n.success)throw new Error(n.message||"Failed to create employee");if(!n.data)throw new Error("No data returned from server");return n.data});ge(this,"loginEmployee",async t=>{const n=await this.request("/login",{method:"POST",body:JSON.stringify(t)});if(!n.success)throw new Error(n.message||"Failed to login employee");if(!n.data)throw new Error("No data returned from server");return n.data});ge(this,"logoutEmployee",async()=>{const t=await this.request("/logout",{method:"POST"});if(!t.success)throw new Error(t.message||"Failed to logout employee")});ge(this,"getEmployees",async(t={})=>{const n=new URLSearchParams;t.page&&n.append("page",t.page.toString()),t.pageSize&&n.append("pageSize",t.pageSize.toString()),t.activeOnly!==void 0&&n.append("activeOnly",t.activeOnly.toString());const s=n.toString()?`?${n.toString()}`:"",a=await this.request(s);if(!a.success)throw new Error(a.message||"Failed to fetch employees");if(!a.data)throw new Error("No data returned from server");return a.data});ge(this,"getEmployeeById",async t=>{const n=await this.request(`/${t}`);if(!n.success)throw new Error(n.message||"Failed to fetch employee");if(!n.data)throw new Error("No data returned from server");return n.data});ge(this,"updateEmployee",async(t,n)=>{const s=await this.request(`/edit/${t}`,{method:"PUT",body:JSON.stringify(n)});if(!s.success)throw new Error(s.message||"Failed to update employee");if(!s.data)throw new Error("No data returned from server");return s.data});ge(this,"deleteEmployee",async t=>{const n=await this.request(`/${t}`,{method:"DELETE"});if(!n.success)throw new Error(n.message||"Failed to delete employee")});ge(this,"searchEmployees",async t=>{const n=new URLSearchParams;n.append("searchTerm",t.searchTerm),t.page&&n.append("page",t.page.toString()),t.pageSize&&n.append("pageSize",t.pageSize.toString()),t.activeOnly!==void 0&&n.append("activeOnly",t.activeOnly.toString()),t.sortBy&&n.append("sortBy",t.sortBy.toString());const s=await this.request(`/search?${n.toString()}`);if(!s.success)throw new Error(s.message||"Failed to search employees");if(!s.data)throw new Error("No data returned from server");return s.data})}}const Md=new Iee,r3=({employee:e,size:t="sm"})=>{const n={sm:"w-8 h-8",md:"w-12 h-12",lg:"w-16 h-16"},s=a=>{if(!a)return"E";const i=a.trim().split(" ");return i.length>=2?`${i[0].charAt(0)}${i[i.length-1].charAt(0)}`.toUpperCase():i[0].charAt(0).toUpperCase()};return r.jsx("div",{className:`${n[t]} rounded-full bg-gradient-primary flex items-center justify-center text-white font-medium border-2 border-border/20`,children:r.jsx("span",{className:"text-xs",children:s(e==null?void 0:e.name)})})},Mee=()=>{const{isRTL:e}=rt(),t=lr(),n=ba(),s=rr(),[a,i]=N.useState(""),[o,l]=N.useState("all"),[d,u]=N.useState(XN.Name),[h,m]=N.useState(!1),[p,g]=N.useState(!1),[y,x]=N.useState(!1),[v,j]=N.useState(null),[b,S]=N.useState(null),[C,_]=N.useState(1),[A]=N.useState(10),k=Wt({defaultValues:{name:"",email:"",password:"",isActive:!0}}),T=Wt({defaultValues:{name:"",email:"",password:"",isActive:!0}});R.useEffect(()=>{var G,J;if((G=n.state)!=null&&G.editEmployee){const ye=n.state.editEmployee;j(ye),T.reset({name:ye.name,email:ye.email,password:"",isActive:ye.isActive}),g(!0),t(n.pathname,{replace:!0})}else if((J=n.state)!=null&&J.viewEmployee){const ye=n.state.viewEmployee;S(ye),x(!0),t(n.pathname,{replace:!0})}},[n.state,n.pathname,t,T]);const{data:O,isLoading:M,error:z}=qe({queryKey:["employees",C,A,o,a,d],queryFn:()=>{if(a.trim())return Md.searchEmployees({searchTerm:a.trim(),page:C,pageSize:A,activeOnly:o==="all"?void 0:o==="active",sortBy:d});{const G={page:C,pageSize:A};return o==="active"?G.activeOnly=!0:o==="inactive"&&(G.activeOnly=!1),Md.getEmployees(G)}}}),{data:F}=qe({queryKey:["employees-all"],queryFn:()=>Md.getEmployees({pageSize:1e3})}),Z=it({mutationFn:Md.registerEmployee,onSuccess:()=>{s.invalidateQueries({queryKey:["employees"]}),s.invalidateQueries({queryKey:["employees-all"]}),be.success(e?"تم إنشاء الموظف بنجاح":"Employee created successfully")},onError:G=>{be.error(G.message||(e?"حدث خطأ أثناء إنشاء الموظف":"Error creating employee"))}}),D=it({mutationFn:({id:G,data:J})=>Md.updateEmployee(G,J),onSuccess:()=>{s.invalidateQueries({queryKey:["employees"]}),s.invalidateQueries({queryKey:["employees-all"]}),be.success(e?"تم تحديث الموظف بنجاح":"Employee updated successfully")},onError:G=>{be.error(G.message||(e?"حدث خطأ أثناء تحديث الموظف":"Error updating employee"))}}),$=it({mutationFn:Md.deleteEmployee,onSuccess:()=>{s.invalidateQueries({queryKey:["employees"]}),s.invalidateQueries({queryKey:["employees-all"]}),be.success(e?"تم حذف الموظف بنجاح":"Employee deleted successfully")},onError:G=>{be.error(G.message||(e?"حدث خطأ أثناء حذف الموظف":"Error deleting employee"))}}),E={total:(F==null?void 0:F.totalCount)||0,active:(F==null?void 0:F.items.filter(G=>G.isActive).length)||0,inactive:(F==null?void 0:F.items.filter(G=>!G.isActive).length)||0},V=async G=>{Z.mutate(G,{onSuccess:()=>{m(!1),k.reset()}})},q=async G=>{if(!v)return;const J={name:G.name,email:G.email,isActive:G.isActive};G.password&&G.password.trim()!==""&&(J.password=G.password),D.mutate({id:v.userId,data:J},{onSuccess:()=>{g(!1),j(null),T.reset()}})},U=G=>{j(G),T.reset({name:G.name,email:G.email,password:"",isActive:G.isActive}),g(!0)},Q=G=>{S(G),x(!0)},he=G=>r.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1.5 rounded-full text-xs font-medium transition-all duration-200 ${G?"bg-emerald-100 text-emerald-700 border border-emerald-200 dark:bg-emerald-900/20 dark:text-emerald-400 dark:border-emerald-800":"bg-red-50 text-red-600 border border-red-200 dark:bg-red-900/20 dark:text-red-400 dark:border-red-800"}`,children:[r.jsx("div",{className:`w-2 h-2 rounded-full animate-pulse ${G?"bg-emerald-500 shadow-sm shadow-emerald-500/50":"bg-red-500 shadow-sm shadow-red-500/50"}`}),r.jsx("span",{className:"font-semibold",children:e?G?"نشط":"غير نشط":G?"Active":"Inactive"})]}),ue=G=>new Date(G).toLocaleDateString(e?"ar-SA":"en-US"),ce=G=>G.name;return r.jsx(lt,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-foreground",children:e?"إدارة الموظفين":"Employees Management"}),r.jsx("p",{className:"text-muted-foreground",children:e?"إدارة بيانات الموظفين والحسابات":"Manage employee data and accounts"})]}),r.jsxs(B,{className:"gradient-primary flex items-center gap-2",onClick:()=>m(!0),children:[r.jsx(bV,{className:"h-4 w-4"}),e?"إضافة موظف جديد":"Add New Employee"]})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[r.jsx(Y,{className:"border-0 shadow-elegant",children:r.jsx(ee,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:e?"إجمالي الموظفين":"Total Employees"}),r.jsx("p",{className:"text-2xl font-bold",children:E.total})]}),r.jsx(Gr,{className:"h-8 w-8 text-primary"})]})})}),r.jsx(Y,{className:"border-0 shadow-elegant",children:r.jsx(ee,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:e?"الموظفين النشطين":"Active Employees"}),r.jsx("p",{className:"text-2xl font-bold text-success",children:E.active})]}),r.jsx(Or,{className:"h-8 w-8 text-success"})]})})}),r.jsx(Y,{className:"border-0 shadow-elegant",children:r.jsx(ee,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:e?"الموظفين غير النشطين":"Inactive Employees"}),r.jsx("p",{className:"text-2xl font-bold text-muted-foreground",children:E.inactive})]}),r.jsx(jn,{className:"h-8 w-8 text-muted-foreground"})]})})})]}),r.jsx(Y,{className:"border-0 shadow-elegant",children:r.jsx(ee,{className:"p-6",children:r.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(Qr,{className:`absolute top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground ${e?"right-3":"left-3"}`}),r.jsx(Oe,{placeholder:e?"البحث في الموظفين...":"Search employees...",value:a,onChange:G=>i(G.target.value),className:e?"pr-10 pl-4":"pl-10 pr-4"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(Ut,{children:[r.jsx(Vt,{asChild:!0,children:r.jsxs(B,{variant:"outline",className:"flex items-center gap-2 hover:border-primary/50 hover:bg-primary/5 transition-all duration-200",children:[r.jsx("div",{className:`w-2 h-2 rounded-full ${o==="active"?"bg-emerald-500":o==="inactive"?"bg-red-500":"bg-gradient-to-r from-emerald-500 to-red-500"}`}),e?o==="all"?"جميع الحالات":o==="active"?"نشط":"غير نشط":o==="all"?"All Status":o==="active"?"Active":"Inactive",r.jsx(vn,{className:"h-4 w-4 opacity-50"})]})}),r.jsxs(Ft,{align:"end",className:"w-48",children:[r.jsxs(ke,{onClick:()=>l("all"),className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 rounded-full bg-gradient-to-r from-emerald-500 to-red-500"}),e?"جميع الحالات":"All Status"]}),r.jsxs(ke,{onClick:()=>l("active"),className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500"}),e?"نشط":"Active"]}),r.jsxs(ke,{onClick:()=>l("inactive"),className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500"}),e?"غير نشط":"Inactive"]})]})]}),r.jsxs(Ut,{children:[r.jsx(Vt,{asChild:!0,children:r.jsxs(B,{variant:"outline",className:"flex items-center gap-2 hover:border-primary/50 hover:bg-primary/5 transition-all duration-200",children:[e?"ترتيب حسب":"Sort by",r.jsx(vn,{className:"h-4 w-4 opacity-50"})]})}),r.jsx(Ft,{align:"end",children:r.jsx(ke,{onClick:()=>u(XN.Name),children:e?"الاسم":"Name"})})]})]})]})})}),r.jsxs(Y,{className:"border-0 shadow-elegant",children:[r.jsx(Pe,{children:r.jsxs(Ie,{className:"flex items-center gap-2",children:[r.jsx(Gr,{className:"h-5 w-5 text-primary"}),e?`${(O==null?void 0:O.items.length)||0} موظف`:`${(O==null?void 0:O.items.length)||0} Employees`]})}),r.jsxs(ee,{children:[r.jsxs(On,{dir:e?"rtl":"ltr",children:[r.jsx(In,{children:r.jsxs(Xe,{className:e?"text-right":"text-left",children:[r.jsx(Re,{className:e?"text-right":"text-left",children:e?"الموظف":"Employee"}),r.jsx(Re,{className:e?"text-right":"text-left",children:e?"البريد الإلكتروني":"Email"}),r.jsx(Re,{className:e?"text-right":"text-left",children:e?"الحالة":"Status"}),r.jsx(Re,{className:e?"text-right":"text-left",children:e?"تاريخ الإنشاء":"Created Date"}),r.jsx(Re,{className:"text-center",children:e?"الإجراءات":"Actions"})]})}),r.jsx(Mn,{children:M?r.jsx(Xe,{className:e?"text-right":"text-left",children:r.jsx(xe,{colSpan:5,className:"text-center py-8",children:r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"}),r.jsx("span",{className:e?"mr-2":"ml-2",children:e?"جاري التحميل...":"Loading..."})]})})}):z?r.jsx(Xe,{className:e?"text-right":"text-left",children:r.jsx(xe,{colSpan:5,className:"text-center py-8 text-destructive",children:e?"خطأ في تحميل البيانات":"Error loading data"})}):((O==null?void 0:O.items.length)||0)===0?r.jsx(Xe,{className:e?"text-right":"text-left",children:r.jsx(xe,{colSpan:5,className:"text-center py-8 text-muted-foreground",children:e?"لا توجد موظفين متاحين":"No employees available"})}):O==null?void 0:O.items.map(G=>r.jsxs(Xe,{className:`hover:bg-muted/50 ${e?"text-right":"text-left"}`,children:[r.jsx(xe,{className:e?"text-right":"text-left",children:r.jsxs("div",{className:`flex items-center gap-3 ${e?"text-right":"flex-row"}`,children:[r.jsx(r3,{employee:G}),r.jsx("div",{children:r.jsx("p",{className:"font-medium",children:ce(G)})})]})}),r.jsx(xe,{className:e?"text-right":"text-left",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(wf,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{className:"text-sm",children:G.email})]})}),r.jsx(xe,{className:e?"text-right":"text-left",children:he(G.isActive)}),r.jsx(xe,{className:`text-muted-foreground ${e?"text-right":"text-left"}`,children:ue(G.createdAt)}),r.jsx(xe,{className:"text-center",children:r.jsxs(Ut,{children:[r.jsx(Vt,{asChild:!0,children:r.jsx(B,{variant:"ghost",className:"h-8 w-8 p-0",children:r.jsx(bn,{className:"h-4 w-4"})})}),r.jsxs(Ft,{align:e?"start":"end",children:[r.jsxs(ke,{className:`flex items-center gap-2 ${e?"flex-row-reverse":"flex-row"}`,onClick:()=>Q(G),children:[r.jsx(Fr,{className:"h-4 w-4"}),e?"عرض التفاصيل":"View Details"]}),r.jsxs(ke,{className:`flex items-center gap-2 ${e?"flex-row-reverse":"flex-row"}`,onClick:()=>U(G),children:[r.jsx(tr,{className:"h-4 w-4"}),e?"تحرير":"Edit"]}),r.jsxs(ke,{className:`flex items-center gap-2 text-destructive ${e?"flex-row-reverse":"flex-row"}`,onClick:()=>$.mutate(G.userId),children:[r.jsx(xt,{className:"h-4 w-4"}),e?"حذف":"Delete"]})]})]})})]},G.userId))})]}),O&&O.totalPages>1&&r.jsxs("div",{className:"flex items-center justify-between mt-6",children:[r.jsx("div",{className:"text-sm text-muted-foreground",children:e?`عرض ${(O.page-1)*O.pageSize+1} إلى ${Math.min(O.page*O.pageSize,O.totalCount)} من ${O.totalCount}`:`Showing ${(O.page-1)*O.pageSize+1} to ${Math.min(O.page*O.pageSize,O.totalCount)} of ${O.totalCount}`}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(B,{variant:"outline",size:"sm",onClick:()=>_(G=>Math.max(G-1,1)),disabled:!O.hasPreviousPage,children:e?r.jsx(Nt,{className:"h-4 w-4"}):r.jsx(At,{className:"h-4 w-4"})}),r.jsx("span",{className:"text-sm font-medium",children:e?`${O.page} من ${O.totalPages}`:`${O.page} of ${O.totalPages}`}),r.jsx(B,{variant:"outline",size:"sm",onClick:()=>_(G=>G+1),disabled:!O.hasNextPage,children:e?r.jsx(At,{className:"h-4 w-4"}):r.jsx(Nt,{className:"h-4 w-4"})})]})]})]})]}),r.jsx(Mt,{open:h,onOpenChange:m,children:r.jsxs(Et,{className:"sm:max-w-lg max-h-[90vh] overflow-y-auto",children:[r.jsxs(Tt,{children:[r.jsx(Ot,{children:e?"إضافة موظف جديد":"Add New Employee"}),r.jsx($t,{children:e?"أدخل معلومات الموظف الجديد":"Enter the details for the new employee"})]}),r.jsx(Kt,{...k,children:r.jsxs("form",{onSubmit:k.handleSubmit(V),className:"space-y-4",children:[r.jsx(ae,{control:k.control,name:"name",rules:{required:e?"الاسم مطلوب":"Name is required"},render:({field:G})=>r.jsxs(ne,{children:[r.jsx(re,{children:e?"الاسم":"Name"}),r.jsx(se,{children:r.jsx(Oe,{placeholder:e?"مثال: أحمد محمد":"e.g., John Doe",...G})}),r.jsx(fe,{})]})}),r.jsx(ae,{control:k.control,name:"email",rules:{required:e?"البريد الإلكتروني مطلوب":"Email is required",pattern:{value:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,message:e?"البريد الإلكتروني غير صحيح":"Invalid email address"}},render:({field:G})=>r.jsxs(ne,{children:[r.jsx(re,{children:e?"البريد الإلكتروني":"Email"}),r.jsx(se,{children:r.jsx(Oe,{type:"email",placeholder:"example@email.com",...G})}),r.jsx(fe,{})]})}),r.jsx(ae,{control:k.control,name:"password",rules:{required:e?"كلمة المرور مطلوبة":"Password is required",minLength:{value:6,message:e?"كلمة المرور يجب أن تكون 6 أحرف على الأقل":"Password must be at least 6 characters"}},render:({field:G})=>r.jsxs(ne,{children:[r.jsx(re,{children:e?"كلمة المرور":"Password"}),r.jsx(se,{children:r.jsx(Oe,{type:"password",...G})}),r.jsx(fe,{})]})}),r.jsx(ae,{control:k.control,name:"isActive",render:({field:G})=>r.jsxs(ne,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[r.jsxs("div",{className:"space-y-0.5",children:[r.jsx(re,{className:"text-base",children:e?"الموظف نشط":"Active Employee"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:e?"تفعيل أو إلغاء تفعيل الموظف":"Enable or disable this employee"})]}),r.jsx(se,{children:r.jsx(Ct,{checked:G.value,onCheckedChange:G.onChange})})]})}),r.jsxs(Lt,{children:[r.jsx(B,{type:"button",variant:"outline",onClick:()=>m(!1),children:e?"إلغاء":"Cancel"}),r.jsx(B,{type:"submit",className:"gradient-primary",disabled:Z.isPending,children:Z.isPending?e?"جاري الإنشاء...":"Creating...":e?"إنشاء":"Create"})]})]})})]})}),r.jsx(Mt,{open:p,onOpenChange:g,children:r.jsxs(Et,{className:"sm:max-w-lg max-h-[90vh] overflow-y-auto",children:[r.jsxs(Tt,{children:[r.jsx(Ot,{children:e?"تحرير الموظف":"Edit Employee"}),r.jsx($t,{children:e?"قم بتحديث معلومات الموظف":"Update the employee details"})]}),r.jsx(Kt,{...T,children:r.jsxs("form",{onSubmit:T.handleSubmit(q),className:"space-y-4",children:[r.jsx(ae,{control:T.control,name:"name",rules:{required:e?"الاسم مطلوب":"Name is required"},render:({field:G})=>r.jsxs(ne,{children:[r.jsx(re,{children:e?"الاسم":"Name"}),r.jsx(se,{children:r.jsx(Oe,{...G})}),r.jsx(fe,{})]})}),r.jsx(ae,{control:T.control,name:"email",rules:{required:e?"البريد الإلكتروني مطلوب":"Email is required",pattern:{value:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,message:e?"البريد الإلكتروني غير صحيح":"Invalid email address"}},render:({field:G})=>r.jsxs(ne,{children:[r.jsx(re,{children:e?"البريد الإلكتروني":"Email"}),r.jsx(se,{children:r.jsx(Oe,{type:"email",...G})}),r.jsx(fe,{})]})}),r.jsx(ae,{control:T.control,name:"password",rules:{minLength:{value:6,message:e?"كلمة المرور يجب أن تكون 6 أحرف على الأقل":"Password must be at least 6 characters"}},render:({field:G})=>r.jsxs(ne,{children:[r.jsx(re,{children:e?"كلمة المرور (اختيارية)":"Password (Optional)"}),r.jsx(se,{children:r.jsx(Oe,{type:"password",placeholder:e?"اتركه فارغاً للاحتفاظ بكلمة المرور الحالية":"Leave empty to keep current password",...G})}),r.jsx(fe,{})]})}),r.jsx(ae,{control:T.control,name:"isActive",render:({field:G})=>r.jsxs(ne,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[r.jsxs("div",{className:"space-y-0.5",children:[r.jsx(re,{className:"text-base",children:e?"الموظف نشط":"Active Employee"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:e?"تفعيل أو إلغاء تفعيل الموظف":"Enable or disable this employee"})]}),r.jsx(se,{children:r.jsx(Ct,{checked:G.value,onCheckedChange:G.onChange})})]})}),r.jsxs(Lt,{children:[r.jsx(B,{type:"button",variant:"outline",onClick:()=>g(!1),children:e?"إلغاء":"Cancel"}),r.jsx(B,{type:"submit",className:"gradient-primary",disabled:D.isPending,children:D.isPending?e?"جاري التحديث...":"Updating...":e?"حفظ التغييرات":"Save Changes"})]})]})})]})}),r.jsx(Mt,{open:y,onOpenChange:x,children:r.jsxs(Et,{className:"sm:max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Tt,{children:[r.jsxs(Ot,{className:"flex items-center gap-3",children:[r.jsx(r3,{employee:b,size:"md"}),e?"تفاصيل الموظف":"Employee Details"]}),r.jsx($t,{children:e?"عرض شامل لمعلومات الموظف":"Comprehensive view of employee information"})]}),b&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs(Y,{className:"border-0 shadow-sm",children:[r.jsx(Pe,{className:"pb-3",children:r.jsxs(Ie,{className:"text-lg flex items-center gap-2",children:[r.jsx(Ai,{className:"h-5 w-5 text-primary"}),e?"المعلومات الأساسية":"Basic Information"]})}),r.jsx(ee,{className:"space-y-4",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:e?"الاسم الكامل":"Full Name"}),r.jsx("div",{className:"p-3 bg-muted/50 rounded-lg",children:r.jsx("span",{className:"text-sm font-medium",children:ce(b)})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:e?"الحالة":"Status"}),r.jsx("div",{className:"p-3",children:he(b.isActive)})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:e?"البريد الإلكتروني":"Email"}),r.jsx("div",{className:"p-3 bg-muted/50 rounded-lg",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(wf,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{className:"text-sm",children:b.email})]})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:e?"تاريخ الإنشاء":"Created Date"}),r.jsx("div",{className:"p-3 bg-muted/50 rounded-lg",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(oo,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{className:"text-sm",children:ue(b.createdAt)})]})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:e?"تاريخ التحديث":"Last Modified"}),r.jsx("div",{className:"p-3 bg-muted/50 rounded-lg",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(oo,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{className:"text-sm",children:ue(b.updatedAt)})]})})]})]})})]}),r.jsxs(Y,{className:"border-0 shadow-sm",children:[r.jsx(Pe,{className:"pb-3",children:r.jsxs(Ie,{className:"text-lg flex items-center gap-2",children:[r.jsx(Rs,{className:"h-5 w-5 text-primary"}),e?"إحصائيات الموظف":"Employee Statistics"]})}),r.jsx(ee,{children:r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"text-center p-4 bg-muted/30 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-primary mb-1",children:b.userId}),r.jsx("div",{className:"text-xs text-muted-foreground",children:e?"معرف المستخدم":"User ID"})]}),r.jsxs("div",{className:"text-center p-4 bg-muted/30 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-emerald-600 mb-1",children:b.email.length}),r.jsx("div",{className:"text-xs text-muted-foreground",children:e?"طول البريد الإلكتروني":"Email Length"})]}),r.jsxs("div",{className:"text-center p-4 bg-muted/30 rounded-lg",children:[r.jsx("div",{className:`text-2xl font-bold mb-1 ${b.isActive?"text-emerald-600":"text-red-600"}`,children:b.isActive?"✓":"✗"}),r.jsx("div",{className:"text-xs text-muted-foreground",children:e?"حالة النشاط":"Active Status"})]})]})})]})]}),r.jsxs(Lt,{children:[r.jsx(B,{type:"button",variant:"outline",onClick:()=>{x(!1),S(null)},children:e?"إغلاق":"Close"}),r.jsxs(B,{type:"button",className:"gradient-primary",onClick:()=>{b&&(U(b),x(!1),S(null))},children:[r.jsx(tr,{className:"h-4 w-4 mr-2"}),e?"تحرير الموظف":"Edit Employee"]})]})]})})]})})};class Lee{constructor(){ge(this,"baseUrl","/api/roles");ge(this,"request",async(t,n={})=>{const s=`${this.baseUrl}${t}`,a={headers:{"Content-Type":"application/json",...n.headers},...n};try{const i=await fetch(s,a);if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);return await i.json()}catch(i){throw console.error("Role API Request Error:",i),i}});ge(this,"getRoles",async(t={})=>{const n=new URLSearchParams;t.page&&n.append("page",t.page.toString()),t.pageSize&&n.append("pageSize",t.pageSize.toString()),t.activeOnly!==void 0&&n.append("activeOnly",t.activeOnly.toString());const s=n.toString()?`?${n.toString()}`:"",a=await this.request(s);if(!a.success)throw new Error(a.message||"Failed to fetch roles");if(!a.data)throw new Error("No data returned from server");return a.data});ge(this,"getRoleById",async t=>{const n=await this.request(`/${t}`);if(!n.success)throw new Error(n.message||"Failed to fetch role");if(!n.data)throw new Error("No data returned from server");return n.data});ge(this,"getRoleByName",async t=>{const n=await this.request(`/name/${encodeURIComponent(t)}`);if(!n.success)throw new Error(n.message||"Failed to fetch role");if(!n.data)throw new Error("No data returned from server");return n.data});ge(this,"getRolesDropdown",async(t=!0)=>{const n=new URLSearchParams;t!==void 0&&n.append("activeOnly",t.toString());const s=n.toString()?`/dropdown?${n.toString()}`:"/dropdown",a=await this.request(s);if(!a.success)throw new Error(a.message||"Failed to fetch roles dropdown");if(!a.data)throw new Error("No data returned from server");return a.data});ge(this,"createRole",async t=>{const n=await this.request("",{method:"POST",body:JSON.stringify(t)});if(!n.success)throw new Error(n.message||"Failed to create role");if(!n.data)throw new Error("No data returned from server");return n.data});ge(this,"updateRole",async(t,n)=>{const s=await this.request(`/${t}`,{method:"PUT",body:JSON.stringify(n)});if(!s.success)throw new Error(s.message||"Failed to update role");if(!s.data)throw new Error("No data returned from server");return s.data});ge(this,"toggleRoleActivation",async t=>{const n=await this.request(`/${t}/toggle-activation`,{method:"PUT"});if(!n.success)throw new Error(n.message||"Failed to toggle role activation")});ge(this,"deleteRole",async t=>{const n=await this.request(`/${t}`,{method:"DELETE"});if(!n.success)throw new Error(n.message||"Failed to delete role")});ge(this,"getRolesMissingTranslations",async()=>{const t=await this.request("/missing-translations");if(!t.success)throw new Error(t.message||"Failed to fetch roles missing translations");if(!t.data)throw new Error("No data returned from server");return t.data})}}const ci=new Lee,$ee=({missingCount:e,onApplyTranslations:t,onDismiss:n,className:s=""})=>{const{isRTL:a}=rt();return e<1?null:r.jsxs(wn,{className:`
        relative border-amber-200 bg-gradient-to-r from-amber-50 to-orange-50 
        dark:from-amber-950/20 dark:to-orange-950/20 dark:border-amber-800
        shadow-lg backdrop-blur-sm transition-all duration-300 hover:shadow-xl
        rounded-xl p-4 sm:p-6 overflow-hidden
        ${s}
      `,children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start gap-3 sm:gap-4",children:[r.jsxs("div",{className:"flex items-start gap-3 sm:gap-4 flex-shrink-0",children:[r.jsx("div",{className:"flex-shrink-0 mt-0.5 sm:mt-1",children:r.jsxs("div",{className:"relative",children:[r.jsx(Bl,{className:"h-5 w-5 sm:h-6 sm:w-6 text-amber-600 dark:text-amber-400 animate-pulse"}),r.jsx("div",{className:"absolute -top-1 -right-1 w-2.5 h-2.5 sm:w-3 sm:h-3 bg-amber-500 rounded-full animate-ping"})]})}),r.jsx("div",{className:"flex-1 sm:hidden",children:r.jsxs("div",{className:"flex items-center justify-between gap-3 mb-2",children:[r.jsxs(Tn,{className:"text-amber-800 dark:text-amber-200 font-semibold text-base sm:text-lg flex items-center gap-2",children:[r.jsx(Rs,{className:"h-4 w-4"}),a?"ترجمات الأدوار مفقودة":"Missing Role Translations"]}),r.jsxs(Me,{variant:"secondary",className:"bg-amber-100 text-amber-800 border-amber-300 dark:bg-amber-900/30 dark:text-amber-200 dark:border-amber-700 font-medium px-2 py-1 text-xs",children:[r.jsx($e,{className:"h-3 w-3 mr-1"}),e]})]})})]}),r.jsxs("div",{className:"flex-1 space-y-3 sm:space-y-4 min-w-0",children:[r.jsx("div",{className:"hidden sm:block space-y-2",children:r.jsxs(Tn,{className:"text-amber-800 dark:text-amber-200 font-semibold text-base sm:text-lg flex items-center gap-2",children:[r.jsx(Rs,{className:"h-4 w-4 sm:h-5 sm:w-5"}),a?"ترجمات الأدوار مفقودة":"Missing Role Translations"]})}),r.jsx(Nn,{className:"text-amber-700 dark:text-amber-300 text-sm sm:text-base leading-relaxed",children:a?`يوجد ${e} دور${e>1?" أدوار":""} يحتاج إلى ترجمات. قم بإضافة الترجمات المفقودة لتحسين تجربة المستخدم متعدد اللغات.`:`There ${e===1?"is":"are"} ${e} role${e===1?"":"s"} missing translations. Add missing translations to improve multilingual user experience.`}),r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4 pt-1 sm:pt-2",children:[r.jsxs("div",{className:"hidden sm:flex items-center gap-3",children:[r.jsxs(Me,{variant:"secondary",className:"bg-amber-100 text-amber-800 border-amber-300 dark:bg-amber-900/30 dark:text-amber-200 dark:border-amber-700 font-medium px-3 py-1.5",children:[r.jsx($e,{className:"h-3 w-3 mr-1"}),e," ",a?"دور":"roles"]}),r.jsxs("div",{className:"flex items-center gap-2 text-xs text-amber-600 dark:text-amber-400",children:[r.jsx(yn,{className:"h-3 w-3"}),a?"يحتاج ترجمة":"Need translation"]})]}),r.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-2 sm:gap-3",children:[r.jsxs("div",{className:"sm:hidden flex items-center gap-2 text-xs text-amber-600 dark:text-amber-400",children:[r.jsx(yn,{className:"h-3 w-3"}),a?"يحتاج ترجمة":"Need translation"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[n&&r.jsx(B,{variant:"ghost",size:"sm",onClick:n,className:"text-amber-600 hover:text-amber-700 hover:bg-amber-100/50 dark:text-amber-400 dark:hover:text-amber-300 dark:hover:bg-amber-900/20 h-8 w-8 sm:h-9 sm:w-9 p-0",children:r.jsx(un,{className:"h-4 w-4"})}),t&&r.jsxs(B,{onClick:t,size:"sm",className:`\r
                      bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-600 hover:to-orange-600\r
                      text-white shadow-md hover:shadow-lg transition-all duration-200\r
                      border-0 font-medium px-3 py-2 sm:px-4 text-xs sm:text-sm h-8 sm:h-9\r
                      min-w-0 flex-shrink-0\r
                    `,children:[r.jsx(qt,{className:`h-3 w-3 sm:h-4 sm:w-4 ${a?"ml-1 sm:ml-2":"mr-1 sm:mr-2"}`}),r.jsx("span",{className:"hidden xs:inline",children:a?"إضافة الترجمات":"Apply Translations"}),r.jsx("span",{className:"xs:hidden",children:a?"إضافة":"Apply"}),a?r.jsx(Gt,{className:"h-3 w-3 sm:h-4 sm:w-4 ml-1 sm:ml-2"}):r.jsx(Rl,{className:"h-3 w-3 sm:h-4 sm:w-4 ml-1 sm:ml-2"})]})]})]})]})]})]}),r.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 sm:w-32 sm:h-32 bg-gradient-to-bl from-amber-200/20 to-transparent rounded-full -translate-y-10 translate-x-10 sm:-translate-y-16 sm:translate-x-16 pointer-events-none"}),r.jsx("div",{className:"absolute bottom-0 left-0 w-16 h-16 sm:w-24 sm:h-24 bg-gradient-to-tr from-orange-200/20 to-transparent rounded-full translate-y-8 -translate-x-8 sm:translate-y-12 sm:-translate-x-12 pointer-events-none"})]})},Dee=({isOpen:e,onOpenChange:t,missingRoleIds:n})=>{var F,Z;const{isRTL:s}=rt(),a=rr(),[i,o]=N.useState(0),[l,d]=N.useState(new Set),u=n[i],h=n.length,m=Math.round((i+1)/h*100),p=Wt({defaultValues:{name:"",description:"",isActive:!0,localizations:[]}}),{fields:g,append:y,remove:x,replace:v}=Qt({control:p.control,name:"localizations"}),{data:j,isLoading:b}=qe({queryKey:["role",u],queryFn:async()=>(await ci.getRoles({pageSize:1e3})).items.find($=>$.id===u),enabled:!!u&&e}),{data:S}=qe({queryKey:["languages-dropdown"],queryFn:()=>ir.getLanguagesDropdown(),enabled:e}),C=it({mutationFn:({id:D,data:$})=>ci.updateRole(D,$),onSuccess:D=>{a.invalidateQueries({queryKey:["roles"]}),a.invalidateQueries({queryKey:["roles-all"]}),a.invalidateQueries({queryKey:["roles-missing-translations"]}),d($=>new Set([...$,u])),be.success(s?"تم حفظ الترجمات بنجاح":"Translations saved successfully")},onError:D=>{be.error(D.message||(s?"حدث خطأ أثناء حفظ الترجمات":"Error saving translations"))}});N.useEffect(()=>{var D,$;j&&(p.reset({name:j.name,description:j.description,isActive:j.isActive,localizations:((D=j.localizations)==null?void 0:D.map(E=>({id:E.id,languageId:E.languageId,name:E.name,description:E.description})))||[]}),v((($=j.localizations)==null?void 0:$.map(E=>({id:E.id,languageId:E.languageId,name:E.name,description:E.description})))||[]))},[j,p,v]);const _=()=>{i<h-1&&o(D=>D+1)},A=()=>{i>0&&o(D=>D-1)},k=()=>{d(D=>new Set([...D,u])),i<h-1?_():T()},T=()=>{o(0),d(new Set),t(!1),p.reset()},O=async D=>{u&&C.mutate({id:u,data:D},{onSuccess:()=>{i<h-1?_():(be.success(s?"تم الانتهاء من جميع الترجمات!":"All translations completed!"),T())}})},M=()=>{y({languageId:0,name:"",description:""})},z=D=>{if(!S)return[];const $=g.map(E=>E.languageId).filter(E=>E!==D);return S.filter(E=>!$.includes(E.id))};return e?r.jsx(Mt,{open:e,onOpenChange:t,children:r.jsxs(Et,{className:"w-[95vw] max-w-4xl h-[95vh] sm:h-[90vh] max-h-none overflow-hidden flex flex-col p-0",children:[r.jsxs(Tt,{className:"space-y-3 p-4 sm:p-6 pb-3 sm:pb-4 border-b flex-shrink-0",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-0 sm:justify-between",children:[r.jsxs(Ot,{className:"text-lg sm:text-xl flex items-center gap-2 sm:gap-3 order-1 sm:order-1",children:[r.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 flex items-center justify-center flex-shrink-0",children:r.jsx(qt,{className:"h-4 w-4 sm:h-5 sm:w-5 text-white"})}),r.jsx("span",{className:"text-base sm:text-xl font-semibold leading-tight",children:s?"إضافة ترجمات الأدوار المفقودة":"Add Missing Role Translations"})]}),r.jsx(B,{variant:"ghost",size:"sm",onClick:T,className:"text-muted-foreground hover:text-foreground order-2 sm:order-2 self-start sm:self-center h-8 w-8 p-0",children:r.jsx(un,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[r.jsxs("div",{className:"flex flex-col xs:flex-row xs:items-center xs:justify-between gap-2 text-sm",children:[r.jsx("span",{className:"text-muted-foreground text-xs sm:text-sm",children:s?`الدور ${i+1} من ${h}`:`Role ${i+1} of ${h}`}),r.jsxs(Me,{variant:"outline",className:"text-xs self-start xs:self-center",children:[m,"% ",s?"مكتمل":"Complete"]})]}),r.jsx(va,{value:m,className:"h-1.5 sm:h-2"}),j&&r.jsx(Y,{className:"border-0 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-950/20 dark:to-purple-950/20",children:r.jsx(ee,{className:"p-3 sm:p-4",children:r.jsxs("div",{className:"flex items-start sm:items-center gap-3",children:[r.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 rounded-full bg-gradient-primary flex items-center justify-center flex-shrink-0",children:r.jsx(Rs,{className:"h-3 w-3 sm:h-4 sm:w-4 text-primary-foreground"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"font-medium text-xs sm:text-sm truncate",children:j.name}),r.jsx("p",{className:"text-xs text-muted-foreground line-clamp-1 sm:line-clamp-2 mt-0.5",children:j.description||(s?"لا يوجد وصف":"No description")})]}),r.jsxs(Me,{variant:"secondary",className:"text-xs flex-shrink-0",children:[r.jsxs("span",{className:"hidden xs:inline",children:[((F=j.localizations)==null?void 0:F.length)||0," ",s?"ترجمة":"translations"]}),r.jsx("span",{className:"xs:hidden",children:((Z=j.localizations)==null?void 0:Z.length)||0})]})]})})})]}),r.jsxs($t,{className:"flex items-start gap-2 text-xs sm:text-sm",children:[r.jsx(zl,{className:"h-3 w-3 sm:h-4 sm:w-4 text-amber-500 flex-shrink-0 mt-0.5"}),r.jsx("span",{className:"leading-relaxed",children:s?"أضف ترجمات الأدوار للغات مختلفة لتحسين تجربة المستخدم متعدد اللغات":"Add role translations in different languages to improve multilingual user experience"})]})]}),r.jsx("div",{className:"flex-1 overflow-y-auto px-4 sm:px-6 py-2 sm:py-4",children:b?r.jsx("div",{className:"flex items-center justify-center py-8 sm:py-12",children:r.jsxs("div",{className:"text-center space-y-3",children:[r.jsx("div",{className:"animate-spin rounded-full h-6 w-6 sm:h-8 sm:w-8 border-b-2 border-primary mx-auto"}),r.jsx("p",{className:"text-muted-foreground text-sm",children:s?"جاري التحميل...":"Loading..."})]})}):r.jsx(Kt,{...p,children:r.jsx("form",{onSubmit:p.handleSubmit(O),className:"space-y-4 sm:space-y-6",children:r.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[r.jsxs("div",{className:"flex flex-col xs:flex-row xs:items-center xs:justify-between gap-3",children:[r.jsxs("h4",{className:"text-base sm:text-lg font-medium flex items-center gap-2",children:[r.jsx($e,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"}),s?"الترجمات":"Translations"]}),r.jsxs(B,{type:"button",variant:"outline",size:"sm",onClick:M,className:"gradient-border self-start xs:self-center h-8 sm:h-9 px-3 text-xs sm:text-sm",children:[r.jsx(ot,{className:"h-3 w-3 sm:h-4 sm:w-4"}),r.jsx("span",{className:"ml-1 sm:ml-2",children:s?"إضافة ترجمة":"Add Translation"})]})]}),g.length===0&&r.jsx(Y,{className:"border-dashed border-2 border-muted-foreground/20",children:r.jsxs(ee,{className:"py-8 sm:py-12 text-center px-4 sm:px-6",children:[r.jsx($e,{className:"h-8 w-8 sm:h-12 sm:w-12 text-muted-foreground mx-auto mb-3 sm:mb-4 opacity-50"}),r.jsx("h4",{className:"text-base sm:text-lg font-medium text-muted-foreground mb-2",children:s?"لا توجد ترجمات":"No Translations"}),r.jsx("p",{className:"text-muted-foreground text-xs sm:text-sm mb-4 leading-relaxed",children:s?"أضف ترجمات لهذا الدور لتحسين تجربة المستخدم":"Add translations for this role to improve user experience"}),r.jsxs(B,{type:"button",onClick:M,className:"gradient-primary h-8 sm:h-9 px-3 sm:px-4 text-xs sm:text-sm",children:[r.jsx(ot,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),s?"إضافة أول ترجمة":"Add First Translation"]})]})}),g.map((D,$)=>r.jsxs(Y,{className:"border shadow-sm",children:[r.jsx(Pe,{className:"pb-2 sm:pb-3 px-3 sm:px-6 pt-3 sm:pt-6",children:r.jsxs("div",{className:"flex items-center justify-between gap-2",children:[r.jsxs(Ie,{className:"text-xs sm:text-sm flex items-center gap-2 min-w-0 flex-1",children:[r.jsx("div",{className:"w-5 h-5 sm:w-6 sm:h-6 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:r.jsx(qt,{className:"h-2.5 w-2.5 sm:h-3 sm:w-3 text-primary"})}),r.jsx("span",{className:"truncate",children:s?`الترجمة ${$+1}`:`Translation ${$+1}`})]}),r.jsx(B,{type:"button",variant:"ghost",size:"sm",onClick:()=>x($),className:"text-destructive hover:text-destructive h-7 w-7 sm:h-8 sm:w-8 p-0 flex-shrink-0",children:r.jsx(xt,{className:"h-3 w-3 sm:h-4 sm:w-4"})})]})}),r.jsx(ee,{className:"space-y-3 sm:space-y-4 px-3 sm:px-6 pb-3 sm:pb-6",children:r.jsxs("div",{className:"grid grid-cols-1 gap-3 sm:gap-4",children:[r.jsx(ae,{control:p.control,name:`localizations.${$}.languageId`,rules:{required:s?"اللغة مطلوبة":"Language is required",validate:E=>E===0?s?"يرجى اختيار لغة":"Please select a language":!0},render:({field:E})=>{var V;return r.jsxs(ne,{children:[r.jsx(re,{className:"text-xs sm:text-sm",children:s?"اللغة":"Language"}),r.jsxs(ut,{onValueChange:q=>E.onChange(parseInt(q)),value:(V=E.value)==null?void 0:V.toString(),children:[r.jsx(se,{children:r.jsx(ct,{className:"h-8 sm:h-9 text-xs sm:text-sm",children:r.jsx(mt,{placeholder:s?"اختر اللغة":"Select Language"})})}),r.jsx(dt,{children:z(E.value).map(q=>r.jsx(Ye,{value:q.id.toString(),children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx($e,{className:"h-3 w-3 sm:h-4 sm:w-4"}),r.jsxs("span",{className:"text-xs sm:text-sm",children:[q.name," (",q.code,")"]})]})},q.id))})]}),r.jsx(fe,{className:"text-xs"})]})}}),r.jsx(ae,{control:p.control,name:`localizations.${$}.name`,rules:{required:s?"اسم الدور مطلوب":"Role name is required"},render:({field:E})=>r.jsxs(ne,{children:[r.jsx(re,{className:"text-xs sm:text-sm",children:s?"اسم الدور":"Role Name"}),r.jsx(se,{children:r.jsx(Oe,{className:"h-8 sm:h-9 text-xs sm:text-sm",placeholder:s?"اسم الدور بهذه اللغة":"Role name in this language",...E})}),r.jsx(fe,{className:"text-xs"})]})}),r.jsx(ae,{control:p.control,name:`localizations.${$}.description`,render:({field:E})=>r.jsxs(ne,{children:[r.jsx(re,{className:"text-xs sm:text-sm",children:s?"وصف الدور":"Role Description"}),r.jsx(se,{children:r.jsx(Pt,{className:"min-h-[60px] sm:min-h-[72px] text-xs sm:text-sm resize-none",placeholder:s?"وصف الدور بهذه اللغة":"Role description in this language",rows:2,...E})}),r.jsx(fe,{className:"text-xs"})]})})]})})]},D.id))]})})})}),r.jsx(Lt,{className:"pt-3 sm:pt-4 px-4 sm:px-6 pb-4 sm:pb-6 border-t space-y-3 sm:space-y-0 flex-shrink-0",children:r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between w-full gap-3",children:[r.jsxs("div",{className:"flex items-center gap-2 order-2 sm:order-1",children:[r.jsxs(B,{type:"button",variant:"outline",size:"sm",onClick:A,disabled:i===0,className:"h-8 sm:h-9 px-2 sm:px-3 text-xs sm:text-sm flex-1 sm:flex-initial",children:[s?r.jsx(Nt,{className:"h-3 w-3 sm:h-4 sm:w-4"}):r.jsx(At,{className:"h-3 w-3 sm:h-4 sm:w-4"}),r.jsx("span",{className:"ml-1 sm:ml-2",children:s?"السابق":"Previous"})]}),r.jsxs(B,{type:"button",variant:"outline",size:"sm",onClick:_,disabled:i>=h-1,className:"h-8 sm:h-9 px-2 sm:px-3 text-xs sm:text-sm flex-1 sm:flex-initial",children:[r.jsx("span",{className:"mr-1 sm:mr-2",children:s?"التالي":"Next"}),s?r.jsx(At,{className:"h-3 w-3 sm:h-4 sm:w-4"}):r.jsx(Nt,{className:"h-3 w-3 sm:h-4 sm:w-4"})]})]}),r.jsxs("div",{className:"flex items-center gap-2 order-1 sm:order-2",children:[r.jsxs(B,{type:"button",variant:"outline",onClick:k,className:"h-8 sm:h-9 px-2 sm:px-3 text-xs sm:text-sm",children:[r.jsx(Fl,{className:"h-3 w-3 sm:h-4 sm:w-4"}),r.jsx("span",{className:"ml-1 sm:ml-2",children:s?"تخطي":"Skip"})]}),r.jsx(B,{type:"button",variant:"outline",onClick:T,className:"h-8 sm:h-9 px-2 sm:px-3 text-xs sm:text-sm hidden xs:inline-flex",children:s?"إغلاق":"Close"}),r.jsxs(B,{type:"submit",className:"gradient-primary h-8 sm:h-9 px-3 sm:px-4 text-xs sm:text-sm font-medium",onClick:p.handleSubmit(O),disabled:C.isPending||b,children:[C.isPending?r.jsx("div",{className:"animate-spin rounded-full h-3 w-3 sm:h-4 sm:w-4 border-b-2 border-white mr-1 sm:mr-2"}):r.jsx(ln,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),r.jsx("span",{className:"hidden xs:inline",children:s?"حفظ وتابع":"Save & Continue"}),r.jsx("span",{className:"xs:hidden",children:s?"حفظ":"Save"})]})]})]})})]})}):null},Ree=()=>{var Ne;const{isRTL:e}=rt(),t=lr(),n=rr(),[s,a]=N.useState(""),[i,o]=N.useState("all"),[l,d]=N.useState(!1),[u,h]=N.useState(!1),[m,p]=N.useState(!1),[g,y]=N.useState(null),[x,v]=N.useState(null),[j,b]=N.useState(1),[S]=N.useState(5),[C,_]=N.useState(!1),[A,k]=N.useState(!1),T=Wt({defaultValues:{name:"",description:"",localizations:[]}}),O=Wt({defaultValues:{name:"",description:"",isActive:!0,localizations:[]}}),{fields:M,append:z,remove:F}=Qt({control:T.control,name:"localizations"}),{fields:Z,append:D,remove:$}=Qt({control:O.control,name:"localizations"}),{data:E,isLoading:V,error:q}=qe({queryKey:["roles",j,S,i],queryFn:()=>{const pe={page:j,pageSize:S};return i==="active"?pe.activeOnly=!0:i==="inactive"&&(pe.activeOnly=!1),ci.getRoles(pe)}}),{data:U}=qe({queryKey:["roles-all"],queryFn:()=>ci.getRoles({pageSize:1e3})}),{data:Q}=qe({queryKey:["languages-dropdown"],queryFn:()=>ir.getLanguagesDropdown()}),{data:he}=qe({queryKey:["roles-missing-translations"],queryFn:()=>ci.getRolesMissingTranslations(),refetchInterval:3e4}),ue=it({mutationFn:ci.createRole,onSuccess:()=>{n.invalidateQueries({queryKey:["roles"]}),n.invalidateQueries({queryKey:["roles-all"]}),be.success(e?"تم إنشاء الدور بنجاح":"Role created successfully")},onError:pe=>{be.error(pe.message||(e?"حدث خطأ أثناء إنشاء الدور":"Error creating role"))}}),ce=it({mutationFn:({id:pe,data:oe})=>ci.updateRole(pe,oe),onSuccess:()=>{n.invalidateQueries({queryKey:["roles"]}),n.invalidateQueries({queryKey:["roles-all"]}),be.success(e?"تم تحديث الدور بنجاح":"Role updated successfully")},onError:pe=>{be.error(pe.message||(e?"حدث خطأ أثناء تحديث الدور":"Error updating role"))}}),G=it({mutationFn:ci.toggleRoleActivation,onSuccess:()=>{n.invalidateQueries({queryKey:["roles"]}),n.invalidateQueries({queryKey:["roles-all"]}),be.success(e?"تم تحديث حالة الدور":"Role status updated")},onError:pe=>{be.error(pe.message||(e?"حدث خطأ أثناء تحديث حالة الدور":"Error updating role status"))}}),J=it({mutationFn:ci.deleteRole,onSuccess:()=>{n.invalidateQueries({queryKey:["roles"]}),n.invalidateQueries({queryKey:["roles-all"]}),be.success(e?"تم حذف الدور بنجاح":"Role deleted successfully")},onError:pe=>{be.error(pe.message||(e?"حدث خطأ أثناء حذف الدور":"Error deleting role"))}}),ye=(E==null?void 0:E.items.filter(pe=>pe.name.toLowerCase().includes(s.toLowerCase())||pe.description.toLowerCase().includes(s.toLowerCase())||pe.localizations.some(Be=>{var X;return Be.name.toLowerCase().includes(s.toLowerCase())||Be.description.toLowerCase().includes(s.toLowerCase())||((X=Be.language)==null?void 0:X.name.toLowerCase().includes(s.toLowerCase()))||!1})))||[],Se={total:(U==null?void 0:U.totalCount)||0,active:(U==null?void 0:U.items.filter(pe=>pe.isActive).length)||0,inactive:(U==null?void 0:U.items.filter(pe=>!pe.isActive).length)||0},We=async pe=>{ue.mutate(pe,{onSuccess:()=>{d(!1),T.reset()}})},Ae=async pe=>{g&&ce.mutate({id:g.id,data:pe},{onSuccess:()=>{h(!1),y(null),O.reset()}})},ze=pe=>{y(pe),O.reset({name:pe.name,description:pe.description,isActive:pe.isActive,localizations:pe.localizations.map(oe=>({id:oe.id,languageId:oe.languageId,name:oe.name,description:oe.description}))}),h(!0)},Fe=pe=>{v(pe),p(!0)},je=pe=>{t(`/roles/${pe.id}/permissions`)},Ze=(pe=!1)=>{const oe={languageId:0,name:"",description:""};pe?D(oe):z(oe)},K=pe=>r.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1.5 rounded-full text-xs font-medium transition-all duration-200 ${pe?"bg-emerald-100 text-emerald-700 border border-emerald-200 dark:bg-emerald-900/20 dark:text-emerald-400 dark:border-emerald-800":"bg-red-50 text-red-600 border border-red-200 dark:bg-red-900/20 dark:text-red-400 dark:border-red-800"}`,children:[r.jsx("div",{className:`w-2 h-2 rounded-full animate-pulse ${pe?"bg-emerald-500 shadow-sm shadow-emerald-500/50":"bg-red-500 shadow-sm shadow-red-500/50"}`}),r.jsx("span",{className:"font-semibold",children:e?pe?"نشط":"غير نشط":pe?"Active":"Inactive"})]}),te=pe=>new Date(pe).toLocaleDateString(e?"ar-SA":"en-US");return r.jsx(lt,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-foreground",children:e?"إدارة الأدوار":"Roles Management"}),r.jsx("p",{className:"text-muted-foreground",children:e?"إدارة أدوار المستخدمين وترجماتها":"Manage user roles and their translations"})]}),r.jsxs(B,{className:"gradient-primary flex items-center gap-2",onClick:()=>d(!0),children:[r.jsx(ot,{className:"h-4 w-4"}),e?"إضافة دور جديد":"Add New Role"]})]}),he&&he.length>0&&!A&&r.jsx($ee,{missingCount:he.length,onApplyTranslations:()=>_(!0),onDismiss:()=>k(!0),className:"mb-6"}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[r.jsx(Y,{className:"border-0 shadow-elegant",children:r.jsx(ee,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:e?"إجمالي الأدوار":"Total Roles"}),r.jsx("p",{className:"text-2xl font-bold",children:Se.total})]}),r.jsx(Rs,{className:"h-8 w-8 text-primary"})]})})}),r.jsx(Y,{className:"border-0 shadow-elegant",children:r.jsx(ee,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:e?"الأدوار النشطة":"Active Roles"}),r.jsx("p",{className:"text-2xl font-bold text-success",children:Se.active})]}),r.jsx(Or,{className:"h-8 w-8 text-success"})]})})}),r.jsx(Y,{className:"border-0 shadow-elegant",children:r.jsx(ee,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:e?"الأدوار غير النشطة":"Inactive Roles"}),r.jsx("p",{className:"text-2xl font-bold text-muted-foreground",children:Se.inactive})]}),r.jsx(jn,{className:"h-8 w-8 text-muted-foreground"})]})})})]}),r.jsx(Y,{className:"border-0 shadow-elegant",children:r.jsx(ee,{className:"p-6",children:r.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(Qr,{className:`absolute top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground ${e?"right-3":"left-3"}`}),r.jsx(Oe,{placeholder:e?"البحث في الأدوار...":"Search roles...",value:s,onChange:pe=>a(pe.target.value),className:e?"pr-10 pl-4":"pl-10 pr-4"})]}),r.jsx("div",{className:"flex gap-2",children:r.jsxs(Ut,{children:[r.jsx(Vt,{asChild:!0,children:r.jsxs(B,{variant:"outline",className:"flex items-center gap-2 hover:border-primary/50 hover:bg-primary/5 transition-all duration-200",children:[r.jsx("div",{className:`w-2 h-2 rounded-full ${i==="active"?"bg-emerald-500":i==="inactive"?"bg-red-500":"bg-gradient-to-r from-emerald-500 to-red-500"}`}),e?i==="all"?"جميع الحالات":i==="active"?"نشط":"غير نشط":i==="all"?"All Status":i==="active"?"Active":"Inactive",r.jsx(vn,{className:"h-4 w-4 opacity-50"})]})}),r.jsxs(Ft,{align:"end",className:"w-48",children:[r.jsxs(ke,{onClick:()=>o("all"),className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 rounded-full bg-gradient-to-r from-emerald-500 to-red-500"}),e?"جميع الحالات":"All Status"]}),r.jsxs(ke,{onClick:()=>o("active"),className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500"}),e?"نشط":"Active"]}),r.jsxs(ke,{onClick:()=>o("inactive"),className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500"}),e?"غير نشط":"Inactive"]})]})]})})]})})}),r.jsxs(Y,{className:"border-0 shadow-elegant",children:[r.jsx(Pe,{children:r.jsxs(Ie,{className:"flex items-center gap-2",children:[r.jsx(Rs,{className:"h-5 w-5 text-primary"}),e?`${ye.length} دور`:`${ye.length} Roles`]})}),r.jsxs(ee,{children:[r.jsxs(On,{dir:e?"rtl":"ltr",children:[r.jsx(In,{children:r.jsxs(Xe,{className:e?"text-right":"text-left",children:[r.jsx(Re,{className:e?"text-right":"text-left",children:e?"اسم الدور":"Role Name"}),r.jsx(Re,{className:e?"text-right":"text-left",children:e?"الوصف":"Description"}),r.jsx(Re,{className:e?"text-right":"text-left",children:e?"الترجمات":"Localizations"}),r.jsx(Re,{className:e?"text-right":"text-left",children:e?"الحالة":"Status"}),r.jsx(Re,{className:e?"text-right":"text-left",children:e?"تاريخ الإنشاء":"Created Date"}),r.jsx(Re,{className:"text-center",children:e?"الإجراءات":"Actions"})]})}),r.jsx(Mn,{children:V?r.jsx(Xe,{className:e?"text-right":"text-left",children:r.jsx(xe,{colSpan:6,className:"text-center py-8",children:r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"}),r.jsx("span",{className:e?"mr-2":"ml-2",children:e?"جاري التحميل...":"Loading..."})]})})}):q?r.jsx(Xe,{className:e?"text-right":"text-left",children:r.jsx(xe,{colSpan:6,className:"text-center py-8 text-destructive",children:e?"خطأ في تحميل البيانات":"Error loading data"})}):ye.length===0?r.jsx(Xe,{className:e?"text-right":"text-left",children:r.jsx(xe,{colSpan:6,className:"text-center py-8 text-muted-foreground",children:e?"لا توجد أدوار متاحة":"No roles available"})}):ye.map(pe=>r.jsxs(Xe,{className:`hover:bg-muted/50 ${e?"text-right":"text-left"}`,children:[r.jsx(xe,{className:e?"text-right":"text-left",children:r.jsxs("div",{className:`flex items-center gap-3 ${e?" text-right":"flex-row"}`,children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-primary flex items-center justify-center",children:r.jsx(Rs,{className:"h-4 w-4 text-primary-foreground"})}),r.jsx("div",{children:r.jsx("p",{className:"font-medium text-sm",children:pe.name})})]})}),r.jsx(xe,{className:e?"text-right":"text-left",children:r.jsx("div",{className:"max-w-xs",children:r.jsx("p",{className:"text-sm truncate",title:pe.description,children:pe.description||(e?"لا يوجد وصف":"No description")})})}),r.jsx(xe,{className:e?"text-right":"text-left",children:r.jsxs("div",{className:`flex flex-wrap gap-1 ${e?"text-right justify-start":"justify-start"}`,children:[pe.localizations.map(oe=>{var Be;return r.jsxs(Me,{variant:"outline",className:"text-xs",children:[r.jsx($e,{className:`h-3 w-3 ${e?"ml-1":"mr-1"}`}),(Be=oe.language)==null?void 0:Be.code]},oe.id)}),pe.localizations.length===0&&r.jsx("span",{className:"text-xs text-muted-foreground",children:e?"لا توجد ترجمات":"No translations"})]})}),r.jsx(xe,{className:e?"text-right":"text-left",children:K(pe.isActive)}),r.jsx(xe,{className:`text-muted-foreground ${e?"text-right":"text-left"}`,children:te(pe.createdAt)}),r.jsx(xe,{className:"text-center",children:r.jsxs(Ut,{children:[r.jsx(Vt,{asChild:!0,children:r.jsx(B,{variant:"ghost",className:"h-8 w-8 p-0",children:r.jsx(bn,{className:"h-4 w-4"})})}),r.jsxs(Ft,{align:e?"start":"end",children:[r.jsxs(ke,{className:`flex items-center gap-2 ${e?"flex-row-reverse":"flex-row"}`,onClick:()=>Fe(pe),children:[r.jsx(Fr,{className:"h-4 w-4"}),e?"عرض التفاصيل":"View Details"]}),r.jsxs(ke,{className:`flex items-center gap-2 ${e?"flex-row-reverse":"flex-row"}`,onClick:()=>ze(pe),children:[r.jsx(tr,{className:"h-4 w-4"}),e?"تحرير":"Edit"]}),r.jsxs(ke,{className:`flex items-center gap-2 ${e?"flex-row-reverse":"flex-row"}`,onClick:()=>je(pe),children:[r.jsx(MS,{className:"h-4 w-4"}),e?"إدارة الصلاحيات":"Manage Permissions"]}),r.jsxs(ke,{className:`flex items-center gap-2 ${e?"flex-row-reverse":"flex-row"}`,onClick:()=>G.mutate(pe.id),children:[r.jsx(Cs,{className:"h-4 w-4"}),e?"تغيير الحالة":"Toggle Status"]}),r.jsxs(ke,{className:`flex items-center gap-2 text-destructive ${e?"flex-row-reverse":"flex-row"}`,onClick:()=>J.mutate(pe.id),children:[r.jsx(xt,{className:"h-4 w-4"}),e?"حذف":"Delete"]})]})]})})]},pe.id))})]}),E&&E.totalPages>1&&r.jsxs("div",{className:"flex items-center justify-between mt-6",children:[r.jsx("div",{className:"text-sm text-muted-foreground",children:e?`عرض ${(E.page-1)*E.pageSize+1} إلى ${Math.min(E.page*E.pageSize,E.totalCount)} من ${E.totalCount}`:`Showing ${(E.page-1)*E.pageSize+1} to ${Math.min(E.page*E.pageSize,E.totalCount)} of ${E.totalCount}`}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(B,{variant:"outline",size:"sm",onClick:()=>b(pe=>Math.max(pe-1,1)),disabled:!E.hasPreviousPage,children:e?r.jsx(Nt,{className:"h-4 w-4"}):r.jsx(At,{className:"h-4 w-4"})}),r.jsx("span",{className:"text-sm font-medium",children:e?`${E.page} من ${E.totalPages}`:`${E.page} of ${E.totalPages}`}),r.jsx(B,{variant:"outline",size:"sm",onClick:()=>b(pe=>pe+1),disabled:!E.hasNextPage,children:e?r.jsx(At,{className:"h-4 w-4"}):r.jsx(Nt,{className:"h-4 w-4"})})]})]})]})]}),r.jsx(Mt,{open:l,onOpenChange:d,children:r.jsxs(Et,{className:"sm:max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Tt,{children:[r.jsx(Ot,{children:e?"إضافة دور جديد":"Add New Role"}),r.jsx($t,{children:e?"أدخل معلومات الدور الجديد وترجماته":"Enter the details for the new role and its translations"})]}),r.jsx(Kt,{...T,children:r.jsxs("form",{onSubmit:T.handleSubmit(We),className:"space-y-4",children:[r.jsx(ae,{control:T.control,name:"name",rules:{required:e?"اسم الدور مطلوب":"Role name is required"},render:({field:pe})=>r.jsxs(ne,{children:[r.jsx(re,{children:e?"اسم الدور":"Role Name"}),r.jsx(se,{children:r.jsx(Oe,{placeholder:e?"مثال: مدير":"e.g., Admin",...pe})}),r.jsx(fe,{})]})}),r.jsx(ae,{control:T.control,name:"description",render:({field:pe})=>r.jsxs(ne,{children:[r.jsx(re,{children:e?"وصف الدور":"Role Description"}),r.jsx(se,{children:r.jsx(Pt,{placeholder:e?"وصف الدور وصلاحياته":"Role description and permissions",...pe})}),r.jsx(fe,{})]})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h4",{className:"text-sm font-medium",children:e?"الترجمات":"Localizations"}),r.jsxs(B,{type:"button",variant:"outline",size:"sm",onClick:()=>Ze(!1),children:[r.jsx(ot,{className:"h-4 w-4"}),e?"إضافة ترجمة":"Add Translation"]})]}),M.map((pe,oe)=>r.jsxs(Y,{className:"p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h5",{className:"text-sm font-medium",children:e?`الترجمة ${oe+1}`:`Translation ${oe+1}`}),r.jsx(B,{type:"button",variant:"ghost",size:"sm",onClick:()=>F(oe),children:r.jsx(xt,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(ae,{control:T.control,name:`localizations.${oe}.languageId`,rules:{required:e?"اللغة مطلوبة":"Language is required"},render:({field:Be})=>{var X;return r.jsxs(ne,{children:[r.jsx(re,{children:e?"اللغة":"Language"}),r.jsxs(ut,{onValueChange:H=>Be.onChange(parseInt(H)),value:(X=Be.value)==null?void 0:X.toString(),children:[r.jsx(se,{children:r.jsx(ct,{children:r.jsx(mt,{placeholder:e?"اختر اللغة":"Select Language"})})}),r.jsx(dt,{children:Q==null?void 0:Q.map(H=>r.jsx(Ye,{value:H.id.toString(),children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx($e,{className:"h-4 w-4"}),H.name," (",H.code,")"]})},H.id))})]}),r.jsx(fe,{})]})}}),r.jsx(ae,{control:T.control,name:`localizations.${oe}.name`,rules:{required:e?"اسم الدور مطلوب":"Role name is required"},render:({field:Be})=>r.jsxs(ne,{children:[r.jsx(re,{children:e?"اسم الدور":"Role Name"}),r.jsx(se,{children:r.jsx(Oe,{placeholder:e?"اسم الدور بهذه اللغة":"Role name in this language",...Be})}),r.jsx(fe,{})]})}),r.jsx(ae,{control:T.control,name:`localizations.${oe}.description`,render:({field:Be})=>r.jsxs(ne,{children:[r.jsx(re,{children:e?"الوصف":"Description"}),r.jsx(se,{children:r.jsx(Pt,{placeholder:e?"وصف الدور":"Role description",...Be})}),r.jsx(fe,{})]})})]})]},pe.id))]}),r.jsxs(Lt,{children:[r.jsx(B,{type:"button",variant:"outline",onClick:()=>d(!1),children:e?"إلغاء":"Cancel"}),r.jsx(B,{type:"submit",className:"gradient-primary",children:e?"إنشاء":"Create"})]})]})})]})}),r.jsx(Mt,{open:u,onOpenChange:h,children:r.jsxs(Et,{className:"sm:max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Tt,{children:[r.jsx(Ot,{children:e?"تحرير الدور":"Edit Role"}),r.jsx($t,{children:e?"قم بتحديث معلومات الدور وترجماته":"Update the role details and translations"})]}),r.jsx(Kt,{...O,children:r.jsxs("form",{onSubmit:O.handleSubmit(Ae),className:"space-y-4",children:[r.jsx(ae,{control:O.control,name:"name",rules:{required:e?"اسم الدور مطلوب":"Role name is required"},render:({field:pe})=>r.jsxs(ne,{children:[r.jsx(re,{children:e?"اسم الدور":"Role Name"}),r.jsx(se,{children:r.jsx(Oe,{...pe})}),r.jsx(fe,{})]})}),r.jsx(ae,{control:O.control,name:"description",render:({field:pe})=>r.jsxs(ne,{children:[r.jsx(re,{children:e?"وصف الدور":"Role Description"}),r.jsx(se,{children:r.jsx(Pt,{...pe})}),r.jsx(fe,{})]})}),r.jsx(ae,{control:O.control,name:"isActive",render:({field:pe})=>r.jsxs(ne,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[r.jsxs("div",{className:"space-y-0.5",children:[r.jsx(re,{className:"text-base",children:e?"الدور نشط":"Active Role"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:e?"تفعيل أو إلغاء تفعيل الدور":"Enable or disable this role"})]}),r.jsx(se,{children:r.jsx(Ct,{checked:pe.value,onCheckedChange:pe.onChange})})]})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h4",{className:"text-sm font-medium",children:e?"الترجمات":"Localizations"}),r.jsxs(B,{type:"button",variant:"outline",size:"sm",onClick:()=>Ze(!0),children:[r.jsx(ot,{className:"h-4 w-4"}),e?"إضافة ترجمة":"Add Translation"]})]}),Z.map((pe,oe)=>r.jsxs(Y,{className:"p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h5",{className:"text-sm font-medium",children:e?`الترجمة ${oe+1}`:`Translation ${oe+1}`}),r.jsx(B,{type:"button",variant:"ghost",size:"sm",onClick:()=>$(oe),children:r.jsx(xt,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(ae,{control:O.control,name:`localizations.${oe}.languageId`,rules:{required:e?"اللغة مطلوبة":"Language is required"},render:({field:Be})=>{var X;return r.jsxs(ne,{children:[r.jsx(re,{children:e?"اللغة":"Language"}),r.jsxs(ut,{onValueChange:H=>Be.onChange(parseInt(H)),value:(X=Be.value)==null?void 0:X.toString(),children:[r.jsx(se,{children:r.jsx(ct,{children:r.jsx(mt,{placeholder:e?"اختر اللغة":"Select Language"})})}),r.jsx(dt,{children:Q==null?void 0:Q.map(H=>r.jsx(Ye,{value:H.id.toString(),children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx($e,{className:"h-4 w-4"}),H.name," (",H.code,")"]})},H.id))})]}),r.jsx(fe,{})]})}}),r.jsx(ae,{control:O.control,name:`localizations.${oe}.name`,rules:{required:e?"اسم الدور مطلوب":"Role name is required"},render:({field:Be})=>r.jsxs(ne,{children:[r.jsx(re,{children:e?"اسم الدور":"Role Name"}),r.jsx(se,{children:r.jsx(Oe,{...Be})}),r.jsx(fe,{})]})}),r.jsx(ae,{control:O.control,name:`localizations.${oe}.description`,render:({field:Be})=>r.jsxs(ne,{children:[r.jsx(re,{children:e?"الوصف":"Description"}),r.jsx(se,{children:r.jsx(Pt,{...Be})}),r.jsx(fe,{})]})})]})]},pe.id))]}),r.jsxs(Lt,{children:[r.jsx(B,{type:"button",variant:"outline",onClick:()=>h(!1),children:e?"إلغاء":"Cancel"}),r.jsx(B,{type:"submit",className:"gradient-primary",children:e?"حفظ التغييرات":"Save Changes"})]})]})})]})}),r.jsx(Mt,{open:m,onOpenChange:p,children:r.jsxs(Et,{className:"sm:max-w-3xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Tt,{children:[r.jsxs(Ot,{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-primary flex items-center justify-center",children:r.jsx(Rs,{className:"h-5 w-5 text-primary-foreground"})}),e?"تفاصيل الدور":"Role Details"]}),r.jsx($t,{children:e?"عرض شامل لمعلومات الدور وترجماته":"Comprehensive view of role information and translations"})]}),x&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs(Y,{className:"border-0 shadow-sm",children:[r.jsx(Pe,{className:"pb-3",children:r.jsxs(Ie,{className:"text-lg flex items-center gap-2",children:[r.jsx(Rs,{className:"h-5 w-5 text-primary"}),e?"المعلومات الأساسية":"Basic Information"]})}),r.jsxs(ee,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:e?"اسم الدور":"Role Name"}),r.jsx("div",{className:"p-3 bg-muted/50 rounded-lg",children:r.jsx("span",{className:"text-sm font-medium",children:x.name})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:e?"الحالة":"Status"}),r.jsx("div",{className:"p-3",children:K(x.isActive)})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:e?"تاريخ الإنشاء":"Created Date"}),r.jsx("div",{className:"p-3 bg-muted/50 rounded-lg",children:r.jsx("span",{className:"text-sm",children:te(x.createdAt)})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:e?"تاريخ التحديث":"Last Modified"}),r.jsx("div",{className:"p-3 bg-muted/50 rounded-lg",children:r.jsx("span",{className:"text-sm",children:te(x.updatedAt)})})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:e?"وصف الدور":"Role Description"}),r.jsx("div",{className:"p-4 bg-muted/50 rounded-lg",children:r.jsx("p",{className:"text-sm leading-relaxed",children:x.description||(e?"لا يوجد وصف":"No description")})})]})]})]}),r.jsxs(Y,{className:"border-0 shadow-sm",children:[r.jsx(Pe,{className:"pb-3",children:r.jsxs(Ie,{className:"text-lg flex items-center gap-2",children:[r.jsx($e,{className:"h-5 w-5 text-primary"}),e?"الترجمات":"Localizations",r.jsx(Me,{variant:"secondary",className:"ml-2",children:x.localizations.length})]})}),r.jsx(ee,{children:x.localizations.length===0?r.jsxs("div",{className:"text-center py-8",children:[r.jsx($e,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4 opacity-50"}),r.jsx("p",{className:"text-muted-foreground",children:e?"لا توجد ترجمات متاحة لهذا الدور":"No translations available for this role"})]}):r.jsx("div",{className:"space-y-4",children:x.localizations.map((pe,oe)=>{var Be,X;return r.jsx(Y,{className:"border border-border/50",children:r.jsx(ee,{className:"p-4",children:r.jsxs("div",{className:"space-y-3",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center",children:r.jsx($e,{className:"h-4 w-4 text-primary"})}),r.jsxs("div",{children:[r.jsxs("h4",{className:"font-medium text-sm",children:[(Be=pe.language)==null?void 0:Be.name," (",(X=pe.language)==null?void 0:X.code,")"]}),r.jsx("p",{className:"text-xs text-muted-foreground",children:e?`الترجمة ${oe+1}`:`Translation ${oe+1}`})]})]})}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:e?"اسم الدور":"Role Name"}),r.jsx("div",{className:"p-3 bg-muted/30 rounded-lg",children:r.jsx("p",{className:"text-sm leading-relaxed",children:pe.name})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:e?"وصف الدور":"Role Description"}),r.jsx("div",{className:"p-3 bg-muted/30 rounded-lg",children:r.jsx("p",{className:"text-sm leading-relaxed",children:pe.description||(e?"لا يوجد وصف":"No description")})})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-2 border-t border-border/30",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:e?"تاريخ الإنشاء":"Created"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:te(pe.createdAt)})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:e?"تاريخ التحديث":"Updated"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:te(pe.updatedAt)})]})]})]})})},pe.id)})})})]}),r.jsxs(Y,{className:"border-0 shadow-sm",children:[r.jsx(Pe,{className:"pb-3",children:r.jsxs(Ie,{className:"text-lg flex items-center gap-2",children:[r.jsx(Or,{className:"h-5 w-5 text-primary"}),e?"إحصائيات الدور":"Role Statistics"]})}),r.jsx(ee,{children:r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"text-center p-4 bg-muted/30 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-primary mb-1",children:x.localizations.length}),r.jsx("div",{className:"text-xs text-muted-foreground",children:e?"إجمالي الترجمات":"Total Translations"})]}),r.jsxs("div",{className:"text-center p-4 bg-muted/30 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600 mb-1",children:x.name.length}),r.jsx("div",{className:"text-xs text-muted-foreground",children:e?"طول الاسم":"Name Length"})]}),r.jsxs("div",{className:"text-center p-4 bg-muted/30 rounded-lg col-span-2 md:col-span-1",children:[r.jsx("div",{className:"text-2xl font-bold text-purple-600 mb-1",children:((Ne=x.description)==null?void 0:Ne.length)||0}),r.jsx("div",{className:"text-xs text-muted-foreground",children:e?"طول الوصف":"Description Length"})]})]})})]})]}),r.jsxs(Lt,{children:[r.jsx(B,{type:"button",variant:"outline",onClick:()=>{p(!1),v(null)},children:e?"إغلاق":"Close"}),r.jsxs(B,{type:"button",className:"gradient-primary",onClick:()=>{x&&(ze(x),p(!1),v(null))},children:[r.jsx(tr,{className:"h-4 w-4 mr-2"}),e?"تحرير الدور":"Edit Role"]})]})]})}),he&&he.length>0&&r.jsx(Dee,{isOpen:C,onOpenChange:_,missingRoleIds:he})]})})};var j0="Checkbox",[zee,e4e]=_s(j0),[Fee,T_]=zee(j0);function Bee(e){const{__scopeCheckbox:t,checked:n,children:s,defaultChecked:a,disabled:i,form:o,name:l,onCheckedChange:d,required:u,value:h="on",internal_do_not_use_render:m}=e,[p,g]=wo({prop:n,defaultProp:a??!1,onChange:d,caller:j0}),[y,x]=N.useState(null),[v,j]=N.useState(null),b=N.useRef(!1),S=y?!!o||!!y.closest("form"):!0,C={checked:p,disabled:i,setChecked:g,control:y,setControl:x,name:l,form:o,value:h,hasConsumerStoppedPropagationRef:b,required:u,defaultChecked:Pl(a)?!1:a,isFormControl:S,bubbleInput:v,setBubbleInput:j};return r.jsx(Fee,{scope:t,...C,children:qee(m)?m(C):s})}var KR="CheckboxTrigger",HR=N.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...s},a)=>{const{control:i,value:o,disabled:l,checked:d,required:u,setControl:h,setChecked:m,hasConsumerStoppedPropagationRef:p,isFormControl:g,bubbleInput:y}=T_(KR,e),x=Zt(a,h),v=N.useRef(d);return N.useEffect(()=>{const j=i==null?void 0:i.form;if(j){const b=()=>m(v.current);return j.addEventListener("reset",b),()=>j.removeEventListener("reset",b)}},[i,m]),r.jsx(gt.button,{type:"button",role:"checkbox","aria-checked":Pl(d)?"mixed":d,"aria-required":u,"data-state":XR(d),"data-disabled":l?"":void 0,disabled:l,value:o,...s,ref:x,onKeyDown:Ge(t,j=>{j.key==="Enter"&&j.preventDefault()}),onClick:Ge(n,j=>{m(b=>Pl(b)?!0:!b),y&&g&&(p.current=j.isPropagationStopped(),p.current||j.stopPropagation())})})});HR.displayName=KR;var O_=N.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:s,checked:a,defaultChecked:i,required:o,disabled:l,value:d,onCheckedChange:u,form:h,...m}=e;return r.jsx(Bee,{__scopeCheckbox:n,checked:a,defaultChecked:i,disabled:l,required:o,onCheckedChange:u,name:s,form:h,value:d,internal_do_not_use_render:({isFormControl:p})=>r.jsxs(r.Fragment,{children:[r.jsx(HR,{...m,ref:t,__scopeCheckbox:n}),p&&r.jsx(YR,{__scopeCheckbox:n})]})})});O_.displayName=j0;var GR="CheckboxIndicator",ZR=N.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:s,...a}=e,i=T_(GR,n);return r.jsx(ja,{present:s||Pl(i.checked)||i.checked===!0,children:r.jsx(gt.span,{"data-state":XR(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});ZR.displayName=GR;var QR="CheckboxBubbleInput",YR=N.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:s,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:o,required:l,disabled:d,name:u,value:h,form:m,bubbleInput:p,setBubbleInput:g}=T_(QR,e),y=Zt(n,g),x=C_(i),v=US(s);N.useEffect(()=>{const b=p;if(!b)return;const S=window.HTMLInputElement.prototype,_=Object.getOwnPropertyDescriptor(S,"checked").set,A=!a.current;if(x!==i&&_){const k=new Event("click",{bubbles:A});b.indeterminate=Pl(i),_.call(b,Pl(i)?!1:i),b.dispatchEvent(k)}},[p,x,i,a]);const j=N.useRef(Pl(i)?!1:i);return r.jsx(gt.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??j.current,required:l,disabled:d,name:u,value:h,form:m,...t,tabIndex:-1,ref:y,style:{...t.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});YR.displayName=QR;function qee(e){return typeof e=="function"}function Pl(e){return e==="indeterminate"}function XR(e){return Pl(e)?"indeterminate":e?"checked":"unchecked"}const JR=N.forwardRef(({className:e,...t},n)=>r.jsx(O_,{ref:n,className:Le("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:r.jsx(ZR,{className:Le("flex items-center justify-center text-current"),children:r.jsx(TS,{className:"h-4 w-4"})})}));JR.displayName=O_.displayName;class Uee{constructor(){ge(this,"baseUrl","/api/permissions");ge(this,"request",async(t,n={})=>{const s=`${this.baseUrl}${t}`,a={headers:{"Content-Type":"application/json",...n.headers},...n};try{const i=await fetch(s,a);if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);return await i.json()}catch(i){throw console.error("Permission API Request Error:",i),i}});ge(this,"getPermissions",async(t={})=>{const n=new URLSearchParams;t.page&&n.append("page",t.page.toString()),t.pageSize&&n.append("pageSize",t.pageSize.toString()),t.activeOnly!==void 0&&n.append("activeOnly",t.activeOnly.toString());const s=n.toString()?`?${n.toString()}`:"",a=await this.request(s);if(!a.success)throw new Error(a.message||"Failed to fetch permissions");if(!a.data)throw new Error("No data returned from server");return a.data});ge(this,"getPermissionById",async t=>{const n=await this.request(`/${t}`);if(!n.success)throw new Error(n.message||"Failed to fetch permission");if(!n.data)throw new Error("No data returned from server");return n.data});ge(this,"getPermissionByName",async t=>{const n=await this.request(`/by-name/${encodeURIComponent(t)}`);if(!n.success)throw new Error(n.message||"Failed to fetch permission");if(!n.data)throw new Error("No data returned from server");return n.data});ge(this,"getPermissionsDropdown",async(t=!0,n)=>{const s=new URLSearchParams;t!==void 0&&s.append("activeOnly",t.toString()),n&&s.append("languageCode",n);const a=s.toString()?`/dropdown?${s.toString()}`:"/dropdown",i=await this.request(a);if(!i.success)throw new Error(i.message||"Failed to fetch permissions dropdown");if(!i.data)throw new Error("No data returned from server");return i.data});ge(this,"createPermission",async t=>{const n=await this.request("",{method:"POST",body:JSON.stringify(t)});if(!n.success)throw new Error(n.message||"Failed to create permission");if(!n.data)throw new Error("No data returned from server");return n.data});ge(this,"updatePermission",async(t,n)=>{const s=await this.request(`/${t}`,{method:"PUT",body:JSON.stringify(n)});if(!s.success)throw new Error(s.message||"Failed to update permission");if(!s.data)throw new Error("No data returned from server");return s.data});ge(this,"togglePermissionActivation",async t=>{const n=await this.request(`/${t}/toggle-activation`,{method:"PUT"});if(!n.success)throw new Error(n.message||"Failed to toggle permission activation")});ge(this,"deletePermission",async t=>{const n=await this.request(`/${t}`,{method:"DELETE"});if(!n.success)throw new Error(n.message||"Failed to delete permission")});ge(this,"getPermissionsMissingTranslations",async()=>{const t=await this.request("/missing-translations");if(!t.success)throw new Error(t.message||"Failed to fetch permissions missing translations");if(!t.data)throw new Error("No data returned from server");return t.data})}}const di=new Uee;class Vee{constructor(){ge(this,"baseUrl","/api/role-permissions");ge(this,"request",async(t,n={})=>{const s=`${this.baseUrl}${t}`,a={headers:{"Content-Type":"application/json",...n.headers},...n};try{const i=await fetch(s,a);if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);return await i.json()}catch(i){throw console.error("Role Permission API Request Error:",i),i}});ge(this,"getPermissionsByRoleId",async(t,n)=>{const s=new URLSearchParams;n&&s.append("languageCode",n);const a=`/role/${t}/permissions${s.toString()?`?${s.toString()}`:""}`,i=await this.request(a);if(!i.success)throw new Error(i.message||"Failed to fetch role permissions");if(!i.data)throw new Error("No data returned from server");return i.data});ge(this,"saveRolePermissions",async(t,n,s)=>{const a=new URLSearchParams;s&&a.append("languageCode",s);const i=`/role/${t}/permissions${a.toString()?`?${a.toString()}`:""}`,o=await this.request(i,{method:"PUT",body:JSON.stringify({permissionIds:n})});if(!o.success)throw new Error(o.message||"Failed to save role permissions");if(!o.data)throw new Error("No data returned from server");return o.data})}}const n3=new Vee;var ez="AlertDialog",[Wee,t4e]=_s(ez,[Z5]),Mo=Z5(),tz=e=>{const{__scopeAlertDialog:t,...n}=e,s=Mo(t);return r.jsx(uD,{...s,...n,modal:!0})};tz.displayName=ez;var Kee="AlertDialogTrigger",Hee=N.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...s}=e,a=Mo(n);return r.jsx(hX,{...a,...s,ref:t})});Hee.displayName=Kee;var Gee="AlertDialogPortal",rz=e=>{const{__scopeAlertDialog:t,...n}=e,s=Mo(t);return r.jsx(mD,{...s,...n})};rz.displayName=Gee;var Zee="AlertDialogOverlay",nz=N.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...s}=e,a=Mo(n);return r.jsx(x_,{...a,...s,ref:t})});nz.displayName=Zee;var pu="AlertDialogContent",[Qee,Yee]=Wee(pu),Xee=VM("AlertDialogContent"),sz=N.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:s,...a}=e,i=Mo(n),o=N.useRef(null),l=Zt(t,o),d=N.useRef(null);return r.jsx(cX,{contentName:pu,titleName:az,docsSlug:"alert-dialog",children:r.jsx(Qee,{scope:n,cancelRef:d,children:r.jsxs(g_,{role:"alertdialog",...i,...a,ref:l,onOpenAutoFocus:Ge(a.onOpenAutoFocus,u=>{var h;u.preventDefault(),(h=d.current)==null||h.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[r.jsx(Xee,{children:s}),r.jsx(ete,{contentRef:o})]})})})});sz.displayName=pu;var az="AlertDialogTitle",iz=N.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...s}=e,a=Mo(n);return r.jsx(v_,{...a,...s,ref:t})});iz.displayName=az;var oz="AlertDialogDescription",lz=N.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...s}=e,a=Mo(n);return r.jsx(y_,{...a,...s,ref:t})});lz.displayName=oz;var Jee="AlertDialogAction",cz=N.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...s}=e,a=Mo(n);return r.jsx(j_,{...a,...s,ref:t})});cz.displayName=Jee;var dz="AlertDialogCancel",uz=N.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...s}=e,{cancelRef:a}=Yee(dz,n),i=Mo(n),o=Zt(t,a);return r.jsx(j_,{...i,...s,ref:o})});uz.displayName=dz;var ete=({contentRef:e})=>{const t=`\`${pu}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${pu}\` by passing a \`${oz}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${pu}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return N.useEffect(()=>{var s;document.getElementById((s=e.current)==null?void 0:s.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},tte=tz,rte=rz,mz=nz,hz=sz,fz=cz,pz=uz,xz=iz,gz=lz;const nte=tte,ste=rte,vz=N.forwardRef(({className:e,...t},n)=>r.jsx(mz,{className:Le("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));vz.displayName=mz.displayName;const yz=N.forwardRef(({className:e,...t},n)=>r.jsxs(ste,{children:[r.jsx(vz,{}),r.jsx(hz,{ref:n,className:Le("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));yz.displayName=hz.displayName;const jz=({className:e,...t})=>r.jsx("div",{className:Le("flex flex-col space-y-2 text-center sm:text-left",e),...t});jz.displayName="AlertDialogHeader";const bz=({className:e,...t})=>r.jsx("div",{className:Le("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});bz.displayName="AlertDialogFooter";const wz=N.forwardRef(({className:e,...t},n)=>r.jsx(xz,{ref:n,className:Le("text-lg font-semibold",e),...t}));wz.displayName=xz.displayName;const Nz=N.forwardRef(({className:e,...t},n)=>r.jsx(gz,{ref:n,className:Le("text-sm text-muted-foreground",e),...t}));Nz.displayName=gz.displayName;const Sz=N.forwardRef(({className:e,...t},n)=>r.jsx(fz,{ref:n,className:Le(t_(),e),...t}));Sz.displayName=fz.displayName;const _z=N.forwardRef(({className:e,...t},n)=>r.jsx(pz,{ref:n,className:Le(t_({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));_z.displayName=pz.displayName;const ate=()=>{const{roleId:e}=Io(),t=lr(),{isRTL:n}=rt(),s=rr(),[a,i]=N.useState({}),[o,l]=N.useState(!1),[d,u]=N.useState(!1),h=n?"ar":"en",{data:m,isLoading:p}=qe({queryKey:["role",e],queryFn:()=>ci.getRoleById(parseInt(e)),enabled:!!e}),{data:g,isLoading:y}=qe({queryKey:["permissions-dropdown",h],queryFn:()=>di.getPermissionsDropdown(!0,h)}),{data:x,isLoading:v}=qe({queryKey:["role-permissions",e,h],queryFn:()=>n3.getPermissionsByRoleId(parseInt(e),h),enabled:!!e}),j=it({mutationFn:({roleId:O,permissionIds:M})=>n3.saveRolePermissions(O,M,h),onSuccess:()=>{s.invalidateQueries({queryKey:["role-permissions"]}),be.success(n?"تم حفظ صلاحيات الدور بنجاح":"Role permissions saved successfully"),l(!1)},onError:O=>{be.error(O.message||(n?"حدث خطأ أثناء حفظ الصلاحيات":"Error saving permissions"))}}),b=R.useMemo(()=>{if(!g)return[];const O={};return g.forEach(M=>{O[M.page]||(O[M.page]=[]),O[M.page].push(M)}),Object.keys(O).map(M=>({page:M,permissions:O[M].sort((z,F)=>z.name.localeCompare(F.name))})).sort((M,z)=>M.page.localeCompare(z.page))},[g]);N.useEffect(()=>{if(x){const O={};x.forEach(M=>{O[M.id]=!0}),i(O)}},[x]);const S=O=>{i(M=>{const z={...M,[O]:!M[O]},F=Object.keys(z).filter($=>z[parseInt($)]).map($=>parseInt($)),Z=(x==null?void 0:x.map($=>$.id))||[],D=F.length!==Z.length||F.some($=>!Z.includes($));return l(D),z})},C=(O,M)=>{i(z=>{const F={...z};O.forEach(E=>{F[E.id]=M});const Z=Object.keys(F).filter(E=>F[parseInt(E)]).map(E=>parseInt(E)),D=(x==null?void 0:x.map(E=>E.id))||[],$=Z.length!==D.length||Z.some(E=>!D.includes(E));return l($),F})},_=()=>{if(!e)return;const O=Object.keys(a).filter(M=>a[parseInt(M)]).map(M=>parseInt(M));j.mutate({roleId:parseInt(e),permissionIds:O})},A=()=>{o?u(!0):t("/roles")},k=O=>{const M=O.filter(F=>a[F.id]).length,z=O.length;return{selected:M,total:z}};return p||y||v?r.jsx(lt,{children:r.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"}),r.jsx("span",{className:"text-lg",children:n?"جاري التحميل...":"Loading..."})]})})}):r.jsx(lt,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-3xl font-bold text-foreground flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-primary flex items-center justify-center",children:r.jsx(Rs,{className:"h-5 w-5 text-primary-foreground"})}),n?"صلاحيات الدور":"Role Permissions"]}),r.jsx("p",{className:"text-muted-foreground",children:n?`إدارة صلاحيات الدور: ${m==null?void 0:m.name}`:`Manage permissions for role: ${m==null?void 0:m.name}`})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(B,{variant:"outline",size:"sm",onClick:A,className:"flex items-center gap-2",children:[n?r.jsx(Gt,{className:"h-4 w-4 rotate-180"}):r.jsx(Gt,{className:"h-4 w-4"}),n?"رجوع":"Back"]}),r.jsxs(B,{variant:"outline",onClick:()=>window.location.reload(),className:"flex items-center gap-2",children:[r.jsx(OS,{className:"h-4 w-4"}),n?"تحديث":"Refresh"]}),r.jsxs(B,{className:"gradient-primary flex items-center gap-2",onClick:_,disabled:!o||j.isPending,children:[r.jsx(ln,{className:"h-4 w-4"}),j.isPending?n?"جاري الحفظ...":"Saving...":n?"حفظ التغييرات":"Save Changes"]})]})]}),r.jsx(Y,{className:"border-0 shadow-elegant",children:r.jsx(ee,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-primary flex items-center justify-center",children:r.jsx(Gr,{className:"h-6 w-6 text-primary-foreground"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold",children:m==null?void 0:m.name}),r.jsx("p",{className:"text-muted-foreground",children:(m==null?void 0:m.description)||(n?"لا يوجد وصف":"No description")})]})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(Me,{variant:m!=null&&m.isActive?"default":"secondary",className:"px-4 py-2",children:m!=null&&m.isActive?n?"نشط":"Active":n?"غير نشط":"Inactive"}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-primary",children:Object.values(a).filter(Boolean).length}),r.jsx("div",{className:"text-xs text-muted-foreground",children:n?"صلاحيات مختارة":"Selected Permissions"})]})]})]})})}),r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:b.map(O=>{const M=k(O.permissions),z=M.selected===M.total,F=M.selected>0&&M.selected<M.total;return r.jsxs(Y,{className:"border-0 shadow-elegant",children:[r.jsx(Pe,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Ie,{className:"text-lg capitalize",children:O.page}),r.jsxs(Me,{variant:"outline",className:"ml-2",children:[M.selected," / ",M.total]})]}),r.jsx("div",{className:"flex items-center gap-2",children:z?r.jsx(yn,{className:"h-5 w-5 text-green-600"}):F?r.jsx("div",{className:"h-5 w-5 rounded-full border-2 border-primary bg-primary/50"}):r.jsx(jn,{className:"h-5 w-5 text-muted-foreground"})})]})}),r.jsx(ee,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-2 pb-3 border-b",children:[r.jsx(B,{variant:"outline",size:"sm",onClick:()=>C(O.permissions,!0),disabled:z,children:n?"تحديد الكل":"Select All"}),r.jsx(B,{variant:"outline",size:"sm",onClick:()=>C(O.permissions,!1),disabled:M.selected===0,children:n?"إلغاء تحديد الكل":"Deselect All"})]}),r.jsx("div",{className:"grid gap-3",children:O.permissions.map(Z=>{const D=a[Z.id]||!1;return r.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-lg border transition-all duration-200 ${D?"border-primary bg-primary/5":"border-border hover:border-primary/30 hover:bg-muted/30"} ${n?"space-x-reverse":""}`,children:[r.jsx(JR,{id:`permission-${Z.id}`,checked:D,onCheckedChange:()=>S(Z.id),className:"data-[state=checked]:bg-primary data-[state=checked]:border-primary"}),r.jsx("label",{htmlFor:`permission-${Z.id}`,className:"flex-1 cursor-pointer",children:r.jsx("div",{className:"font-medium text-sm",children:Z.name})}),D&&r.jsx(yn,{className:"h-4 w-4 text-primary"})]},Z.id)})})]})})]},O.page)})}),r.jsx(nte,{open:d,onOpenChange:u,children:r.jsxs(yz,{children:[r.jsxs(jz,{children:[r.jsx(wz,{children:n?"لديك تغييرات غير محفوظة":"You have unsaved changes"}),r.jsx(Nz,{children:n?"هل أنت متأكد أنك تريد المغادرة؟ ستفقد جميع التغييرات غير المحفوظة.":"Are you sure you want to leave? You will lose all unsaved changes."})]}),r.jsxs(bz,{children:[r.jsx(_z,{children:n?"البقاء":"Stay"}),r.jsx(Sz,{onClick:()=>{u(!1),t("/roles")},className:"bg-destructive hover:bg-destructive/90",children:n?"مغادرة بدون حفظ":"Leave without saving"})]})]})})]})})},ite=({missingCount:e,onApplyTranslations:t,onDismiss:n,className:s=""})=>{const{isRTL:a}=rt();return e<1?null:r.jsxs(wn,{className:`
        relative border-amber-200 bg-gradient-to-r from-amber-50 to-orange-50 
        dark:from-amber-950/20 dark:to-orange-950/20 dark:border-amber-800
        shadow-lg backdrop-blur-sm transition-all duration-300 hover:shadow-xl
        rounded-xl p-4 sm:p-6 overflow-hidden
        ${s}
      `,children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start gap-3 sm:gap-4",children:[r.jsxs("div",{className:"flex items-start gap-3 sm:gap-4 flex-shrink-0",children:[r.jsx("div",{className:"flex-shrink-0 mt-0.5 sm:mt-1",children:r.jsxs("div",{className:"relative",children:[r.jsx(Bl,{className:"h-5 w-5 sm:h-6 sm:w-6 text-amber-600 dark:text-amber-400 animate-pulse"}),r.jsx("div",{className:"absolute -top-1 -right-1 w-2.5 h-2.5 sm:w-3 sm:h-3 bg-amber-500 rounded-full animate-ping"})]})}),r.jsx("div",{className:"flex-1 sm:hidden",children:r.jsxs("div",{className:"flex items-center justify-between gap-3 mb-2",children:[r.jsxs(Tn,{className:"text-amber-800 dark:text-amber-200 font-semibold text-base sm:text-lg flex items-center gap-2",children:[r.jsx(eo,{className:"h-4 w-4"}),a?"ترجمات الصلاحيات مفقودة":"Missing Permission Translations"]}),r.jsxs(Me,{variant:"secondary",className:"bg-amber-100 text-amber-800 border-amber-300 dark:bg-amber-900/30 dark:text-amber-200 dark:border-amber-700 font-medium px-2 py-1 text-xs",children:[r.jsx($e,{className:"h-3 w-3 mr-1"}),e]})]})})]}),r.jsxs("div",{className:"flex-1 space-y-3 sm:space-y-4 min-w-0",children:[r.jsx("div",{className:"hidden sm:block space-y-2",children:r.jsxs(Tn,{className:"text-amber-800 dark:text-amber-200 font-semibold text-base sm:text-lg flex items-center gap-2",children:[r.jsx(eo,{className:"h-4 w-4 sm:h-5 sm:w-5"}),a?"ترجمات الصلاحيات مفقودة":"Missing Permission Translations"]})}),r.jsx(Nn,{className:"text-amber-700 dark:text-amber-300 text-sm sm:text-base leading-relaxed",children:a?`يوجد ${e} صلاحية${e>1?" صلاحيات":""} تحتاج إلى ترجمات. قم بإضافة الترجمات المفقودة لتحسين تجربة المستخدم متعدد اللغات.`:`There ${e===1?"is":"are"} ${e} permission${e===1?"":"s"} missing translations. Add missing translations to improve multilingual user experience.`}),r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4 pt-1 sm:pt-2",children:[r.jsxs("div",{className:"hidden sm:flex items-center gap-3",children:[r.jsxs(Me,{variant:"secondary",className:"bg-amber-100 text-amber-800 border-amber-300 dark:bg-amber-900/30 dark:text-amber-200 dark:border-amber-700 font-medium px-3 py-1.5",children:[r.jsx($e,{className:"h-3 w-3 mr-1"}),e," ",a?"صلاحية":"permissions"]}),r.jsxs("div",{className:"flex items-center gap-2 text-xs text-amber-600 dark:text-amber-400",children:[r.jsx(yn,{className:"h-3 w-3"}),a?"يحتاج ترجمة":"Need translation"]})]}),r.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-2 sm:gap-3",children:[r.jsxs("div",{className:"sm:hidden flex items-center gap-2 text-xs text-amber-600 dark:text-amber-400",children:[r.jsx(yn,{className:"h-3 w-3"}),a?"يحتاج ترجمة":"Need translation"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[n&&r.jsx(B,{variant:"ghost",size:"sm",onClick:n,className:"text-amber-600 hover:text-amber-700 hover:bg-amber-100/50 dark:text-amber-400 dark:hover:text-amber-300 dark:hover:bg-amber-900/20 h-8 w-8 sm:h-9 sm:w-9 p-0",children:r.jsx(un,{className:"h-4 w-4"})}),t&&r.jsxs(B,{onClick:t,size:"sm",className:`\r
                      bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-600 hover:to-orange-600\r
                      text-white shadow-md hover:shadow-lg transition-all duration-200\r
                      border-0 font-medium px-3 py-2 sm:px-4 text-xs sm:text-sm h-8 sm:h-9\r
                      min-w-0 flex-shrink-0\r
                    `,children:[r.jsx(qt,{className:`h-3 w-3 sm:h-4 sm:w-4 ${a?"ml-1 sm:ml-2":"mr-1 sm:mr-2"}`}),r.jsx("span",{className:"hidden xs:inline",children:a?"إضافة الترجمات":"Apply Translations"}),r.jsx("span",{className:"xs:hidden",children:a?"إضافة":"Apply"}),a?r.jsx(Gt,{className:"h-3 w-3 sm:h-4 sm:w-4 ml-1 sm:ml-2"}):r.jsx(Rl,{className:"h-3 w-3 sm:h-4 sm:w-4 ml-1 sm:ml-2"})]})]})]})]})]})]}),r.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 sm:w-32 sm:h-32 bg-gradient-to-bl from-amber-200/20 to-transparent rounded-full -translate-y-10 translate-x-10 sm:-translate-y-16 sm:translate-x-16 pointer-events-none"}),r.jsx("div",{className:"absolute bottom-0 left-0 w-16 h-16 sm:w-24 sm:h-24 bg-gradient-to-tr from-orange-200/20 to-transparent rounded-full translate-y-8 -translate-x-8 sm:translate-y-12 sm:-translate-x-12 pointer-events-none"})]})},ote=({isOpen:e,onOpenChange:t,missingPermissionIds:n})=>{var F,Z;const{isRTL:s}=rt(),a=rr(),[i,o]=N.useState(0),[l,d]=N.useState(new Set),u=n[i],h=n.length,m=Math.round((i+1)/h*100),p=Wt({defaultValues:{name:"",description:"",isActive:!0,localizations:[]}}),{fields:g,append:y,remove:x,replace:v}=Qt({control:p.control,name:"localizations"}),{data:j,isLoading:b}=qe({queryKey:["permission",u],queryFn:async()=>(await di.getPermissions({pageSize:1e3})).items.find($=>$.id===u),enabled:!!u&&e}),{data:S}=qe({queryKey:["languages-dropdown"],queryFn:()=>ir.getLanguagesDropdown(),enabled:e}),C=it({mutationFn:({id:D,data:$})=>di.updatePermission(D,$),onSuccess:D=>{a.invalidateQueries({queryKey:["permissions"]}),a.invalidateQueries({queryKey:["permissions-all"]}),a.invalidateQueries({queryKey:["permissions-missing-translations"]}),d($=>new Set([...$,u])),be.success(s?"تم حفظ الترجمات بنجاح":"Translations saved successfully")},onError:D=>{be.error(D.message||(s?"حدث خطأ أثناء حفظ الترجمات":"Error saving translations"))}});N.useEffect(()=>{var D,$;j&&(p.reset({name:j.name,description:j.description,isActive:j.isActive,localizations:((D=j.localizations)==null?void 0:D.map(E=>({id:E.id,languageId:E.languageId,name:E.name,description:E.description})))||[]}),v((($=j.localizations)==null?void 0:$.map(E=>({id:E.id,languageId:E.languageId,name:E.name,description:E.description})))||[]))},[j,p,v]);const _=()=>{i<h-1&&o(D=>D+1)},A=()=>{i>0&&o(D=>D-1)},k=()=>{d(D=>new Set([...D,u])),i<h-1?_():T()},T=()=>{o(0),d(new Set),t(!1),p.reset()},O=async D=>{u&&C.mutate({id:u,data:D},{onSuccess:()=>{i<h-1?_():(be.success(s?"تم الانتهاء من جميع الترجمات!":"All translations completed!"),T())}})},M=()=>{y({languageId:0,name:"",description:""})},z=D=>{if(!S)return[];const $=g.map(E=>E.languageId).filter(E=>E!==D);return S.filter(E=>!$.includes(E.id))};return e?r.jsx(Mt,{open:e,onOpenChange:t,children:r.jsxs(Et,{className:"w-[95vw] max-w-4xl h-[95vh] sm:h-[90vh] max-h-none overflow-hidden flex flex-col p-0",children:[r.jsxs(Tt,{className:"space-y-3 p-4 sm:p-6 pb-3 sm:pb-4 border-b flex-shrink-0",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-0 sm:justify-between",children:[r.jsxs(Ot,{className:"text-lg sm:text-xl flex items-center gap-2 sm:gap-3 order-1 sm:order-1",children:[r.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 flex items-center justify-center flex-shrink-0",children:r.jsx(qt,{className:"h-4 w-4 sm:h-5 sm:w-5 text-white"})}),r.jsx("span",{className:"text-base sm:text-xl font-semibold leading-tight",children:s?"إضافة ترجمات الصلاحيات المفقودة":"Add Missing Permission Translations"})]}),r.jsx(B,{variant:"ghost",size:"sm",onClick:T,className:"text-muted-foreground hover:text-foreground order-2 sm:order-2 self-start sm:self-center h-8 w-8 p-0",children:r.jsx(un,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[r.jsxs("div",{className:"flex flex-col xs:flex-row xs:items-center xs:justify-between gap-2 text-sm",children:[r.jsx("span",{className:"text-muted-foreground text-xs sm:text-sm",children:s?`الصلاحية ${i+1} من ${h}`:`Permission ${i+1} of ${h}`}),r.jsxs(Me,{variant:"outline",className:"text-xs self-start xs:self-center",children:[m,"% ",s?"مكتمل":"Complete"]})]}),r.jsx(va,{value:m,className:"h-1.5 sm:h-2"}),j&&r.jsx(Y,{className:"border-0 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-950/20 dark:to-purple-950/20",children:r.jsx(ee,{className:"p-3 sm:p-4",children:r.jsxs("div",{className:"flex items-start sm:items-center gap-3",children:[r.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 rounded-full bg-gradient-primary flex items-center justify-center flex-shrink-0",children:r.jsx(eo,{className:"h-3 w-3 sm:h-4 sm:w-4 text-primary-foreground"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"font-medium text-xs sm:text-sm truncate",children:j.name}),r.jsx("p",{className:"text-xs text-muted-foreground line-clamp-1 sm:line-clamp-2 mt-0.5",children:j.description||(s?"لا يوجد وصف":"No description")})]}),r.jsxs(Me,{variant:"secondary",className:"text-xs flex-shrink-0",children:[r.jsxs("span",{className:"hidden xs:inline",children:[((F=j.localizations)==null?void 0:F.length)||0," ",s?"ترجمة":"translations"]}),r.jsx("span",{className:"xs:hidden",children:((Z=j.localizations)==null?void 0:Z.length)||0})]})]})})})]}),r.jsxs($t,{className:"flex items-start gap-2 text-xs sm:text-sm",children:[r.jsx(zl,{className:"h-3 w-3 sm:h-4 sm:w-4 text-amber-500 flex-shrink-0 mt-0.5"}),r.jsx("span",{className:"leading-relaxed",children:s?"أضف ترجمات الصلاحيات للغات مختلفة لتحسين تجربة المستخدم متعدد اللغات":"Add permission translations in different languages to improve multilingual user experience"})]})]}),r.jsx("div",{className:"flex-1 overflow-y-auto px-4 sm:px-6 py-2 sm:py-4",children:b?r.jsx("div",{className:"flex items-center justify-center py-8 sm:py-12",children:r.jsxs("div",{className:"text-center space-y-3",children:[r.jsx("div",{className:"animate-spin rounded-full h-6 w-6 sm:h-8 sm:w-8 border-b-2 border-primary mx-auto"}),r.jsx("p",{className:"text-muted-foreground text-sm",children:s?"جاري التحميل...":"Loading..."})]})}):r.jsx(Kt,{...p,children:r.jsx("form",{onSubmit:p.handleSubmit(O),className:"space-y-4 sm:space-y-6",children:r.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[r.jsxs("div",{className:"flex flex-col xs:flex-row xs:items-center xs:justify-between gap-3",children:[r.jsxs("h4",{className:"text-base sm:text-lg font-medium flex items-center gap-2",children:[r.jsx($e,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"}),s?"الترجمات":"Translations"]}),r.jsxs(B,{type:"button",variant:"outline",size:"sm",onClick:M,className:"gradient-border self-start xs:self-center h-8 sm:h-9 px-3 text-xs sm:text-sm",children:[r.jsx(ot,{className:"h-3 w-3 sm:h-4 sm:w-4"}),r.jsx("span",{className:"ml-1 sm:ml-2",children:s?"إضافة ترجمة":"Add Translation"})]})]}),g.length===0&&r.jsx(Y,{className:"border-dashed border-2 border-muted-foreground/20",children:r.jsxs(ee,{className:"py-8 sm:py-12 text-center px-4 sm:px-6",children:[r.jsx($e,{className:"h-8 w-8 sm:h-12 sm:w-12 text-muted-foreground mx-auto mb-3 sm:mb-4 opacity-50"}),r.jsx("h4",{className:"text-base sm:text-lg font-medium text-muted-foreground mb-2",children:s?"لا توجد ترجمات":"No Translations"}),r.jsx("p",{className:"text-muted-foreground text-xs sm:text-sm mb-4 leading-relaxed",children:s?"أضف ترجمات لهذه الصلاحية لتحسين تجربة المستخدم":"Add translations for this permission to improve user experience"}),r.jsxs(B,{type:"button",onClick:M,className:"gradient-primary h-8 sm:h-9 px-3 sm:px-4 text-xs sm:text-sm",children:[r.jsx(ot,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),s?"إضافة أول ترجمة":"Add First Translation"]})]})}),g.map((D,$)=>r.jsxs(Y,{className:"border shadow-sm",children:[r.jsx(Pe,{className:"pb-2 sm:pb-3 px-3 sm:px-6 pt-3 sm:pt-6",children:r.jsxs("div",{className:"flex items-center justify-between gap-2",children:[r.jsxs(Ie,{className:"text-xs sm:text-sm flex items-center gap-2 min-w-0 flex-1",children:[r.jsx("div",{className:"w-5 h-5 sm:w-6 sm:h-6 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:r.jsx(qt,{className:"h-2.5 w-2.5 sm:h-3 sm:w-3 text-primary"})}),r.jsx("span",{className:"truncate",children:s?`الترجمة ${$+1}`:`Translation ${$+1}`})]}),r.jsx(B,{type:"button",variant:"ghost",size:"sm",onClick:()=>x($),className:"text-destructive hover:text-destructive h-7 w-7 sm:h-8 sm:w-8 p-0 flex-shrink-0",children:r.jsx(xt,{className:"h-3 w-3 sm:h-4 sm:w-4"})})]})}),r.jsx(ee,{className:"space-y-3 sm:space-y-4 px-3 sm:px-6 pb-3 sm:pb-6",children:r.jsxs("div",{className:"grid grid-cols-1 gap-3 sm:gap-4",children:[r.jsx(ae,{control:p.control,name:`localizations.${$}.languageId`,rules:{required:s?"اللغة مطلوبة":"Language is required",validate:E=>E===0?s?"يرجى اختيار لغة":"Please select a language":!0},render:({field:E})=>{var V;return r.jsxs(ne,{children:[r.jsx(re,{className:"text-xs sm:text-sm",children:s?"اللغة":"Language"}),r.jsxs(ut,{onValueChange:q=>E.onChange(parseInt(q)),value:(V=E.value)==null?void 0:V.toString(),children:[r.jsx(se,{children:r.jsx(ct,{className:"h-8 sm:h-9 text-xs sm:text-sm",children:r.jsx(mt,{placeholder:s?"اختر اللغة":"Select Language"})})}),r.jsx(dt,{children:z(E.value).map(q=>r.jsx(Ye,{value:q.id.toString(),children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx($e,{className:"h-3 w-3 sm:h-4 sm:w-4"}),r.jsxs("span",{className:"text-xs sm:text-sm",children:[q.name," (",q.code,")"]})]})},q.id))})]}),r.jsx(fe,{className:"text-xs"})]})}}),r.jsx(ae,{control:p.control,name:`localizations.${$}.name`,rules:{required:s?"اسم الصلاحية مطلوب":"Permission name is required"},render:({field:E})=>r.jsxs(ne,{children:[r.jsx(re,{className:"text-xs sm:text-sm",children:s?"اسم الصلاحية":"Permission Name"}),r.jsx(se,{children:r.jsx(Oe,{className:"h-8 sm:h-9 text-xs sm:text-sm",placeholder:s?"اسم الصلاحية بهذه اللغة":"Permission name in this language",...E})}),r.jsx(fe,{className:"text-xs"})]})}),r.jsx(ae,{control:p.control,name:`localizations.${$}.description`,render:({field:E})=>r.jsxs(ne,{children:[r.jsx(re,{className:"text-xs sm:text-sm",children:s?"وصف الصلاحية":"Permission Description"}),r.jsx(se,{children:r.jsx(Pt,{className:"min-h-[60px] sm:min-h-[72px] text-xs sm:text-sm resize-none",placeholder:s?"وصف الصلاحية بهذه اللغة":"Permission description in this language",rows:2,...E})}),r.jsx(fe,{className:"text-xs"})]})})]})})]},D.id))]})})})}),r.jsx(Lt,{className:"pt-3 sm:pt-4 px-4 sm:px-6 pb-4 sm:pb-6 border-t space-y-3 sm:space-y-0 flex-shrink-0",children:r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between w-full gap-3",children:[r.jsxs("div",{className:"flex items-center gap-2 order-2 sm:order-1",children:[r.jsxs(B,{type:"button",variant:"outline",size:"sm",onClick:A,disabled:i===0,className:"h-8 sm:h-9 px-2 sm:px-3 text-xs sm:text-sm flex-1 sm:flex-initial",children:[s?r.jsx(Nt,{className:"h-3 w-3 sm:h-4 sm:w-4"}):r.jsx(At,{className:"h-3 w-3 sm:h-4 sm:w-4"}),r.jsx("span",{className:"ml-1 sm:ml-2",children:s?"السابق":"Previous"})]}),r.jsxs(B,{type:"button",variant:"outline",size:"sm",onClick:_,disabled:i>=h-1,className:"h-8 sm:h-9 px-2 sm:px-3 text-xs sm:text-sm flex-1 sm:flex-initial",children:[r.jsx("span",{className:"mr-1 sm:mr-2",children:s?"التالي":"Next"}),s?r.jsx(At,{className:"h-3 w-3 sm:h-4 sm:w-4"}):r.jsx(Nt,{className:"h-3 w-3 sm:h-4 sm:w-4"})]})]}),r.jsxs("div",{className:"flex items-center gap-2 order-1 sm:order-2",children:[r.jsxs(B,{type:"button",variant:"outline",onClick:k,className:"h-8 sm:h-9 px-2 sm:px-3 text-xs sm:text-sm",children:[r.jsx(Fl,{className:"h-3 w-3 sm:h-4 sm:w-4"}),r.jsx("span",{className:"ml-1 sm:ml-2",children:s?"تخطي":"Skip"})]}),r.jsx(B,{type:"button",variant:"outline",onClick:T,className:"h-8 sm:h-9 px-2 sm:px-3 text-xs sm:text-sm hidden xs:inline-flex",children:s?"إغلاق":"Close"}),r.jsxs(B,{type:"submit",className:"gradient-primary h-8 sm:h-9 px-3 sm:px-4 text-xs sm:text-sm font-medium",onClick:p.handleSubmit(O),disabled:C.isPending||b,children:[C.isPending?r.jsx("div",{className:"animate-spin rounded-full h-3 w-3 sm:h-4 sm:w-4 border-b-2 border-white mr-1 sm:mr-2"}):r.jsx(ln,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),r.jsx("span",{className:"hidden xs:inline",children:s?"حفظ وتابع":"Save & Continue"}),r.jsx("span",{className:"xs:hidden",children:s?"حفظ":"Save"})]})]})]})})]})}):null},lte=()=>{var K;const{isRTL:e}=rt(),t=rr(),[n,s]=N.useState(""),[a,i]=N.useState("all"),[o,l]=N.useState(!1),[d,u]=N.useState(!1),[h,m]=N.useState(!1),[p,g]=N.useState(null),[y,x]=N.useState(null),[v,j]=N.useState(1),[b]=N.useState(5),[S,C]=N.useState(!1),[_,A]=N.useState(!1),k=Wt({defaultValues:{name:"",description:"",page:"",localizations:[]}}),T=Wt({defaultValues:{name:"",description:"",page:"",isActive:!0,localizations:[]}}),{fields:O,append:M,remove:z}=Qt({control:k.control,name:"localizations"}),{fields:F,append:Z,remove:D}=Qt({control:T.control,name:"localizations"}),{data:$,isLoading:E,error:V}=qe({queryKey:["permissions",v,b,a],queryFn:()=>{const te={page:v,pageSize:b};return a==="active"?te.activeOnly=!0:a==="inactive"&&(te.activeOnly=!1),di.getPermissions(te)}}),{data:q}=qe({queryKey:["permissions-all"],queryFn:()=>di.getPermissions({pageSize:1e3})}),{data:U}=qe({queryKey:["languages-dropdown"],queryFn:()=>ir.getLanguagesDropdown()}),{data:Q}=qe({queryKey:["permissions-missing-translations"],queryFn:()=>di.getPermissionsMissingTranslations(),refetchInterval:3e4}),he=it({mutationFn:di.createPermission,onSuccess:()=>{t.invalidateQueries({queryKey:["permissions"]}),t.invalidateQueries({queryKey:["permissions-all"]}),be.success(e?"تم إنشاء الصلاحية بنجاح":"Permission created successfully")},onError:te=>{be.error(te.message||(e?"حدث خطأ أثناء إنشاء الصلاحية":"Error creating permission"))}}),ue=it({mutationFn:({id:te,data:Ne})=>di.updatePermission(te,Ne),onSuccess:()=>{t.invalidateQueries({queryKey:["permissions"]}),t.invalidateQueries({queryKey:["permissions-all"]}),be.success(e?"تم تحديث الصلاحية بنجاح":"Permission updated successfully")},onError:te=>{be.error(te.message||(e?"حدث خطأ أثناء تحديث الصلاحية":"Error updating permission"))}}),ce=it({mutationFn:di.togglePermissionActivation,onSuccess:()=>{t.invalidateQueries({queryKey:["permissions"]}),t.invalidateQueries({queryKey:["permissions-all"]}),be.success(e?"تم تحديث حالة الصلاحية":"Permission status updated")},onError:te=>{be.error(te.message||(e?"حدث خطأ أثناء تحديث حالة الصلاحية":"Error updating permission status"))}}),G=it({mutationFn:di.deletePermission,onSuccess:()=>{t.invalidateQueries({queryKey:["permissions"]}),t.invalidateQueries({queryKey:["permissions-all"]}),be.success(e?"تم حذف الصلاحية بنجاح":"Permission deleted successfully")},onError:te=>{be.error(te.message||(e?"حدث خطأ أثناء حذف الصلاحية":"Error deleting permission"))}}),J=($==null?void 0:$.items.filter(te=>te.name.toLowerCase().includes(n.toLowerCase())||te.description.toLowerCase().includes(n.toLowerCase())||te.page.toLowerCase().includes(n.toLowerCase())||te.localizations.some(pe=>{var oe;return pe.name.toLowerCase().includes(n.toLowerCase())||pe.description.toLowerCase().includes(n.toLowerCase())||((oe=pe.language)==null?void 0:oe.name.toLowerCase().includes(n.toLowerCase()))||!1})))||[],ye={total:(q==null?void 0:q.totalCount)||0,active:(q==null?void 0:q.items.filter(te=>te.isActive).length)||0,inactive:(q==null?void 0:q.items.filter(te=>!te.isActive).length)||0},Se=async te=>{he.mutate(te,{onSuccess:()=>{l(!1),k.reset()}})},We=async te=>{p&&ue.mutate({id:p.id,data:te},{onSuccess:()=>{u(!1),g(null),T.reset()}})},Ae=te=>{g(te),T.reset({name:te.name,description:te.description,page:te.page,isActive:te.isActive,localizations:te.localizations.map(Ne=>({id:Ne.id,languageId:Ne.languageId,name:Ne.name,description:Ne.description}))}),u(!0)},ze=te=>{x(te),m(!0)},Fe=(te=!1)=>{const Ne={languageId:0,name:"",description:""};te?Z(Ne):M(Ne)},je=te=>r.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1.5 rounded-full text-xs font-medium transition-all duration-200 ${te?"bg-emerald-100 text-emerald-700 border border-emerald-200 dark:bg-emerald-900/20 dark:text-emerald-400 dark:border-emerald-800":"bg-red-50 text-red-600 border border-red-200 dark:bg-red-900/20 dark:text-red-400 dark:border-red-800"}`,children:[r.jsx("div",{className:`w-2 h-2 rounded-full animate-pulse ${te?"bg-emerald-500 shadow-sm shadow-emerald-500/50":"bg-red-500 shadow-sm shadow-red-500/50"}`}),r.jsx("span",{className:"font-semibold",children:e?te?"نشط":"غير نشط":te?"Active":"Inactive"})]}),Ze=te=>new Date(te).toLocaleDateString(e?"ar-SA":"en-US");return r.jsx(lt,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-foreground",children:e?"إدارة الصلاحيات":"Permissions Management"}),r.jsx("p",{className:"text-muted-foreground",children:e?"إدارة صلاحيات المستخدمين وترجماتها":"Manage user permissions and their translations"})]}),r.jsxs(B,{className:"gradient-primary flex items-center gap-2",onClick:()=>l(!0),children:[r.jsx(ot,{className:"h-4 w-4"}),e?"إضافة صلاحية جديدة":"Add New Permission"]})]}),Q&&Q.length>0&&!_&&r.jsx(ite,{missingCount:Q.length,onApplyTranslations:()=>C(!0),onDismiss:()=>A(!0),className:"mb-6"}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[r.jsx(Y,{className:"border-0 shadow-elegant",children:r.jsx(ee,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:e?"إجمالي الصلاحيات":"Total Permissions"}),r.jsx("p",{className:"text-2xl font-bold",children:ye.total})]}),r.jsx(eo,{className:"h-8 w-8 text-primary"})]})})}),r.jsx(Y,{className:"border-0 shadow-elegant",children:r.jsx(ee,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:e?"الصلاحيات النشطة":"Active Permissions"}),r.jsx("p",{className:"text-2xl font-bold text-success",children:ye.active})]}),r.jsx(Or,{className:"h-8 w-8 text-success"})]})})}),r.jsx(Y,{className:"border-0 shadow-elegant",children:r.jsx(ee,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:e?"الصلاحيات غير النشطة":"Inactive Permissions"}),r.jsx("p",{className:"text-2xl font-bold text-muted-foreground",children:ye.inactive})]}),r.jsx(jn,{className:"h-8 w-8 text-muted-foreground"})]})})})]}),r.jsx(Y,{className:"border-0 shadow-elegant",children:r.jsx(ee,{className:"p-6",children:r.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(Qr,{className:`absolute top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground ${e?"right-3":"left-3"}`}),r.jsx(Oe,{placeholder:e?"البحث في الصلاحيات...":"Search permissions...",value:n,onChange:te=>s(te.target.value),className:e?"pr-10 pl-4":"pl-10 pr-4"})]}),r.jsx("div",{className:"flex gap-2",children:r.jsxs(Ut,{children:[r.jsx(Vt,{asChild:!0,children:r.jsxs(B,{variant:"outline",className:"flex items-center gap-2 hover:border-primary/50 hover:bg-primary/5 transition-all duration-200",children:[r.jsx("div",{className:`w-2 h-2 rounded-full ${a==="active"?"bg-emerald-500":a==="inactive"?"bg-red-500":"bg-gradient-to-r from-emerald-500 to-red-500"}`}),e?a==="all"?"جميع الحالات":a==="active"?"نشط":"غير نشط":a==="all"?"All Status":a==="active"?"Active":"Inactive",r.jsx(vn,{className:"h-4 w-4 opacity-50"})]})}),r.jsxs(Ft,{align:"end",className:"w-48",children:[r.jsxs(ke,{onClick:()=>i("all"),className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 rounded-full bg-gradient-to-r from-emerald-500 to-red-500"}),e?"جميع الحالات":"All Status"]}),r.jsxs(ke,{onClick:()=>i("active"),className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500"}),e?"نشط":"Active"]}),r.jsxs(ke,{onClick:()=>i("inactive"),className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500"}),e?"غير نشط":"Inactive"]})]})]})})]})})}),r.jsxs(Y,{className:"border-0 shadow-elegant",children:[r.jsx(Pe,{children:r.jsxs(Ie,{className:"flex items-center gap-2",children:[r.jsx(eo,{className:"h-5 w-5 text-primary"}),e?`${J.length} صلاحية`:`${J.length} Permissions`]})}),r.jsxs(ee,{children:[r.jsxs(On,{dir:e?"rtl":"ltr",children:[r.jsx(In,{children:r.jsxs(Xe,{className:e?"text-right":"text-left",children:[r.jsx(Re,{className:e?"text-right":"text-left",children:e?"اسم الصلاحية":"Permission Name"}),r.jsx(Re,{className:e?"text-right":"text-left",children:e?"الوصف":"Description"}),r.jsx(Re,{className:e?"text-right":"text-left",children:e?"الصفحة":"Page"}),r.jsx(Re,{className:e?"text-right":"text-left",children:e?"الترجمات":"Localizations"}),r.jsx(Re,{className:e?"text-right":"text-left",children:e?"الحالة":"Status"}),r.jsx(Re,{className:e?"text-right":"text-left",children:e?"تاريخ الإنشاء":"Created Date"}),r.jsx(Re,{className:"text-center",children:e?"الإجراءات":"Actions"})]})}),r.jsx(Mn,{children:E?r.jsx(Xe,{className:e?"text-right":"text-left",children:r.jsx(xe,{colSpan:7,className:"text-center py-8",children:r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"}),r.jsx("span",{className:e?"mr-2":"ml-2",children:e?"جاري التحميل...":"Loading..."})]})})}):V?r.jsx(Xe,{className:e?"text-right":"text-left",children:r.jsx(xe,{colSpan:7,className:"text-center py-8 text-destructive",children:e?"خطأ في تحميل البيانات":"Error loading data"})}):J.length===0?r.jsx(Xe,{className:e?"text-right":"text-left",children:r.jsx(xe,{colSpan:7,className:"text-center py-8 text-muted-foreground",children:e?"لا توجد صلاحيات متاحة":"No permissions available"})}):J.map(te=>r.jsxs(Xe,{className:`hover:bg-muted/50 ${e?"text-right":"text-left"}`,children:[r.jsx(xe,{className:e?"text-right":"text-left",children:r.jsxs("div",{className:`flex items-center gap-3 ${e?" text-right":"flex-row"}`,children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-primary flex items-center justify-center",children:r.jsx(eo,{className:"h-4 w-4 text-primary-foreground"})}),r.jsx("div",{children:r.jsx("p",{className:"font-medium text-sm",children:te.name})})]})}),r.jsx(xe,{className:e?"text-right":"text-left",children:r.jsx("div",{className:"max-w-xs",children:r.jsx("p",{className:"text-sm truncate",title:te.description,children:te.description||(e?"لا يوجد وصف":"No description")})})}),r.jsx(xe,{className:e?"text-right":"text-left",children:r.jsx("div",{className:"max-w-xs",children:r.jsx("p",{className:"text-sm truncate",title:te.page,children:te.page||(e?"لا توجد صفحة":"No page")})})}),r.jsx(xe,{className:e?"text-right":"text-left",children:r.jsxs("div",{className:`flex flex-wrap gap-1 ${e?"text-right justify-start":"justify-start"}`,children:[te.localizations.map(Ne=>{var pe;return r.jsxs(Me,{variant:"outline",className:"text-xs",children:[r.jsx($e,{className:`h-3 w-3 ${e?"ml-1":"mr-1"}`}),(pe=Ne.language)==null?void 0:pe.code]},Ne.id)}),te.localizations.length===0&&r.jsx("span",{className:"text-xs text-muted-foreground",children:e?"لا توجد ترجمات":"No translations"})]})}),r.jsx(xe,{className:e?"text-right":"text-left",children:je(te.isActive)}),r.jsx(xe,{className:`text-muted-foreground ${e?"text-right":"text-left"}`,children:Ze(te.createdAt)}),r.jsx(xe,{className:"text-center",children:r.jsxs(Ut,{children:[r.jsx(Vt,{asChild:!0,children:r.jsx(B,{variant:"ghost",className:"h-8 w-8 p-0",children:r.jsx(bn,{className:"h-4 w-4"})})}),r.jsxs(Ft,{align:e?"start":"end",children:[r.jsxs(ke,{className:`flex items-center gap-2 ${e?"flex-row-reverse":"flex-row"}`,onClick:()=>ze(te),children:[r.jsx(Fr,{className:"h-4 w-4"}),e?"عرض التفاصيل":"View Details"]}),r.jsxs(ke,{className:`flex items-center gap-2 ${e?"flex-row-reverse":"flex-row"}`,onClick:()=>Ae(te),children:[r.jsx(tr,{className:"h-4 w-4"}),e?"تحرير":"Edit"]}),r.jsxs(ke,{className:`flex items-center gap-2 ${e?"flex-row-reverse":"flex-row"}`,onClick:()=>ce.mutate(te.id),children:[r.jsx(Cs,{className:"h-4 w-4"}),e?"تغيير الحالة":"Toggle Status"]}),r.jsxs(ke,{className:`flex items-center gap-2 text-destructive ${e?"flex-row-reverse":"flex-row"}`,onClick:()=>G.mutate(te.id),children:[r.jsx(xt,{className:"h-4 w-4"}),e?"حذف":"Delete"]})]})]})})]},te.id))})]}),$&&$.totalPages>1&&r.jsxs("div",{className:"flex items-center justify-between mt-6",children:[r.jsx("div",{className:"text-sm text-muted-foreground",children:e?`عرض ${($.page-1)*$.pageSize+1} إلى ${Math.min($.page*$.pageSize,$.totalCount)} من ${$.totalCount}`:`Showing ${($.page-1)*$.pageSize+1} to ${Math.min($.page*$.pageSize,$.totalCount)} of ${$.totalCount}`}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(B,{variant:"outline",size:"sm",onClick:()=>j(te=>Math.max(te-1,1)),disabled:!$.hasPreviousPage,children:e?r.jsx(Nt,{className:"h-4 w-4"}):r.jsx(At,{className:"h-4 w-4"})}),r.jsx("span",{className:"text-sm font-medium",children:e?`${$.page} من ${$.totalPages}`:`${$.page} of ${$.totalPages}`}),r.jsx(B,{variant:"outline",size:"sm",onClick:()=>j(te=>te+1),disabled:!$.hasNextPage,children:e?r.jsx(At,{className:"h-4 w-4"}):r.jsx(Nt,{className:"h-4 w-4"})})]})]})]})]}),r.jsx(Mt,{open:o,onOpenChange:l,children:r.jsxs(Et,{className:"sm:max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Tt,{children:[r.jsx(Ot,{children:e?"إضافة صلاحية جديدة":"Add New Permission"}),r.jsx($t,{children:e?"أدخل معلومات الصلاحية الجديدة وترجماتها":"Enter the details for the new permission and its translations"})]}),r.jsx(Kt,{...k,children:r.jsxs("form",{onSubmit:k.handleSubmit(Se),className:"space-y-4",children:[r.jsx(ae,{control:k.control,name:"name",rules:{required:e?"اسم الصلاحية مطلوب":"Permission name is required"},render:({field:te})=>r.jsxs(ne,{children:[r.jsx(re,{children:e?"اسم الصلاحية":"Permission Name"}),r.jsx(se,{children:r.jsx(Oe,{placeholder:e?"مثال: قراءة المنتجات":"e.g., Read Products",...te})}),r.jsx(fe,{})]})}),r.jsx(ae,{control:k.control,name:"description",render:({field:te})=>r.jsxs(ne,{children:[r.jsx(re,{children:e?"وصف الصلاحية":"Permission Description"}),r.jsx(se,{children:r.jsx(Pt,{placeholder:e?"وصف الصلاحية ووظائفها":"Permission description and functions",...te})}),r.jsx(fe,{})]})}),r.jsx(ae,{control:k.control,name:"page",rules:{required:e?"صفحة الصلاحية مطلوبة":"Permission page is required"},render:({field:te})=>r.jsxs(ne,{children:[r.jsx(re,{children:e?"صفحة الصلاحية":"Permission Page"}),r.jsx(se,{children:r.jsx(Oe,{placeholder:e?"مثال: Dashboard":"e.g., Dashboard",...te})}),r.jsx(fe,{})]})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h4",{className:"text-sm font-medium",children:e?"الترجمات":"Localizations"}),r.jsxs(B,{type:"button",variant:"outline",size:"sm",onClick:()=>Fe(!1),children:[r.jsx(ot,{className:"h-4 w-4"}),e?"إضافة ترجمة":"Add Translation"]})]}),O.map((te,Ne)=>r.jsxs(Y,{className:"p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h5",{className:"text-sm font-medium",children:e?`الترجمة ${Ne+1}`:`Translation ${Ne+1}`}),r.jsx(B,{type:"button",variant:"ghost",size:"sm",onClick:()=>z(Ne),children:r.jsx(xt,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(ae,{control:k.control,name:`localizations.${Ne}.languageId`,rules:{required:e?"اللغة مطلوبة":"Language is required"},render:({field:pe})=>{var oe;return r.jsxs(ne,{children:[r.jsx(re,{children:e?"اللغة":"Language"}),r.jsxs(ut,{onValueChange:Be=>pe.onChange(parseInt(Be)),value:(oe=pe.value)==null?void 0:oe.toString(),children:[r.jsx(se,{children:r.jsx(ct,{children:r.jsx(mt,{placeholder:e?"اختر اللغة":"Select Language"})})}),r.jsx(dt,{children:U==null?void 0:U.map(Be=>r.jsx(Ye,{value:Be.id.toString(),children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx($e,{className:"h-4 w-4"}),Be.name," (",Be.code,")"]})},Be.id))})]}),r.jsx(fe,{})]})}}),r.jsx(ae,{control:k.control,name:`localizations.${Ne}.name`,rules:{required:e?"اسم الصلاحية مطلوب":"Permission name is required"},render:({field:pe})=>r.jsxs(ne,{children:[r.jsx(re,{children:e?"اسم الصلاحية":"Permission Name"}),r.jsx(se,{children:r.jsx(Oe,{placeholder:e?"اسم الصلاحية بهذه اللغة":"Permission name in this language",...pe})}),r.jsx(fe,{})]})}),r.jsx(ae,{control:k.control,name:`localizations.${Ne}.description`,render:({field:pe})=>r.jsxs(ne,{children:[r.jsx(re,{children:e?"الوصف":"Description"}),r.jsx(se,{children:r.jsx(Pt,{placeholder:e?"وصف الصلاحية":"Permission description",...pe})}),r.jsx(fe,{})]})})]})]},te.id))]}),r.jsxs(Lt,{children:[r.jsx(B,{type:"button",variant:"outline",onClick:()=>l(!1),children:e?"إلغاء":"Cancel"}),r.jsx(B,{type:"submit",className:"gradient-primary",children:e?"إنشاء":"Create"})]})]})})]})}),r.jsx(Mt,{open:d,onOpenChange:u,children:r.jsxs(Et,{className:"sm:max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Tt,{children:[r.jsx(Ot,{children:e?"تحرير الصلاحية":"Edit Permission"}),r.jsx($t,{children:e?"قم بتحديث معلومات الصلاحية وترجماتها":"Update the permission details and translations"})]}),r.jsx(Kt,{...T,children:r.jsxs("form",{onSubmit:T.handleSubmit(We),className:"space-y-4",children:[r.jsx(ae,{control:T.control,name:"name",rules:{required:e?"اسم الصلاحية مطلوب":"Permission name is required"},render:({field:te})=>r.jsxs(ne,{children:[r.jsx(re,{children:e?"اسم الصلاحية":"Permission Name"}),r.jsx(se,{children:r.jsx(Oe,{...te})}),r.jsx(fe,{})]})}),r.jsx(ae,{control:T.control,name:"description",render:({field:te})=>r.jsxs(ne,{children:[r.jsx(re,{children:e?"وصف الصلاحية":"Permission Description"}),r.jsx(se,{children:r.jsx(Pt,{...te})}),r.jsx(fe,{})]})}),r.jsx(ae,{control:T.control,name:"page",rules:{required:e?"صفحة الصلاحية مطلوبة":"Permission page is required"},render:({field:te})=>r.jsxs(ne,{children:[r.jsx(re,{children:e?"صفحة الصلاحية":"Permission Page"}),r.jsx(se,{children:r.jsx(Oe,{...te})}),r.jsx(fe,{})]})}),r.jsx(ae,{control:T.control,name:"isActive",render:({field:te})=>r.jsxs(ne,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[r.jsxs("div",{className:"space-y-0.5",children:[r.jsx(re,{className:"text-base",children:e?"الصلاحية نشطة":"Active Permission"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:e?"تفعيل أو إلغاء تفعيل الصلاحية":"Enable or disable this permission"})]}),r.jsx(se,{children:r.jsx(Ct,{checked:te.value,onCheckedChange:te.onChange})})]})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h4",{className:"text-sm font-medium",children:e?"الترجمات":"Localizations"}),r.jsxs(B,{type:"button",variant:"outline",size:"sm",onClick:()=>Fe(!0),children:[r.jsx(ot,{className:"h-4 w-4"}),e?"إضافة ترجمة":"Add Translation"]})]}),F.map((te,Ne)=>r.jsxs(Y,{className:"p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h5",{className:"text-sm font-medium",children:e?`الترجمة ${Ne+1}`:`Translation ${Ne+1}`}),r.jsx(B,{type:"button",variant:"ghost",size:"sm",onClick:()=>D(Ne),children:r.jsx(xt,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(ae,{control:T.control,name:`localizations.${Ne}.languageId`,rules:{required:e?"اللغة مطلوبة":"Language is required"},render:({field:pe})=>{var oe;return r.jsxs(ne,{children:[r.jsx(re,{children:e?"اللغة":"Language"}),r.jsxs(ut,{onValueChange:Be=>pe.onChange(parseInt(Be)),value:(oe=pe.value)==null?void 0:oe.toString(),children:[r.jsx(se,{children:r.jsx(ct,{children:r.jsx(mt,{placeholder:e?"اختر اللغة":"Select Language"})})}),r.jsx(dt,{children:U==null?void 0:U.map(Be=>r.jsx(Ye,{value:Be.id.toString(),children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx($e,{className:"h-4 w-4"}),Be.name," (",Be.code,")"]})},Be.id))})]}),r.jsx(fe,{})]})}}),r.jsx(ae,{control:T.control,name:`localizations.${Ne}.name`,rules:{required:e?"اسم الصلاحية مطلوب":"Permission name is required"},render:({field:pe})=>r.jsxs(ne,{children:[r.jsx(re,{children:e?"اسم الصلاحية":"Permission Name"}),r.jsx(se,{children:r.jsx(Oe,{...pe})}),r.jsx(fe,{})]})}),r.jsx(ae,{control:T.control,name:`localizations.${Ne}.description`,render:({field:pe})=>r.jsxs(ne,{children:[r.jsx(re,{children:e?"الوصف":"Description"}),r.jsx(se,{children:r.jsx(Pt,{...pe})}),r.jsx(fe,{})]})})]})]},te.id))]}),r.jsxs(Lt,{children:[r.jsx(B,{type:"button",variant:"outline",onClick:()=>u(!1),children:e?"إلغاء":"Cancel"}),r.jsx(B,{type:"submit",className:"gradient-primary",children:e?"حفظ التغييرات":"Save Changes"})]})]})})]})}),r.jsx(Mt,{open:h,onOpenChange:m,children:r.jsxs(Et,{className:"sm:max-w-3xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Tt,{children:[r.jsxs(Ot,{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-primary flex items-center justify-center",children:r.jsx(eo,{className:"h-5 w-5 text-primary-foreground"})}),e?"تفاصيل الصلاحية":"Permission Details"]}),r.jsx($t,{children:e?"عرض شامل لمعلومات الصلاحية وترجماتها":"Comprehensive view of permission information and translations"})]}),y&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs(Y,{className:"border-0 shadow-sm",children:[r.jsx(Pe,{className:"pb-3",children:r.jsxs(Ie,{className:"text-lg flex items-center gap-2",children:[r.jsx(eo,{className:"h-5 w-5 text-primary"}),e?"المعلومات الأساسية":"Basic Information"]})}),r.jsxs(ee,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:e?"اسم الصلاحية":"Permission Name"}),r.jsx("div",{className:"p-3 bg-muted/50 rounded-lg",children:r.jsx("span",{className:"text-sm font-medium",children:y.name})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:e?"صفحة الصلاحية":"Permission Page"}),r.jsx("div",{className:"p-3 bg-muted/50 rounded-lg",children:r.jsx("span",{className:"text-sm font-medium",children:y.page})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:e?"الحالة":"Status"}),r.jsx("div",{className:"p-3",children:je(y.isActive)})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:e?"تاريخ الإنشاء":"Created Date"}),r.jsx("div",{className:"p-3 bg-muted/50 rounded-lg",children:r.jsx("span",{className:"text-sm",children:Ze(y.createdAt)})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:e?"تاريخ التحديث":"Last Modified"}),r.jsx("div",{className:"p-3 bg-muted/50 rounded-lg",children:r.jsx("span",{className:"text-sm",children:Ze(y.updatedAt)})})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:e?"وصف الصلاحية":"Permission Description"}),r.jsx("div",{className:"p-4 bg-muted/50 rounded-lg",children:r.jsx("p",{className:"text-sm leading-relaxed",children:y.description||(e?"لا يوجد وصف":"No description")})})]})]})]}),r.jsxs(Y,{className:"border-0 shadow-sm",children:[r.jsx(Pe,{className:"pb-3",children:r.jsxs(Ie,{className:"text-lg flex items-center gap-2",children:[r.jsx($e,{className:"h-5 w-5 text-primary"}),e?"الترجمات":"Localizations",r.jsx(Me,{variant:"secondary",className:"ml-2",children:y.localizations.length})]})}),r.jsx(ee,{children:y.localizations.length===0?r.jsxs("div",{className:"text-center py-8",children:[r.jsx($e,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4 opacity-50"}),r.jsx("p",{className:"text-muted-foreground",children:e?"لا توجد ترجمات متاحة لهذه الصلاحية":"No translations available for this permission"})]}):r.jsx("div",{className:"space-y-4",children:y.localizations.map((te,Ne)=>{var pe,oe;return r.jsx(Y,{className:"border border-border/50",children:r.jsx(ee,{className:"p-4",children:r.jsxs("div",{className:"space-y-3",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center",children:r.jsx($e,{className:"h-4 w-4 text-primary"})}),r.jsxs("div",{children:[r.jsxs("h4",{className:"font-medium text-sm",children:[(pe=te.language)==null?void 0:pe.name," (",(oe=te.language)==null?void 0:oe.code,")"]}),r.jsx("p",{className:"text-xs text-muted-foreground",children:e?`الترجمة ${Ne+1}`:`Translation ${Ne+1}`})]})]})}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:e?"اسم الصلاحية":"Permission Name"}),r.jsx("div",{className:"p-3 bg-muted/30 rounded-lg",children:r.jsx("p",{className:"text-sm leading-relaxed",children:te.name})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:e?"وصف الصلاحية":"Permission Description"}),r.jsx("div",{className:"p-3 bg-muted/30 rounded-lg",children:r.jsx("p",{className:"text-sm leading-relaxed",children:te.description||(e?"لا يوجد وصف":"No description")})})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-2 border-t border-border/30",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:e?"تاريخ الإنشاء":"Created"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:Ze(te.createdAt)})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:e?"تاريخ التحديث":"Updated"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:Ze(te.updatedAt)})]})]})]})})},te.id)})})})]}),r.jsxs(Y,{className:"border-0 shadow-sm",children:[r.jsx(Pe,{className:"pb-3",children:r.jsxs(Ie,{className:"text-lg flex items-center gap-2",children:[r.jsx(Or,{className:"h-5 w-5 text-primary"}),e?"إحصائيات الصلاحية":"Permission Statistics"]})}),r.jsx(ee,{children:r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"text-center p-4 bg-muted/30 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-primary mb-1",children:y.localizations.length}),r.jsx("div",{className:"text-xs text-muted-foreground",children:e?"إجمالي الترجمات":"Total Translations"})]}),r.jsxs("div",{className:"text-center p-4 bg-muted/30 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600 mb-1",children:y.name.length}),r.jsx("div",{className:"text-xs text-muted-foreground",children:e?"طول الاسم":"Name Length"})]}),r.jsxs("div",{className:"text-center p-4 bg-muted/30 rounded-lg col-span-2 md:col-span-1",children:[r.jsx("div",{className:"text-2xl font-bold text-purple-600 mb-1",children:((K=y.description)==null?void 0:K.length)||0}),r.jsx("div",{className:"text-xs text-muted-foreground",children:e?"طول الوصف":"Description Length"})]})]})})]})]}),r.jsxs(Lt,{children:[r.jsx(B,{type:"button",variant:"outline",onClick:()=>{m(!1),x(null)},children:e?"إغلاق":"Close"}),r.jsxs(B,{type:"button",className:"gradient-primary",onClick:()=>{y&&(Ae(y),m(!1),x(null))},children:[r.jsx(tr,{className:"h-4 w-4 mr-2"}),e?"تحرير الصلاحية":"Edit Permission"]})]})]})}),Q&&Q.length>0&&r.jsx(ote,{isOpen:S,onOpenChange:C,missingPermissionIds:Q})]})})};class cte{constructor(){ge(this,"baseUrl","/api/currencies");ge(this,"request",async(t,n={})=>{const s=`${this.baseUrl}${t}`,a={headers:{"Content-Type":"application/json",...n.headers},...n};try{const i=await fetch(s,a);if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);return await i.json()}catch(i){throw console.error("Currency API Request Error:",i),i}});ge(this,"getCurrencies",async(t={})=>{const n=new URLSearchParams;t.page&&n.append("page",t.page.toString()),t.pageSize&&n.append("pageSize",t.pageSize.toString()),t.activeOnly!==void 0&&n.append("activeOnly",t.activeOnly.toString());const s=n.toString()?`?${n}`:"",a=await this.request(s);if(!a.success)throw new Error(a.message||"Failed to fetch currencies");if(!a.data)throw new Error("No data returned from server");return a.data});ge(this,"getCurrencyById",async t=>{const n=await this.request(`/${t}`);if(!n.success)throw new Error(n.message||"Failed to fetch currency");return n.data||null});ge(this,"getCurrencyByName",async t=>{const n=await this.request(`/name/${encodeURIComponent(t)}`);if(!n.success)throw new Error(n.message||"Failed to fetch currency");return n.data||null});ge(this,"getCurrencyByCode",async t=>{const n=await this.request(`/code/${encodeURIComponent(t)}`);if(!n.success)throw new Error(n.message||"Failed to fetch currency");return n.data||null});ge(this,"getCurrenciesDropdown",async(t=!0)=>{const n=new URLSearchParams;n.append("activeOnly",t.toString());const s=`/dropdown?${n.toString()}`,a=await this.request(s);if(!a.success)throw new Error(a.message||"Failed to fetch currencies dropdown");if(!a.data)throw new Error("No data returned from server");return a.data});ge(this,"createCurrency",async t=>{const n=await this.request("",{method:"POST",body:JSON.stringify(t)});if(!n.success)throw new Error(n.message||"Failed to create currency");if(!n.data)throw new Error("No data returned from server");return n.data});ge(this,"updateCurrency",async(t,n)=>{const s=await this.request(`/${t}`,{method:"PUT",body:JSON.stringify(n)});if(!s.success)throw new Error(s.message||"Failed to update currency");return s.data||null});ge(this,"toggleCurrencyActivation",async t=>{const n=await this.request(`/${t}/toggle-activation`,{method:"PUT"});if(!n.success)throw new Error(n.message||"Failed to toggle currency activation")});ge(this,"deleteCurrency",async t=>{const n=await this.request(`/${t}`,{method:"DELETE"});if(!n.success)throw new Error(n.message||"Failed to delete currency")});ge(this,"getCurrenciesMissingTranslations",async()=>{const t=await this.request("/missing-translations");if(!t.success)throw new Error(t.message||"Failed to fetch currencies missing translations");if(!t.data)throw new Error("No data returned from server");return t.data})}}const Hi=new cte,dte=({missingCount:e,onApplyTranslations:t,onDismiss:n,className:s=""})=>{const{isRTL:a}=rt();return e<1?null:r.jsxs(wn,{className:`
        relative border-amber-200 bg-gradient-to-r from-amber-50 to-orange-50 
        dark:from-amber-950/20 dark:to-orange-950/20 dark:border-amber-800
        shadow-lg backdrop-blur-sm transition-all duration-300 hover:shadow-xl
        rounded-xl p-4 sm:p-6 overflow-hidden
        ${s}
      `,children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start gap-3 sm:gap-4",children:[r.jsxs("div",{className:"flex items-start gap-3 sm:gap-4 flex-shrink-0",children:[r.jsx("div",{className:"flex-shrink-0 mt-0.5 sm:mt-1",children:r.jsxs("div",{className:"relative",children:[r.jsx(Bl,{className:"h-5 w-5 sm:h-6 sm:w-6 text-amber-600 dark:text-amber-400 animate-pulse"}),r.jsx("div",{className:"absolute -top-1 -right-1 w-2.5 h-2.5 sm:w-3 sm:h-3 bg-amber-500 rounded-full animate-ping"})]})}),r.jsx("div",{className:"flex-1 sm:hidden",children:r.jsxs("div",{className:"flex items-center justify-between gap-3 mb-2",children:[r.jsxs(Tn,{className:"text-amber-800 dark:text-amber-200 font-semibold text-base sm:text-lg flex items-center gap-2",children:[r.jsx(Ji,{className:"h-4 w-4"}),a?"ترجمات العملات مفقودة":"Missing Currency Translations"]}),r.jsxs(Me,{variant:"secondary",className:"bg-amber-100 text-amber-800 border-amber-300 dark:bg-amber-900/30 dark:text-amber-200 dark:border-amber-700 font-medium px-2 py-1 text-xs",children:[r.jsx($e,{className:"h-3 w-3 mr-1"}),e]})]})})]}),r.jsxs("div",{className:"flex-1 space-y-3 sm:space-y-4 min-w-0",children:[r.jsx("div",{className:"hidden sm:block space-y-2",children:r.jsxs(Tn,{className:"text-amber-800 dark:text-amber-200 font-semibold text-base sm:text-lg flex items-center gap-2",children:[r.jsx(Ji,{className:"h-4 w-4 sm:h-5 sm:w-5"}),a?"ترجمات العملات مفقودة":"Missing Currency Translations"]})}),r.jsx(Nn,{className:"text-amber-700 dark:text-amber-300 text-sm sm:text-base leading-relaxed",children:a?`يوجد ${e} عملة${e>1?" عملات":""} تحتاج إلى ترجمات. قم بإضافة الترجمات المفقودة لتحسين تجربة المستخدم متعدد اللغات.`:`There ${e===1?"is":"are"} ${e} currency${e===1?"":"ies"} missing translations. Add missing translations to improve multilingual user experience.`}),r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4 pt-1 sm:pt-2",children:[r.jsxs("div",{className:"hidden sm:flex items-center gap-3",children:[r.jsxs(Me,{variant:"secondary",className:"bg-amber-100 text-amber-800 border-amber-300 dark:bg-amber-900/30 dark:text-amber-200 dark:border-amber-700 font-medium px-3 py-1.5",children:[r.jsx($e,{className:"h-3 w-3 mr-1"}),e," ",a?"عملة":"currencies"]}),r.jsxs("div",{className:"flex items-center gap-2 text-xs text-amber-600 dark:text-amber-400",children:[r.jsx(yn,{className:"h-3 w-3"}),a?"تحتاج ترجمة":"Need translation"]})]}),r.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-2 sm:gap-3",children:[r.jsxs("div",{className:"sm:hidden flex items-center gap-2 text-xs text-amber-600 dark:text-amber-400",children:[r.jsx(yn,{className:"h-3 w-3"}),a?"تحتاج ترجمة":"Need translation"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[n&&r.jsx(B,{variant:"ghost",size:"sm",onClick:n,className:"text-amber-600 hover:text-amber-700 hover:bg-amber-100/50 dark:text-amber-400 dark:hover:text-amber-300 dark:hover:bg-amber-900/20 h-8 w-8 sm:h-9 sm:w-9 p-0",children:r.jsx(un,{className:"h-4 w-4"})}),t&&r.jsxs(B,{onClick:t,size:"sm",className:`\r
                      bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-600 hover:to-orange-600\r
                      text-white shadow-md hover:shadow-lg transition-all duration-200\r
                      border-0 font-medium px-3 py-2 sm:px-4 text-xs sm:text-sm h-8 sm:h-9\r
                      min-w-0 flex-shrink-0\r
                    `,children:[r.jsx(qt,{className:`h-3 w-3 sm:h-4 sm:w-4 ${a?"ml-1 sm:ml-2":"mr-1 sm:mr-2"}`}),r.jsx("span",{className:"hidden xs:inline",children:a?"إضافة الترجمات":"Apply Translations"}),r.jsx("span",{className:"xs:hidden",children:a?"إضافة":"Apply"}),a?r.jsx(Gt,{className:"h-3 w-3 sm:h-4 sm:w-4 ml-1 sm:ml-2"}):r.jsx(Rl,{className:"h-3 w-3 sm:h-4 sm:w-4 ml-1 sm:ml-2"})]})]})]})]})]})]}),r.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 sm:w-32 sm:h-32 bg-gradient-to-bl from-amber-200/20 to-transparent rounded-full -translate-y-10 translate-x-10 sm:-translate-y-16 sm:translate-x-16 pointer-events-none"}),r.jsx("div",{className:"absolute bottom-0 left-0 w-16 h-16 sm:w-24 sm:h-24 bg-gradient-to-tr from-orange-200/20 to-transparent rounded-full translate-y-8 -translate-x-8 sm:translate-y-12 sm:-translate-x-12 pointer-events-none"})]})},ute=({isOpen:e,onOpenChange:t,missingCurrencyIds:n})=>{var F,Z;const{isRTL:s}=rt(),a=rr(),[i,o]=N.useState(0),[l,d]=N.useState(new Set),u=n[i],h=n.length,m=Math.round((i+1)/h*100),p=Wt({defaultValues:{name:"",code:"",symbol:"",isActive:!0,localizations:[]}}),{fields:g,append:y,remove:x,replace:v}=Qt({control:p.control,name:"localizations"}),{data:j,isLoading:b}=qe({queryKey:["currency",u],queryFn:async()=>(await Hi.getCurrencies({pageSize:1e3})).items.find($=>$.id===u),enabled:!!u&&e}),{data:S}=qe({queryKey:["languages-dropdown"],queryFn:()=>ir.getLanguagesDropdown(),enabled:e}),C=it({mutationFn:({id:D,data:$})=>Hi.updateCurrency(D,$),onSuccess:D=>{a.invalidateQueries({queryKey:["currencies"]}),a.invalidateQueries({queryKey:["currencies-all"]}),a.invalidateQueries({queryKey:["currencies-missing-translations"]}),d($=>new Set([...$,u])),be.success(s?"تم حفظ الترجمات بنجاح":"Translations saved successfully")},onError:D=>{be.error(D.message||(s?"حدث خطأ أثناء حفظ الترجمات":"Error saving translations"))}});N.useEffect(()=>{var D,$;j&&(p.reset({name:j.name,code:j.code,symbol:j.symbol,isActive:j.isActive,localizations:((D=j.localizations)==null?void 0:D.map(E=>({id:E.id,languageId:E.languageId,name:E.name,code:E.code,symbol:E.symbol})))||[]}),v((($=j.localizations)==null?void 0:$.map(E=>({id:E.id,languageId:E.languageId,name:E.name,code:E.code,symbol:E.symbol})))||[]))},[j,p,v]);const _=()=>{i<h-1&&o(D=>D+1)},A=()=>{i>0&&o(D=>D-1)},k=()=>{d(D=>new Set([...D,u])),i<h-1?_():T()},T=()=>{o(0),d(new Set),t(!1),p.reset()},O=async D=>{u&&C.mutate({id:u,data:D},{onSuccess:()=>{i<h-1?_():(be.success(s?"تم الانتهاء من جميع الترجمات!":"All translations completed!"),T())}})},M=()=>{y({languageId:0,name:"",code:"",symbol:""})},z=D=>{if(!S)return[];const $=g.map(E=>E.languageId).filter(E=>E!==D);return S.filter(E=>!$.includes(E.id))};return e?r.jsx(Mt,{open:e,onOpenChange:t,children:r.jsxs(Et,{className:"w-[95vw] max-w-4xl h-[95vh] sm:h-[90vh] max-h-none overflow-hidden flex flex-col p-0",children:[r.jsxs(Tt,{className:"space-y-3 p-4 sm:p-6 pb-3 sm:pb-4 border-b flex-shrink-0",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-0 sm:justify-between",children:[r.jsxs(Ot,{className:"text-lg sm:text-xl flex items-center gap-2 sm:gap-3 order-1 sm:order-1",children:[r.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 flex items-center justify-center flex-shrink-0",children:r.jsx(qt,{className:"h-4 w-4 sm:h-5 sm:w-5 text-white"})}),r.jsx("span",{className:"text-base sm:text-xl font-semibold leading-tight",children:s?"إضافة ترجمات العملات المفقودة":"Add Missing Currency Translations"})]}),r.jsx(B,{variant:"ghost",size:"sm",onClick:T,className:"text-muted-foreground hover:text-foreground order-2 sm:order-2 self-start sm:self-center h-8 w-8 p-0",children:r.jsx(un,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[r.jsxs("div",{className:"flex flex-col xs:flex-row xs:items-center xs:justify-between gap-2 text-sm",children:[r.jsx("span",{className:"text-muted-foreground text-xs sm:text-sm",children:s?`العملة ${i+1} من ${h}`:`Currency ${i+1} of ${h}`}),r.jsxs(Me,{variant:"outline",className:"text-xs self-start xs:self-center",children:[m,"% ",s?"مكتمل":"Complete"]})]}),r.jsx(va,{value:m,className:"h-1.5 sm:h-2"}),j&&r.jsx(Y,{className:"border-0 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-950/20 dark:to-purple-950/20",children:r.jsx(ee,{className:"p-3 sm:p-4",children:r.jsxs("div",{className:"flex items-start sm:items-center gap-3",children:[r.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 rounded-full bg-gradient-primary flex items-center justify-center flex-shrink-0",children:r.jsx(Ji,{className:"h-3 w-3 sm:h-4 sm:w-4 text-primary-foreground"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"font-medium text-xs sm:text-sm truncate",children:j.name}),r.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:[j.code," • ",j.symbol]})]}),r.jsxs(Me,{variant:"secondary",className:"text-xs flex-shrink-0",children:[r.jsxs("span",{className:"hidden xs:inline",children:[((F=j.localizations)==null?void 0:F.length)||0," ",s?"ترجمة":"translations"]}),r.jsx("span",{className:"xs:hidden",children:((Z=j.localizations)==null?void 0:Z.length)||0})]})]})})})]}),r.jsxs($t,{className:"flex items-start gap-2 text-xs sm:text-sm",children:[r.jsx(zl,{className:"h-3 w-3 sm:h-4 sm:w-4 text-amber-500 flex-shrink-0 mt-0.5"}),r.jsx("span",{className:"leading-relaxed",children:s?"أضف ترجمات العملات للغات مختلفة لتحسين تجربة المستخدم متعدد اللغات":"Add currency translations in different languages to improve multilingual user experience"})]})]}),r.jsx("div",{className:"flex-1 overflow-y-auto px-4 sm:px-6 py-2 sm:py-4",children:b?r.jsx("div",{className:"flex items-center justify-center py-8 sm:py-12",children:r.jsxs("div",{className:"text-center space-y-3",children:[r.jsx("div",{className:"animate-spin rounded-full h-6 w-6 sm:h-8 sm:w-8 border-b-2 border-primary mx-auto"}),r.jsx("p",{className:"text-muted-foreground text-sm",children:s?"جاري التحميل...":"Loading..."})]})}):r.jsx(Kt,{...p,children:r.jsx("form",{onSubmit:p.handleSubmit(O),className:"space-y-4 sm:space-y-6",children:r.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[r.jsxs("div",{className:"flex flex-col xs:flex-row xs:items-center xs:justify-between gap-3",children:[r.jsxs("h4",{className:"text-base sm:text-lg font-medium flex items-center gap-2",children:[r.jsx($e,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"}),s?"الترجمات":"Translations"]}),r.jsxs(B,{type:"button",variant:"outline",size:"sm",onClick:M,className:"gradient-border self-start xs:self-center h-8 sm:h-9 px-3 text-xs sm:text-sm",children:[r.jsx(ot,{className:"h-3 w-3 sm:h-4 sm:w-4"}),r.jsx("span",{className:"ml-1 sm:ml-2",children:s?"إضافة ترجمة":"Add Translation"})]})]}),g.length===0&&r.jsx(Y,{className:"border-dashed border-2 border-muted-foreground/20",children:r.jsxs(ee,{className:"py-8 sm:py-12 text-center px-4 sm:px-6",children:[r.jsx($e,{className:"h-8 w-8 sm:h-12 sm:w-12 text-muted-foreground mx-auto mb-3 sm:mb-4 opacity-50"}),r.jsx("h4",{className:"text-base sm:text-lg font-medium text-muted-foreground mb-2",children:s?"لا توجد ترجمات":"No Translations"}),r.jsx("p",{className:"text-muted-foreground text-xs sm:text-sm mb-4 leading-relaxed",children:s?"أضف ترجمات لهذه العملة لتحسين تجربة المستخدم":"Add translations for this currency to improve user experience"}),r.jsxs(B,{type:"button",onClick:M,className:"gradient-primary h-8 sm:h-9 px-3 sm:px-4 text-xs sm:text-sm",children:[r.jsx(ot,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),s?"إضافة أول ترجمة":"Add First Translation"]})]})}),g.map((D,$)=>r.jsxs(Y,{className:"border shadow-sm",children:[r.jsx(Pe,{className:"pb-2 sm:pb-3 px-3 sm:px-6 pt-3 sm:pt-6",children:r.jsxs("div",{className:"flex items-center justify-between gap-2",children:[r.jsxs(Ie,{className:"text-xs sm:text-sm flex items-center gap-2 min-w-0 flex-1",children:[r.jsx("div",{className:"w-5 h-5 sm:w-6 sm:h-6 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:r.jsx(qt,{className:"h-2.5 w-2.5 sm:h-3 sm:w-3 text-primary"})}),r.jsx("span",{className:"truncate",children:s?`الترجمة ${$+1}`:`Translation ${$+1}`})]}),r.jsx(B,{type:"button",variant:"ghost",size:"sm",onClick:()=>x($),className:"text-destructive hover:text-destructive h-7 w-7 sm:h-8 sm:w-8 p-0 flex-shrink-0",children:r.jsx(xt,{className:"h-3 w-3 sm:h-4 sm:w-4"})})]})}),r.jsx(ee,{className:"space-y-3 sm:space-y-4 px-3 sm:px-6 pb-3 sm:pb-6",children:r.jsxs("div",{className:"grid grid-cols-1 gap-3 sm:gap-4",children:[r.jsx(ae,{control:p.control,name:`localizations.${$}.languageId`,rules:{required:s?"اللغة مطلوبة":"Language is required",validate:E=>E===0?s?"يرجى اختيار لغة":"Please select a language":!0},render:({field:E})=>{var V;return r.jsxs(ne,{children:[r.jsx(re,{className:"text-xs sm:text-sm",children:s?"اللغة":"Language"}),r.jsxs(ut,{onValueChange:q=>E.onChange(parseInt(q)),value:(V=E.value)==null?void 0:V.toString(),children:[r.jsx(se,{children:r.jsx(ct,{className:"h-8 sm:h-9 text-xs sm:text-sm",children:r.jsx(mt,{placeholder:s?"اختر اللغة":"Select Language"})})}),r.jsx(dt,{children:z(E.value).map(q=>r.jsx(Ye,{value:q.id.toString(),children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx($e,{className:"h-3 w-3 sm:h-4 sm:w-4"}),r.jsxs("span",{className:"text-xs sm:text-sm",children:[q.name," (",q.code,")"]})]})},q.id))})]}),r.jsx(fe,{className:"text-xs"})]})}}),r.jsx(ae,{control:p.control,name:`localizations.${$}.name`,rules:{required:s?"اسم العملة مطلوب":"Currency name is required"},render:({field:E})=>r.jsxs(ne,{children:[r.jsx(re,{className:"text-xs sm:text-sm",children:s?"اسم العملة":"Currency Name"}),r.jsx(se,{children:r.jsx(Oe,{className:"h-8 sm:h-9 text-xs sm:text-sm",placeholder:s?"اسم العملة بهذه اللغة":"Currency name in this language",...E})}),r.jsx(fe,{className:"text-xs"})]})}),r.jsx(ae,{control:p.control,name:`localizations.${$}.code`,rules:{required:s?"رمز العملة مطلوب":"Currency code is required"},render:({field:E})=>r.jsxs(ne,{children:[r.jsx(re,{className:"text-xs sm:text-sm",children:s?"رمز العملة":"Currency Code"}),r.jsx(se,{children:r.jsx(Oe,{className:"h-8 sm:h-9 text-xs sm:text-sm",placeholder:s?"رمز العملة بهذه اللغة":"Currency code in this language",...E})}),r.jsx(fe,{className:"text-xs"})]})}),r.jsx(ae,{control:p.control,name:`localizations.${$}.symbol`,rules:{required:s?"رمز العملة مطلوب":"Currency symbol is required"},render:({field:E})=>r.jsxs(ne,{children:[r.jsx(re,{className:"text-xs sm:text-sm",children:s?"رمز العملة":"Currency Symbol"}),r.jsx(se,{children:r.jsx(Oe,{className:"h-8 sm:h-9 text-xs sm:text-sm",placeholder:s?"رمز العملة بهذه اللغة":"Currency symbol in this language",...E})}),r.jsx(fe,{className:"text-xs"})]})})]})})]},D.id))]})})})}),r.jsx(Lt,{className:"pt-3 sm:pt-4 px-4 sm:px-6 pb-4 sm:pb-6 border-t space-y-3 sm:space-y-0 flex-shrink-0",children:r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between w-full gap-3",children:[r.jsxs("div",{className:"flex items-center gap-2 order-2 sm:order-1",children:[r.jsxs(B,{type:"button",variant:"outline",size:"sm",onClick:A,disabled:i===0,className:"h-8 sm:h-9 px-2 sm:px-3 text-xs sm:text-sm flex-1 sm:flex-initial",children:[s?r.jsx(Nt,{className:"h-3 w-3 sm:h-4 sm:w-4"}):r.jsx(At,{className:"h-3 w-3 sm:h-4 sm:w-4"}),r.jsx("span",{className:"ml-1 sm:ml-2",children:s?"السابق":"Previous"})]}),r.jsxs(B,{type:"button",variant:"outline",size:"sm",onClick:_,disabled:i>=h-1,className:"h-8 sm:h-9 px-2 sm:px-3 text-xs sm:text-sm flex-1 sm:flex-initial",children:[r.jsx("span",{className:"mr-1 sm:mr-2",children:s?"التالي":"Next"}),s?r.jsx(At,{className:"h-3 w-3 sm:h-4 sm:w-4"}):r.jsx(Nt,{className:"h-3 w-3 sm:h-4 sm:w-4"})]})]}),r.jsxs("div",{className:"flex items-center gap-2 order-1 sm:order-2",children:[r.jsxs(B,{type:"button",variant:"outline",onClick:k,className:"h-8 sm:h-9 px-2 sm:px-3 text-xs sm:text-sm",children:[r.jsx(Fl,{className:"h-3 w-3 sm:h-4 sm:w-4"}),r.jsx("span",{className:"ml-1 sm:ml-2",children:s?"تخطي":"Skip"})]}),r.jsx(B,{type:"button",variant:"outline",onClick:T,className:"h-8 sm:h-9 px-2 sm:px-3 text-xs sm:text-sm hidden xs:inline-flex",children:s?"إغلاق":"Close"}),r.jsxs(B,{type:"submit",className:"gradient-primary h-8 sm:h-9 px-3 sm:px-4 text-xs sm:text-sm font-medium",onClick:p.handleSubmit(O),disabled:C.isPending||b,children:[C.isPending?r.jsx("div",{className:"animate-spin rounded-full h-3 w-3 sm:h-4 sm:w-4 border-b-2 border-white mr-1 sm:mr-2"}):r.jsx(ln,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),r.jsx("span",{className:"hidden xs:inline",children:s?"حفظ وتابع":"Save & Continue"}),r.jsx("span",{className:"xs:hidden",children:s?"حفظ":"Save"})]})]})]})})]})}):null},mte=()=>{const{isRTL:e}=rt();lr();const t=rr(),[n,s]=N.useState(""),[a,i]=N.useState("all"),[o,l]=N.useState(!1),[d,u]=N.useState(!1),[h,m]=N.useState(!1),[p,g]=N.useState(null),[y,x]=N.useState(null),[v,j]=N.useState(1),[b]=N.useState(5),[S,C]=N.useState(!1),[_,A]=N.useState(!1),k=Wt({defaultValues:{name:"",code:"",symbol:"",localizations:[]}}),T=Wt({defaultValues:{name:"",code:"",symbol:"",isActive:!0,localizations:[]}}),{fields:O,append:M,remove:z}=Qt({control:k.control,name:"localizations"}),{fields:F,append:Z,remove:D}=Qt({control:T.control,name:"localizations"}),{data:$,isLoading:E,error:V}=qe({queryKey:["currencies",v,b,a],queryFn:()=>{const K={page:v,pageSize:b};return a==="active"?K.activeOnly=!0:a==="inactive"&&(K.activeOnly=!1),Hi.getCurrencies(K)}}),{data:q}=qe({queryKey:["currencies-all"],queryFn:()=>Hi.getCurrencies({pageSize:1e3})}),{data:U}=qe({queryKey:["languages-dropdown"],queryFn:()=>ir.getLanguagesDropdown()}),{data:Q}=qe({queryKey:["currencies-missing-translations"],queryFn:()=>Hi.getCurrenciesMissingTranslations(),refetchInterval:3e4}),he=it({mutationFn:Hi.createCurrency,onSuccess:()=>{t.invalidateQueries({queryKey:["currencies"]}),t.invalidateQueries({queryKey:["currencies-all"]}),t.invalidateQueries({queryKey:["currencies-missing-translations"]}),be.success(e?"تم إنشاء العملة بنجاح":"Currency created successfully")},onError:K=>{console.error("Error creating currency:",K),be.error(K.message||(e?"حدث خطأ أثناء إنشاء العملة":"Error creating currency"))}}),ue=it({mutationFn:({id:K,data:te})=>Hi.updateCurrency(K,te),onSuccess:()=>{t.invalidateQueries({queryKey:["currencies"]}),t.invalidateQueries({queryKey:["currencies-all"]}),t.invalidateQueries({queryKey:["currencies-missing-translations"]}),be.success(e?"تم تحديث العملة بنجاح":"Currency updated successfully")},onError:K=>{console.error("Error updating currency:",K),be.error(K.message||(e?"حدث خطأ أثناء تحديث العملة":"Error updating currency"))}}),ce=it({mutationFn:Hi.toggleCurrencyActivation,onSuccess:()=>{t.invalidateQueries({queryKey:["currencies"]}),t.invalidateQueries({queryKey:["currencies-all"]}),be.success(e?"تم تحديث حالة العملة":"Currency status updated")},onError:K=>{console.error("Error toggling currency status:",K),be.error(K.message||(e?"حدث خطأ أثناء تحديث حالة العملة":"Error updating currency status"))}}),G=it({mutationFn:Hi.deleteCurrency,onSuccess:()=>{t.invalidateQueries({queryKey:["currencies"]}),t.invalidateQueries({queryKey:["currencies-all"]}),t.invalidateQueries({queryKey:["currencies-missing-translations"]}),be.success(e?"تم حذف العملة بنجاح":"Currency deleted successfully")},onError:K=>{console.error("Error deleting currency:",K),be.error(K.message||(e?"حدث خطأ أثناء حذف العملة":"Error deleting currency"))}}),J=($==null?void 0:$.items.filter(K=>K.name.toLowerCase().includes(n.toLowerCase())||K.code.toLowerCase().includes(n.toLowerCase())||K.symbol.toLowerCase().includes(n.toLowerCase())||K.localizations.some(Ne=>{var pe;return Ne.name.toLowerCase().includes(n.toLowerCase())||Ne.code.toLowerCase().includes(n.toLowerCase())||Ne.symbol.toLowerCase().includes(n.toLowerCase())||((pe=Ne.language)==null?void 0:pe.name.toLowerCase().includes(n.toLowerCase()))||!1})))||[],ye={total:(q==null?void 0:q.totalCount)||0,active:(q==null?void 0:q.items.filter(K=>K.isActive).length)||0,inactive:(q==null?void 0:q.items.filter(K=>!K.isActive).length)||0},Se=async K=>{he.mutate(K,{onSuccess:()=>{l(!1),k.reset({name:"",code:"",symbol:"",localizations:[]})}})},We=async K=>{p&&ue.mutate({id:p.id,data:K},{onSuccess:()=>{u(!1),g(null),T.reset({name:"",code:"",symbol:"",isActive:!0,localizations:[]})}})},Ae=K=>{g(K),T.reset({name:K.name,code:K.code,symbol:K.symbol,isActive:K.isActive,localizations:K.localizations.map(te=>({id:te.id,languageId:te.languageId,name:te.name,code:te.code,symbol:te.symbol}))}),u(!0)},ze=K=>{x(K),m(!0)},Fe=(K=!1)=>{const te=K?{id:0,languageId:0,name:"",code:"",symbol:""}:{languageId:0,name:"",code:"",symbol:""};K?Z(te):M(te)},je=K=>r.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1.5 rounded-full text-xs font-medium transition-all duration-200 ${K?"bg-emerald-100 text-emerald-700 border border-emerald-200 dark:bg-emerald-900/20 dark:text-emerald-400 dark:border-emerald-800":"bg-red-50 text-red-600 border border-red-200 dark:bg-red-900/20 dark:text-red-400 dark:border-red-800"}`,children:[r.jsx("div",{className:`w-2 h-2 rounded-full animate-pulse ${K?"bg-emerald-500 shadow-sm shadow-emerald-500/50":"bg-red-500 shadow-sm shadow-red-500/50"}`}),r.jsx("span",{className:"font-semibold",children:e?K?"نشط":"غير نشط":K?"Active":"Inactive"})]}),Ze=K=>new Date(K).toLocaleDateString(e?"ar-SA":"en-US");return r.jsx(lt,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-foreground",children:e?"إدارة العملات":"Currencies Management"}),r.jsx("p",{className:"text-muted-foreground",children:e?"إدارة العملات وترجماتها":"Manage currencies and their translations"})]}),r.jsxs(B,{className:"gradient-primary flex items-center gap-2",onClick:()=>l(!0),children:[r.jsx(ot,{className:"h-4 w-4"}),e?"إضافة عملة جديدة":"Add New Currency"]})]}),Q&&Q.length>0&&!_&&r.jsx(dte,{missingCount:Q.length,onApplyTranslations:()=>C(!0),onDismiss:()=>A(!0),className:"mb-6"}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[r.jsx(Y,{className:"border-0 shadow-elegant",children:r.jsx(ee,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:e?"إجمالي العملات":"Total Currencies"}),r.jsx("p",{className:"text-2xl font-bold",children:ye.total})]}),r.jsx(Ji,{className:"h-8 w-8 text-primary"})]})})}),r.jsx(Y,{className:"border-0 shadow-elegant",children:r.jsx(ee,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:e?"العملات النشطة":"Active Currencies"}),r.jsx("p",{className:"text-2xl font-bold text-success",children:ye.active})]}),r.jsx(Or,{className:"h-8 w-8 text-success"})]})})}),r.jsx(Y,{className:"border-0 shadow-elegant",children:r.jsx(ee,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:e?"العملات غير النشطة":"Inactive Currencies"}),r.jsx("p",{className:"text-2xl font-bold text-muted-foreground",children:ye.inactive})]}),r.jsx(jn,{className:"h-8 w-8 text-muted-foreground"})]})})})]}),r.jsx(Y,{className:"border-0 shadow-elegant",children:r.jsx(ee,{className:"p-6",children:r.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(Qr,{className:`absolute top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground ${e?"right-3":"left-3"}`}),r.jsx(Oe,{placeholder:e?"البحث في العملات...":"Search currencies...",value:n,onChange:K=>s(K.target.value),className:e?"pr-10 pl-4":"pl-10 pr-4"})]}),r.jsx("div",{className:"flex gap-2",children:r.jsxs(Ut,{children:[r.jsx(Vt,{asChild:!0,children:r.jsxs(B,{variant:"outline",className:"flex items-center gap-2 hover:border-primary/50 hover:bg-primary/5 transition-all duration-200",children:[r.jsx("div",{className:`w-2 h-2 rounded-full ${a==="active"?"bg-emerald-500":a==="inactive"?"bg-red-500":"bg-gradient-to-r from-emerald-500 to-red-500"}`}),e?a==="all"?"جميع الحالات":a==="active"?"نشط":"غير نشط":a==="all"?"All Status":a==="active"?"Active":"Inactive",r.jsx(vn,{className:"h-4 w-4 opacity-50"})]})}),r.jsxs(Ft,{align:"end",className:"w-48",children:[r.jsxs(ke,{onClick:()=>i("all"),className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 rounded-full bg-gradient-to-r from-emerald-500 to-red-500"}),e?"جميع الحالات":"All Status"]}),r.jsxs(ke,{onClick:()=>i("active"),className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500"}),e?"نشط":"Active"]}),r.jsxs(ke,{onClick:()=>i("inactive"),className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500"}),e?"غير نشط":"Inactive"]})]})]})})]})})}),r.jsxs(Y,{className:"border-0 shadow-elegant",children:[r.jsx(Pe,{children:r.jsxs(Ie,{className:"flex items-center gap-2",children:[r.jsx(Ji,{className:"h-5 w-5 text-primary"}),e?`${J.length} عملة`:`${J.length} Currencies`]})}),r.jsxs(ee,{children:[r.jsxs(On,{dir:e?"rtl":"ltr",children:[r.jsx(In,{children:r.jsxs(Xe,{className:e?"text-right":"text-left",children:[r.jsx(Re,{className:e?"text-right":"text-left",children:e?"اسم العملة":"Currency Name"}),r.jsx(Re,{className:e?"text-right":"text-left",children:e?"الرمز":"Code"}),r.jsx(Re,{className:e?"text-right":"text-left",children:e?"الرمز":"Symbol"}),r.jsx(Re,{className:e?"text-right":"text-left",children:e?"الترجمات":"Localizations"}),r.jsx(Re,{className:e?"text-right":"text-left",children:e?"الحالة":"Status"}),r.jsx(Re,{className:e?"text-right":"text-left",children:e?"تاريخ الإنشاء":"Created Date"}),r.jsx(Re,{className:"text-center",children:e?"الإجراءات":"Actions"})]})}),r.jsx(Mn,{children:E?r.jsx(Xe,{className:e?"text-right":"text-left",children:r.jsx(xe,{colSpan:7,className:"text-center py-8",children:r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"}),r.jsx("span",{className:e?"mr-2":"ml-2",children:e?"جاري التحميل...":"Loading..."})]})})}):V?r.jsx(Xe,{className:e?"text-right":"text-left",children:r.jsx(xe,{colSpan:7,className:"text-center py-8 text-destructive",children:e?"خطأ في تحميل البيانات":"Error loading data"})}):J.length===0?r.jsx(Xe,{className:e?"text-right":"text-left",children:r.jsx(xe,{colSpan:7,className:"text-center py-8 text-muted-foreground",children:e?"لا توجد عملات متاحة":"No currencies available"})}):J.map(K=>r.jsxs(Xe,{className:`hover:bg-muted/50 ${e?"text-right":"text-left"}`,children:[r.jsx(xe,{className:e?"text-right":"text-left",children:r.jsxs("div",{className:`flex items-center gap-3 ${e?" text-right":"flex-row"}`,children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-primary flex items-center justify-center",children:r.jsx(Ji,{className:"h-4 w-4 text-primary-foreground"})}),r.jsx("div",{children:r.jsx("p",{className:"font-medium text-sm",children:K.name})})]})}),r.jsx(xe,{className:`text-muted-foreground ${e?"text-right":"text-left"}`,children:r.jsx(Me,{variant:"secondary",className:"text-xs font-mono",children:K.code})}),r.jsx(xe,{className:`text-muted-foreground ${e?"text-right":"text-left"}`,children:r.jsx("span",{className:"text-lg font-semibold",children:K.symbol})}),r.jsx(xe,{className:e?"text-right":"text-left",children:r.jsxs("div",{className:`flex flex-wrap gap-1 ${e?"text-right justify-start":"justify-start"}`,children:[K.localizations.map(te=>{var Ne;return r.jsxs(Me,{variant:"outline",className:"text-xs",children:[r.jsx($e,{className:`h-3 w-3 ${e?"ml-1":"mr-1"}`}),(Ne=te.language)==null?void 0:Ne.code]},te.id)}),K.localizations.length===0&&r.jsx("span",{className:"text-xs text-muted-foreground",children:e?"لا توجد ترجمات":"No translations"})]})}),r.jsx(xe,{className:e?"text-right":"text-left",children:je(K.isActive)}),r.jsx(xe,{className:`text-muted-foreground ${e?"text-right":"text-left"}`,children:Ze(K.createdAt)}),r.jsx(xe,{className:"text-center",children:r.jsxs(Ut,{children:[r.jsx(Vt,{asChild:!0,children:r.jsx(B,{variant:"ghost",className:"h-8 w-8 p-0",children:r.jsx(bn,{className:"h-4 w-4"})})}),r.jsxs(Ft,{align:e?"start":"end",children:[r.jsxs(ke,{className:`flex items-center gap-2 ${e?"flex-row-reverse":"flex-row"}`,onClick:()=>ze(K),children:[r.jsx(Fr,{className:"h-4 w-4"}),e?"عرض التفاصيل":"View Details"]}),r.jsxs(ke,{className:`flex items-center gap-2 ${e?"flex-row-reverse":"flex-row"}`,onClick:()=>Ae(K),children:[r.jsx(tr,{className:"h-4 w-4"}),e?"تحرير":"Edit"]}),r.jsxs(ke,{className:`flex items-center gap-2 ${e?"flex-row-reverse":"flex-row"}`,onClick:()=>ce.mutate(K.id),disabled:ce.isPending,children:[ce.isPending?r.jsx("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}):r.jsx(Cs,{className:"h-4 w-4"}),e?"تغيير الحالة":"Toggle Status"]}),r.jsxs(ke,{className:`flex items-center gap-2 text-destructive ${e?"flex-row-reverse":"flex-row"}`,onClick:()=>G.mutate(K.id),disabled:G.isPending,children:[G.isPending?r.jsx("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}):r.jsx(xt,{className:"h-4 w-4"}),e?"حذف":"Delete"]})]})]})})]},K.id))})]}),$&&$.totalPages>1&&r.jsxs("div",{className:"flex items-center justify-between mt-6",children:[r.jsx("div",{className:"text-sm text-muted-foreground",children:e?`عرض ${($.page-1)*$.pageSize+1} إلى ${Math.min($.page*$.pageSize,$.totalCount)} من ${$.totalCount}`:`Showing ${($.page-1)*$.pageSize+1} to ${Math.min($.page*$.pageSize,$.totalCount)} of ${$.totalCount}`}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(B,{variant:"outline",size:"sm",onClick:()=>j(K=>Math.max(K-1,1)),disabled:!$.hasPreviousPage,children:e?r.jsx(Nt,{className:"h-4 w-4"}):r.jsx(At,{className:"h-4 w-4"})}),r.jsx("span",{className:"text-sm font-medium",children:e?`${$.page} من ${$.totalPages}`:`${$.page} of ${$.totalPages}`}),r.jsx(B,{variant:"outline",size:"sm",onClick:()=>j(K=>K+1),disabled:!$.hasNextPage,children:e?r.jsx(At,{className:"h-4 w-4"}):r.jsx(Nt,{className:"h-4 w-4"})})]})]})]})]}),r.jsx(Mt,{open:o,onOpenChange:K=>{l(K),K||k.reset({name:"",code:"",symbol:"",localizations:[]})},children:r.jsxs(Et,{className:"sm:max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Tt,{children:[r.jsx(Ot,{children:e?"إضافة عملة جديدة":"Add New Currency"}),r.jsx($t,{children:e?"أدخل معلومات العملة الجديدة وترجماتها":"Enter the details for the new currency and its translations"})]}),r.jsx(Kt,{...k,children:r.jsxs("form",{onSubmit:k.handleSubmit(Se),className:"space-y-4",children:[r.jsx(ae,{control:k.control,name:"name",rules:{required:e?"اسم العملة مطلوب":"Currency name is required"},render:({field:K})=>r.jsxs(ne,{children:[r.jsx(re,{children:e?"اسم العملة":"Currency Name"}),r.jsx(se,{children:r.jsx(Oe,{placeholder:e?"مثال: الدولار الأمريكي":"e.g., US Dollar",...K})}),r.jsx(fe,{})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(ae,{control:k.control,name:"code",rules:{required:e?"رمز العملة مطلوب":"Currency code is required"},render:({field:K})=>r.jsxs(ne,{children:[r.jsx(re,{children:e?"رمز العملة":"Currency Code"}),r.jsx(se,{children:r.jsx(Oe,{placeholder:e?"مثال: USD":"e.g., USD",...K})}),r.jsx(fe,{})]})}),r.jsx(ae,{control:k.control,name:"symbol",rules:{required:e?"رمز العملة مطلوب":"Currency symbol is required"},render:({field:K})=>r.jsxs(ne,{children:[r.jsx(re,{children:e?"رمز العملة":"Currency Symbol"}),r.jsx(se,{children:r.jsx(Oe,{placeholder:e?"مثال: $":"e.g., $",...K})}),r.jsx(fe,{})]})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h4",{className:"text-sm font-medium",children:e?"الترجمات":"Localizations"}),r.jsxs(B,{type:"button",variant:"outline",size:"sm",onClick:()=>Fe(!1),children:[r.jsx(ot,{className:"h-4 w-4"}),e?"إضافة ترجمة":"Add Translation"]})]}),O.map((K,te)=>r.jsxs(Y,{className:"p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h5",{className:"text-sm font-medium",children:e?`الترجمة ${te+1}`:`Translation ${te+1}`}),r.jsx(B,{type:"button",variant:"ghost",size:"sm",onClick:()=>z(te),children:r.jsx(xt,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx(ae,{control:k.control,name:`localizations.${te}.languageId`,rules:{required:e?"اللغة مطلوبة":"Language is required"},render:({field:Ne})=>{var pe;return r.jsxs(ne,{children:[r.jsx(re,{children:e?"اللغة":"Language"}),r.jsxs(ut,{onValueChange:oe=>Ne.onChange(parseInt(oe)),value:(pe=Ne.value)==null?void 0:pe.toString(),children:[r.jsx(se,{children:r.jsx(ct,{children:r.jsx(mt,{placeholder:e?"اختر اللغة":"Select Language"})})}),r.jsx(dt,{children:U==null?void 0:U.map(oe=>r.jsx(Ye,{value:oe.id.toString(),children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx($e,{className:"h-4 w-4"}),oe.name," (",oe.code,")"]})},oe.id))})]}),r.jsx(fe,{})]})}}),r.jsx(ae,{control:k.control,name:`localizations.${te}.name`,rules:{required:e?"اسم العملة مطلوب":"Currency name is required"},render:({field:Ne})=>r.jsxs(ne,{children:[r.jsx(re,{children:e?"اسم العملة":"Currency Name"}),r.jsx(se,{children:r.jsx(Oe,{placeholder:e?"اسم العملة بهذه اللغة":"Currency name in this language",...Ne})}),r.jsx(fe,{})]})}),r.jsx(ae,{control:k.control,name:`localizations.${te}.code`,rules:{required:e?"رمز العملة مطلوب":"Currency code is required"},render:({field:Ne})=>r.jsxs(ne,{children:[r.jsx(re,{children:e?"رمز العملة":"Currency Code"}),r.jsx(se,{children:r.jsx(Oe,{placeholder:e?"رمز العملة":"Currency code",...Ne})}),r.jsx(fe,{})]})}),r.jsx(ae,{control:k.control,name:`localizations.${te}.symbol`,rules:{required:e?"رمز العملة مطلوب":"Currency symbol is required"},render:({field:Ne})=>r.jsxs(ne,{children:[r.jsx(re,{children:e?"رمز العملة":"Currency Symbol"}),r.jsx(se,{children:r.jsx(Oe,{placeholder:e?"رمز العملة":"Currency symbol",...Ne})}),r.jsx(fe,{})]})})]})]},K.id))]}),r.jsxs(Lt,{children:[r.jsx(B,{type:"button",variant:"outline",onClick:()=>{l(!1),k.reset({name:"",code:"",symbol:"",localizations:[]})},children:e?"إلغاء":"Cancel"}),r.jsx(B,{type:"submit",className:"gradient-primary",disabled:he.isPending,children:he.isPending?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),e?"جاري الإنشاء...":"Creating..."]}):r.jsx(r.Fragment,{children:e?"إنشاء":"Create"})})]})]})})]})}),r.jsx(Mt,{open:d,onOpenChange:K=>{u(K),K||(g(null),T.reset({name:"",code:"",symbol:"",isActive:!0,localizations:[]}))},children:r.jsxs(Et,{className:"sm:max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Tt,{children:[r.jsx(Ot,{children:e?"تحرير العملة":"Edit Currency"}),r.jsx($t,{children:e?"قم بتحديث معلومات العملة وترجماتها":"Update the currency details and translations"})]}),r.jsx(Kt,{...T,children:r.jsxs("form",{onSubmit:T.handleSubmit(We),className:"space-y-4",children:[r.jsx(ae,{control:T.control,name:"name",rules:{required:e?"اسم العملة مطلوب":"Currency name is required"},render:({field:K})=>r.jsxs(ne,{children:[r.jsx(re,{children:e?"اسم العملة":"Currency Name"}),r.jsx(se,{children:r.jsx(Oe,{...K})}),r.jsx(fe,{})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(ae,{control:T.control,name:"code",rules:{required:e?"رمز العملة مطلوب":"Currency code is required"},render:({field:K})=>r.jsxs(ne,{children:[r.jsx(re,{children:e?"رمز العملة":"Currency Code"}),r.jsx(se,{children:r.jsx(Oe,{...K})}),r.jsx(fe,{})]})}),r.jsx(ae,{control:T.control,name:"symbol",rules:{required:e?"رمز العملة مطلوب":"Currency symbol is required"},render:({field:K})=>r.jsxs(ne,{children:[r.jsx(re,{children:e?"رمز العملة":"Currency Symbol"}),r.jsx(se,{children:r.jsx(Oe,{...K})}),r.jsx(fe,{})]})})]}),r.jsx(ae,{control:T.control,name:"isActive",render:({field:K})=>r.jsxs(ne,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[r.jsxs("div",{className:"space-y-0.5",children:[r.jsx(re,{className:"text-base",children:e?"العملة نشطة":"Active Currency"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:e?"تفعيل أو إلغاء تفعيل العملة":"Enable or disable this currency"})]}),r.jsx(se,{children:r.jsx(Ct,{checked:K.value,onCheckedChange:K.onChange})})]})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h4",{className:"text-sm font-medium",children:e?"الترجمات":"Localizations"}),r.jsxs(B,{type:"button",variant:"outline",size:"sm",onClick:()=>Fe(!0),children:[r.jsx(ot,{className:"h-4 w-4"}),e?"إضافة ترجمة":"Add Translation"]})]}),F.map((K,te)=>r.jsxs(Y,{className:"p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h5",{className:"text-sm font-medium",children:e?`الترجمة ${te+1}`:`Translation ${te+1}`}),r.jsx(B,{type:"button",variant:"ghost",size:"sm",onClick:()=>D(te),children:r.jsx(xt,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx(ae,{control:T.control,name:`localizations.${te}.languageId`,rules:{required:e?"اللغة مطلوبة":"Language is required"},render:({field:Ne})=>{var pe;return r.jsxs(ne,{children:[r.jsx(re,{children:e?"اللغة":"Language"}),r.jsxs(ut,{onValueChange:oe=>Ne.onChange(parseInt(oe)),value:(pe=Ne.value)==null?void 0:pe.toString(),children:[r.jsx(se,{children:r.jsx(ct,{children:r.jsx(mt,{placeholder:e?"اختر اللغة":"Select Language"})})}),r.jsx(dt,{children:U==null?void 0:U.map(oe=>r.jsx(Ye,{value:oe.id.toString(),children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx($e,{className:"h-4 w-4"}),oe.name," (",oe.code,")"]})},oe.id))})]}),r.jsx(fe,{})]})}}),r.jsx(ae,{control:T.control,name:`localizations.${te}.name`,rules:{required:e?"اسم العملة مطلوب":"Currency name is required"},render:({field:Ne})=>r.jsxs(ne,{children:[r.jsx(re,{children:e?"اسم العملة":"Currency Name"}),r.jsx(se,{children:r.jsx(Oe,{...Ne})}),r.jsx(fe,{})]})}),r.jsx(ae,{control:T.control,name:`localizations.${te}.code`,rules:{required:e?"رمز العملة مطلوب":"Currency code is required"},render:({field:Ne})=>r.jsxs(ne,{children:[r.jsx(re,{children:e?"رمز العملة":"Currency Code"}),r.jsx(se,{children:r.jsx(Oe,{...Ne})}),r.jsx(fe,{})]})}),r.jsx(ae,{control:T.control,name:`localizations.${te}.symbol`,rules:{required:e?"رمز العملة مطلوب":"Currency symbol is required"},render:({field:Ne})=>r.jsxs(ne,{children:[r.jsx(re,{children:e?"رمز العملة":"Currency Symbol"}),r.jsx(se,{children:r.jsx(Oe,{...Ne})}),r.jsx(fe,{})]})})]})]},K.id))]}),r.jsxs(Lt,{children:[r.jsx(B,{type:"button",variant:"outline",onClick:()=>{u(!1),g(null),T.reset({name:"",code:"",symbol:"",isActive:!0,localizations:[]})},children:e?"إلغاء":"Cancel"}),r.jsx(B,{type:"submit",className:"gradient-primary",disabled:ue.isPending,children:ue.isPending?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),e?"جاري الحفظ...":"Saving..."]}):r.jsx(r.Fragment,{children:e?"حفظ التغييرات":"Save Changes"})})]})]})})]})}),r.jsx(Mt,{open:h,onOpenChange:m,children:r.jsxs(Et,{className:"sm:max-w-3xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Tt,{children:[r.jsxs(Ot,{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-primary flex items-center justify-center",children:r.jsx(Ji,{className:"h-5 w-5 text-primary-foreground"})}),e?"تفاصيل العملة":"Currency Details"]}),r.jsx($t,{children:e?"عرض شامل لمعلومات العملة وترجماتها":"Comprehensive view of currency information and translations"})]}),y&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs(Y,{className:"border-0 shadow-sm",children:[r.jsx(Pe,{className:"pb-3",children:r.jsxs(Ie,{className:"text-lg flex items-center gap-2",children:[r.jsx(Ji,{className:"h-5 w-5 text-primary"}),e?"المعلومات الأساسية":"Basic Information"]})}),r.jsx(ee,{className:"space-y-4",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:e?"اسم العملة":"Currency Name"}),r.jsx("div",{className:"p-3 bg-muted/50 rounded-lg",children:r.jsx("span",{className:"text-sm font-medium",children:y.name})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:e?"الحالة":"Status"}),r.jsx("div",{className:"p-3",children:je(y.isActive)})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:e?"رمز العملة":"Currency Code"}),r.jsx("div",{className:"p-3 bg-muted/50 rounded-lg",children:r.jsx(Me,{variant:"secondary",className:"font-mono",children:y.code})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:e?"رمز العملة":"Currency Symbol"}),r.jsx("div",{className:"p-3 bg-muted/50 rounded-lg",children:r.jsx("span",{className:"text-lg font-semibold",children:y.symbol})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:e?"تاريخ الإنشاء":"Created Date"}),r.jsx("div",{className:"p-3 bg-muted/50 rounded-lg",children:r.jsx("span",{className:"text-sm",children:Ze(y.createdAt)})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:e?"تاريخ التحديث":"Last Modified"}),r.jsx("div",{className:"p-3 bg-muted/50 rounded-lg",children:r.jsx("span",{className:"text-sm",children:Ze(y.updatedAt)})})]})]})})]}),r.jsxs(Y,{className:"border-0 shadow-sm",children:[r.jsx(Pe,{className:"pb-3",children:r.jsxs(Ie,{className:"text-lg flex items-center gap-2",children:[r.jsx($e,{className:"h-5 w-5 text-primary"}),e?"الترجمات":"Localizations",r.jsx(Me,{variant:"secondary",className:"ml-2",children:y.localizations.length})]})}),r.jsx(ee,{children:y.localizations.length===0?r.jsxs("div",{className:"text-center py-8",children:[r.jsx($e,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4 opacity-50"}),r.jsx("p",{className:"text-muted-foreground",children:e?"لا توجد ترجمات متاحة لهذه العملة":"No translations available for this currency"})]}):r.jsx("div",{className:"space-y-4",children:y.localizations.map((K,te)=>{var Ne,pe;return r.jsx(Y,{className:"border border-border/50",children:r.jsx(ee,{className:"p-4",children:r.jsxs("div",{className:"space-y-3",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center",children:r.jsx($e,{className:"h-4 w-4 text-primary"})}),r.jsxs("div",{children:[r.jsxs("h4",{className:"font-medium text-sm",children:[(Ne=K.language)==null?void 0:Ne.name," (",(pe=K.language)==null?void 0:pe.code,")"]}),r.jsx("p",{className:"text-xs text-muted-foreground",children:e?`الترجمة ${te+1}`:`Translation ${te+1}`})]})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:e?"اسم العملة":"Currency Name"}),r.jsx("div",{className:"p-3 bg-muted/30 rounded-lg",children:r.jsx("p",{className:"text-sm leading-relaxed",children:K.name})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:e?"رمز العملة":"Currency Code"}),r.jsx("div",{className:"p-3 bg-muted/30 rounded-lg",children:r.jsx(Me,{variant:"secondary",className:"font-mono text-xs",children:K.code})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:e?"رمز العملة":"Currency Symbol"}),r.jsx("div",{className:"p-3 bg-muted/30 rounded-lg",children:r.jsx("span",{className:"text-lg font-semibold",children:K.symbol})})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-2 border-t border-border/30",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:e?"تاريخ الإنشاء":"Created"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:Ze(K.createdAt)})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:e?"تاريخ التحديث":"Updated"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:Ze(K.updatedAt)})]})]})]})})},K.id)})})})]}),r.jsxs(Y,{className:"border-0 shadow-sm",children:[r.jsx(Pe,{className:"pb-3",children:r.jsxs(Ie,{className:"text-lg flex items-center gap-2",children:[r.jsx(Or,{className:"h-5 w-5 text-primary"}),e?"إحصائيات العملة":"Currency Statistics"]})}),r.jsx(ee,{children:r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"text-center p-4 bg-muted/30 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-primary mb-1",children:y.localizations.length}),r.jsx("div",{className:"text-xs text-muted-foreground",children:e?"إجمالي الترجمات":"Total Translations"})]}),r.jsxs("div",{className:"text-center p-4 bg-muted/30 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600 mb-1",children:y.name.length}),r.jsx("div",{className:"text-xs text-muted-foreground",children:e?"طول الاسم":"Name Length"})]}),r.jsxs("div",{className:"text-center p-4 bg-muted/30 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-purple-600 mb-1",children:y.code.length}),r.jsx("div",{className:"text-xs text-muted-foreground",children:e?"طول الرمز":"Code Length"})]}),r.jsxs("div",{className:"text-center p-4 bg-muted/30 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-green-600 mb-1",children:y.symbol.length}),r.jsx("div",{className:"text-xs text-muted-foreground",children:e?"طول الرمز":"Symbol Length"})]})]})})]})]}),r.jsxs(Lt,{children:[r.jsx(B,{type:"button",variant:"outline",onClick:()=>{m(!1),x(null)},children:e?"إغلاق":"Close"}),r.jsxs(B,{type:"button",className:"gradient-primary",onClick:()=>{y&&(Ae(y),m(!1),x(null))},children:[r.jsx(tr,{className:"h-4 w-4 mr-2"}),e?"تحرير العملة":"Edit Currency"]})]})]})}),Q&&Q.length>0&&r.jsx(ute,{isOpen:S,onOpenChange:C,missingCurrencyIds:Q})]})})},hte=()=>{const e=lr(),{isRTL:t}=rt(),n=rr(),{data:s=[]}=qe({queryKey:["product-categories","dropdown"],queryFn:()=>Fn.getProductCategoriesDropdown()}),{data:a=[]}=qe({queryKey:["providers","dropdown"],queryFn:()=>Fa.getProvidersDropdown(t?"ar":"en")}),{data:i=[]}=qe({queryKey:["languages","dropdown"],queryFn:()=>ir.getLanguagesDropdown()}),{data:o=[]}=qe({queryKey:["currencies","dropdown"],queryFn:()=>Fa.getCurrenciesDropdown()}),l=it({mutationFn:Fa.createProduct,onSuccess:()=>{n.invalidateQueries({queryKey:["products"]}),be.success("Product created successfully"),e("/products")},onError:S=>{be.error(S.message||"Failed to create product")}}),d=Wt({defaultValues:{name:"",categoryId:0,providerId:0,price:0,quantity:1,currencyId:0,description:"",isActive:!0,localizations:[],mediaUrls:[]}}),{fields:u,append:h,remove:m}=Qt({control:d.control,name:"localizations"}),{fields:p,append:g,remove:y}=Qt({control:d.control,name:"mediaUrls"}),x=async S=>{try{const C={name:S.name,categoryId:S.categoryId,providerId:S.providerId,price:S.price,quantity:S.quantity,currencyId:S.currencyId,description:S.description,isActive:S.isActive,localizeds:S.localizations,mediaUrls:S.mediaUrls.map(_=>_.url).filter(_=>_.trim()!=="")};await l.mutateAsync(C)}catch{}},v=()=>{h({languageId:0,nameLocalized:"",descriptionLocalized:""})},j=()=>{g({url:""})},b=()=>{e("/products")};return r.jsx(lt,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:t?"إضافة منتج جديد":"Add New Product"}),r.jsx("p",{className:"text-muted-foreground",children:t?"إنشاء منتج جديد مع الصور والتفاصيل":"Create a new product with images and details"})]}),r.jsxs(B,{variant:"ghost",size:"sm",onClick:b,className:"gap-2",children:[r.jsx(Gt,{className:"w-4 h-4"}),t?"رجوع":"Back"]})]}),r.jsx(Kt,{...d,children:r.jsxs("form",{onSubmit:d.handleSubmit(x),className:"space-y-6",children:[r.jsxs(Y,{children:[r.jsx(Pe,{children:r.jsxs(Ie,{className:"flex items-center gap-2",children:[r.jsx(Dr,{className:"w-5 h-5"}),t?"المعلومات الأساسية":"Basic Information"]})}),r.jsxs(ee,{className:"space-y-4",children:[r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsx(ae,{control:d.control,name:"name",rules:{required:t?"اسم المنتج مطلوب":"Product name is required"},render:({field:S})=>r.jsxs(ne,{children:[r.jsx(re,{children:t?"اسم المنتج":"Product Name"}),r.jsx(se,{children:r.jsx(Oe,{...S})}),r.jsx(fe,{})]})}),r.jsx(ae,{control:d.control,name:"categoryId",rules:{required:t?"الفئة مطلوبة":"Category is required",validate:S=>S>0||(t?"يرجى اختيار فئة":"Please select a category")},render:({field:S})=>{var C;return r.jsxs(ne,{children:[r.jsx(re,{children:t?"الفئة":"Category"}),r.jsxs(ut,{value:((C=S.value)==null?void 0:C.toString())||"",onValueChange:_=>S.onChange(parseInt(_)),children:[r.jsx(se,{children:r.jsx(ct,{children:r.jsx(mt,{placeholder:t?"اختر الفئة":"Select category"})})}),r.jsx(dt,{children:s.map(_=>r.jsx(Ye,{value:_.id.toString(),children:_.name},_.id))})]}),r.jsx(fe,{})]})}}),r.jsx(ae,{control:d.control,name:"providerId",rules:{required:t?"مقدم الخدمة مطلوب":"Provider is required",validate:S=>S>0||(t?"يرجى اختيار مقدم خدمة":"Please select a provider")},render:({field:S})=>{var C;return r.jsxs(ne,{children:[r.jsx(re,{children:t?"مقدم الخدمة":"Provider"}),r.jsxs(ut,{value:((C=S.value)==null?void 0:C.toString())||"",onValueChange:_=>S.onChange(parseInt(_)),children:[r.jsx(se,{children:r.jsx(ct,{children:r.jsx(mt,{placeholder:t?"اختر مقدم الخدمة":"Select provider"})})}),r.jsx(dt,{children:a.map(_=>r.jsxs(Ye,{value:_.userId.toString(),children:[_.businessName,_.phoneNumber&&r.jsxs("span",{className:"text-muted-foreground ml-2",children:["(",_.phoneNumber,")"]})]},_.userId))})]}),r.jsx(fe,{})]})}}),r.jsx(ae,{control:d.control,name:"price",rules:{required:t?"السعر مطلوب":"Price is required",validate:S=>S>0||(t?"السعر يجب أن يكون أكبر من صفر":"Price must be greater than zero")},render:({field:S})=>r.jsxs(ne,{children:[r.jsxs(re,{className:"flex items-center gap-2",children:[r.jsx(Ep,{className:"w-4 h-4"}),t?"السعر":"Price"]}),r.jsx(se,{children:r.jsx(Oe,{...S,type:"number",step:"0.01",min:"0",onChange:C=>S.onChange(parseFloat(C.target.value)||0)})}),r.jsx(fe,{})]})}),r.jsx(ae,{control:d.control,name:"currencyId",rules:{required:t?"العملة مطلوبة":"Currency is required",validate:S=>S>0||(t?"يرجى اختيار عملة":"Please select a currency")},render:({field:S})=>{var C;return r.jsxs(ne,{children:[r.jsx(re,{children:t?"العملة":"Currency"}),r.jsxs(ut,{value:((C=S.value)==null?void 0:C.toString())||"",onValueChange:_=>S.onChange(parseInt(_)),children:[r.jsx(se,{children:r.jsx(ct,{children:r.jsx(mt,{placeholder:t?"اختر العملة":"Select currency"})})}),r.jsx(dt,{children:o.map(_=>r.jsxs(Ye,{value:_.id.toString(),children:[_.symbol," ",_.code," - ",_.name]},_.id))})]}),r.jsx(fe,{})]})}}),r.jsx(ae,{control:d.control,name:"quantity",rules:{required:t?"الكمية مطلوبة":"Quantity is required",validate:S=>S>0||(t?"الكمية يجب أن تكون أكبر من صفر":"Quantity must be greater than zero")},render:({field:S})=>r.jsxs(ne,{children:[r.jsx(re,{children:t?"الكمية":"Quantity"}),r.jsx(se,{children:r.jsx(Oe,{...S,type:"number",min:"1",onChange:C=>S.onChange(parseInt(C.target.value)||1)})}),r.jsx(fe,{})]})})]}),r.jsx(ae,{control:d.control,name:"description",render:({field:S})=>r.jsxs(ne,{children:[r.jsx(re,{children:t?"الوصف":"Description"}),r.jsx(se,{children:r.jsx(Pt,{...S,rows:4})}),r.jsx(fe,{})]})}),r.jsx(ae,{control:d.control,name:"isActive",render:({field:S})=>r.jsxs(ne,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[r.jsxs("div",{className:"space-y-0.5",children:[r.jsx(re,{className:"text-base",children:t?"مفعل":"Active"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:t?"تفعيل أو إلغاء تفعيل المنتج":"Enable or disable the product"})]}),r.jsx(se,{children:r.jsx(Ct,{checked:S.value,onCheckedChange:S.onChange})})]})})]})]}),r.jsxs(Y,{children:[r.jsx(Pe,{children:r.jsxs(Ie,{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(No,{className:"w-5 h-5"}),t?"الصور":"Images"]}),r.jsxs(B,{type:"button",variant:"outline",size:"sm",onClick:j,children:[r.jsx(ot,{className:"w-4 h-4 mr-2"}),t?"إضافة صورة":"Add Image"]})]})}),r.jsx(ee,{className:"space-y-4",children:p.length===0?r.jsx("div",{className:"text-center py-8 text-muted-foreground",children:t?'لا توجد صور حتى الآن. اضغط "إضافة صورة" لبدء إضافة الصور.':'No images added yet. Click "Add Image" to start adding images.'}):p.map((S,C)=>r.jsxs(Y,{className:"border-2 border-dashed",children:[r.jsx(Pe,{className:"pb-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h4",{className:"font-medium",children:[t?"صورة":"Image"," ",C+1]}),r.jsx(B,{type:"button",variant:"ghost",size:"sm",onClick:()=>y(C),children:r.jsx(xt,{className:"w-4 h-4"})})]})}),r.jsx(ee,{children:r.jsx(ae,{control:d.control,name:`mediaUrls.${C}.url`,render:({field:_})=>r.jsxs(ne,{children:[r.jsx(re,{children:t?"رابط الصورة":"Image URL"}),r.jsx(se,{children:r.jsx(Co,{value:_.value,onChange:_.onChange,folder:"products",placeholder:"https://example.com/image.jpg"})}),r.jsx(fe,{})]})})})]},S.id))})]}),r.jsxs(Y,{children:[r.jsx(Pe,{children:r.jsxs(Ie,{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Dr,{className:"w-5 h-5"}),t?"الترجمات":"Localizations"]}),r.jsxs(B,{type:"button",variant:"outline",size:"sm",onClick:v,children:[r.jsx(ot,{className:"w-4 h-4 mr-2"}),t?"إضافة ترجمة":"Add Translation"]})]})}),r.jsx(ee,{className:"space-y-4",children:u.length===0?r.jsx("div",{className:"text-center py-8 text-muted-foreground",children:t?'لا توجد ترجمات حتى الآن. اضغط "إضافة ترجمة" لبدء إضافة المحتوى المترجم.':'No translations added yet. Click "Add Translation" to start adding localized content.'}):u.map((S,C)=>r.jsxs(Y,{className:"border-2 border-dashed",children:[r.jsx(Pe,{className:"pb-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h4",{className:"font-medium",children:[t?"ترجمة":"Translation"," ",C+1]}),r.jsx(B,{type:"button",variant:"ghost",size:"sm",onClick:()=>m(C),children:r.jsx(xt,{className:"w-4 h-4"})})]})}),r.jsxs(ee,{className:"space-y-4",children:[r.jsx(ae,{control:d.control,name:`localizations.${C}.languageId`,rules:{required:t?"اللغة مطلوبة":"Language is required"},render:({field:_})=>{var A;return r.jsxs(ne,{children:[r.jsx(re,{children:t?"اللغة":"Language"}),r.jsxs(ut,{value:((A=_.value)==null?void 0:A.toString())||"",onValueChange:k=>_.onChange(parseInt(k)),children:[r.jsx(se,{children:r.jsx(ct,{children:r.jsx(mt,{placeholder:t?"اختر اللغة":"Select language"})})}),r.jsx(dt,{children:i.map(k=>r.jsxs(Ye,{value:k.id.toString(),children:[k.name," (",k.code,")"]},k.id))})]}),r.jsx(fe,{})]})}}),r.jsx(ae,{control:d.control,name:`localizations.${C}.nameLocalized`,rules:{required:t?"اسم المنتج المترجم مطلوب":"Localized product name is required"},render:({field:_})=>r.jsxs(ne,{children:[r.jsx(re,{children:t?"اسم المنتج المترجم":"Localized Product Name"}),r.jsx(se,{children:r.jsx(Oe,{..._})}),r.jsx(fe,{})]})}),r.jsx(ae,{control:d.control,name:`localizations.${C}.descriptionLocalized`,render:({field:_})=>r.jsxs(ne,{children:[r.jsx(re,{children:t?"الوصف المترجم":"Localized Description"}),r.jsx(se,{children:r.jsx(Pt,{..._,rows:3})}),r.jsx(fe,{})]})})]})]},S.id))})]}),r.jsx(Y,{children:r.jsx(ee,{className:"pt-6",children:r.jsxs("div",{className:"flex items-center gap-4 justify-end",children:[r.jsx(B,{type:"button",variant:"outline",onClick:b,disabled:l.isPending,children:t?"إلغاء":"Cancel"}),r.jsxs(B,{type:"submit",disabled:l.isPending,className:"gap-2",children:[r.jsx(ln,{className:"w-4 h-4"}),l.isPending?t?"جارٍ الإنشاء...":"Creating...":t?"إنشاء منتج":"Create Product"]})]})})})]})})]})})},s3="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48IS0tIFVwbG9hZGVkIHRvOiBTVkcgUmVwbywgd3d3LnN2Z3JlcG8uY29tLCBHZW5lcmF0b3I6IFNWRyBSZXBvIE1peGVyIFRvb2xzIC0tPgo8c3ZnIHdpZHRoPSI4MDBweCIgaGVpZ2h0PSI4MDBweCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cGF0aCBkPSJNMyA3VjE3QzMgMTguMTA0NiAzLjg5NTQzIDE5IDUgMTlIMTlDMjAuMTA0NiAxOSAyMSAxOC4xMDQ2IDIxIDE3VjdNMyA3QzMgNS44OTU0MyAzLjg5NTQzIDUgNSA1SDE5QzIwLjEwNDYgNSAyMSA1Ljg5NTQzIDIxIDdNMyA3SDIxTTkgMTNIMTUiIHN0cm9rZT0iIzY4Nzc4NyIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPC9zdmc+",fte=()=>{const{id:e}=Io(),t=lr(),{isRTL:n}=rt(),{data:s,isLoading:a,error:i,refetch:o}=qe({queryKey:["product",e],queryFn:()=>Fa.getProductById(Number(e)),enabled:!!e}),l=()=>{t("/products")},d=()=>{t(`/products/${e}/edit`)},u=g=>r.jsxs(Me,{variant:g?"default":"secondary",className:"flex items-center gap-1",children:[g?r.jsx(Un,{className:"w-3 h-3"}):r.jsx(ho,{className:"w-3 h-3"}),g?n?"نشط":"Active":n?"غير نشط":"Inactive"]}),h=g=>g===0?r.jsxs(Me,{variant:"destructive",className:"gap-1",children:[r.jsx(jn,{className:"w-3 h-3"}),n?"نفد المخزون":"Out of Stock"]}):g<20?r.jsxs(Me,{variant:"outline",className:"gap-1 text-warning border-warning",children:[r.jsx(Ks,{className:"w-3 h-3"}),n?"مخزون منخفض":"Low Stock"]}):r.jsxs(Me,{variant:"outline",className:"gap-1 text-success border-success",children:[r.jsx(Or,{className:"w-3 h-3"}),n?"متوفر":"In Stock"]}),m=(g,y,x)=>{const v=y||"USD",j=x||"$";try{return new Intl.NumberFormat("en-US",{style:"currency",currency:v}).format(g)}catch{return`${j}${g.toFixed(2)}`}},p=({label:g,value:y,icon:x})=>r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[x,g]}),r.jsx("div",{className:"text-sm bg-muted/50 p-3 rounded-md border",children:y||(n?"غير محدد":"Not specified")})]});return a?r.jsx(lt,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(Qe,{className:"h-9 w-20"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Qe,{className:"h-8 w-64"}),r.jsx(Qe,{className:"h-4 w-96"})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs(Y,{children:[r.jsx(Pe,{children:r.jsx(Qe,{className:"h-6 w-48"})}),r.jsx(ee,{className:"space-y-4",children:r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsx(Qe,{className:"h-16"}),r.jsx(Qe,{className:"h-16"})]})})]}),r.jsxs(Y,{children:[r.jsx(Pe,{children:r.jsx(Qe,{className:"h-6 w-48"})}),r.jsx(ee,{children:r.jsx(Qe,{className:"h-32"})})]})]})]})}):i?r.jsx(lt,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex items-center gap-4",children:r.jsxs(B,{variant:"ghost",size:"sm",onClick:l,className:"gap-2",children:[r.jsx(Gt,{className:"w-4 h-4"}),n?"رجوع":"Back"]})}),r.jsxs(wn,{variant:"destructive",children:[r.jsx(Ks,{className:"h-4 w-4"}),r.jsxs(Nn,{className:"flex items-center justify-between",children:[r.jsx("span",{children:i instanceof Error?i.message:n?"فشل في تحميل تفاصيل المنتج":"Failed to load product details"}),r.jsxs(B,{variant:"outline",size:"sm",onClick:()=>o(),className:"ml-2",children:[r.jsx(dn,{className:"w-4 h-4 mr-2"}),n?"إعادة المحاولة":"Retry"]})]})]})]})}):s?r.jsx(lt,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:n&&s.localizedName?s.localizedName:s.name}),r.jsx("p",{className:"text-muted-foreground",children:n?"تفاصيل المنتج ومعلوماته التجارية":"Product details and business information"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(B,{variant:"ghost",size:"sm",onClick:l,className:"gap-2",children:[r.jsx(Gt,{className:"w-4 h-4"}),n?"رجوع":"Back"]}),r.jsxs(B,{onClick:d,className:"gap-2",children:[r.jsx(tr,{className:"w-4 h-4"}),n?"تعديل":"Edit"]})]})]}),r.jsx(Y,{className:"border-0 shadow-elegant",children:r.jsx(ee,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"flex items-center gap-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[s.images&&s.images.length>0?r.jsx("div",{className:"w-16 h-16 rounded-lg bg-gradient-to-br from-primary/10 to-primary/5 flex items-center justify-center overflow-hidden border border-border/20",children:r.jsx("img",{src:s.images[0].url,alt:s.name,className:"w-full h-full object-cover",onError:g=>{const y=g.target;y.src=s3}})}):r.jsx("div",{className:"w-16 h-16 rounded-lg bg-gradient-to-br from-primary/10 to-primary/5 flex items-center justify-center border border-border/20",children:r.jsx(Dr,{className:"w-8 h-8 text-primary/50"})}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-medium text-lg",children:n&&s.localizedName?s.localizedName:s.name}),r.jsxs(Me,{variant:"outline",children:["#",s.id]})]}),r.jsx("div",{className:"text-sm text-muted-foreground",children:n&&s.localizedDescription?s.localizedDescription:s.description})]})]})}),r.jsxs("div",{className:"flex items-center gap-4",children:[u(s.isActive),h(s.quantity),r.jsxs(Me,{variant:"outline",className:"gap-1",children:[r.jsx(qt,{className:"w-3 h-3"}),s.localizations.length," ",n?"ترجمة":"translations"]})]})]})})}),r.jsxs(Y,{className:"border-0 shadow-elegant",children:[r.jsx(Pe,{children:r.jsxs(Ie,{className:"flex items-center gap-2",children:[r.jsx(Dr,{className:"w-5 h-5"}),n?"المعلومات الأساسية":"Basic Information"]})}),r.jsxs(ee,{className:"space-y-4",children:[r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsx(p,{label:n?"معرف المنتج":"Product ID",value:s.id.toString(),icon:r.jsx(Dr,{className:"w-4 h-4"})}),r.jsx(p,{label:n?"اسم المنتج":"Product Name",value:s.name,icon:r.jsx(Dr,{className:"w-4 h-4"})})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsx(p,{label:n?"الفئة":"Category",value:s.categoryName?r.jsx(Me,{variant:"outline",children:s.categoryName}):n?"غير محدد":"Not specified"}),r.jsx(p,{label:n?"المزود":"Provider",value:s.providerName?r.jsx(Me,{variant:"secondary",children:s.providerName}):n?"غير محدد":"Not specified"})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsx(p,{label:n?"السعر":"Price",value:r.jsxs("div",{className:"flex items-center gap-2 text-lg font-semibold text-primary",children:[r.jsx(Ep,{className:"w-5 h-5"}),m(s.price,s.currencyCode,s.currencySymbol)]})}),r.jsx(p,{label:n?"العملة":"Currency",value:`${s.currencySymbol} ${s.currencyCode} - ${s.currencyName}`})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsx(p,{label:n?"الكمية المتاحة":"Available Quantity",value:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-medium",children:s.quantity}),h(s.quantity)]})}),r.jsx(p,{label:n?"الحالة":"Status",value:u(s.isActive)})]}),r.jsx(p,{label:n?"الوصف":"Description",value:s.description}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsx(p,{label:n?"تاريخ الإنشاء":"Created At",value:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(oo,{className:"w-4 h-4"}),new Date(s.createdAt).toLocaleDateString()]})}),r.jsx(p,{label:n?"تاريخ التحديث":"Updated At",value:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(oo,{className:"w-4 h-4"}),new Date(s.updatedAt).toLocaleDateString()]})})]})]})]}),s.images&&s.images.length>0&&r.jsxs(Y,{className:"border-0 shadow-elegant",children:[r.jsx(Pe,{children:r.jsxs(Ie,{className:"flex items-center gap-2",children:[r.jsx(No,{className:"w-5 h-5"}),n?"الصور":"Images"]})}),r.jsx(ee,{children:r.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:s.images.map((g,y)=>r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"aspect-video bg-muted rounded-md overflow-hidden",children:r.jsx("img",{src:g.url,alt:`${s.name} - Image ${y+1}`,className:"w-full h-full object-cover",onError:x=>{const v=x.target;v.src=s3}})}),r.jsx("div",{className:"text-xs text-muted-foreground break-all",children:g.url})]},y))})})]}),s.localizations&&s.localizations.length>0&&r.jsxs(Y,{className:"border-0 shadow-elegant",children:[r.jsx(Pe,{children:r.jsxs(Ie,{className:"flex items-center gap-2",children:[r.jsx($e,{className:"w-5 h-5"}),n?"الترجمات":"Localizations"]})}),r.jsx(ee,{className:"space-y-6",children:s.localizations.map(g=>r.jsxs(Y,{className:"border-2 border-dashed",children:[r.jsx(Pe,{className:"pb-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[r.jsx(qt,{className:"w-4 h-4"}),g.languageName," (",g.languageCode,")"]}),u(g.isActive)]})}),r.jsxs(ee,{className:"space-y-4",children:[r.jsx(p,{label:n?"اسم المنتج المترجم":"Localized Product Name",value:g.nameLocalized}),r.jsx(p,{label:n?"الوصف المترجم":"Localized Description",value:g.descriptionLocalized}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-muted-foreground",children:n?"تاريخ الإنشاء:":"Created:"}),r.jsx("span",{className:"ml-2",children:new Date(g.createdAt).toLocaleDateString()})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-muted-foreground",children:n?"تاريخ التحديث:":"Updated:"}),r.jsx("span",{className:"ml-2",children:new Date(g.updatedAt).toLocaleDateString()})]})]})]})]},g.id))})]})]})}):r.jsx(lt,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex items-center gap-4",children:r.jsxs(B,{variant:"ghost",size:"sm",onClick:l,className:"gap-2",children:[r.jsx(Gt,{className:"w-4 h-4"}),n?"رجوع":"Back"]})}),r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Dr,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-muted-foreground",children:n?"المنتج غير موجود":"Product not found"})]})]})})},pte=()=>{const{id:e}=Io(),t=lr(),{isRTL:n}=rt(),s=rr(),{data:a=[]}=qe({queryKey:["product-categories","dropdown"],queryFn:()=>Fn.getProductCategoriesDropdown()}),{data:i=[]}=qe({queryKey:["providers","dropdown"],queryFn:()=>Fa.getProvidersDropdown(n?"ar":"en")}),{data:o=[]}=qe({queryKey:["languages","dropdown"],queryFn:()=>ir.getLanguagesDropdown()}),{data:l=[]}=qe({queryKey:["currencies","dropdown"],queryFn:()=>Fa.getCurrenciesDropdown()}),{data:d,isLoading:u,error:h,refetch:m}=qe({queryKey:["product",e],queryFn:()=>Fa.getProductById(Number(e)),enabled:!!e}),p=it({mutationFn:({id:O,data:M})=>Fa.updateProduct(O,M),onSuccess:()=>{s.invalidateQueries({queryKey:["products"]}),s.invalidateQueries({queryKey:["product",e]}),be.success(n?"تم تحديث المنتج بنجاح":"Product updated successfully"),t("/products")},onError:O=>{be.error(O.message||(n?"فشل في تحديث المنتج":"Failed to update product"))}}),g=Wt({defaultValues:{name:"",categoryId:0,providerId:0,price:0,quantity:1,currencyId:0,description:"",isActive:!0,localizations:[],mediaUrls:[]}});R.useEffect(()=>{var O;d&&g.reset({name:d.name,categoryId:d.categoryId,providerId:d.providerId,price:d.price,quantity:d.quantity,currencyId:d.currencyId,description:d.description||"",isActive:d.isActive,localizations:d.localizations.map(M=>({id:M.id,languageId:M.languageId,nameLocalized:M.nameLocalized,descriptionLocalized:M.descriptionLocalized,isActive:M.isActive})),mediaUrls:((O=d.images)==null?void 0:O.map(M=>({url:M.url})))||[]})},[d,g]);const{fields:y,append:x,remove:v}=Qt({control:g.control,name:"localizations"}),{fields:j,append:b,remove:S}=Qt({control:g.control,name:"mediaUrls"}),C=async O=>{if(e)try{const M={name:O.name,categoryId:O.categoryId,providerId:O.providerId,price:O.price,quantity:O.quantity,currencyId:O.currencyId,description:O.description,isActive:O.isActive,mediaUrls:O.mediaUrls.map(z=>z.url).filter(z=>z.trim()!==""),localizations:O.localizations};await p.mutateAsync({id:Number(e),data:M})}catch{}},_=()=>{x({languageId:0,nameLocalized:"",descriptionLocalized:"",isActive:!0})},A=()=>{b({url:""})},k=()=>{t("/products")},T=()=>{t("/products")};return u?r.jsx(lt,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(Qe,{className:"h-9 w-20"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Qe,{className:"h-8 w-64"}),r.jsx(Qe,{className:"h-4 w-96"})]})]}),r.jsx("div",{className:"space-y-6",children:[1,2,3].map(O=>r.jsxs(Y,{children:[r.jsx(Pe,{children:r.jsx(Qe,{className:"h-6 w-48"})}),r.jsxs(ee,{className:"space-y-4",children:[r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsx(Qe,{className:"h-10"}),r.jsx(Qe,{className:"h-10"})]}),r.jsx(Qe,{className:"h-24"})]})]},O))})]})}):h?r.jsx(lt,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex items-center gap-4",children:r.jsxs(B,{variant:"ghost",size:"sm",onClick:T,className:"gap-2",children:[r.jsx(Gt,{className:"w-4 h-4"}),n?"رجوع":"Back"]})}),r.jsxs(wn,{variant:"destructive",children:[r.jsx(Ks,{className:"h-4 w-4"}),r.jsxs(Nn,{className:"flex items-center justify-between",children:[r.jsx("span",{children:h instanceof Error?h.message:n?"فشل في تحميل تفاصيل المنتج":"Failed to load product details"}),r.jsxs(B,{variant:"outline",size:"sm",onClick:()=>m(),className:"ml-2",children:[r.jsx(dn,{className:"w-4 h-4 mr-2"}),n?"إعادة المحاولة":"Retry"]})]})]})]})}):d?r.jsx(lt,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:n?"تعديل المنتج":"Edit Product"}),r.jsx("p",{className:"text-muted-foreground",children:n?`تعديل تفاصيل ${d.name}`:`Edit details for ${d.name}`})]}),r.jsxs(B,{variant:"ghost",size:"sm",onClick:k,className:"gap-2",children:[r.jsx(Gt,{className:"w-4 h-4"}),n?"رجوع":"Back"]})]}),r.jsx(Kt,{...g,children:r.jsxs("form",{onSubmit:g.handleSubmit(C),className:"space-y-6",children:[r.jsxs(Y,{className:"border-0 shadow-elegant",children:[r.jsx(Pe,{children:r.jsxs(Ie,{className:"flex items-center gap-2",children:[r.jsx(Dr,{className:"w-5 h-5"}),n?"المعلومات الأساسية":"Basic Information"]})}),r.jsxs(ee,{className:"space-y-4",children:[r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsx(ae,{control:g.control,name:"name",rules:{required:n?"اسم المنتج مطلوب":"Product name is required"},render:({field:O})=>r.jsxs(ne,{children:[r.jsx(re,{children:n?"اسم المنتج":"Product Name"}),r.jsx(se,{children:r.jsx(Oe,{...O})}),r.jsx(fe,{})]})}),r.jsx(ae,{control:g.control,name:"categoryId",rules:{required:n?"الفئة مطلوبة":"Category is required",validate:O=>O>0||(n?"يرجى اختيار فئة":"Please select a category")},render:({field:O})=>{var M;return r.jsxs(ne,{children:[r.jsx(re,{children:n?"الفئة":"Category"}),r.jsxs(ut,{value:((M=O.value)==null?void 0:M.toString())||"",onValueChange:z=>O.onChange(parseInt(z)),children:[r.jsx(se,{children:r.jsx(ct,{children:r.jsx(mt,{placeholder:n?"اختر الفئة":"Select category"})})}),r.jsx(dt,{children:a.map(z=>r.jsx(Ye,{value:z.id.toString(),children:z.name},z.id))})]}),r.jsx(fe,{})]})}}),r.jsx(ae,{control:g.control,name:"providerId",rules:{required:n?"مقدم الخدمة مطلوب":"Provider is required",validate:O=>O>0||(n?"يرجى اختيار مقدم خدمة":"Please select a provider")},render:({field:O})=>{var M;return r.jsxs(ne,{children:[r.jsx(re,{children:n?"مقدم الخدمة":"Provider"}),r.jsxs(ut,{value:((M=O.value)==null?void 0:M.toString())||"",onValueChange:z=>O.onChange(parseInt(z)),children:[r.jsx(se,{children:r.jsx(ct,{children:r.jsx(mt,{placeholder:n?"اختر مقدم الخدمة":"Select provider"})})}),r.jsx(dt,{children:i.map(z=>r.jsxs(Ye,{value:z.userId.toString(),children:[z.businessName,z.phoneNumber&&r.jsxs("span",{className:"text-muted-foreground ml-2",children:["(",z.phoneNumber,")"]})]},z.userId))})]}),r.jsx(fe,{})]})}}),r.jsx(ae,{control:g.control,name:"price",rules:{required:n?"السعر مطلوب":"Price is required",validate:O=>O>0||(n?"السعر يجب أن يكون أكبر من صفر":"Price must be greater than zero")},render:({field:O})=>r.jsxs(ne,{children:[r.jsxs(re,{className:"flex items-center gap-2",children:[r.jsx(Ep,{className:"w-4 h-4"}),n?"السعر":"Price"]}),r.jsx(se,{children:r.jsx(Oe,{...O,type:"number",step:"0.01",min:"0",onChange:M=>O.onChange(parseFloat(M.target.value)||0)})}),r.jsx(fe,{})]})}),r.jsx(ae,{control:g.control,name:"currencyId",rules:{required:n?"العملة مطلوبة":"Currency is required",validate:O=>O>0||(n?"يرجى اختيار عملة":"Please select a currency")},render:({field:O})=>{var M;return r.jsxs(ne,{children:[r.jsx(re,{children:n?"العملة":"Currency"}),r.jsxs(ut,{value:((M=O.value)==null?void 0:M.toString())||"",onValueChange:z=>O.onChange(parseInt(z)),children:[r.jsx(se,{children:r.jsx(ct,{children:r.jsx(mt,{placeholder:n?"اختر العملة":"Select currency"})})}),r.jsx(dt,{children:l.map(z=>r.jsxs(Ye,{value:z.id.toString(),children:[z.symbol," ",z.code," - ",z.name]},z.id))})]}),r.jsx(fe,{})]})}}),r.jsx(ae,{control:g.control,name:"quantity",rules:{required:n?"الكمية مطلوبة":"Quantity is required",validate:O=>O>=0||(n?"الكمية يجب أن تكون أكبر من أو تساوي صفر":"Quantity must be greater than or equal to zero")},render:({field:O})=>r.jsxs(ne,{children:[r.jsx(re,{children:n?"الكمية":"Quantity"}),r.jsx(se,{children:r.jsx(Oe,{...O,type:"number",min:"0",onChange:M=>O.onChange(parseInt(M.target.value)||0)})}),r.jsx(fe,{})]})})]}),r.jsx(ae,{control:g.control,name:"description",render:({field:O})=>r.jsxs(ne,{children:[r.jsx(re,{children:n?"الوصف":"Description"}),r.jsx(se,{children:r.jsx(Pt,{...O,rows:4})}),r.jsx(fe,{})]})}),r.jsx(ae,{control:g.control,name:"isActive",render:({field:O})=>r.jsxs(ne,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[r.jsxs("div",{className:"space-y-0.5",children:[r.jsx(re,{className:"text-base",children:n?"مفعل":"Active"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:n?"تفعيل أو إلغاء تفعيل المنتج":"Enable or disable the product"})]}),r.jsx(se,{children:r.jsx(Ct,{checked:O.value,onCheckedChange:O.onChange})})]})})]})]}),r.jsxs(Y,{className:"border-0 shadow-elegant",children:[r.jsx(Pe,{children:r.jsxs(Ie,{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(No,{className:"w-5 h-5"}),n?"الصور":"Images"]}),r.jsxs(B,{type:"button",variant:"outline",size:"sm",onClick:A,children:[r.jsx(ot,{className:"w-4 h-4 mr-2"}),n?"إضافة صورة":"Add Image"]})]})}),r.jsx(ee,{className:"space-y-4",children:j.length===0?r.jsx("div",{className:"text-center py-8 text-muted-foreground",children:n?'لا توجد صور حتى الآن. اضغط "إضافة صورة" لبدء إضافة الصور.':'No images added yet. Click "Add Image" to start adding images.'}):j.map((O,M)=>r.jsxs(Y,{className:"border-2 border-dashed",children:[r.jsx(Pe,{className:"pb-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h4",{className:"font-medium",children:[n?"صورة":"Image"," ",M+1]}),r.jsx(B,{type:"button",variant:"ghost",size:"sm",onClick:()=>S(M),children:r.jsx(xt,{className:"w-4 h-4"})})]})}),r.jsx(ee,{children:r.jsx(ae,{control:g.control,name:`mediaUrls.${M}.url`,render:({field:z})=>r.jsxs(ne,{children:[r.jsx(re,{children:n?"رابط الصورة":"Image URL"}),r.jsx(se,{children:r.jsx(Co,{value:z.value,onChange:z.onChange,folder:"products",placeholder:"https://example.com/image.jpg"})}),r.jsx(fe,{})]})})})]},O.id))})]}),r.jsxs(Y,{className:"border-0 shadow-elegant",children:[r.jsx(Pe,{children:r.jsxs(Ie,{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx($e,{className:"w-5 h-5"}),n?"الترجمات":"Localizations"]}),r.jsxs(B,{type:"button",variant:"outline",size:"sm",onClick:_,children:[r.jsx(ot,{className:"w-4 h-4 mr-2"}),n?"إضافة ترجمة":"Add Translation"]})]})}),r.jsx(ee,{className:"space-y-4",children:y.length===0?r.jsx("div",{className:"text-center py-8 text-muted-foreground",children:n?'لا توجد ترجمات حتى الآن. اضغط "إضافة ترجمة" لبدء إضافة المحتوى المترجم.':'No translations added yet. Click "Add Translation" to start adding localized content.'}):y.map((O,M)=>r.jsxs(Y,{className:"border-2 border-dashed",children:[r.jsx(Pe,{className:"pb-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h4",{className:"font-medium",children:[n?"ترجمة":"Translation"," ",M+1,g.watch(`localizations.${M}.id`)&&r.jsxs("span",{className:"ml-2 text-xs text-muted-foreground",children:["(ID: ",g.watch(`localizations.${M}.id`),")"]})]}),r.jsx(B,{type:"button",variant:"ghost",size:"sm",onClick:()=>v(M),children:r.jsx(xt,{className:"w-4 h-4"})})]})}),r.jsxs(ee,{className:"space-y-4",children:[r.jsx(ae,{control:g.control,name:`localizations.${M}.languageId`,rules:{required:n?"اللغة مطلوبة":"Language is required"},render:({field:z})=>{var F;return r.jsxs(ne,{children:[r.jsx(re,{children:n?"اللغة":"Language"}),r.jsxs(ut,{value:((F=z.value)==null?void 0:F.toString())||"",onValueChange:Z=>z.onChange(parseInt(Z)),children:[r.jsx(se,{children:r.jsx(ct,{children:r.jsx(mt,{placeholder:n?"اختر اللغة":"Select language"})})}),r.jsx(dt,{children:o.map(Z=>r.jsxs(Ye,{value:Z.id.toString(),children:[Z.name," (",Z.code,")"]},Z.id))})]}),r.jsx(fe,{})]})}}),r.jsx(ae,{control:g.control,name:`localizations.${M}.nameLocalized`,rules:{required:n?"اسم المنتج المترجم مطلوب":"Localized product name is required"},render:({field:z})=>r.jsxs(ne,{children:[r.jsx(re,{children:n?"اسم المنتج المترجم":"Localized Product Name"}),r.jsx(se,{children:r.jsx(Oe,{...z})}),r.jsx(fe,{})]})}),r.jsx(ae,{control:g.control,name:`localizations.${M}.descriptionLocalized`,render:({field:z})=>r.jsxs(ne,{children:[r.jsx(re,{children:n?"الوصف المترجم":"Localized Description"}),r.jsx(se,{children:r.jsx(Pt,{...z,rows:3})}),r.jsx(fe,{})]})}),r.jsx(ae,{control:g.control,name:`localizations.${M}.isActive`,render:({field:z})=>r.jsxs(ne,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[r.jsx("div",{className:"space-y-0.5",children:r.jsx(re,{className:"text-sm",children:n?"ترجمة مفعلة":"Active Translation"})}),r.jsx(se,{children:r.jsx(Ct,{checked:z.value,onCheckedChange:z.onChange})})]})})]})]},O.id))})]}),r.jsx(Y,{className:"border-0 shadow-elegant",children:r.jsx(ee,{className:"pt-6",children:r.jsxs("div",{className:"flex items-center gap-4 justify-end",children:[r.jsx(B,{type:"button",variant:"outline",onClick:k,disabled:p.isPending,children:n?"إلغاء":"Cancel"}),r.jsxs(B,{type:"submit",disabled:p.isPending,className:"gap-2",children:[r.jsx(ln,{className:"w-4 h-4"}),p.isPending?n?"جارٍ التحديث...":"Updating...":n?"تحديث المنتج":"Update Product"]})]})})})]})})]})}):r.jsx(lt,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex items-center gap-4",children:r.jsxs(B,{variant:"ghost",size:"sm",onClick:T,className:"gap-2",children:[r.jsx(Gt,{className:"w-4 h-4"}),n?"رجوع":"Back"]})}),r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Dr,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-muted-foreground",children:n?"المنتج غير موجود":"Product not found"})]})]})})};class xte{constructor(){ge(this,"baseUrl","/api/posts");ge(this,"request",async(t,n={})=>{const s=`${this.baseUrl}${t}`,a={headers:{"Content-Type":"application/json",...n.headers},...n};try{const i=await fetch(s,a);if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);return await i.json()}catch(i){throw console.error("Post API Request Error:",i),i}});ge(this,"getPosts",async(t={})=>{const n=new URLSearchParams;t.page&&n.append("page",t.page.toString()),t.pageSize&&n.append("pageSize",t.pageSize.toString()),t.activeOnly!==void 0&&n.append("activeOnly",t.activeOnly.toString());const s=n.toString()?`?${n.toString()}`:"",a=await this.request(s);if(!a.success)throw new Error(a.message||"Failed to fetch posts");if(!a.data)throw new Error("No data returned from server");return a.data});ge(this,"getPostsLocalized",async(t={})=>{const n=new URLSearchParams;t.page&&n.append("page",t.page.toString()),t.pageSize&&n.append("pageSize",t.pageSize.toString()),t.languageCode&&n.append("languageCode",t.languageCode),t.activeOnly!==void 0&&n.append("activeOnly",t.activeOnly.toString());const s=`/localized${n.toString()?`?${n.toString()}`:""}`,a=await this.request(s);if(!a.success)throw new Error(a.message||"Failed to fetch localized posts");if(!a.data)throw new Error("No data returned from server");return a.data});ge(this,"getPostById",async t=>{const n=await this.request(`/${t}`);if(!n.success)throw new Error(n.message||"Failed to fetch post");if(!n.data)throw new Error("No data returned from server");return n.data});ge(this,"createPostWithMedia",async t=>{const n=await this.request("/create",{method:"POST",body:JSON.stringify(t)});if(!n.success)throw new Error(n.message||"Failed to create post");if(!n.data)throw new Error("No data returned from server");return n.data});ge(this,"updatePost",async(t,n)=>{const s=await this.request(`/${t}`,{method:"PUT",body:JSON.stringify(n)});if(!s.success)throw new Error(s.message||"Failed to update post");if(!s.data)throw new Error("No data returned from server");return s.data});ge(this,"togglePostActivation",async t=>{const n=await this.request(`/${t}/toggle-activation`,{method:"PUT"});if(!n.success)throw new Error(n.message||"Failed to toggle post activation")});ge(this,"deletePost",async t=>{const n=await this.request(`/${t}`,{method:"DELETE"});if(!n.success)throw new Error(n.message||"Failed to delete post")})}}const Dc=new xte,gte="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48IS0tIFVwbG9hZGVkIHRvOiBTVkcgUmVwbywgd3d3LnN2Z3JlcG8uY29tLCBHZW5lcmF0b3I6IFNWRyBSZXBvIE1peGVyIFRvb2xzIC0tPgo8c3ZnIHdpZHRoPSI4MDBweCIgaGVpZ2h0PSI4MDBweCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cGF0aCBkPSJNMTQgMkM0IDMgMyA0IDIgMTRDMiAxNyAzIDIwIDcgMjBIMTdDMjEgMjAgMjIgMTcgMjIgMTRWMTBDMjIgNiAxOSA1IDE1IDVIMTRWMloiIHN0cm9rZT0iIzY4Nzc4NyIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPHBhdGggZD0iTTExIDEySDEzTTEwIDE1SDEwLjAxTTE0IDE1SDE0LjAxIiBzdHJva2U9IiM2ODc3ODciIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjwvc3ZnPgo=",vte=({post:e,size:t="sm"})=>{const[n,s]=N.useState(!1),a={sm:"w-12 h-12",md:"w-16 h-16",lg:"w-24 h-24"},i=e!=null&&e.mediaUrls&&e.mediaUrls.length>0&&!n?e.mediaUrls[0]:gte;return r.jsx("div",{className:`${a[t]} rounded-lg bg-gradient-to-br from-primary/10 to-primary/5 flex items-center justify-center overflow-hidden border border-border/20`,children:r.jsx("img",{src:i,alt:(e==null?void 0:e.description)||"Post",className:"w-full h-full object-cover",onError:()=>s(!0)})})},yte=()=>{const e=lr(),{isRTL:t}=rt(),[n,s]=N.useState(""),[a,i]=N.useState("all"),[o,l]=N.useState("all"),[d,u]=N.useState(null),[h,m]=N.useState([]),[p,g]=N.useState(!1),[y,x]=N.useState(null),[v,j]=N.useState(1),[b]=N.useState(10),S=()=>{e("/posts/create")},C=U=>{e(`/posts/${U}`)},_=U=>{e(`/posts/${U}/edit`)},A=async U=>{if(window.confirm(t?"هل أنت متأكد من حذف هذا المنشور؟":"Are you sure you want to delete this post?"))try{await Dc.deletePost(U),O(v)}catch(Q){console.error("Failed to delete post:",Q),alert(t?"فشل في حذف المنشور":"Failed to delete post")}},k=async U=>{try{await Dc.togglePostActivation(U),O(v)}catch(Q){console.error("Failed to toggle post activation:",Q),alert(t?"فشل في تغيير حالة المنشور":"Failed to toggle post activation")}},T=N.useCallback(async()=>{try{const U=await ia.getPostTypesDropdown();m(U)}catch(U){console.error("Failed to fetch post types:",U)}},[]),O=N.useCallback(async(U=v)=>{try{g(!0),x(null);const Q=await Dc.getPostsLocalized({page:U,pageSize:b,languageCode:t?"ar":"en",activeOnly:a==="active"?!0:a==="inactive"?!1:void 0});u(Q),j(U)}catch(Q){x(Q instanceof Error?Q.message:"An error occurred while fetching posts"),console.error("Failed to fetch posts:",Q)}finally{g(!1)}},[v,b,t,a]);N.useEffect(()=>{O(1),T()},[O,T]);const M=(d==null?void 0:d.items)||[],z=M.filter(U=>{const Q=U.description.toLowerCase().includes(n.toLowerCase())||U.id.toString().toLowerCase().includes(n.toLowerCase())||U.localizations&&U.localizations.some(ue=>ue.descriptionLocalized.toLowerCase().includes(n.toLowerCase())),he=o==="all"||U.postTypeId.toString()===o;return Q&&he}),F=U=>{U>=1&&U<=((d==null?void 0:d.totalPages)||1)&&O(U)},Z=()=>{d!=null&&d.hasPreviousPage&&F(v-1)},D=()=>{d!=null&&d.hasNextPage&&F(v+1)},$=U=>r.jsxs(Me,{variant:U?"default":"secondary",className:"flex items-center gap-1",children:[U?r.jsx(Un,{className:"h-3 w-3"}):r.jsx(ho,{className:"h-3 w-3"}),U?t?"نشط":"Active":t?"غير نشط":"Inactive"]}),E=U=>new Date(U).toLocaleDateString(t?"ar-EG":"en-US",{year:"numeric",month:"short",day:"numeric"}),V=(U,Q=100)=>U.length<=Q?U:U.substring(0,Q)+"...",q=U=>{if(t&&U.localizations&&U.localizations.length>0){const Q=U.localizations.find(he=>he.languageCode==="ar");if(Q)return Q.descriptionLocalized}return U.description};return r.jsx(lt,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:t?"إدارة المنشورات":"Posts Management"}),r.jsx("p",{className:"text-muted-foreground",children:t?"إدارة المنشورات والمحتوى":"Manage your posts and content"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(B,{variant:"outline",size:"sm",onClick:()=>O(v),disabled:p,className:"gap-2",children:[p?r.jsx(dn,{className:"w-4 h-4 animate-spin"}):r.jsx(Fr,{className:"w-4 h-4"}),t?"تحديث":"Refresh"]}),r.jsxs(B,{onClick:S,className:"gap-2",children:[r.jsx(ot,{className:"w-4 h-4"}),t?"إضافة منشور جديد":"Add New Post"]})]})]}),y&&r.jsxs(wn,{variant:"destructive",children:[r.jsx(Ks,{className:"h-4 w-4"}),r.jsxs(Nn,{className:"flex items-center justify-between",children:[r.jsx("span",{children:y}),r.jsx(B,{variant:"outline",size:"sm",onClick:()=>O(v),disabled:p,className:"ml-2",children:p?r.jsx(dn,{className:"w-4 h-4 animate-spin"}):t?"إعادة المحاولة":"Retry"})]})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[r.jsx(Y,{className:"border-0 shadow-elegant",children:r.jsx(ee,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:t?"إجمالي المنشورات":"Total Posts"}),r.jsx("p",{className:"text-2xl font-bold",children:p?r.jsx(Qe,{className:"h-8 w-12"}):(d==null?void 0:d.totalCount)||0})]}),r.jsx(Sl,{className:"h-8 w-8 text-primary"})]})})}),r.jsx(Y,{className:"border-0 shadow-elegant",children:r.jsx(ee,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:t?"منشورات نشطة":"Active Posts"}),r.jsx("p",{className:"text-2xl font-bold text-success",children:p?r.jsx(Qe,{className:"h-8 w-12"}):M.filter(U=>U.isActive).length})]}),r.jsx(Un,{className:"h-8 w-8 text-success"})]})})}),r.jsx(Y,{className:"border-0 shadow-elegant",children:r.jsx(ee,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:t?"إجمالي التفاعلات":"Total Reactions"}),r.jsx("p",{className:"text-2xl font-bold text-pink-600",children:p?r.jsx(Qe,{className:"h-8 w-12"}):M.reduce((U,Q)=>U+Q.numberOfReactions,0)})]}),r.jsx(bf,{className:"h-8 w-8 text-pink-600"})]})})}),r.jsx(Y,{className:"border-0 shadow-elegant",children:r.jsx(ee,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:t?"أنواع المنشورات":"Post Types"}),r.jsx("p",{className:"text-2xl font-bold text-blue-600",children:p?r.jsx(Qe,{className:"h-8 w-12"}):new Set(M.map(U=>U.postTypeId)).size})]}),r.jsx(Ks,{className:"h-8 w-8 text-blue-600"})]})})})]}),r.jsx(Y,{className:"border-0 shadow-elegant",children:r.jsx(ee,{className:"p-6",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(Qr,{className:`absolute top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground ${t?"right-3":"left-3"}`}),r.jsx(Oe,{placeholder:t?"البحث في المنشورات...":"Search posts...",value:n,onChange:U=>s(U.target.value),className:t?"pr-10 pl-4":"pl-10 pr-4"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(Ut,{children:[r.jsx(Vt,{asChild:!0,children:r.jsxs(B,{variant:"outline",className:"flex items-center gap-2",children:[r.jsx(Ru,{className:"h-4 w-4"}),t?"الحالة":"Status"]})}),r.jsxs(Ft,{children:[r.jsx(ke,{onClick:()=>i("all"),children:t?"جميع الحالات":"All Status"}),r.jsx(ke,{onClick:()=>i("active"),children:t?"نشط":"Active"}),r.jsx(ke,{onClick:()=>i("inactive"),children:t?"غير نشط":"Inactive"})]})]}),r.jsxs(Ut,{children:[r.jsx(Vt,{asChild:!0,children:r.jsxs(B,{variant:"outline",className:"flex items-center gap-2",children:[r.jsx(Ru,{className:"h-4 w-4"}),t?"نوع المنشور":"Post Type"]})}),r.jsxs(Ft,{children:[r.jsx(ke,{onClick:()=>l("all"),children:t?"جميع الأنواع":"All Types"}),h.map(U=>r.jsx(ke,{onClick:()=>l(U.id.toString()),children:U.name},U.id))]})]})]})]})})}),r.jsxs(Y,{className:"border-0 shadow-elegant",children:[r.jsx(Pe,{children:r.jsxs(Ie,{className:"flex items-center gap-2",children:[r.jsx(Sl,{className:"h-5 w-5 text-primary"}),t?`${z.length} منشور`:`${z.length} Posts`]})}),r.jsx(ee,{children:r.jsxs(On,{dir:t?"rtl":"ltr",children:[r.jsx(In,{children:r.jsxs(Xe,{className:t?"text-right":"text-left",children:[r.jsx(Re,{className:t?"text-right":"text-left",children:t?"المنشور":"Post"}),r.jsx(Re,{className:t?"text-right":"text-left",children:t?"المؤلف":"Author"}),r.jsx(Re,{className:t?"text-right":"text-left",children:t?"النوع":"Type"}),r.jsx(Re,{className:t?"text-right":"text-left",children:t?"التفاعلات":"Reactions"}),r.jsx(Re,{className:t?"text-right":"text-left",children:t?"الحالة":"Status"}),r.jsx(Re,{className:"text-center",children:t?"الإجراءات":"Actions"})]})}),r.jsx(Mn,{children:p?Array.from({length:b},(U,Q)=>r.jsxs(Xe,{children:[r.jsx(xe,{children:r.jsx(Qe,{className:"h-4 w-48"})}),r.jsx(xe,{children:r.jsx(Qe,{className:"h-4 w-32"})}),r.jsx(xe,{children:r.jsx(Qe,{className:"h-4 w-32"})}),r.jsx(xe,{children:r.jsx(Qe,{className:"h-4 w-16"})}),r.jsx(xe,{children:r.jsx(Qe,{className:"h-6 w-16"})}),r.jsx(xe,{children:r.jsx(Qe,{className:"h-8 w-8 rounded"})})]},Q)):z.length===0?r.jsx(Xe,{children:r.jsx(xe,{colSpan:6,className:"text-center py-8",children:r.jsxs("div",{className:"flex flex-col items-center gap-2",children:[r.jsx(Sl,{className:"w-12 h-12 text-muted-foreground"}),r.jsx("p",{className:"text-muted-foreground",children:t?"لا توجد منشورات":"No posts found"})]})})}):z.map(U=>r.jsxs(Xe,{className:`hover:bg-muted/50 ${t?"text-right":"text-left"}`,children:[r.jsx(xe,{className:t?"text-right":"text-left",children:r.jsxs("div",{className:`flex items-center gap-3 ${t?"text-right":"flex-row"}`,children:[r.jsx(vte,{post:U}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:V(q(U),60)}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["#",U.id]}),r.jsx("p",{className:"text-xs text-muted-foreground",children:E(U.createdAt)})]})]})}),r.jsx(xe,{className:t?"text-right":"text-left",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ai,{className:"w-4 h-4 text-muted-foreground"}),r.jsxs(Me,{variant:"secondary",className:"text-xs",children:["User #",U.userId]})]})}),r.jsx(xe,{className:t?"text-right":"text-left",children:r.jsx(Me,{variant:"outline",children:U.postTypeName||"N/A"})}),r.jsx(xe,{className:t?"text-right":"text-left",children:r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(bf,{className:"w-4 h-4 text-pink-500"}),r.jsx("span",{className:"font-medium text-pink-600",children:U.numberOfReactions})]})}),r.jsx(xe,{className:t?"text-right":"text-left",children:$(U.isActive)}),r.jsx(xe,{children:r.jsxs(Ut,{children:[r.jsx(Vt,{asChild:!0,children:r.jsx(B,{variant:"ghost",className:"h-8 w-8 p-0",children:r.jsx(bn,{className:"h-4 w-4"})})}),r.jsxs(Ft,{align:t?"start":"end",children:[r.jsxs(ke,{className:`flex items-center gap-2 ${t?"flex-row-reverse":"flex-row"}`,onClick:()=>C(U.id),children:[r.jsx(Fr,{className:"h-4 w-4"}),t?"عرض التفاصيل":"View Details"]}),r.jsxs(ke,{className:`flex items-center gap-2 ${t?"flex-row-reverse":"flex-row"}`,onClick:()=>_(U.id),children:[r.jsx(tr,{className:"h-4 w-4"}),t?"تحرير":"Edit"]}),r.jsxs(ke,{className:`flex items-center gap-2 ${t?"flex-row-reverse":"flex-row"}`,onClick:()=>k(U.id),children:[U.isActive?r.jsx(ho,{className:"h-4 w-4"}):r.jsx(Un,{className:"h-4 w-4"}),U.isActive?t?"إلغاء التفعيل":"Deactivate":t?"تفعيل":"Activate"]}),r.jsxs(ke,{className:`flex items-center gap-2 text-destructive ${t?"flex-row-reverse":"flex-row"}`,onClick:()=>A(U.id),children:[r.jsx(xt,{className:"h-4 w-4"}),t?"حذف":"Delete"]})]})]})})]},U.id))})]})})]}),d&&!p&&r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[t?"عرض":"Showing"," ",(v-1)*b+1," ",t?"إلى":"to"," ",Math.min(v*b,d.totalCount)," ",t?"من":"of"," ",d.totalCount," ",t?"منشور":"posts"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(B,{variant:"outline",size:"sm",onClick:Z,disabled:!d.hasPreviousPage,children:[r.jsx(At,{className:"w-4 h-4"}),t?"السابق":"Previous"]}),r.jsx("div",{className:"flex items-center gap-1",children:r.jsxs("span",{className:"text-sm text-muted-foreground",children:[t?"صفحة":"Page"," ",v," ",t?"من":"of"," ",d.totalPages]})}),r.jsxs(B,{variant:"outline",size:"sm",onClick:D,disabled:!d.hasNextPage,children:[t?"التالي":"Next",r.jsx(Nt,{className:"w-4 h-4"})]})]})]})]})})},jte=()=>{const e=lr(),{isRTL:t}=rt(),n=rr(),{data:s=[],isLoading:a,isError:i,refetch:o}=qe({queryKey:["post-types","dropdown"],queryFn:()=>ia.getPostTypesDropdown(),retry:2,staleTime:5*60*1e3}),{data:l=[],isLoading:d,isError:u,refetch:h}=qe({queryKey:["providers","dropdown"],queryFn:()=>Fa.getProvidersDropdown(t?"ar":"en"),retry:2,staleTime:5*60*1e3}),{data:m=[],isLoading:p,isError:g}=qe({queryKey:["languages","dropdown"],queryFn:()=>ir.getLanguagesDropdown(),retry:2,staleTime:10*60*1e3}),y=it({mutationFn:Dc.createPostWithMedia,onSuccess:()=>{n.invalidateQueries({queryKey:["posts"]}),be.success(t?"تم إنشاء المنشور بنجاح":"Post created successfully"),e("/posts")},onError:M=>{be.error(M.message||(t?"فشل في إنشاء المنشور":"Failed to create post"))}}),x=Wt({defaultValues:{description:"",postTypeId:0,providerId:0,isActive:!0,localizations:[],mediaUrls:[]}}),{fields:v,append:j,remove:b}=Qt({control:x.control,name:"localizations"}),{fields:S,append:C,remove:_}=Qt({control:x.control,name:"mediaUrls"}),A=async M=>{try{const z={providerId:M.providerId,description:M.description,postTypeId:M.postTypeId,isActive:M.isActive,mediaUrls:M.mediaUrls.map(F=>F.url).filter(F=>F.trim()!==""),localizations:M.localizations.filter(F=>F.languageId>0&&F.descriptionLocalized.trim()!=="")};await y.mutateAsync(z)}catch{}},k=()=>{j({languageId:0,descriptionLocalized:"",isActive:!0})},T=()=>{C({url:""})},O=()=>{e("/posts")};return r.jsx(lt,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:t?"إضافة منشور جديد":"Add New Post"}),r.jsx("p",{className:"text-muted-foreground",children:t?"إنشاء منشور جديد مع الصور والتفاصيل":"Create a new post with images and details"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(B,{variant:"outline",size:"sm",onClick:()=>{o(),h()},disabled:a||d,className:"gap-2",children:[a||d?r.jsx(dn,{className:"w-4 h-4 animate-spin"}):r.jsx(OS,{className:"w-4 h-4"}),a||d?t?"جارٍ التحديث...":"Refreshing...":t?"تحديث البيانات":"Refresh Data"]}),r.jsxs(B,{variant:"ghost",size:"sm",onClick:O,className:"gap-2",children:[r.jsx(Gt,{className:"w-4 h-4"}),t?"رجوع":"Back"]})]})]}),r.jsx(Kt,{...x,children:r.jsxs("form",{onSubmit:x.handleSubmit(A),className:"space-y-6",children:[r.jsxs(Y,{children:[r.jsx(Pe,{children:r.jsxs(Ie,{className:"flex items-center gap-2",children:[r.jsx(Sl,{className:"w-5 h-5"}),t?"المعلومات الأساسية":"Basic Information"]})}),r.jsxs(ee,{className:"space-y-4",children:[r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsx(ae,{control:x.control,name:"postTypeId",rules:{required:t?"نوع المنشور مطلوب":"Post type is required",validate:M=>M>0||(t?"يرجى اختيار نوع المنشور":"Please select a post type")},render:({field:M})=>{var z;return r.jsxs(ne,{children:[r.jsxs(re,{className:"flex items-center gap-2",children:[r.jsx(xi,{className:"w-4 h-4"}),t?"نوع المنشور":"Post Type",a&&r.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",t?"جارٍ التحميل...":"Loading...",")"]})]}),r.jsxs(ut,{value:((z=M.value)==null?void 0:z.toString())||"",onValueChange:F=>M.onChange(parseInt(F)),disabled:a,children:[r.jsx(se,{children:r.jsx(ct,{children:r.jsx(mt,{placeholder:a?t?"جارٍ تحميل الأنواع...":"Loading types...":i?t?"خطأ في التحميل":"Error loading":s.length===0?t?"لا توجد أنواع متاحة":"No types available":t?"اختر نوع المنشور":"Select post type"})})}),r.jsx(dt,{children:i?r.jsxs("div",{className:"p-2 text-sm text-destructive",children:[t?"فشل في تحميل أنواع المنشورات":"Failed to load post types",r.jsx(B,{variant:"ghost",size:"sm",onClick:()=>o(),className:"mt-2 w-full text-xs",children:t?"إعادة المحاولة":"Retry"})]}):s.length===0&&!a?r.jsx("div",{className:"p-2 text-sm text-muted-foreground",children:t?"لا توجد أنواع منشورات متاحة":"No post types available"}):s.map(F=>r.jsx(Ye,{value:F.id.toString(),children:r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"font-medium",children:F.name}),F.description&&r.jsx("span",{className:"text-xs text-muted-foreground",children:F.description})]})},F.id))})]}),r.jsx(fe,{}),i&&r.jsx("p",{className:"text-xs text-destructive",children:t?"تعذر تحميل أنواع المنشورات. يرجى المحاولة مرة أخرى.":"Failed to load post types. Please try again."})]})}}),r.jsx(ae,{control:x.control,name:"providerId",rules:{required:t?"مقدم الخدمة مطلوب":"Provider is required",validate:M=>M>0||(t?"يرجى اختيار مقدم خدمة":"Please select a provider")},render:({field:M})=>{var z;return r.jsxs(ne,{children:[r.jsxs(re,{className:"flex items-center gap-2",children:[r.jsx(Ai,{className:"w-4 h-4"}),t?"مقدم الخدمة":"Provider",d&&r.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",t?"جارٍ التحميل...":"Loading...",")"]})]}),r.jsxs(ut,{value:((z=M.value)==null?void 0:z.toString())||"",onValueChange:F=>M.onChange(parseInt(F)),disabled:d,children:[r.jsx(se,{children:r.jsx(ct,{children:r.jsx(mt,{placeholder:d?t?"جارٍ تحميل مقدمي الخدمة...":"Loading providers...":u?t?"خطأ في التحميل":"Error loading":l.length===0?t?"لا يوجد مقدمو خدمة":"No providers available":t?"اختر مقدم الخدمة":"Select provider"})})}),r.jsx(dt,{children:u?r.jsxs("div",{className:"p-2 text-sm text-destructive",children:[t?"فشل في تحميل مقدمي الخدمة":"Failed to load providers",r.jsx(B,{variant:"ghost",size:"sm",onClick:()=>h(),className:"mt-2 w-full text-xs",children:t?"إعادة المحاولة":"Retry"})]}):l.length===0&&!d?r.jsx("div",{className:"p-2 text-sm text-muted-foreground",children:t?"لا يوجد مقدمو خدمة متاحون":"No providers available"}):l.map(F=>r.jsx(Ye,{value:F.userId.toString(),children:r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"font-medium",children:F.businessName}),F.phoneNumber&&r.jsx("span",{className:"text-xs text-muted-foreground",children:F.phoneNumber})]})},F.userId))})]}),r.jsx(fe,{}),u&&r.jsx("p",{className:"text-xs text-destructive",children:t?"تعذر تحميل مقدمي الخدمة. يرجى المحاولة مرة أخرى.":"Failed to load providers. Please try again."})]})}})]}),r.jsx(ae,{control:x.control,name:"description",rules:{required:t?"الوصف مطلوب":"Description is required"},render:({field:M})=>r.jsxs(ne,{children:[r.jsx(re,{children:t?"الوصف":"Description"}),r.jsx(se,{children:r.jsx(Pt,{...M,rows:6,placeholder:t?"اكتب وصف المنشور...":"Write post description..."})}),r.jsx(fe,{})]})}),r.jsx(ae,{control:x.control,name:"isActive",render:({field:M})=>r.jsxs(ne,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[r.jsxs("div",{className:"space-y-0.5",children:[r.jsx(re,{className:"text-base",children:t?"مفعل":"Active"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:t?"تفعيل أو إلغاء تفعيل المنشور":"Enable or disable the post"})]}),r.jsx(se,{children:r.jsx(Ct,{checked:M.value,onCheckedChange:M.onChange})})]})})]})]}),r.jsxs(Y,{children:[r.jsx(Pe,{children:r.jsxs(Ie,{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(No,{className:"w-5 h-5"}),t?"الصور":"Images"]}),r.jsxs(B,{type:"button",variant:"outline",size:"sm",onClick:T,children:[r.jsx(ot,{className:"w-4 h-4 mr-2"}),t?"إضافة صورة":"Add Image"]})]})}),r.jsx(ee,{className:"space-y-4",children:S.length===0?r.jsx("div",{className:"text-center py-8 text-muted-foreground",children:t?'لا توجد صور حتى الآن. اضغط "إضافة صورة" لبدء إضافة الصور.':'No images added yet. Click "Add Image" to start adding images.'}):S.map((M,z)=>r.jsxs(Y,{className:"border-2 border-dashed",children:[r.jsx(Pe,{className:"pb-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h4",{className:"font-medium",children:[t?"صورة":"Image"," ",z+1]}),r.jsx(B,{type:"button",variant:"ghost",size:"sm",onClick:()=>_(z),children:r.jsx(xt,{className:"w-4 h-4"})})]})}),r.jsx(ee,{children:r.jsx(ae,{control:x.control,name:`mediaUrls.${z}.url`,render:({field:F})=>r.jsxs(ne,{children:[r.jsx(re,{children:t?"رابط الصورة":"Image URL"}),r.jsx(se,{children:r.jsx(Co,{value:F.value,onChange:F.onChange,folder:"posts",placeholder:"https://example.com/image.jpg"})}),r.jsx(fe,{})]})})})]},M.id))})]}),r.jsxs(Y,{children:[r.jsx(Pe,{children:r.jsxs(Ie,{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Sl,{className:"w-5 h-5"}),t?"الترجمات":"Localizations"]}),r.jsxs(B,{type:"button",variant:"outline",size:"sm",onClick:k,children:[r.jsx(ot,{className:"w-4 h-4 mr-2"}),t?"إضافة ترجمة":"Add Translation"]})]})}),r.jsx(ee,{className:"space-y-4",children:v.length===0?r.jsx("div",{className:"text-center py-8 text-muted-foreground",children:t?'لا توجد ترجمات حتى الآن. اضغط "إضافة ترجمة" لبدء إضافة المحتوى المترجم.':'No translations added yet. Click "Add Translation" to start adding localized content.'}):v.map((M,z)=>r.jsxs(Y,{className:"border-2 border-dashed",children:[r.jsx(Pe,{className:"pb-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h4",{className:"font-medium",children:[t?"ترجمة":"Translation"," ",z+1]}),r.jsx(B,{type:"button",variant:"ghost",size:"sm",onClick:()=>b(z),children:r.jsx(xt,{className:"w-4 h-4"})})]})}),r.jsxs(ee,{className:"space-y-4",children:[r.jsx(ae,{control:x.control,name:`localizations.${z}.languageId`,rules:{required:t?"اللغة مطلوبة":"Language is required"},render:({field:F})=>{var Z;return r.jsxs(ne,{children:[r.jsx(re,{children:t?"اللغة":"Language"}),r.jsxs(ut,{value:((Z=F.value)==null?void 0:Z.toString())||"",onValueChange:D=>F.onChange(parseInt(D)),children:[r.jsx(se,{children:r.jsx(ct,{children:r.jsx(mt,{placeholder:t?"اختر اللغة":"Select language"})})}),r.jsx(dt,{children:m.map(D=>r.jsxs(Ye,{value:D.id.toString(),children:[D.name," (",D.code,")"]},D.id))})]}),r.jsx(fe,{})]})}}),r.jsx(ae,{control:x.control,name:`localizations.${z}.descriptionLocalized`,rules:{required:t?"الوصف المترجم مطلوب":"Localized description is required"},render:({field:F})=>r.jsxs(ne,{children:[r.jsx(re,{children:t?"الوصف المترجم":"Localized Description"}),r.jsx(se,{children:r.jsx(Pt,{...F,rows:4,placeholder:t?"الوصف المترجم للمنشور...":"Localized post description..."})}),r.jsx(fe,{})]})}),r.jsx(ae,{control:x.control,name:`localizations.${z}.isActive`,render:({field:F})=>r.jsxs(ne,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[r.jsx("div",{className:"space-y-0.5",children:r.jsx(re,{className:"text-sm",children:t?"الترجمة نشطة":"Active Translation"})}),r.jsx(se,{children:r.jsx(Ct,{checked:F.value,onCheckedChange:F.onChange})})]})})]})]},M.id))})]}),r.jsx(Y,{children:r.jsx(ee,{className:"pt-6",children:r.jsxs("div",{className:"flex items-center gap-4 justify-end",children:[r.jsx(B,{type:"button",variant:"outline",onClick:O,disabled:y.isPending,children:t?"إلغاء":"Cancel"}),r.jsxs(B,{type:"submit",disabled:y.isPending,className:"gap-2",children:[r.jsx(ln,{className:"w-4 h-4"}),y.isPending?t?"جارٍ الإنشاء...":"Creating...":t?"إنشاء منشور":"Create Post"]})]})})})]})})]})})},bte=()=>{const{id:e}=Io(),t=lr(),{isRTL:n}=rt(),{data:s,isLoading:a,error:i,refetch:o}=qe({queryKey:["post",e],queryFn:()=>Dc.getPostById(Number(e)),enabled:!!e}),l=()=>{t("/posts")},d=()=>{t(`/posts/${e}/edit`)},u=g=>r.jsxs(Me,{variant:g?"default":"secondary",className:"flex items-center gap-1",children:[g?r.jsx(Un,{className:"w-3 h-3"}):r.jsx(ho,{className:"w-3 h-3"}),g?n?"نشط":"Active":n?"غير نشط":"Inactive"]}),h=g=>new Date(g).toLocaleDateString(n?"ar":"en",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),m=g=>{if(n){const y=g.localizations.find(x=>x.languageCode==="ar");return(y==null?void 0:y.descriptionLocalized)||g.description}return g.description},p=({label:g,value:y,icon:x})=>r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[x,g]}),r.jsx("div",{className:"text-sm bg-muted/50 p-3 rounded-md border",children:y||(n?"غير محدد":"Not specified")})]});return a?r.jsx(lt,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(Qe,{className:"h-9 w-20"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Qe,{className:"h-8 w-64"}),r.jsx(Qe,{className:"h-4 w-96"})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs(Y,{children:[r.jsx(Pe,{children:r.jsx(Qe,{className:"h-6 w-48"})}),r.jsx(ee,{className:"space-y-4",children:r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsx(Qe,{className:"h-16"}),r.jsx(Qe,{className:"h-16"})]})})]}),r.jsxs(Y,{children:[r.jsx(Pe,{children:r.jsx(Qe,{className:"h-6 w-48"})}),r.jsx(ee,{children:r.jsx(Qe,{className:"h-32"})})]})]})]})}):i?r.jsx(lt,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex items-center gap-4",children:r.jsxs(B,{variant:"ghost",size:"sm",onClick:l,className:"gap-2",children:[r.jsx(Gt,{className:"w-4 h-4"}),n?"رجوع":"Back"]})}),r.jsxs(wn,{variant:"destructive",children:[r.jsx(Ks,{className:"h-4 w-4"}),r.jsxs(Nn,{className:"flex items-center justify-between",children:[r.jsx("span",{children:i instanceof Error?i.message:n?"فشل في تحميل تفاصيل المنشور":"Failed to load post details"}),r.jsxs(B,{variant:"outline",size:"sm",onClick:()=>o(),className:"ml-2",children:[r.jsx(dn,{className:"w-4 h-4 mr-2"}),n?"إعادة المحاولة":"Retry"]})]})]})]})}):s?r.jsx(lt,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:n?"تفاصيل المنشور":"Post Details"}),r.jsx("p",{className:"text-muted-foreground",children:n?`منشور #${s.id} - ${s.postTypeName}`:`Post #${s.id} - ${s.postTypeName}`})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(B,{variant:"ghost",size:"sm",onClick:l,className:"gap-2",children:[r.jsx(Gt,{className:"w-4 h-4"}),n?"رجوع":"Back"]}),r.jsxs(B,{onClick:d,className:"gap-2",children:[r.jsx(tr,{className:"w-4 h-4"}),n?"تعديل":"Edit"]})]})]}),r.jsx(Y,{className:"border-0 shadow-elegant",children:r.jsx(ee,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"flex items-center gap-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-16 h-16 rounded-lg bg-gradient-to-br from-primary/10 to-primary/5 flex items-center justify-center border border-border/20",children:r.jsx(yc,{className:"w-8 h-8 text-primary/50"})}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-medium text-lg",children:n?"منشور":"Post"}),r.jsxs(Me,{variant:"outline",children:["#",s.id]})]}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[s.postTypeName," • ",n?"بواسطة مستخدم":"by User"," #",s.userId]})]})]})}),r.jsxs("div",{className:"flex items-center gap-4",children:[u(s.isActive),r.jsxs(Me,{variant:"outline",className:"gap-1",children:[r.jsx(bf,{className:"w-3 h-3 text-red-500"}),s.numberOfReactions," ",n?"تفاعل":"reactions"]}),r.jsxs(Me,{variant:"outline",className:"gap-1",children:[r.jsx(qt,{className:"w-3 h-3"}),s.localizations.length," ",n?"ترجمة":"translations"]})]})]})})}),r.jsxs(Y,{className:"border-0 shadow-elegant",children:[r.jsx(Pe,{children:r.jsxs(Ie,{className:"flex items-center gap-2",children:[r.jsx(yc,{className:"w-5 h-5"}),n?"المعلومات الأساسية":"Basic Information"]})}),r.jsxs(ee,{className:"space-y-4",children:[r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsx(p,{label:n?"معرف المنشور":"Post ID",value:s.id.toString(),icon:r.jsx(yc,{className:"w-4 h-4"})}),r.jsx(p,{label:n?"نوع المنشور":"Post Type",value:r.jsx(Me,{variant:"outline",children:s.postTypeName}),icon:r.jsx(Sl,{className:"w-4 h-4"})})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsx(p,{label:n?"المستخدم":"User",value:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ai,{className:"w-4 h-4"}),r.jsxs("span",{children:[n?"مستخدم":"User"," #",s.userId]})]})}),r.jsx(p,{label:n?"عدد التفاعلات":"Number of Reactions",value:r.jsxs("div",{className:"flex items-center gap-2 text-lg font-semibold text-red-500",children:[r.jsx(bf,{className:"w-5 h-5"}),s.numberOfReactions]})})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsx(p,{label:n?"الحالة":"Status",value:u(s.isActive)}),r.jsx(p,{label:n?"الترجمات المتاحة":"Available Translations",value:r.jsxs(Me,{variant:"secondary",children:[s.localizations.length," ",n?"ترجمة":"translations"]})})]}),r.jsx(p,{label:n?"وصف المنشور":"Post Description",value:r.jsx("div",{className:"bg-background p-4 rounded-lg border",children:r.jsx("p",{className:"text-sm leading-relaxed",children:m(s)})})}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsx(p,{label:n?"تاريخ الإنشاء":"Created At",value:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(oo,{className:"w-4 h-4"}),h(s.createdAt)]})}),r.jsx(p,{label:n?"تاريخ التحديث":"Updated At",value:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(oo,{className:"w-4 h-4"}),h(s.updatedAt)]})})]})]})]}),r.jsxs(Y,{className:"border-0 shadow-elegant",children:[r.jsx(Pe,{children:r.jsxs(Ie,{className:"flex items-center gap-2",children:[r.jsx(Sl,{className:"w-5 h-5"}),n?"المحتوى الأصلي":"Original Content"]})}),r.jsx(ee,{children:r.jsx("div",{className:"bg-muted/50 p-6 rounded-lg border",children:r.jsx("p",{className:"text-sm leading-relaxed",children:s.description})})})]}),s.localizations&&s.localizations.length>0&&r.jsxs(Y,{className:"border-0 shadow-elegant",children:[r.jsx(Pe,{children:r.jsxs(Ie,{className:"flex items-center gap-2",children:[r.jsx($e,{className:"w-5 h-5"}),n?"الترجمات":"Localizations"]})}),r.jsx(ee,{className:"space-y-6",children:s.localizations.map(g=>r.jsxs(Y,{className:"border-2 border-dashed",children:[r.jsx(Pe,{className:"pb-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[r.jsx(qt,{className:"w-4 h-4"}),g.languageName," (",g.languageCode,")"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[u(g.isActive),r.jsxs(Me,{variant:"outline",className:"text-xs",children:["ID: ",g.id]})]})]})}),r.jsxs(ee,{className:"space-y-4",children:[r.jsx(p,{label:n?"المحتوى المترجم":"Localized Content",value:r.jsx("div",{className:"bg-background p-4 rounded-lg border",children:r.jsx("p",{className:"text-sm leading-relaxed",children:g.descriptionLocalized})})}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-muted-foreground",children:n?"تاريخ الإنشاء:":"Created:"}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.jsx(oo,{className:"w-3 h-3"}),r.jsx("span",{children:h(g.createdAt)})]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-muted-foreground",children:n?"تاريخ التحديث:":"Updated:"}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.jsx(oo,{className:"w-3 h-3"}),r.jsx("span",{children:h(g.updatedAt)})]})]})]})]})]},g.id))})]})]})}):r.jsx(lt,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex items-center gap-4",children:r.jsxs(B,{variant:"ghost",size:"sm",onClick:l,className:"gap-2",children:[r.jsx(Gt,{className:"w-4 h-4"}),n?"رجوع":"Back"]})}),r.jsxs("div",{className:"text-center py-8",children:[r.jsx(yc,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-muted-foreground",children:n?"المنشور غير موجود":"Post not found"})]})]})})},wte=()=>{const{id:e}=Io(),t=lr(),{isRTL:n}=rt(),s=rr(),{data:a=[]}=qe({queryKey:["post-types","dropdown"],queryFn:()=>ia.getPostTypesDropdown()}),{data:i=[]}=qe({queryKey:["languages","dropdown"],queryFn:()=>ir.getLanguagesDropdown()}),{data:o,isLoading:l,error:d,refetch:u}=qe({queryKey:["post",e],queryFn:()=>Dc.getPostById(Number(e)),enabled:!!e}),h=it({mutationFn:({id:S,data:C})=>Dc.updatePost(S,C),onSuccess:()=>{s.invalidateQueries({queryKey:["posts"]}),s.invalidateQueries({queryKey:["post",e]}),be.success(n?"تم تحديث المنشور بنجاح":"Post updated successfully"),t("/posts")},onError:S=>{be.error(S.message||(n?"فشل في تحديث المنشور":"Failed to update post"))}}),m=Wt({defaultValues:{description:"",numberOfReactions:0,postTypeId:0,isActive:!0,localizations:[]}});R.useEffect(()=>{o&&m.reset({description:o.description,numberOfReactions:o.numberOfReactions,postTypeId:o.postTypeId,isActive:o.isActive,localizations:o.localizations.map(S=>({id:S.id,languageId:S.languageId,descriptionLocalized:S.descriptionLocalized,isActive:S.isActive}))})},[o,m]);const{fields:p,append:g,remove:y}=Qt({control:m.control,name:"localizations"}),x=async S=>{if(e)try{const C={description:S.description,numberOfReactions:S.numberOfReactions,postTypeId:S.postTypeId,isActive:S.isActive,localizations:S.localizations};await h.mutateAsync({id:Number(e),data:C})}catch{}},v=()=>{g({languageId:0,descriptionLocalized:"",isActive:!0})},j=()=>{t("/posts")},b=()=>{t("/posts")};return l?r.jsx(lt,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(Qe,{className:"h-9 w-20"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Qe,{className:"h-8 w-64"}),r.jsx(Qe,{className:"h-4 w-96"})]})]}),r.jsx("div",{className:"space-y-6",children:[1,2,3].map(S=>r.jsxs(Y,{children:[r.jsx(Pe,{children:r.jsx(Qe,{className:"h-6 w-48"})}),r.jsxs(ee,{className:"space-y-4",children:[r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsx(Qe,{className:"h-10"}),r.jsx(Qe,{className:"h-10"})]}),r.jsx(Qe,{className:"h-24"})]})]},S))})]})}):d?r.jsx(lt,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex items-center gap-4",children:r.jsxs(B,{variant:"ghost",size:"sm",onClick:b,className:"gap-2",children:[r.jsx(Gt,{className:"w-4 h-4"}),n?"رجوع":"Back"]})}),r.jsxs(wn,{variant:"destructive",children:[r.jsx(Ks,{className:"h-4 w-4"}),r.jsxs(Nn,{className:"flex items-center justify-between",children:[r.jsx("span",{children:d instanceof Error?d.message:n?"فشل في تحميل تفاصيل المنشور":"Failed to load post details"}),r.jsxs(B,{variant:"outline",size:"sm",onClick:()=>u(),className:"ml-2",children:[r.jsx(dn,{className:"w-4 h-4 mr-2"}),n?"إعادة المحاولة":"Retry"]})]})]})]})}):o?r.jsx(lt,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:n?"تعديل المنشور":"Edit Post"}),r.jsx("p",{className:"text-muted-foreground",children:n?`تعديل المنشور #${o.id}`:`Edit post #${o.id}`})]}),r.jsxs(B,{variant:"ghost",size:"sm",onClick:j,className:"gap-2",children:[r.jsx(Gt,{className:"w-4 h-4"}),n?"رجوع":"Back"]})]}),r.jsx(Kt,{...m,children:r.jsxs("form",{onSubmit:m.handleSubmit(x),className:"space-y-6",children:[r.jsxs(Y,{className:"border-0 shadow-elegant",children:[r.jsx(Pe,{children:r.jsxs(Ie,{className:"flex items-center gap-2",children:[r.jsx(yc,{className:"w-5 h-5"}),n?"المعلومات الأساسية":"Basic Information"]})}),r.jsxs(ee,{className:"space-y-4",children:[r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[r.jsx(Ai,{className:"w-4 h-4"}),n?"المستخدم":"User"]}),r.jsxs("div",{className:"text-sm bg-muted/50 p-3 rounded-md border",children:[n?"مستخدم":"User"," #",o.userId]})]}),r.jsx(ae,{control:m.control,name:"postTypeId",rules:{required:n?"نوع المنشور مطلوب":"Post type is required",validate:S=>S>0||(n?"يرجى اختيار نوع المنشور":"Please select a post type")},render:({field:S})=>{var C;return r.jsxs(ne,{children:[r.jsxs(re,{className:"flex items-center gap-2",children:[r.jsx(Sl,{className:"w-4 h-4"}),n?"نوع المنشور":"Post Type"]}),r.jsxs(ut,{value:((C=S.value)==null?void 0:C.toString())||"",onValueChange:_=>S.onChange(parseInt(_)),children:[r.jsx(se,{children:r.jsx(ct,{children:r.jsx(mt,{placeholder:n?"اختر نوع المنشور":"Select post type"})})}),r.jsx(dt,{children:a.map(_=>r.jsx(Ye,{value:_.id.toString(),children:_.name},_.id))})]}),r.jsx(fe,{})]})}})]}),r.jsx(ae,{control:m.control,name:"description",rules:{required:n?"وصف المنشور مطلوب":"Post description is required"},render:({field:S})=>r.jsxs(ne,{children:[r.jsx(re,{children:n?"وصف المنشور":"Post Description"}),r.jsx(se,{children:r.jsx(Pt,{...S,rows:4})}),r.jsx(fe,{})]})}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsx(ae,{control:m.control,name:"numberOfReactions",render:({field:S})=>r.jsxs(ne,{children:[r.jsxs(re,{className:"flex items-center gap-2",children:[r.jsx(bf,{className:"w-4 h-4"}),n?"عدد التفاعلات":"Number of Reactions"]}),r.jsx(se,{children:r.jsx(Oe,{...S,type:"number",min:"0",onChange:C=>S.onChange(parseInt(C.target.value)||0)})}),r.jsx(fe,{})]})}),r.jsx(ae,{control:m.control,name:"isActive",render:({field:S})=>r.jsxs(ne,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[r.jsxs("div",{className:"space-y-0.5",children:[r.jsx(re,{className:"text-base",children:n?"مفعل":"Active"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:n?"تفعيل أو إلغاء تفعيل المنشور":"Enable or disable the post"})]}),r.jsx(se,{children:r.jsx(Ct,{checked:S.value,onCheckedChange:S.onChange})})]})})]})]})]}),r.jsxs(Y,{className:"border-0 shadow-elegant",children:[r.jsx(Pe,{children:r.jsxs(Ie,{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx($e,{className:"w-5 h-5"}),n?"الترجمات":"Localizations"]}),r.jsxs(B,{type:"button",variant:"outline",size:"sm",onClick:v,children:[r.jsx(ot,{className:"w-4 h-4 mr-2"}),n?"إضافة ترجمة":"Add Translation"]})]})}),r.jsx(ee,{className:"space-y-4",children:p.length===0?r.jsx("div",{className:"text-center py-8 text-muted-foreground",children:n?'لا توجد ترجمات حتى الآن. اضغط "إضافة ترجمة" لبدء إضافة المحتوى المترجم.':'No translations added yet. Click "Add Translation" to start adding localized content.'}):p.map((S,C)=>r.jsxs(Y,{className:"border-2 border-dashed",children:[r.jsx(Pe,{className:"pb-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h4",{className:"font-medium",children:[n?"ترجمة":"Translation"," ",C+1,m.watch(`localizations.${C}.id`)&&r.jsxs("span",{className:"ml-2 text-xs text-muted-foreground",children:["(ID: ",m.watch(`localizations.${C}.id`),")"]})]}),r.jsx(B,{type:"button",variant:"ghost",size:"sm",onClick:()=>y(C),children:r.jsx(xt,{className:"w-4 h-4"})})]})}),r.jsxs(ee,{className:"space-y-4",children:[r.jsx(ae,{control:m.control,name:`localizations.${C}.languageId`,rules:{required:n?"اللغة مطلوبة":"Language is required"},render:({field:_})=>{var A;return r.jsxs(ne,{children:[r.jsx(re,{children:n?"اللغة":"Language"}),r.jsxs(ut,{value:((A=_.value)==null?void 0:A.toString())||"",onValueChange:k=>_.onChange(parseInt(k)),children:[r.jsx(se,{children:r.jsx(ct,{children:r.jsx(mt,{placeholder:n?"اختر اللغة":"Select language"})})}),r.jsx(dt,{children:i.map(k=>r.jsxs(Ye,{value:k.id.toString(),children:[k.name," (",k.code,")"]},k.id))})]}),r.jsx(fe,{})]})}}),r.jsx(ae,{control:m.control,name:`localizations.${C}.descriptionLocalized`,rules:{required:n?"الوصف المترجم مطلوب":"Localized description is required"},render:({field:_})=>r.jsxs(ne,{children:[r.jsx(re,{children:n?"الوصف المترجم":"Localized Description"}),r.jsx(se,{children:r.jsx(Pt,{..._,rows:3})}),r.jsx(fe,{})]})}),r.jsx(ae,{control:m.control,name:`localizations.${C}.isActive`,render:({field:_})=>r.jsxs(ne,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[r.jsx("div",{className:"space-y-0.5",children:r.jsx(re,{className:"text-sm",children:n?"ترجمة مفعلة":"Active Translation"})}),r.jsx(se,{children:r.jsx(Ct,{checked:_.value,onCheckedChange:_.onChange})})]})})]})]},S.id))})]}),r.jsx(Y,{className:"border-0 shadow-elegant",children:r.jsx(ee,{className:"pt-6",children:r.jsxs("div",{className:"flex items-center gap-4 justify-end",children:[r.jsx(B,{type:"button",variant:"outline",onClick:j,disabled:h.isPending,children:n?"إلغاء":"Cancel"}),r.jsxs(B,{type:"submit",disabled:h.isPending,className:"gap-2",children:[r.jsx(ln,{className:"w-4 h-4"}),h.isPending?n?"جارٍ التحديث...":"Updating...":n?"تحديث المنشور":"Update Post"]})]})})})]})})]})}):r.jsx(lt,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex items-center gap-4",children:r.jsxs(B,{variant:"ghost",size:"sm",onClick:b,className:"gap-2",children:[r.jsx(Gt,{className:"w-4 h-4"}),n?"رجوع":"Back"]})}),r.jsxs("div",{className:"text-center py-8",children:[r.jsx(yc,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-muted-foreground",children:n?"المنشور غير موجود":"Post not found"})]})]})})};delete Kl.Icon.Default.prototype._getIconUrl;Kl.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const Nte=({position:e,onLocationSelect:t})=>(E_({click(n){t(n.latlng.lat,n.latlng.lng)}}),e?r.jsx(Of,{position:e}):null),Ste=()=>{const{isRTL:e}=rt(),{toast:t}=BM(),[n,s]=N.useState(null),[a,i]=N.useState({lat:"",lng:""}),[o,l]=N.useState(""),[d,u]=N.useState([]),[h,m]=N.useState(!1),[p,g]=N.useState([24.7136,46.6753]),[y,x]=N.useState(13),v=[24.7136,46.6753],j=N.useCallback(async k=>{if(!k.trim()||k.length<3){u([]);return}m(!0);try{const T=await fetch("https://nominatim.openstreetmap.org/search?"+new URLSearchParams({q:k,format:"json",limit:"5",countrycodes:"sa,ae,kw,qa,bh,om,jo,eg,lb,sy,iq",addressdetails:"1"}));if(T.ok){const O=await T.json();u(O)}else throw new Error("Search failed")}catch{t({title:e?"خطأ في البحث":"Search Error",description:e?"فشل البحث عن الأماكن. يرجى المحاولة مرة أخرى.":"Failed to search for places. Please try again.",variant:"destructive"})}finally{m(!1)}},[e,t]);N.useEffect(()=>{const k=setTimeout(()=>{j(o)},500);return()=>clearTimeout(k)},[o,j]);const b=(k,T)=>{s([k,T]),i({lat:k.toFixed(6),lng:T.toFixed(6)}),t({title:e?"تم تحديد الموقع":"Location Selected",description:e?`خط العرض: ${k.toFixed(6)}, خط الطول: ${T.toFixed(6)}`:`Latitude: ${k.toFixed(6)}, Longitude: ${T.toFixed(6)}`})},S=k=>{const T=parseFloat(k.lat),O=parseFloat(k.lon),M=[T,O];s(M),g(M),x(15),i({lat:T.toFixed(6),lng:O.toFixed(6)}),l(k.display_name),u([]),t({title:e?"تم اختيار المكان":"Place Selected",description:k.display_name})},C=(k,T)=>{i(z=>({...z,[k]:T}));const O=parseFloat(k==="lat"?T:a.lat),M=parseFloat(k==="lng"?T:a.lng);!isNaN(O)&&!isNaN(M)&&s([O,M])},_=()=>{if(n){const k=`${a.lat}, ${a.lng}`;navigator.clipboard.writeText(k),t({title:e?"تم النسخ":"Copied",description:e?"تم نسخ الإحداثيات إلى الحافظة":"Coordinates copied to clipboard"})}},A=()=>{s(null),i({lat:"",lng:""}),l(""),u([]),g(v),x(13),t({title:e?"تم إعادة التعيين":"Reset",description:e?"تم مسح التحديد":"Selection cleared"})};return r.jsx(lt,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-foreground",children:e?"محدد المواقع":"Location Selector"}),r.jsx("p",{className:"text-muted-foreground",children:e?"انقر على الخريطة لتحديد موقع والحصول على الإحداثيات":"Click on the map to select a location and get coordinates"})]}),r.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[r.jsxs(Y,{className:"border-0 shadow-elegant lg:col-span-2",children:[r.jsx(Pe,{children:r.jsxs(Ie,{className:"flex items-center gap-2",children:[r.jsx(zt,{className:"h-5 w-5 text-primary"}),e?"الخريطة التفاعلية":"Interactive Map"]})}),r.jsx(ee,{className:"p-0",children:r.jsx("div",{className:"h-[500px] w-full relative rounded-b-lg overflow-hidden",children:r.jsxs(Tf,{center:p,zoom:y,style:{height:"100%",width:"100%"},children:[r.jsx(If,{attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),r.jsx(Nte,{position:n,onLocationSelect:b})]},`${p[0]}-${p[1]}-${y}`)})})]}),r.jsxs(Y,{className:"border-0 shadow-elegant",children:[r.jsx(Pe,{children:r.jsxs(Ie,{className:"flex items-center gap-2",children:[r.jsx(zt,{className:"h-5 w-5 text-primary"}),e?"الإحداثيات":"Coordinates"]})}),r.jsxs(ee,{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(br,{htmlFor:"place-search",children:e?"البحث عن مكان":"Search for a place"}),r.jsxs("div",{className:"relative",children:[r.jsx(Qr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),h&&r.jsx(dn,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 animate-spin text-muted-foreground"}),r.jsx(Oe,{id:"place-search",value:o,onChange:k=>l(k.target.value),placeholder:e?"ابحث عن مكان...":"Search for a place...",className:"pl-10 pr-10"})]}),d.length>0&&r.jsx("div",{className:"max-h-48 overflow-y-auto border rounded-lg bg-background",children:d.map(k=>r.jsx("div",{className:"p-3 hover:bg-muted cursor-pointer border-b last:border-b-0 transition-colors",onClick:()=>S(k),children:r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(zt,{className:"h-4 w-4 text-muted-foreground mt-0.5 flex-shrink-0"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-medium truncate",children:k.display_name.split(",")[0]}),r.jsx("p",{className:"text-xs text-muted-foreground truncate",children:k.display_name})]})]})},k.place_id))})]}),r.jsx(li,{}),n&&r.jsxs("div",{className:"p-4 rounded-lg bg-primary/10 border border-primary/20",children:[r.jsx("h3",{className:"font-medium text-primary mb-2",children:e?"الموقع المحدد":"Selected Location"}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[r.jsx("strong",{children:e?"خط العرض:":"Latitude:"})," ",a.lat]}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[r.jsx("strong",{children:e?"خط الطول:":"Longitude:"})," ",a.lng]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx(br,{htmlFor:"latitude",children:e?"خط العرض (Latitude)":"Latitude"}),r.jsx(Oe,{id:"latitude",type:"number",step:"any",value:a.lat,onChange:k=>C("lat",k.target.value),placeholder:e?"أدخل خط العرض":"Enter latitude"})]}),r.jsxs("div",{children:[r.jsx(br,{htmlFor:"longitude",children:e?"خط الطول (Longitude)":"Longitude"}),r.jsx(Oe,{id:"longitude",type:"number",step:"any",value:a.lng,onChange:k=>C("lng",k.target.value),placeholder:e?"أدخل خط الطول":"Enter longitude"})]})]}),r.jsx(li,{}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs(B,{onClick:_,disabled:!n,className:"w-full",variant:"outline",children:[r.jsx(jf,{className:"h-4 w-4 mr-2"}),e?"نسخ الإحداثيات":"Copy Coordinates"]}),r.jsxs(B,{onClick:A,disabled:!n,className:"w-full",variant:"outline",children:[r.jsx(IS,{className:"h-4 w-4 mr-2"}),e?"إعادة تعيين":"Reset"]})]}),r.jsxs("div",{className:"p-3 rounded-lg bg-muted/30",children:[r.jsx("h4",{className:"font-medium text-sm mb-2",children:e?"كيفية الاستخدام:":"How to use:"}),r.jsxs("ul",{className:"text-xs text-muted-foreground space-y-1",children:[r.jsx("li",{children:e?"• ابحث عن مكان بالاسم في خانة البحث":"• Search for places by name in the search box"}),r.jsx("li",{children:e?"• انقر في أي مكان على الخريطة لتحديد موقع":"• Click anywhere on the map to select a location"}),r.jsx("li",{children:e?"• أو أدخل الإحداثيات يدوياً":"• Or enter coordinates manually"}),r.jsx("li",{children:e?"• استخدم زر النسخ لنسخ الإحداثيات":"• Use copy button to copy coordinates"})]})]})]})]})]})]})})};var _te=Array.isArray,Ps=_te,Cte=typeof Ah=="object"&&Ah&&Ah.Object===Object&&Ah,Cz=Cte,Pte=Cz,Ate=typeof self=="object"&&self&&self.Object===Object&&self,kte=Pte||Ate||Function("return this")(),Oi=kte,Ete=Oi,Tte=Ete.Symbol,Rp=Tte,a3=Rp,Pz=Object.prototype,Ote=Pz.hasOwnProperty,Ite=Pz.toString,vh=a3?a3.toStringTag:void 0;function Mte(e){var t=Ote.call(e,vh),n=e[vh];try{e[vh]=void 0;var s=!0}catch{}var a=Ite.call(e);return s&&(t?e[vh]=n:delete e[vh]),a}var Lte=Mte,$te=Object.prototype,Dte=$te.toString;function Rte(e){return Dte.call(e)}var zte=Rte,i3=Rp,Fte=Lte,Bte=zte,qte="[object Null]",Ute="[object Undefined]",o3=i3?i3.toStringTag:void 0;function Vte(e){return e==null?e===void 0?Ute:qte:o3&&o3 in Object(e)?Fte(e):Bte(e)}var Lo=Vte;function Wte(e){return e!=null&&typeof e=="object"}var $o=Wte,Kte=Lo,Hte=$o,Gte="[object Symbol]";function Zte(e){return typeof e=="symbol"||Hte(e)&&Kte(e)==Gte}var Am=Zte,Qte=Ps,Yte=Am,Xte=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Jte=/^\w*$/;function ere(e,t){if(Qte(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||Yte(e)?!0:Jte.test(e)||!Xte.test(e)||t!=null&&e in Object(t)}var I_=ere;function tre(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Hl=tre;const km=ar(Hl);var rre=Lo,nre=Hl,sre="[object AsyncFunction]",are="[object Function]",ire="[object GeneratorFunction]",ore="[object Proxy]";function lre(e){if(!nre(e))return!1;var t=rre(e);return t==are||t==ire||t==sre||t==ore}var M_=lre;const ft=ar(M_);var cre=Oi,dre=cre["__core-js_shared__"],ure=dre,Bb=ure,l3=function(){var e=/[^.]+$/.exec(Bb&&Bb.keys&&Bb.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function mre(e){return!!l3&&l3 in e}var hre=mre,fre=Function.prototype,pre=fre.toString;function xre(e){if(e!=null){try{return pre.call(e)}catch{}try{return e+""}catch{}}return""}var Az=xre,gre=M_,vre=hre,yre=Hl,jre=Az,bre=/[\\^$.*+?()[\]{}|]/g,wre=/^\[object .+?Constructor\]$/,Nre=Function.prototype,Sre=Object.prototype,_re=Nre.toString,Cre=Sre.hasOwnProperty,Pre=RegExp("^"+_re.call(Cre).replace(bre,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Are(e){if(!yre(e)||vre(e))return!1;var t=gre(e)?Pre:wre;return t.test(jre(e))}var kre=Are;function Ere(e,t){return e==null?void 0:e[t]}var Tre=Ere,Ore=kre,Ire=Tre;function Mre(e,t){var n=Ire(e,t);return Ore(n)?n:void 0}var md=Mre,Lre=md,$re=Lre(Object,"create"),b0=$re,c3=b0;function Dre(){this.__data__=c3?c3(null):{},this.size=0}var Rre=Dre;function zre(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Fre=zre,Bre=b0,qre="__lodash_hash_undefined__",Ure=Object.prototype,Vre=Ure.hasOwnProperty;function Wre(e){var t=this.__data__;if(Bre){var n=t[e];return n===qre?void 0:n}return Vre.call(t,e)?t[e]:void 0}var Kre=Wre,Hre=b0,Gre=Object.prototype,Zre=Gre.hasOwnProperty;function Qre(e){var t=this.__data__;return Hre?t[e]!==void 0:Zre.call(t,e)}var Yre=Qre,Xre=b0,Jre="__lodash_hash_undefined__";function ene(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Xre&&t===void 0?Jre:t,this}var tne=ene,rne=Rre,nne=Fre,sne=Kre,ane=Yre,ine=tne;function Em(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var s=e[t];this.set(s[0],s[1])}}Em.prototype.clear=rne;Em.prototype.delete=nne;Em.prototype.get=sne;Em.prototype.has=ane;Em.prototype.set=ine;var one=Em;function lne(){this.__data__=[],this.size=0}var cne=lne;function dne(e,t){return e===t||e!==e&&t!==t}var L_=dne,une=L_;function mne(e,t){for(var n=e.length;n--;)if(une(e[n][0],t))return n;return-1}var w0=mne,hne=w0,fne=Array.prototype,pne=fne.splice;function xne(e){var t=this.__data__,n=hne(t,e);if(n<0)return!1;var s=t.length-1;return n==s?t.pop():pne.call(t,n,1),--this.size,!0}var gne=xne,vne=w0;function yne(e){var t=this.__data__,n=vne(t,e);return n<0?void 0:t[n][1]}var jne=yne,bne=w0;function wne(e){return bne(this.__data__,e)>-1}var Nne=wne,Sne=w0;function _ne(e,t){var n=this.__data__,s=Sne(n,e);return s<0?(++this.size,n.push([e,t])):n[s][1]=t,this}var Cne=_ne,Pne=cne,Ane=gne,kne=jne,Ene=Nne,Tne=Cne;function Tm(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var s=e[t];this.set(s[0],s[1])}}Tm.prototype.clear=Pne;Tm.prototype.delete=Ane;Tm.prototype.get=kne;Tm.prototype.has=Ene;Tm.prototype.set=Tne;var N0=Tm,One=md,Ine=Oi,Mne=One(Ine,"Map"),$_=Mne,d3=one,Lne=N0,$ne=$_;function Dne(){this.size=0,this.__data__={hash:new d3,map:new($ne||Lne),string:new d3}}var Rne=Dne;function zne(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Fne=zne,Bne=Fne;function qne(e,t){var n=e.__data__;return Bne(t)?n[typeof t=="string"?"string":"hash"]:n.map}var S0=qne,Une=S0;function Vne(e){var t=Une(this,e).delete(e);return this.size-=t?1:0,t}var Wne=Vne,Kne=S0;function Hne(e){return Kne(this,e).get(e)}var Gne=Hne,Zne=S0;function Qne(e){return Zne(this,e).has(e)}var Yne=Qne,Xne=S0;function Jne(e,t){var n=Xne(this,e),s=n.size;return n.set(e,t),this.size+=n.size==s?0:1,this}var ese=Jne,tse=Rne,rse=Wne,nse=Gne,sse=Yne,ase=ese;function Om(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var s=e[t];this.set(s[0],s[1])}}Om.prototype.clear=tse;Om.prototype.delete=rse;Om.prototype.get=nse;Om.prototype.has=sse;Om.prototype.set=ase;var D_=Om,kz=D_,ise="Expected a function";function R_(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(ise);var n=function(){var s=arguments,a=t?t.apply(this,s):s[0],i=n.cache;if(i.has(a))return i.get(a);var o=e.apply(this,s);return n.cache=i.set(a,o)||i,o};return n.cache=new(R_.Cache||kz),n}R_.Cache=kz;var Ez=R_;const ose=ar(Ez);var lse=Ez,cse=500;function dse(e){var t=lse(e,function(s){return n.size===cse&&n.clear(),s}),n=t.cache;return t}var use=dse,mse=use,hse=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,fse=/\\(\\)?/g,pse=mse(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(hse,function(n,s,a,i){t.push(a?i.replace(fse,"$1"):s||n)}),t}),xse=pse;function gse(e,t){for(var n=-1,s=e==null?0:e.length,a=Array(s);++n<s;)a[n]=t(e[n],n,e);return a}var z_=gse,u3=Rp,vse=z_,yse=Ps,jse=Am,bse=1/0,m3=u3?u3.prototype:void 0,h3=m3?m3.toString:void 0;function Tz(e){if(typeof e=="string")return e;if(yse(e))return vse(e,Tz)+"";if(jse(e))return h3?h3.call(e):"";var t=e+"";return t=="0"&&1/e==-bse?"-0":t}var wse=Tz,Nse=wse;function Sse(e){return e==null?"":Nse(e)}var Oz=Sse,_se=Ps,Cse=I_,Pse=xse,Ase=Oz;function kse(e,t){return _se(e)?e:Cse(e,t)?[e]:Pse(Ase(e))}var Iz=kse,Ese=Am,Tse=1/0;function Ose(e){if(typeof e=="string"||Ese(e))return e;var t=e+"";return t=="0"&&1/e==-Tse?"-0":t}var _0=Ose,Ise=Iz,Mse=_0;function Lse(e,t){t=Ise(t,e);for(var n=0,s=t.length;e!=null&&n<s;)e=e[Mse(t[n++])];return n&&n==s?e:void 0}var F_=Lse,$se=F_;function Dse(e,t,n){var s=e==null?void 0:$se(e,t);return s===void 0?n:s}var Mz=Dse;const Us=ar(Mz);function Rse(e){return e==null}var zse=Rse;const pt=ar(zse);var Fse=Lo,Bse=Ps,qse=$o,Use="[object String]";function Vse(e){return typeof e=="string"||!Bse(e)&&qse(e)&&Fse(e)==Use}var Wse=Vse;const Jc=ar(Wse);var Lz={exports:{}},hr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B_=Symbol.for("react.element"),q_=Symbol.for("react.portal"),C0=Symbol.for("react.fragment"),P0=Symbol.for("react.strict_mode"),A0=Symbol.for("react.profiler"),k0=Symbol.for("react.provider"),E0=Symbol.for("react.context"),Kse=Symbol.for("react.server_context"),T0=Symbol.for("react.forward_ref"),O0=Symbol.for("react.suspense"),I0=Symbol.for("react.suspense_list"),M0=Symbol.for("react.memo"),L0=Symbol.for("react.lazy"),Hse=Symbol.for("react.offscreen"),$z;$z=Symbol.for("react.module.reference");function wa(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case B_:switch(e=e.type,e){case C0:case A0:case P0:case O0:case I0:return e;default:switch(e=e&&e.$$typeof,e){case Kse:case E0:case T0:case L0:case M0:case k0:return e;default:return t}}case q_:return t}}}hr.ContextConsumer=E0;hr.ContextProvider=k0;hr.Element=B_;hr.ForwardRef=T0;hr.Fragment=C0;hr.Lazy=L0;hr.Memo=M0;hr.Portal=q_;hr.Profiler=A0;hr.StrictMode=P0;hr.Suspense=O0;hr.SuspenseList=I0;hr.isAsyncMode=function(){return!1};hr.isConcurrentMode=function(){return!1};hr.isContextConsumer=function(e){return wa(e)===E0};hr.isContextProvider=function(e){return wa(e)===k0};hr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===B_};hr.isForwardRef=function(e){return wa(e)===T0};hr.isFragment=function(e){return wa(e)===C0};hr.isLazy=function(e){return wa(e)===L0};hr.isMemo=function(e){return wa(e)===M0};hr.isPortal=function(e){return wa(e)===q_};hr.isProfiler=function(e){return wa(e)===A0};hr.isStrictMode=function(e){return wa(e)===P0};hr.isSuspense=function(e){return wa(e)===O0};hr.isSuspenseList=function(e){return wa(e)===I0};hr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===C0||e===A0||e===P0||e===O0||e===I0||e===Hse||typeof e=="object"&&e!==null&&(e.$$typeof===L0||e.$$typeof===M0||e.$$typeof===k0||e.$$typeof===E0||e.$$typeof===T0||e.$$typeof===$z||e.getModuleId!==void 0)};hr.typeOf=wa;Lz.exports=hr;var Gse=Lz.exports,Zse=Lo,Qse=$o,Yse="[object Number]";function Xse(e){return typeof e=="number"||Qse(e)&&Zse(e)==Yse}var Dz=Xse;const Jse=ar(Dz);var eae=Dz;function tae(e){return eae(e)&&e!=+e}var rae=tae;const Im=ar(rae);var es=function(t){return t===0?0:t>0?1:-1},bc=function(t){return Jc(t)&&t.indexOf("%")===t.length-1},Ue=function(t){return Jse(t)&&!Im(t)},nae=function(t){return pt(t)},cn=function(t){return Ue(t)||Jc(t)},sae=0,Gl=function(t){var n=++sae;return"".concat(t||"").concat(n)},ts=function(t,n){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ue(t)&&!Jc(t))return s;var i;if(bc(t)){var o=t.indexOf("%");i=n*parseFloat(t.slice(0,o))/100}else i=+t;return Im(i)&&(i=s),a&&i>n&&(i=n),i},Jo=function(t){if(!t)return null;var n=Object.keys(t);return n&&n.length?t[n[0]]:null},aae=function(t){if(!Array.isArray(t))return!1;for(var n=t.length,s={},a=0;a<n;a++)if(!s[t[a]])s[t[a]]=!0;else return!0;return!1},xr=function(t,n){return Ue(t)&&Ue(n)?function(s){return t+s*(n-t)}:function(){return n}};function vv(e,t,n){return!e||!e.length?null:e.find(function(s){return s&&(typeof t=="function"?t(s):Us(s,t))===n})}var iae=function(t){if(!t||!t.length)return null;for(var n=t.length,s=0,a=0,i=0,o=0,l=1/0,d=-1/0,u=0,h=0,m=0;m<n;m++)u=t[m].cx||0,h=t[m].cy||0,s+=u,a+=h,i+=u*h,o+=u*u,l=Math.min(l,u),d=Math.max(d,u);var p=n*o!==s*s?(n*i-s*a)/(n*o-s*s):0;return{xmin:l,xmax:d,a:p,b:(a-p*s)/n}},oae=function(t,n){return Ue(t)&&Ue(n)?t-n:Jc(t)&&Jc(n)?t.localeCompare(n):t instanceof Date&&n instanceof Date?t.getTime()-n.getTime():String(t).localeCompare(String(n))};function xu(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var s in t)if({}.hasOwnProperty.call(t,s)&&!{}.hasOwnProperty.call(e,s))return!1;return!0}function JN(e){"@babel/helpers - typeof";return JN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},JN(e)}var lae=["viewBox","children"],cae=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],f3=["points","pathLength"],qb={svg:lae,polygon:f3,polyline:f3},U_=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],yv=function(t,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(N.isValidElement(t)&&(s=t.props),!km(s))return null;var a={};return Object.keys(s).forEach(function(i){U_.includes(i)&&(a[i]=n||function(o){return s[i](s,o)})}),a},dae=function(t,n,s){return function(a){return t(n,s,a),null}},Ml=function(t,n,s){if(!km(t)||JN(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var o=t[i];U_.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=dae(o,n,s))}),a},uae=["children"],mae=["children"];function p3(e,t){if(e==null)return{};var n=hae(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function hae(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function e1(e){"@babel/helpers - typeof";return e1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e1(e)}var x3={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},fo=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},g3=null,Ub=null,V_=function e(t){if(t===g3&&Array.isArray(Ub))return Ub;var n=[];return N.Children.forEach(t,function(s){pt(s)||(Gse.isFragment(s)?n=n.concat(e(s.props.children)):n.push(s))}),Ub=n,g3=t,n};function as(e,t){var n=[],s=[];return Array.isArray(t)?s=t.map(function(a){return fo(a)}):s=[fo(t)],V_(e).forEach(function(a){var i=Us(a,"type.displayName")||Us(a,"type.name");s.indexOf(i)!==-1&&n.push(a)}),n}function Ls(e,t){var n=as(e,t);return n&&n[0]}var v3=function(t){if(!t||!t.props)return!1;var n=t.props,s=n.width,a=n.height;return!(!Ue(s)||s<=0||!Ue(a)||a<=0)},fae=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],pae=function(t){return t&&t.type&&Jc(t.type)&&fae.indexOf(t.type)>=0},Rz=function(t){return t&&e1(t)==="object"&&"clipDot"in t},xae=function(t,n,s,a){var i,o=(i=qb==null?void 0:qb[a])!==null&&i!==void 0?i:[];return n.startsWith("data-")||!ft(t)&&(a&&o.includes(n)||cae.includes(n))||s&&U_.includes(n)},tt=function(t,n,s){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(N.isValidElement(t)&&(a=t.props),!km(a))return null;var i={};return Object.keys(a).forEach(function(o){var l;xae((l=a)===null||l===void 0?void 0:l[o],o,n,s)&&(i[o]=a[o])}),i},t1=function e(t,n){if(t===n)return!0;var s=N.Children.count(t);if(s!==N.Children.count(n))return!1;if(s===0)return!0;if(s===1)return y3(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var a=0;a<s;a++){var i=t[a],o=n[a];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!y3(i,o))return!1}return!0},y3=function(t,n){if(pt(t)&&pt(n))return!0;if(!pt(t)&&!pt(n)){var s=t.props||{},a=s.children,i=p3(s,uae),o=n.props||{},l=o.children,d=p3(o,mae);return a&&l?xu(i,d)&&t1(a,l):!a&&!l?xu(i,d):!1}return!1},j3=function(t,n){var s=[],a={};return V_(t).forEach(function(i,o){if(pae(i))s.push(i);else if(i){var l=fo(i.type),d=n[l]||{},u=d.handler,h=d.once;if(u&&(!h||!a[l])){var m=u(i,l,o);s.push(m),a[l]=!0}}}),s},gae=function(t){var n=t&&t.type;return n&&x3[n]?x3[n]:null},vae=function(t,n){return V_(n).indexOf(t)},yae=["children","width","height","viewBox","className","style","title","desc"];function r1(){return r1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},r1.apply(this,arguments)}function jae(e,t){if(e==null)return{};var n=bae(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function bae(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function n1(e){var t=e.children,n=e.width,s=e.height,a=e.viewBox,i=e.className,o=e.style,l=e.title,d=e.desc,u=jae(e,yae),h=a||{width:n,height:s,x:0,y:0},m=bt("recharts-surface",i);return R.createElement("svg",r1({},tt(u,!0,"svg"),{className:m,width:n,height:s,style:o,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height)}),R.createElement("title",null,l),R.createElement("desc",null,d),t)}var wae=["children","className"];function s1(){return s1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},s1.apply(this,arguments)}function Nae(e,t){if(e==null)return{};var n=Sae(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Sae(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}var _t=R.forwardRef(function(e,t){var n=e.children,s=e.className,a=Nae(e,wae),i=bt("recharts-layer",s);return R.createElement("g",s1({className:i},tt(a,!0),{ref:t}),n)}),Ua=function(t,n){for(var s=arguments.length,a=new Array(s>2?s-2:0),i=2;i<s;i++)a[i-2]=arguments[i]};function _ae(e,t,n){var s=-1,a=e.length;t<0&&(t=-t>a?0:a+t),n=n>a?a:n,n<0&&(n+=a),a=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(a);++s<a;)i[s]=e[s+t];return i}var Cae=_ae,Pae=Cae;function Aae(e,t,n){var s=e.length;return n=n===void 0?s:n,!t&&n>=s?e:Pae(e,t,n)}var kae=Aae,Eae="\\ud800-\\udfff",Tae="\\u0300-\\u036f",Oae="\\ufe20-\\ufe2f",Iae="\\u20d0-\\u20ff",Mae=Tae+Oae+Iae,Lae="\\ufe0e\\ufe0f",$ae="\\u200d",Dae=RegExp("["+$ae+Eae+Mae+Lae+"]");function Rae(e){return Dae.test(e)}var zz=Rae;function zae(e){return e.split("")}var Fae=zae,Fz="\\ud800-\\udfff",Bae="\\u0300-\\u036f",qae="\\ufe20-\\ufe2f",Uae="\\u20d0-\\u20ff",Vae=Bae+qae+Uae,Wae="\\ufe0e\\ufe0f",Kae="["+Fz+"]",a1="["+Vae+"]",i1="\\ud83c[\\udffb-\\udfff]",Hae="(?:"+a1+"|"+i1+")",Bz="[^"+Fz+"]",qz="(?:\\ud83c[\\udde6-\\uddff]){2}",Uz="[\\ud800-\\udbff][\\udc00-\\udfff]",Gae="\\u200d",Vz=Hae+"?",Wz="["+Wae+"]?",Zae="(?:"+Gae+"(?:"+[Bz,qz,Uz].join("|")+")"+Wz+Vz+")*",Qae=Wz+Vz+Zae,Yae="(?:"+[Bz+a1+"?",a1,qz,Uz,Kae].join("|")+")",Xae=RegExp(i1+"(?="+i1+")|"+Yae+Qae,"g");function Jae(e){return e.match(Xae)||[]}var eie=Jae,tie=Fae,rie=zz,nie=eie;function sie(e){return rie(e)?nie(e):tie(e)}var aie=sie,iie=kae,oie=zz,lie=aie,cie=Oz;function die(e){return function(t){t=cie(t);var n=oie(t)?lie(t):void 0,s=n?n[0]:t.charAt(0),a=n?iie(n,1).join(""):t.slice(1);return s[e]()+a}}var uie=die,mie=uie,hie=mie("toUpperCase"),fie=hie;const $0=ar(fie);function Nr(e){return function(){return e}}const Kz=Math.cos,jv=Math.sin,Za=Math.sqrt,bv=Math.PI,D0=2*bv,o1=Math.PI,l1=2*o1,uc=1e-6,pie=l1-uc;function Hz(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function xie(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Hz;const n=10**t;return function(s){this._+=s[0];for(let a=1,i=s.length;a<i;++a)this._+=Math.round(arguments[a]*n)/n+s[a]}}class gie{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Hz:xie(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,s,a){this._append`Q${+t},${+n},${this._x1=+s},${this._y1=+a}`}bezierCurveTo(t,n,s,a,i,o){this._append`C${+t},${+n},${+s},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,n,s,a,i){if(t=+t,n=+n,s=+s,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,d=s-t,u=a-n,h=o-t,m=l-n,p=h*h+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(p>uc)if(!(Math.abs(m*d-u*h)>uc)||!i)this._append`L${this._x1=t},${this._y1=n}`;else{let g=s-o,y=a-l,x=d*d+u*u,v=g*g+y*y,j=Math.sqrt(x),b=Math.sqrt(p),S=i*Math.tan((o1-Math.acos((x+p-v)/(2*j*b)))/2),C=S/b,_=S/j;Math.abs(C-1)>uc&&this._append`L${t+C*h},${n+C*m}`,this._append`A${i},${i},0,0,${+(m*g>h*y)},${this._x1=t+_*d},${this._y1=n+_*u}`}}arc(t,n,s,a,i,o){if(t=+t,n=+n,s=+s,o=!!o,s<0)throw new Error(`negative radius: ${s}`);let l=s*Math.cos(a),d=s*Math.sin(a),u=t+l,h=n+d,m=1^o,p=o?a-i:i-a;this._x1===null?this._append`M${u},${h}`:(Math.abs(this._x1-u)>uc||Math.abs(this._y1-h)>uc)&&this._append`L${u},${h}`,s&&(p<0&&(p=p%l1+l1),p>pie?this._append`A${s},${s},0,1,${m},${t-l},${n-d}A${s},${s},0,1,${m},${this._x1=u},${this._y1=h}`:p>uc&&this._append`A${s},${s},0,${+(p>=o1)},${m},${this._x1=t+s*Math.cos(i)},${this._y1=n+s*Math.sin(i)}`)}rect(t,n,s,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${s=+s}v${+a}h${-s}Z`}toString(){return this._}}function W_(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const s=Math.floor(n);if(!(s>=0))throw new RangeError(`invalid digits: ${n}`);t=s}return e},()=>new gie(t)}function K_(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Gz(e){this._context=e}Gz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function R0(e){return new Gz(e)}function Zz(e){return e[0]}function Qz(e){return e[1]}function Yz(e,t){var n=Nr(!0),s=null,a=R0,i=null,o=W_(l);e=typeof e=="function"?e:e===void 0?Zz:Nr(e),t=typeof t=="function"?t:t===void 0?Qz:Nr(t);function l(d){var u,h=(d=K_(d)).length,m,p=!1,g;for(s==null&&(i=a(g=o())),u=0;u<=h;++u)!(u<h&&n(m=d[u],u,d))===p&&((p=!p)?i.lineStart():i.lineEnd()),p&&i.point(+e(m,u,d),+t(m,u,d));if(g)return i=null,g+""||null}return l.x=function(d){return arguments.length?(e=typeof d=="function"?d:Nr(+d),l):e},l.y=function(d){return arguments.length?(t=typeof d=="function"?d:Nr(+d),l):t},l.defined=function(d){return arguments.length?(n=typeof d=="function"?d:Nr(!!d),l):n},l.curve=function(d){return arguments.length?(a=d,s!=null&&(i=a(s)),l):a},l.context=function(d){return arguments.length?(d==null?s=i=null:i=a(s=d),l):s},l}function Bx(e,t,n){var s=null,a=Nr(!0),i=null,o=R0,l=null,d=W_(u);e=typeof e=="function"?e:e===void 0?Zz:Nr(+e),t=typeof t=="function"?t:Nr(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?Qz:Nr(+n);function u(m){var p,g,y,x=(m=K_(m)).length,v,j=!1,b,S=new Array(x),C=new Array(x);for(i==null&&(l=o(b=d())),p=0;p<=x;++p){if(!(p<x&&a(v=m[p],p,m))===j)if(j=!j)g=p,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),y=p-1;y>=g;--y)l.point(S[y],C[y]);l.lineEnd(),l.areaEnd()}j&&(S[p]=+e(v,p,m),C[p]=+t(v,p,m),l.point(s?+s(v,p,m):S[p],n?+n(v,p,m):C[p]))}if(b)return l=null,b+""||null}function h(){return Yz().defined(a).curve(o).context(i)}return u.x=function(m){return arguments.length?(e=typeof m=="function"?m:Nr(+m),s=null,u):e},u.x0=function(m){return arguments.length?(e=typeof m=="function"?m:Nr(+m),u):e},u.x1=function(m){return arguments.length?(s=m==null?null:typeof m=="function"?m:Nr(+m),u):s},u.y=function(m){return arguments.length?(t=typeof m=="function"?m:Nr(+m),n=null,u):t},u.y0=function(m){return arguments.length?(t=typeof m=="function"?m:Nr(+m),u):t},u.y1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:Nr(+m),u):n},u.lineX0=u.lineY0=function(){return h().x(e).y(t)},u.lineY1=function(){return h().x(e).y(n)},u.lineX1=function(){return h().x(s).y(t)},u.defined=function(m){return arguments.length?(a=typeof m=="function"?m:Nr(!!m),u):a},u.curve=function(m){return arguments.length?(o=m,i!=null&&(l=o(i)),u):o},u.context=function(m){return arguments.length?(m==null?i=l=null:l=o(i=m),u):i},u}class Xz{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function vie(e){return new Xz(e,!0)}function yie(e){return new Xz(e,!1)}const H_={draw(e,t){const n=Za(t/bv);e.moveTo(n,0),e.arc(0,0,n,0,D0)}},jie={draw(e,t){const n=Za(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},Jz=Za(1/3),bie=Jz*2,wie={draw(e,t){const n=Za(t/bie),s=n*Jz;e.moveTo(0,-n),e.lineTo(s,0),e.lineTo(0,n),e.lineTo(-s,0),e.closePath()}},Nie={draw(e,t){const n=Za(t),s=-n/2;e.rect(s,s,n,n)}},Sie=.8908130915292852,e8=jv(bv/10)/jv(7*bv/10),_ie=jv(D0/10)*e8,Cie=-Kz(D0/10)*e8,Pie={draw(e,t){const n=Za(t*Sie),s=_ie*n,a=Cie*n;e.moveTo(0,-n),e.lineTo(s,a);for(let i=1;i<5;++i){const o=D0*i/5,l=Kz(o),d=jv(o);e.lineTo(d*n,-l*n),e.lineTo(l*s-d*a,d*s+l*a)}e.closePath()}},Vb=Za(3),Aie={draw(e,t){const n=-Za(t/(Vb*3));e.moveTo(0,n*2),e.lineTo(-Vb*n,-n),e.lineTo(Vb*n,-n),e.closePath()}},ea=-.5,ta=Za(3)/2,c1=1/Za(12),kie=(c1/2+1)*3,Eie={draw(e,t){const n=Za(t/kie),s=n/2,a=n*c1,i=s,o=n*c1+n,l=-i,d=o;e.moveTo(s,a),e.lineTo(i,o),e.lineTo(l,d),e.lineTo(ea*s-ta*a,ta*s+ea*a),e.lineTo(ea*i-ta*o,ta*i+ea*o),e.lineTo(ea*l-ta*d,ta*l+ea*d),e.lineTo(ea*s+ta*a,ea*a-ta*s),e.lineTo(ea*i+ta*o,ea*o-ta*i),e.lineTo(ea*l+ta*d,ea*d-ta*l),e.closePath()}};function Tie(e,t){let n=null,s=W_(a);e=typeof e=="function"?e:Nr(e||H_),t=typeof t=="function"?t:Nr(t===void 0?64:+t);function a(){let i;if(n||(n=i=s()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Nr(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Nr(+i),a):t},a.context=function(i){return arguments.length?(n=i??null,a):n},a}function wv(){}function Nv(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function t8(e){this._context=e}t8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Nv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Nv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Oie(e){return new t8(e)}function r8(e){this._context=e}r8.prototype={areaStart:wv,areaEnd:wv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Nv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Iie(e){return new r8(e)}function n8(e){this._context=e}n8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,s=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,s):this._context.moveTo(n,s);break;case 3:this._point=4;default:Nv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Mie(e){return new n8(e)}function s8(e){this._context=e}s8.prototype={areaStart:wv,areaEnd:wv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Lie(e){return new s8(e)}function b3(e){return e<0?-1:1}function w3(e,t,n){var s=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(s||a<0&&-0),o=(n-e._y1)/(a||s<0&&-0),l=(i*a+o*s)/(s+a);return(b3(i)+b3(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function N3(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Wb(e,t,n){var s=e._x0,a=e._y0,i=e._x1,o=e._y1,l=(i-s)/3;e._context.bezierCurveTo(s+l,a+l*t,i-l,o-l*n,i,o)}function Sv(e){this._context=e}Sv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Wb(this,this._t0,N3(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Wb(this,N3(this,n=w3(this,e,t)),n);break;default:Wb(this,this._t0,n=w3(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function a8(e){this._context=new i8(e)}(a8.prototype=Object.create(Sv.prototype)).point=function(e,t){Sv.prototype.point.call(this,t,e)};function i8(e){this._context=e}i8.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,s,a,i){this._context.bezierCurveTo(t,e,s,n,i,a)}};function $ie(e){return new Sv(e)}function Die(e){return new a8(e)}function o8(e){this._context=e}o8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var s=S3(e),a=S3(t),i=0,o=1;o<n;++i,++o)this._context.bezierCurveTo(s[0][i],a[0][i],s[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function S3(e){var t,n=e.length-1,s,a=new Array(n),i=new Array(n),o=new Array(n);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[n-1]=2,i[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)s=a[t]/i[t-1],i[t]-=s,o[t]-=s*o[t-1];for(a[n-1]=o[n-1]/i[n-1],t=n-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[n-1]=(e[n]+a[n-1])/2,t=0;t<n-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function Rie(e){return new o8(e)}function z0(e,t){this._context=e,this._t=t}z0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function zie(e){return new z0(e,.5)}function Fie(e){return new z0(e,0)}function Bie(e){return new z0(e,1)}function qu(e,t){if((o=e.length)>1)for(var n=1,s,a,i=e[t[0]],o,l=i.length;n<o;++n)for(a=i,i=e[t[n]],s=0;s<l;++s)i[s][1]+=i[s][0]=isNaN(a[s][1])?a[s][0]:a[s][1]}function d1(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function qie(e,t){return e[t]}function Uie(e){const t=[];return t.key=e,t}function Vie(){var e=Nr([]),t=d1,n=qu,s=qie;function a(i){var o=Array.from(e.apply(this,arguments),Uie),l,d=o.length,u=-1,h;for(const m of i)for(l=0,++u;l<d;++l)(o[l][u]=[0,+s(m,o[l].key,u,i)]).data=m;for(l=0,h=K_(t(o));l<d;++l)o[h[l]].index=l;return n(o,h),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Nr(Array.from(i)),a):e},a.value=function(i){return arguments.length?(s=typeof i=="function"?i:Nr(+i),a):s},a.order=function(i){return arguments.length?(t=i==null?d1:typeof i=="function"?i:Nr(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(n=i??qu,a):n},a}function Wie(e,t){if((s=e.length)>0){for(var n,s,a=0,i=e[0].length,o;a<i;++a){for(o=n=0;n<s;++n)o+=e[n][a][1]||0;if(o)for(n=0;n<s;++n)e[n][a][1]/=o}qu(e,t)}}function Kie(e,t){if((a=e.length)>0){for(var n=0,s=e[t[0]],a,i=s.length;n<i;++n){for(var o=0,l=0;o<a;++o)l+=e[o][n][1]||0;s[n][1]+=s[n][0]=-l/2}qu(e,t)}}function Hie(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var n=0,s=1,a,i,o;s<i;++s){for(var l=0,d=0,u=0;l<o;++l){for(var h=e[t[l]],m=h[s][1]||0,p=h[s-1][1]||0,g=(m-p)/2,y=0;y<l;++y){var x=e[t[y]],v=x[s][1]||0,j=x[s-1][1]||0;g+=v-j}d+=m,u+=g*m}a[s-1][1]+=a[s-1][0]=n,d&&(n-=u/d)}a[s-1][1]+=a[s-1][0]=n,qu(e,t)}}function Mf(e){"@babel/helpers - typeof";return Mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mf(e)}var Gie=["type","size","sizeType"];function u1(){return u1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},u1.apply(this,arguments)}function _3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function C3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_3(Object(n),!0).forEach(function(s){Zie(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Zie(e,t,n){return t=Qie(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qie(e){var t=Yie(e,"string");return Mf(t)=="symbol"?t:t+""}function Yie(e,t){if(Mf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Mf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xie(e,t){if(e==null)return{};var n=Jie(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Jie(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}var l8={symbolCircle:H_,symbolCross:jie,symbolDiamond:wie,symbolSquare:Nie,symbolStar:Pie,symbolTriangle:Aie,symbolWye:Eie},eoe=Math.PI/180,toe=function(t){var n="symbol".concat($0(t));return l8[n]||H_},roe=function(t,n,s){if(n==="area")return t;switch(s){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*eoe;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},noe=function(t,n){l8["symbol".concat($0(t))]=n},F0=function(t){var n=t.type,s=n===void 0?"circle":n,a=t.size,i=a===void 0?64:a,o=t.sizeType,l=o===void 0?"area":o,d=Xie(t,Gie),u=C3(C3({},d),{},{type:s,size:i,sizeType:l}),h=function(){var v=toe(s),j=Tie().type(v).size(roe(i,l,s));return j()},m=u.className,p=u.cx,g=u.cy,y=tt(u,!0);return p===+p&&g===+g&&i===+i?R.createElement("path",u1({},y,{className:bt("recharts-symbols",m),transform:"translate(".concat(p,", ").concat(g,")"),d:h()})):null};F0.registerSymbol=noe;function Uu(e){"@babel/helpers - typeof";return Uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uu(e)}function m1(){return m1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},m1.apply(this,arguments)}function P3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function soe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?P3(Object(n),!0).forEach(function(s){Lf(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function aoe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ioe(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,d8(s.key),s)}}function ooe(e,t,n){return t&&ioe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function loe(e,t,n){return t=_v(t),coe(e,c8()?Reflect.construct(t,n||[],_v(e).constructor):t.apply(e,n))}function coe(e,t){if(t&&(Uu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return doe(e)}function doe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(c8=function(){return!!e})()}function _v(e){return _v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_v(e)}function uoe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h1(e,t)}function h1(e,t){return h1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},h1(e,t)}function Lf(e,t,n){return t=d8(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d8(e){var t=moe(e,"string");return Uu(t)=="symbol"?t:t+""}function moe(e,t){if(Uu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Uu(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ra=32,G_=function(e){function t(){return aoe(this,t),loe(this,t,arguments)}return uoe(t,e),ooe(t,[{key:"renderIcon",value:function(s){var a=this.props.inactiveColor,i=ra/2,o=ra/6,l=ra/3,d=s.inactive?a:s.color;if(s.type==="plainline")return R.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:s.payload.strokeDasharray,x1:0,y1:i,x2:ra,y2:i,className:"recharts-legend-icon"});if(s.type==="line")return R.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(ra,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(s.type==="rect")return R.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(ra/8,"h").concat(ra,"v").concat(ra*3/4,"h").concat(-ra,"z"),className:"recharts-legend-icon"});if(R.isValidElement(s.legendIcon)){var u=soe({},s);return delete u.legendIcon,R.cloneElement(s.legendIcon,u)}return R.createElement(F0,{fill:d,cx:i,cy:i,size:ra,sizeType:"diameter",type:s.type})}},{key:"renderItems",value:function(){var s=this,a=this.props,i=a.payload,o=a.iconSize,l=a.layout,d=a.formatter,u=a.inactiveColor,h={x:0,y:0,width:ra,height:ra},m={display:l==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(g,y){var x=g.formatter||d,v=bt(Lf(Lf({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",g.inactive));if(g.type==="none")return null;var j=ft(g.value)?null:g.value;Ua(!ft(g.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=g.inactive?u:g.color;return R.createElement("li",m1({className:v,style:m,key:"legend-item-".concat(y)},Ml(s.props,g,y)),R.createElement(n1,{width:o,height:o,viewBox:h,style:p},s.renderIcon(g)),R.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},x?x(j,g,y):j))})}},{key:"render",value:function(){var s=this.props,a=s.payload,i=s.layout,o=s.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return R.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(N.PureComponent);Lf(G_,"displayName","Legend");Lf(G_,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var hoe=N0;function foe(){this.__data__=new hoe,this.size=0}var poe=foe;function xoe(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var goe=xoe;function voe(e){return this.__data__.get(e)}var yoe=voe;function joe(e){return this.__data__.has(e)}var boe=joe,woe=N0,Noe=$_,Soe=D_,_oe=200;function Coe(e,t){var n=this.__data__;if(n instanceof woe){var s=n.__data__;if(!Noe||s.length<_oe-1)return s.push([e,t]),this.size=++n.size,this;n=this.__data__=new Soe(s)}return n.set(e,t),this.size=n.size,this}var Poe=Coe,Aoe=N0,koe=poe,Eoe=goe,Toe=yoe,Ooe=boe,Ioe=Poe;function Mm(e){var t=this.__data__=new Aoe(e);this.size=t.size}Mm.prototype.clear=koe;Mm.prototype.delete=Eoe;Mm.prototype.get=Toe;Mm.prototype.has=Ooe;Mm.prototype.set=Ioe;var u8=Mm,Moe="__lodash_hash_undefined__";function Loe(e){return this.__data__.set(e,Moe),this}var $oe=Loe;function Doe(e){return this.__data__.has(e)}var Roe=Doe,zoe=D_,Foe=$oe,Boe=Roe;function Cv(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new zoe;++t<n;)this.add(e[t])}Cv.prototype.add=Cv.prototype.push=Foe;Cv.prototype.has=Boe;var m8=Cv;function qoe(e,t){for(var n=-1,s=e==null?0:e.length;++n<s;)if(t(e[n],n,e))return!0;return!1}var h8=qoe;function Uoe(e,t){return e.has(t)}var f8=Uoe,Voe=m8,Woe=h8,Koe=f8,Hoe=1,Goe=2;function Zoe(e,t,n,s,a,i){var o=n&Hoe,l=e.length,d=t.length;if(l!=d&&!(o&&d>l))return!1;var u=i.get(e),h=i.get(t);if(u&&h)return u==t&&h==e;var m=-1,p=!0,g=n&Goe?new Voe:void 0;for(i.set(e,t),i.set(t,e);++m<l;){var y=e[m],x=t[m];if(s)var v=o?s(x,y,m,t,e,i):s(y,x,m,e,t,i);if(v!==void 0){if(v)continue;p=!1;break}if(g){if(!Woe(t,function(j,b){if(!Koe(g,b)&&(y===j||a(y,j,n,s,i)))return g.push(b)})){p=!1;break}}else if(!(y===x||a(y,x,n,s,i))){p=!1;break}}return i.delete(e),i.delete(t),p}var p8=Zoe,Qoe=Oi,Yoe=Qoe.Uint8Array,Xoe=Yoe;function Joe(e){var t=-1,n=Array(e.size);return e.forEach(function(s,a){n[++t]=[a,s]}),n}var ele=Joe;function tle(e){var t=-1,n=Array(e.size);return e.forEach(function(s){n[++t]=s}),n}var Z_=tle,A3=Rp,k3=Xoe,rle=L_,nle=p8,sle=ele,ale=Z_,ile=1,ole=2,lle="[object Boolean]",cle="[object Date]",dle="[object Error]",ule="[object Map]",mle="[object Number]",hle="[object RegExp]",fle="[object Set]",ple="[object String]",xle="[object Symbol]",gle="[object ArrayBuffer]",vle="[object DataView]",E3=A3?A3.prototype:void 0,Kb=E3?E3.valueOf:void 0;function yle(e,t,n,s,a,i,o){switch(n){case vle:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case gle:return!(e.byteLength!=t.byteLength||!i(new k3(e),new k3(t)));case lle:case cle:case mle:return rle(+e,+t);case dle:return e.name==t.name&&e.message==t.message;case hle:case ple:return e==t+"";case ule:var l=sle;case fle:var d=s&ile;if(l||(l=ale),e.size!=t.size&&!d)return!1;var u=o.get(e);if(u)return u==t;s|=ole,o.set(e,t);var h=nle(l(e),l(t),s,a,i,o);return o.delete(e),h;case xle:if(Kb)return Kb.call(e)==Kb.call(t)}return!1}var jle=yle;function ble(e,t){for(var n=-1,s=t.length,a=e.length;++n<s;)e[a+n]=t[n];return e}var x8=ble,wle=x8,Nle=Ps;function Sle(e,t,n){var s=t(e);return Nle(e)?s:wle(s,n(e))}var _le=Sle;function Cle(e,t){for(var n=-1,s=e==null?0:e.length,a=0,i=[];++n<s;){var o=e[n];t(o,n,e)&&(i[a++]=o)}return i}var Ple=Cle;function Ale(){return[]}var kle=Ale,Ele=Ple,Tle=kle,Ole=Object.prototype,Ile=Ole.propertyIsEnumerable,T3=Object.getOwnPropertySymbols,Mle=T3?function(e){return e==null?[]:(e=Object(e),Ele(T3(e),function(t){return Ile.call(e,t)}))}:Tle,Lle=Mle;function $le(e,t){for(var n=-1,s=Array(e);++n<e;)s[n]=t(n);return s}var Dle=$le,Rle=Lo,zle=$o,Fle="[object Arguments]";function Ble(e){return zle(e)&&Rle(e)==Fle}var qle=Ble,O3=qle,Ule=$o,g8=Object.prototype,Vle=g8.hasOwnProperty,Wle=g8.propertyIsEnumerable,Kle=O3(function(){return arguments}())?O3:function(e){return Ule(e)&&Vle.call(e,"callee")&&!Wle.call(e,"callee")},Q_=Kle,Pv={exports:{}};function Hle(){return!1}var Gle=Hle;Pv.exports;(function(e,t){var n=Oi,s=Gle,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,l=o?n.Buffer:void 0,d=l?l.isBuffer:void 0,u=d||s;e.exports=u})(Pv,Pv.exports);var v8=Pv.exports,Zle=9007199254740991,Qle=/^(?:0|[1-9]\d*)$/;function Yle(e,t){var n=typeof e;return t=t??Zle,!!t&&(n=="number"||n!="symbol"&&Qle.test(e))&&e>-1&&e%1==0&&e<t}var Y_=Yle,Xle=9007199254740991;function Jle(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Xle}var X_=Jle,ece=Lo,tce=X_,rce=$o,nce="[object Arguments]",sce="[object Array]",ace="[object Boolean]",ice="[object Date]",oce="[object Error]",lce="[object Function]",cce="[object Map]",dce="[object Number]",uce="[object Object]",mce="[object RegExp]",hce="[object Set]",fce="[object String]",pce="[object WeakMap]",xce="[object ArrayBuffer]",gce="[object DataView]",vce="[object Float32Array]",yce="[object Float64Array]",jce="[object Int8Array]",bce="[object Int16Array]",wce="[object Int32Array]",Nce="[object Uint8Array]",Sce="[object Uint8ClampedArray]",_ce="[object Uint16Array]",Cce="[object Uint32Array]",Ar={};Ar[vce]=Ar[yce]=Ar[jce]=Ar[bce]=Ar[wce]=Ar[Nce]=Ar[Sce]=Ar[_ce]=Ar[Cce]=!0;Ar[nce]=Ar[sce]=Ar[xce]=Ar[ace]=Ar[gce]=Ar[ice]=Ar[oce]=Ar[lce]=Ar[cce]=Ar[dce]=Ar[uce]=Ar[mce]=Ar[hce]=Ar[fce]=Ar[pce]=!1;function Pce(e){return rce(e)&&tce(e.length)&&!!Ar[ece(e)]}var Ace=Pce;function kce(e){return function(t){return e(t)}}var y8=kce,Av={exports:{}};Av.exports;(function(e,t){var n=Cz,s=t&&!t.nodeType&&t,a=s&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===s,o=i&&n.process,l=function(){try{var d=a&&a.require&&a.require("util").types;return d||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(Av,Av.exports);var Ece=Av.exports,Tce=Ace,Oce=y8,I3=Ece,M3=I3&&I3.isTypedArray,Ice=M3?Oce(M3):Tce,j8=Ice,Mce=Dle,Lce=Q_,$ce=Ps,Dce=v8,Rce=Y_,zce=j8,Fce=Object.prototype,Bce=Fce.hasOwnProperty;function qce(e,t){var n=$ce(e),s=!n&&Lce(e),a=!n&&!s&&Dce(e),i=!n&&!s&&!a&&zce(e),o=n||s||a||i,l=o?Mce(e.length,String):[],d=l.length;for(var u in e)(t||Bce.call(e,u))&&!(o&&(u=="length"||a&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Rce(u,d)))&&l.push(u);return l}var Uce=qce,Vce=Object.prototype;function Wce(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||Vce;return e===n}var Kce=Wce;function Hce(e,t){return function(n){return e(t(n))}}var b8=Hce,Gce=b8,Zce=Gce(Object.keys,Object),Qce=Zce,Yce=Kce,Xce=Qce,Jce=Object.prototype,ede=Jce.hasOwnProperty;function tde(e){if(!Yce(e))return Xce(e);var t=[];for(var n in Object(e))ede.call(e,n)&&n!="constructor"&&t.push(n);return t}var rde=tde,nde=M_,sde=X_;function ade(e){return e!=null&&sde(e.length)&&!nde(e)}var zp=ade,ide=Uce,ode=rde,lde=zp;function cde(e){return lde(e)?ide(e):ode(e)}var B0=cde,dde=_le,ude=Lle,mde=B0;function hde(e){return dde(e,mde,ude)}var fde=hde,L3=fde,pde=1,xde=Object.prototype,gde=xde.hasOwnProperty;function vde(e,t,n,s,a,i){var o=n&pde,l=L3(e),d=l.length,u=L3(t),h=u.length;if(d!=h&&!o)return!1;for(var m=d;m--;){var p=l[m];if(!(o?p in t:gde.call(t,p)))return!1}var g=i.get(e),y=i.get(t);if(g&&y)return g==t&&y==e;var x=!0;i.set(e,t),i.set(t,e);for(var v=o;++m<d;){p=l[m];var j=e[p],b=t[p];if(s)var S=o?s(b,j,p,t,e,i):s(j,b,p,e,t,i);if(!(S===void 0?j===b||a(j,b,n,s,i):S)){x=!1;break}v||(v=p=="constructor")}if(x&&!v){var C=e.constructor,_=t.constructor;C!=_&&"constructor"in e&&"constructor"in t&&!(typeof C=="function"&&C instanceof C&&typeof _=="function"&&_ instanceof _)&&(x=!1)}return i.delete(e),i.delete(t),x}var yde=vde,jde=md,bde=Oi,wde=jde(bde,"DataView"),Nde=wde,Sde=md,_de=Oi,Cde=Sde(_de,"Promise"),Pde=Cde,Ade=md,kde=Oi,Ede=Ade(kde,"Set"),w8=Ede,Tde=md,Ode=Oi,Ide=Tde(Ode,"WeakMap"),Mde=Ide,f1=Nde,p1=$_,x1=Pde,g1=w8,v1=Mde,N8=Lo,Lm=Az,$3="[object Map]",Lde="[object Object]",D3="[object Promise]",R3="[object Set]",z3="[object WeakMap]",F3="[object DataView]",$de=Lm(f1),Dde=Lm(p1),Rde=Lm(x1),zde=Lm(g1),Fde=Lm(v1),mc=N8;(f1&&mc(new f1(new ArrayBuffer(1)))!=F3||p1&&mc(new p1)!=$3||x1&&mc(x1.resolve())!=D3||g1&&mc(new g1)!=R3||v1&&mc(new v1)!=z3)&&(mc=function(e){var t=N8(e),n=t==Lde?e.constructor:void 0,s=n?Lm(n):"";if(s)switch(s){case $de:return F3;case Dde:return $3;case Rde:return D3;case zde:return R3;case Fde:return z3}return t});var Bde=mc,Hb=u8,qde=p8,Ude=jle,Vde=yde,B3=Bde,q3=Ps,U3=v8,Wde=j8,Kde=1,V3="[object Arguments]",W3="[object Array]",qx="[object Object]",Hde=Object.prototype,K3=Hde.hasOwnProperty;function Gde(e,t,n,s,a,i){var o=q3(e),l=q3(t),d=o?W3:B3(e),u=l?W3:B3(t);d=d==V3?qx:d,u=u==V3?qx:u;var h=d==qx,m=u==qx,p=d==u;if(p&&U3(e)){if(!U3(t))return!1;o=!0,h=!1}if(p&&!h)return i||(i=new Hb),o||Wde(e)?qde(e,t,n,s,a,i):Ude(e,t,d,n,s,a,i);if(!(n&Kde)){var g=h&&K3.call(e,"__wrapped__"),y=m&&K3.call(t,"__wrapped__");if(g||y){var x=g?e.value():e,v=y?t.value():t;return i||(i=new Hb),a(x,v,n,s,i)}}return p?(i||(i=new Hb),Vde(e,t,n,s,a,i)):!1}var Zde=Gde,Qde=Zde,H3=$o;function S8(e,t,n,s,a){return e===t?!0:e==null||t==null||!H3(e)&&!H3(t)?e!==e&&t!==t:Qde(e,t,n,s,S8,a)}var J_=S8,Yde=u8,Xde=J_,Jde=1,eue=2;function tue(e,t,n,s){var a=n.length,i=a,o=!s;if(e==null)return!i;for(e=Object(e);a--;){var l=n[a];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<i;){l=n[a];var d=l[0],u=e[d],h=l[1];if(o&&l[2]){if(u===void 0&&!(d in e))return!1}else{var m=new Yde;if(s)var p=s(u,h,d,e,t,m);if(!(p===void 0?Xde(h,u,Jde|eue,s,m):p))return!1}}return!0}var rue=tue,nue=Hl;function sue(e){return e===e&&!nue(e)}var _8=sue,aue=_8,iue=B0;function oue(e){for(var t=iue(e),n=t.length;n--;){var s=t[n],a=e[s];t[n]=[s,a,aue(a)]}return t}var lue=oue;function cue(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var C8=cue,due=rue,uue=lue,mue=C8;function hue(e){var t=uue(e);return t.length==1&&t[0][2]?mue(t[0][0],t[0][1]):function(n){return n===e||due(n,e,t)}}var fue=hue;function pue(e,t){return e!=null&&t in Object(e)}var xue=pue,gue=Iz,vue=Q_,yue=Ps,jue=Y_,bue=X_,wue=_0;function Nue(e,t,n){t=gue(t,e);for(var s=-1,a=t.length,i=!1;++s<a;){var o=wue(t[s]);if(!(i=e!=null&&n(e,o)))break;e=e[o]}return i||++s!=a?i:(a=e==null?0:e.length,!!a&&bue(a)&&jue(o,a)&&(yue(e)||vue(e)))}var Sue=Nue,_ue=xue,Cue=Sue;function Pue(e,t){return e!=null&&Cue(e,t,_ue)}var Aue=Pue,kue=J_,Eue=Mz,Tue=Aue,Oue=I_,Iue=_8,Mue=C8,Lue=_0,$ue=1,Due=2;function Rue(e,t){return Oue(e)&&Iue(t)?Mue(Lue(e),t):function(n){var s=Eue(n,e);return s===void 0&&s===t?Tue(n,e):kue(t,s,$ue|Due)}}var zue=Rue;function Fue(e){return e}var $m=Fue;function Bue(e){return function(t){return t==null?void 0:t[e]}}var que=Bue,Uue=F_;function Vue(e){return function(t){return Uue(t,e)}}var Wue=Vue,Kue=que,Hue=Wue,Gue=I_,Zue=_0;function Que(e){return Gue(e)?Kue(Zue(e)):Hue(e)}var Yue=Que,Xue=fue,Jue=zue,eme=$m,tme=Ps,rme=Yue;function nme(e){return typeof e=="function"?e:e==null?eme:typeof e=="object"?tme(e)?Jue(e[0],e[1]):Xue(e):rme(e)}var Ii=nme;function sme(e,t,n,s){for(var a=e.length,i=n+(s?1:-1);s?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var P8=sme;function ame(e){return e!==e}var ime=ame;function ome(e,t,n){for(var s=n-1,a=e.length;++s<a;)if(e[s]===t)return s;return-1}var lme=ome,cme=P8,dme=ime,ume=lme;function mme(e,t,n){return t===t?ume(e,t,n):cme(e,dme,n)}var hme=mme,fme=hme;function pme(e,t){var n=e==null?0:e.length;return!!n&&fme(e,t,0)>-1}var xme=pme;function gme(e,t,n){for(var s=-1,a=e==null?0:e.length;++s<a;)if(n(t,e[s]))return!0;return!1}var vme=gme;function yme(){}var jme=yme,Gb=w8,bme=jme,wme=Z_,Nme=1/0,Sme=Gb&&1/wme(new Gb([,-0]))[1]==Nme?function(e){return new Gb(e)}:bme,_me=Sme,Cme=m8,Pme=xme,Ame=vme,kme=f8,Eme=_me,Tme=Z_,Ome=200;function Ime(e,t,n){var s=-1,a=Pme,i=e.length,o=!0,l=[],d=l;if(n)o=!1,a=Ame;else if(i>=Ome){var u=t?null:Eme(e);if(u)return Tme(u);o=!1,a=kme,d=new Cme}else d=t?[]:l;e:for(;++s<i;){var h=e[s],m=t?t(h):h;if(h=n||h!==0?h:0,o&&m===m){for(var p=d.length;p--;)if(d[p]===m)continue e;t&&d.push(m),l.push(h)}else a(d,m,n)||(d!==l&&d.push(m),l.push(h))}return l}var Mme=Ime,Lme=Ii,$me=Mme;function Dme(e,t){return e&&e.length?$me(e,Lme(t)):[]}var Rme=Dme;const G3=ar(Rme);function A8(e,t,n){return t===!0?G3(e,n):ft(t)?G3(e,t):e}function Vu(e){"@babel/helpers - typeof";return Vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vu(e)}var zme=["ref"];function Z3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Ui(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Z3(Object(n),!0).forEach(function(s){q0(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Fme(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Q3(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,E8(s.key),s)}}function Bme(e,t,n){return t&&Q3(e.prototype,t),n&&Q3(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function qme(e,t,n){return t=kv(t),Ume(e,k8()?Reflect.construct(t,n||[],kv(e).constructor):t.apply(e,n))}function Ume(e,t){if(t&&(Vu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vme(e)}function Vme(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(k8=function(){return!!e})()}function kv(e){return kv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},kv(e)}function Wme(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y1(e,t)}function y1(e,t){return y1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},y1(e,t)}function q0(e,t,n){return t=E8(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E8(e){var t=Kme(e,"string");return Vu(t)=="symbol"?t:t+""}function Kme(e,t){if(Vu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Vu(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hme(e,t){if(e==null)return{};var n=Gme(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Gme(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function Zme(e){return e.value}function Qme(e,t){if(R.isValidElement(e))return R.cloneElement(e,t);if(typeof e=="function")return R.createElement(e,t);t.ref;var n=Hme(t,zme);return R.createElement(G_,n)}var Y3=1,po=function(e){function t(){var n;Fme(this,t);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return n=qme(this,t,[].concat(a)),q0(n,"lastBoundingBox",{width:-1,height:-1}),n}return Wme(t,e),Bme(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var s=this.wrapperNode.getBoundingClientRect();return s.height=this.wrapperNode.offsetHeight,s.width=this.wrapperNode.offsetWidth,s}return null}},{key:"updateBBox",value:function(){var s=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>Y3||Math.abs(a.height-this.lastBoundingBox.height)>Y3)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,s&&s(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,s&&s(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ui({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(s){var a=this.props,i=a.layout,o=a.align,l=a.verticalAlign,d=a.margin,u=a.chartWidth,h=a.chartHeight,m,p;if(!s||(s.left===void 0||s.left===null)&&(s.right===void 0||s.right===null))if(o==="center"&&i==="vertical"){var g=this.getBBoxSnapshot();m={left:((u||0)-g.width)/2}}else m=o==="right"?{right:d&&d.right||0}:{left:d&&d.left||0};if(!s||(s.top===void 0||s.top===null)&&(s.bottom===void 0||s.bottom===null))if(l==="middle"){var y=this.getBBoxSnapshot();p={top:((h||0)-y.height)/2}}else p=l==="bottom"?{bottom:d&&d.bottom||0}:{top:d&&d.top||0};return Ui(Ui({},m),p)}},{key:"render",value:function(){var s=this,a=this.props,i=a.content,o=a.width,l=a.height,d=a.wrapperStyle,u=a.payloadUniqBy,h=a.payload,m=Ui(Ui({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(d)),d);return R.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:function(g){s.wrapperNode=g}},Qme(i,Ui(Ui({},this.props),{},{payload:A8(h,u,Zme)})))}}],[{key:"getWithHeight",value:function(s,a){var i=Ui(Ui({},this.defaultProps),s.props),o=i.layout;return o==="vertical"&&Ue(s.props.height)?{height:s.props.height}:o==="horizontal"?{width:s.props.width||a}:null}}])}(N.PureComponent);q0(po,"displayName","Legend");q0(po,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var X3=Rp,Yme=Q_,Xme=Ps,J3=X3?X3.isConcatSpreadable:void 0;function Jme(e){return Xme(e)||Yme(e)||!!(J3&&e&&e[J3])}var ehe=Jme,the=x8,rhe=ehe;function T8(e,t,n,s,a){var i=-1,o=e.length;for(n||(n=rhe),a||(a=[]);++i<o;){var l=e[i];t>0&&n(l)?t>1?T8(l,t-1,n,s,a):the(a,l):s||(a[a.length]=l)}return a}var O8=T8;function nhe(e){return function(t,n,s){for(var a=-1,i=Object(t),o=s(t),l=o.length;l--;){var d=o[e?l:++a];if(n(i[d],d,i)===!1)break}return t}}var she=nhe,ahe=she,ihe=ahe(),ohe=ihe,lhe=ohe,che=B0;function dhe(e,t){return e&&lhe(e,t,che)}var I8=dhe,uhe=zp;function mhe(e,t){return function(n,s){if(n==null)return n;if(!uhe(n))return e(n,s);for(var a=n.length,i=t?a:-1,o=Object(n);(t?i--:++i<a)&&s(o[i],i,o)!==!1;);return n}}var hhe=mhe,fhe=I8,phe=hhe,xhe=phe(fhe),eC=xhe,ghe=eC,vhe=zp;function yhe(e,t){var n=-1,s=vhe(e)?Array(e.length):[];return ghe(e,function(a,i,o){s[++n]=t(a,i,o)}),s}var M8=yhe;function jhe(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var bhe=jhe,ek=Am;function whe(e,t){if(e!==t){var n=e!==void 0,s=e===null,a=e===e,i=ek(e),o=t!==void 0,l=t===null,d=t===t,u=ek(t);if(!l&&!u&&!i&&e>t||i&&o&&d&&!l&&!u||s&&o&&d||!n&&d||!a)return 1;if(!s&&!i&&!u&&e<t||u&&n&&a&&!s&&!i||l&&n&&a||!o&&a||!d)return-1}return 0}var Nhe=whe,She=Nhe;function _he(e,t,n){for(var s=-1,a=e.criteria,i=t.criteria,o=a.length,l=n.length;++s<o;){var d=She(a[s],i[s]);if(d){if(s>=l)return d;var u=n[s];return d*(u=="desc"?-1:1)}}return e.index-t.index}var Che=_he,Zb=z_,Phe=F_,Ahe=Ii,khe=M8,Ehe=bhe,The=y8,Ohe=Che,Ihe=$m,Mhe=Ps;function Lhe(e,t,n){t.length?t=Zb(t,function(i){return Mhe(i)?function(o){return Phe(o,i.length===1?i[0]:i)}:i}):t=[Ihe];var s=-1;t=Zb(t,The(Ahe));var a=khe(e,function(i,o,l){var d=Zb(t,function(u){return u(i)});return{criteria:d,index:++s,value:i}});return Ehe(a,function(i,o){return Ohe(i,o,n)})}var $he=Lhe;function Dhe(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var Rhe=Dhe,zhe=Rhe,tk=Math.max;function Fhe(e,t,n){return t=tk(t===void 0?e.length-1:t,0),function(){for(var s=arguments,a=-1,i=tk(s.length-t,0),o=Array(i);++a<i;)o[a]=s[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=s[a];return l[t]=n(o),zhe(e,this,l)}}var Bhe=Fhe;function qhe(e){return function(){return e}}var Uhe=qhe,Vhe=md,Whe=function(){try{var e=Vhe(Object,"defineProperty");return e({},"",{}),e}catch{}}(),L8=Whe,Khe=Uhe,rk=L8,Hhe=$m,Ghe=rk?function(e,t){return rk(e,"toString",{configurable:!0,enumerable:!1,value:Khe(t),writable:!0})}:Hhe,Zhe=Ghe,Qhe=800,Yhe=16,Xhe=Date.now;function Jhe(e){var t=0,n=0;return function(){var s=Xhe(),a=Yhe-(s-n);if(n=s,a>0){if(++t>=Qhe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var efe=Jhe,tfe=Zhe,rfe=efe,nfe=rfe(tfe),sfe=nfe,afe=$m,ife=Bhe,ofe=sfe;function lfe(e,t){return ofe(ife(e,t,afe),e+"")}var cfe=lfe,dfe=L_,ufe=zp,mfe=Y_,hfe=Hl;function ffe(e,t,n){if(!hfe(n))return!1;var s=typeof t;return(s=="number"?ufe(n)&&mfe(t,n.length):s=="string"&&t in n)?dfe(n[t],e):!1}var U0=ffe,pfe=O8,xfe=$he,gfe=cfe,nk=U0,vfe=gfe(function(e,t){if(e==null)return[];var n=t.length;return n>1&&nk(e,t[0],t[1])?t=[]:n>2&&nk(t[0],t[1],t[2])&&(t=[t[0]]),xfe(e,pfe(t,1),[])}),yfe=vfe;const tC=ar(yfe);function $f(e){"@babel/helpers - typeof";return $f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$f(e)}function j1(){return j1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},j1.apply(this,arguments)}function jfe(e,t){return Sfe(e)||Nfe(e,t)||wfe(e,t)||bfe()}function bfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wfe(e,t){if(e){if(typeof e=="string")return sk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sk(e,t)}}function sk(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function Nfe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,a,i,o,l=[],d=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(d=(s=i.call(n)).done)&&(l.push(s.value),l.length!==t);d=!0);}catch(h){u=!0,a=h}finally{try{if(!d&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Sfe(e){if(Array.isArray(e))return e}function ak(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Qb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ak(Object(n),!0).forEach(function(s){_fe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ak(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function _fe(e,t,n){return t=Cfe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cfe(e){var t=Pfe(e,"string");return $f(t)=="symbol"?t:t+""}function Pfe(e,t){if($f(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if($f(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Afe(e){return Array.isArray(e)&&cn(e[0])&&cn(e[1])?e.join(" ~ "):e}var kfe=function(t){var n=t.separator,s=n===void 0?" : ":n,a=t.contentStyle,i=a===void 0?{}:a,o=t.itemStyle,l=o===void 0?{}:o,d=t.labelStyle,u=d===void 0?{}:d,h=t.payload,m=t.formatter,p=t.itemSorter,g=t.wrapperClassName,y=t.labelClassName,x=t.label,v=t.labelFormatter,j=t.accessibilityLayer,b=j===void 0?!1:j,S=function(){if(h&&h.length){var F={padding:0,margin:0},Z=(p?tC(h,p):h).map(function(D,$){if(D.type==="none")return null;var E=Qb({display:"block",paddingTop:4,paddingBottom:4,color:D.color||"#000"},l),V=D.formatter||m||Afe,q=D.value,U=D.name,Q=q,he=U;if(V&&Q!=null&&he!=null){var ue=V(q,U,D,$,h);if(Array.isArray(ue)){var ce=jfe(ue,2);Q=ce[0],he=ce[1]}else Q=ue}return R.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat($),style:E},cn(he)?R.createElement("span",{className:"recharts-tooltip-item-name"},he):null,cn(he)?R.createElement("span",{className:"recharts-tooltip-item-separator"},s):null,R.createElement("span",{className:"recharts-tooltip-item-value"},Q),R.createElement("span",{className:"recharts-tooltip-item-unit"},D.unit||""))});return R.createElement("ul",{className:"recharts-tooltip-item-list",style:F},Z)}return null},C=Qb({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),_=Qb({margin:0},u),A=!pt(x),k=A?x:"",T=bt("recharts-default-tooltip",g),O=bt("recharts-tooltip-label",y);A&&v&&h!==void 0&&h!==null&&(k=v(x,h));var M=b?{role:"status","aria-live":"assertive"}:{};return R.createElement("div",j1({className:T,style:C},M),R.createElement("p",{className:O,style:_},R.isValidElement(k)?k:"".concat(k)),S())};function Df(e){"@babel/helpers - typeof";return Df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Df(e)}function Ux(e,t,n){return t=Efe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Efe(e){var t=Tfe(e,"string");return Df(t)=="symbol"?t:t+""}function Tfe(e,t){if(Df(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Df(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yh="recharts-tooltip-wrapper",Ofe={visibility:"hidden"};function Ife(e){var t=e.coordinate,n=e.translateX,s=e.translateY;return bt(yh,Ux(Ux(Ux(Ux({},"".concat(yh,"-right"),Ue(n)&&t&&Ue(t.x)&&n>=t.x),"".concat(yh,"-left"),Ue(n)&&t&&Ue(t.x)&&n<t.x),"".concat(yh,"-bottom"),Ue(s)&&t&&Ue(t.y)&&s>=t.y),"".concat(yh,"-top"),Ue(s)&&t&&Ue(t.y)&&s<t.y))}function ik(e){var t=e.allowEscapeViewBox,n=e.coordinate,s=e.key,a=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,d=e.viewBox,u=e.viewBoxDimension;if(i&&Ue(i[s]))return i[s];var h=n[s]-l-a,m=n[s]+a;if(t[s])return o[s]?h:m;if(o[s]){var p=h,g=d[s];return p<g?Math.max(m,d[s]):Math.max(h,d[s])}var y=m+l,x=d[s]+u;return y>x?Math.max(h,d[s]):Math.max(m,d[s])}function Mfe(e){var t=e.translateX,n=e.translateY,s=e.useTranslate3d;return{transform:s?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function Lfe(e){var t=e.allowEscapeViewBox,n=e.coordinate,s=e.offsetTopLeft,a=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,d=e.viewBox,u,h,m;return o.height>0&&o.width>0&&n?(h=ik({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:s,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:d,viewBoxDimension:d.width}),m=ik({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:s,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:d,viewBoxDimension:d.height}),u=Mfe({translateX:h,translateY:m,useTranslate3d:l})):u=Ofe,{cssProperties:u,cssClasses:Ife({translateX:h,translateY:m,coordinate:n})}}function Wu(e){"@babel/helpers - typeof";return Wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wu(e)}function ok(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function lk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ok(Object(n),!0).forEach(function(s){w1(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ok(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function $fe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dfe(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,D8(s.key),s)}}function Rfe(e,t,n){return t&&Dfe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function zfe(e,t,n){return t=Ev(t),Ffe(e,$8()?Reflect.construct(t,n||[],Ev(e).constructor):t.apply(e,n))}function Ffe(e,t){if(t&&(Wu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bfe(e)}function Bfe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($8=function(){return!!e})()}function Ev(e){return Ev=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ev(e)}function qfe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b1(e,t)}function b1(e,t){return b1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},b1(e,t)}function w1(e,t,n){return t=D8(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D8(e){var t=Ufe(e,"string");return Wu(t)=="symbol"?t:t+""}function Ufe(e,t){if(Wu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Wu(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ck=1,Vfe=function(e){function t(){var n;$fe(this,t);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return n=zfe(this,t,[].concat(a)),w1(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),w1(n,"handleKeyDown",function(o){if(o.key==="Escape"){var l,d,u,h;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(d=n.props.coordinate)===null||d===void 0?void 0:d.x)!==null&&l!==void 0?l:0,y:(u=(h=n.props.coordinate)===null||h===void 0?void 0:h.y)!==null&&u!==void 0?u:0}})}}),n}return qfe(t,e),Rfe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var s=this.wrapperNode.getBoundingClientRect();(Math.abs(s.width-this.state.lastBoundingBox.width)>ck||Math.abs(s.height-this.state.lastBoundingBox.height)>ck)&&this.setState({lastBoundingBox:{width:s.width,height:s.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var s,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((s=this.props.coordinate)===null||s===void 0?void 0:s.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var s=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,d=a.animationEasing,u=a.children,h=a.coordinate,m=a.hasPayload,p=a.isAnimationActive,g=a.offset,y=a.position,x=a.reverseDirection,v=a.useTranslate3d,j=a.viewBox,b=a.wrapperStyle,S=Lfe({allowEscapeViewBox:o,coordinate:h,offsetTopLeft:g,position:y,reverseDirection:x,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:j}),C=S.cssClasses,_=S.cssProperties,A=lk(lk({transition:p&&i?"transform ".concat(l,"ms ").concat(d):void 0},_),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&m?"visible":"hidden",position:"absolute",top:0,left:0},b);return R.createElement("div",{tabIndex:-1,className:C,style:A,ref:function(T){s.wrapperNode=T}},u)}}])}(N.PureComponent),Wfe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Vs={isSsr:Wfe(),get:function(t){return Vs[t]},set:function(t,n){if(typeof t=="string")Vs[t]=n;else{var s=Object.keys(t);s&&s.length&&s.forEach(function(a){Vs[a]=t[a]})}}};function Ku(e){"@babel/helpers - typeof";return Ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ku(e)}function dk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function uk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dk(Object(n),!0).forEach(function(s){rC(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dk(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Kfe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hfe(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,z8(s.key),s)}}function Gfe(e,t,n){return t&&Hfe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Zfe(e,t,n){return t=Tv(t),Qfe(e,R8()?Reflect.construct(t,n||[],Tv(e).constructor):t.apply(e,n))}function Qfe(e,t){if(t&&(Ku(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yfe(e)}function Yfe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(R8=function(){return!!e})()}function Tv(e){return Tv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Tv(e)}function Xfe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&N1(e,t)}function N1(e,t){return N1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},N1(e,t)}function rC(e,t,n){return t=z8(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z8(e){var t=Jfe(e,"string");return Ku(t)=="symbol"?t:t+""}function Jfe(e,t){if(Ku(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Ku(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function epe(e){return e.dataKey}function tpe(e,t){return R.isValidElement(e)?R.cloneElement(e,t):typeof e=="function"?R.createElement(e,t):R.createElement(kfe,t)}var ui=function(e){function t(){return Kfe(this,t),Zfe(this,t,arguments)}return Xfe(t,e),Gfe(t,[{key:"render",value:function(){var s=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,d=a.animationEasing,u=a.content,h=a.coordinate,m=a.filterNull,p=a.isAnimationActive,g=a.offset,y=a.payload,x=a.payloadUniqBy,v=a.position,j=a.reverseDirection,b=a.useTranslate3d,S=a.viewBox,C=a.wrapperStyle,_=y??[];m&&_.length&&(_=A8(y.filter(function(k){return k.value!=null&&(k.hide!==!0||s.props.includeHidden)}),x,epe));var A=_.length>0;return R.createElement(Vfe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:d,isAnimationActive:p,active:i,coordinate:h,hasPayload:A,offset:g,position:v,reverseDirection:j,useTranslate3d:b,viewBox:S,wrapperStyle:C},tpe(u,uk(uk({},this.props),{},{payload:_})))}}])}(N.PureComponent);rC(ui,"displayName","Tooltip");rC(ui,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Vs.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var rpe=Oi,npe=function(){return rpe.Date.now()},spe=npe,ape=/\s/;function ipe(e){for(var t=e.length;t--&&ape.test(e.charAt(t)););return t}var ope=ipe,lpe=ope,cpe=/^\s+/;function dpe(e){return e&&e.slice(0,lpe(e)+1).replace(cpe,"")}var upe=dpe,mpe=upe,mk=Hl,hpe=Am,hk=NaN,fpe=/^[-+]0x[0-9a-f]+$/i,ppe=/^0b[01]+$/i,xpe=/^0o[0-7]+$/i,gpe=parseInt;function vpe(e){if(typeof e=="number")return e;if(hpe(e))return hk;if(mk(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=mk(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=mpe(e);var n=ppe.test(e);return n||xpe.test(e)?gpe(e.slice(2),n?2:8):fpe.test(e)?hk:+e}var F8=vpe,ype=Hl,Yb=spe,fk=F8,jpe="Expected a function",bpe=Math.max,wpe=Math.min;function Npe(e,t,n){var s,a,i,o,l,d,u=0,h=!1,m=!1,p=!0;if(typeof e!="function")throw new TypeError(jpe);t=fk(t)||0,ype(n)&&(h=!!n.leading,m="maxWait"in n,i=m?bpe(fk(n.maxWait)||0,t):i,p="trailing"in n?!!n.trailing:p);function g(A){var k=s,T=a;return s=a=void 0,u=A,o=e.apply(T,k),o}function y(A){return u=A,l=setTimeout(j,t),h?g(A):o}function x(A){var k=A-d,T=A-u,O=t-k;return m?wpe(O,i-T):O}function v(A){var k=A-d,T=A-u;return d===void 0||k>=t||k<0||m&&T>=i}function j(){var A=Yb();if(v(A))return b(A);l=setTimeout(j,x(A))}function b(A){return l=void 0,p&&s?g(A):(s=a=void 0,o)}function S(){l!==void 0&&clearTimeout(l),u=0,s=d=a=l=void 0}function C(){return l===void 0?o:b(Yb())}function _(){var A=Yb(),k=v(A);if(s=arguments,a=this,d=A,k){if(l===void 0)return y(d);if(m)return clearTimeout(l),l=setTimeout(j,t),g(d)}return l===void 0&&(l=setTimeout(j,t)),o}return _.cancel=S,_.flush=C,_}var Spe=Npe,_pe=Spe,Cpe=Hl,Ppe="Expected a function";function Ape(e,t,n){var s=!0,a=!0;if(typeof e!="function")throw new TypeError(Ppe);return Cpe(n)&&(s="leading"in n?!!n.leading:s,a="trailing"in n?!!n.trailing:a),_pe(e,t,{leading:s,maxWait:t,trailing:a})}var kpe=Ape;const B8=ar(kpe);function Rf(e){"@babel/helpers - typeof";return Rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rf(e)}function pk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Vx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pk(Object(n),!0).forEach(function(s){Epe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pk(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Epe(e,t,n){return t=Tpe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tpe(e){var t=Ope(e,"string");return Rf(t)=="symbol"?t:t+""}function Ope(e,t){if(Rf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Rf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ipe(e,t){return Dpe(e)||$pe(e,t)||Lpe(e,t)||Mpe()}function Mpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lpe(e,t){if(e){if(typeof e=="string")return xk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xk(e,t)}}function xk(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function $pe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,a,i,o,l=[],d=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(d=(s=i.call(n)).done)&&(l.push(s.value),l.length!==t);d=!0);}catch(h){u=!0,a=h}finally{try{if(!d&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Dpe(e){if(Array.isArray(e))return e}var Do=N.forwardRef(function(e,t){var n=e.aspect,s=e.initialDimension,a=s===void 0?{width:-1,height:-1}:s,i=e.width,o=i===void 0?"100%":i,l=e.height,d=l===void 0?"100%":l,u=e.minWidth,h=u===void 0?0:u,m=e.minHeight,p=e.maxHeight,g=e.children,y=e.debounce,x=y===void 0?0:y,v=e.id,j=e.className,b=e.onResize,S=e.style,C=S===void 0?{}:S,_=N.useRef(null),A=N.useRef();A.current=b,N.useImperativeHandle(t,function(){return Object.defineProperty(_.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),_.current},configurable:!0})});var k=N.useState({containerWidth:a.width,containerHeight:a.height}),T=Ipe(k,2),O=T[0],M=T[1],z=N.useCallback(function(Z,D){M(function($){var E=Math.round(Z),V=Math.round(D);return $.containerWidth===E&&$.containerHeight===V?$:{containerWidth:E,containerHeight:V}})},[]);N.useEffect(function(){var Z=function(U){var Q,he=U[0].contentRect,ue=he.width,ce=he.height;z(ue,ce),(Q=A.current)===null||Q===void 0||Q.call(A,ue,ce)};x>0&&(Z=B8(Z,x,{trailing:!0,leading:!1}));var D=new ResizeObserver(Z),$=_.current.getBoundingClientRect(),E=$.width,V=$.height;return z(E,V),D.observe(_.current),function(){D.disconnect()}},[z,x]);var F=N.useMemo(function(){var Z=O.containerWidth,D=O.containerHeight;if(Z<0||D<0)return null;Ua(bc(o)||bc(d),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,d),Ua(!n||n>0,"The aspect(%s) must be greater than zero.",n);var $=bc(o)?Z:o,E=bc(d)?D:d;n&&n>0&&($?E=$/n:E&&($=E*n),p&&E>p&&(E=p)),Ua($>0||E>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,$,E,o,d,h,m,n);var V=!Array.isArray(g)&&fo(g.type).endsWith("Chart");return R.Children.map(g,function(q){return R.isValidElement(q)?N.cloneElement(q,Vx({width:$,height:E},V?{style:Vx({height:"100%",width:"100%",maxHeight:E,maxWidth:$},q.props.style)}:{})):q})},[n,g,d,p,m,h,O,o]);return R.createElement("div",{id:v?"".concat(v):void 0,className:bt("recharts-responsive-container",j),style:Vx(Vx({},C),{},{width:o,height:d,minWidth:h,minHeight:m,maxHeight:p}),ref:_},F)}),ed=function(t){return null};ed.displayName="Cell";function zf(e){"@babel/helpers - typeof";return zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zf(e)}function gk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function S1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gk(Object(n),!0).forEach(function(s){Rpe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gk(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Rpe(e,t,n){return t=zpe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zpe(e){var t=Fpe(e,"string");return zf(t)=="symbol"?t:t+""}function Fpe(e,t){if(zf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(zf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ld={widthCache:{},cacheCount:0},Bpe=2e3,qpe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},vk="recharts_measurement_span";function Upe(e){var t=S1({},e);return Object.keys(t).forEach(function(n){t[n]||delete t[n]}),t}var Hh=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Vs.isSsr)return{width:0,height:0};var s=Upe(n),a=JSON.stringify({text:t,copyStyle:s});if(Ld.widthCache[a])return Ld.widthCache[a];try{var i=document.getElementById(vk);i||(i=document.createElement("span"),i.setAttribute("id",vk),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=S1(S1({},qpe),s);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),d={width:l.width,height:l.height};return Ld.widthCache[a]=d,++Ld.cacheCount>Bpe&&(Ld.cacheCount=0,Ld.widthCache={}),d}catch{return{width:0,height:0}}},Vpe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Ff(e){"@babel/helpers - typeof";return Ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ff(e)}function Ov(e,t){return Gpe(e)||Hpe(e,t)||Kpe(e,t)||Wpe()}function Wpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kpe(e,t){if(e){if(typeof e=="string")return yk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yk(e,t)}}function yk(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function Hpe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,a,i,o,l=[],d=!0,u=!1;try{if(i=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;d=!1}else for(;!(d=(s=i.call(n)).done)&&(l.push(s.value),l.length!==t);d=!0);}catch(h){u=!0,a=h}finally{try{if(!d&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Gpe(e){if(Array.isArray(e))return e}function Zpe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jk(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,Ype(s.key),s)}}function Qpe(e,t,n){return t&&jk(e.prototype,t),n&&jk(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ype(e){var t=Xpe(e,"string");return Ff(t)=="symbol"?t:t+""}function Xpe(e,t){if(Ff(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(Ff(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var bk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,wk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Jpe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,exe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,q8={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},txe=Object.keys(q8),Jd="NaN";function rxe(e,t){return e*q8[t]}var Wx=function(){function e(t,n){Zpe(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),n!==""&&!Jpe.test(n)&&(this.num=NaN,this.unit=""),txe.includes(n)&&(this.num=rxe(t,n),this.unit="px")}return Qpe(e,[{key:"add",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var s,a=(s=exe.exec(n))!==null&&s!==void 0?s:[],i=Ov(a,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])}();function U8(e){if(e.includes(Jd))return Jd;for(var t=e;t.includes("*")||t.includes("/");){var n,s=(n=bk.exec(t))!==null&&n!==void 0?n:[],a=Ov(s,4),i=a[1],o=a[2],l=a[3],d=Wx.parse(i??""),u=Wx.parse(l??""),h=o==="*"?d.multiply(u):d.divide(u);if(h.isNaN())return Jd;t=t.replace(bk,h.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var m,p=(m=wk.exec(t))!==null&&m!==void 0?m:[],g=Ov(p,4),y=g[1],x=g[2],v=g[3],j=Wx.parse(y??""),b=Wx.parse(v??""),S=x==="+"?j.add(b):j.subtract(b);if(S.isNaN())return Jd;t=t.replace(wk,S.toString())}return t}var Nk=/\(([^()]*)\)/;function nxe(e){for(var t=e;t.includes("(");){var n=Nk.exec(t),s=Ov(n,2),a=s[1];t=t.replace(Nk,U8(a))}return t}function sxe(e){var t=e.replace(/\s+/g,"");return t=nxe(t),t=U8(t),t}function axe(e){try{return sxe(e)}catch{return Jd}}function Xb(e){var t=axe(e.slice(5,-1));return t===Jd?"":t}var ixe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],oxe=["dx","dy","angle","className","breakAll"];function _1(){return _1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},_1.apply(this,arguments)}function Sk(e,t){if(e==null)return{};var n=lxe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function lxe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function _k(e,t){return mxe(e)||uxe(e,t)||dxe(e,t)||cxe()}function cxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dxe(e,t){if(e){if(typeof e=="string")return Ck(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ck(e,t)}}function Ck(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function uxe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,a,i,o,l=[],d=!0,u=!1;try{if(i=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;d=!1}else for(;!(d=(s=i.call(n)).done)&&(l.push(s.value),l.length!==t);d=!0);}catch(h){u=!0,a=h}finally{try{if(!d&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function mxe(e){if(Array.isArray(e))return e}var V8=/[ \f\n\r\t\v\u2028\u2029]+/,W8=function(t){var n=t.children,s=t.breakAll,a=t.style;try{var i=[];pt(n)||(s?i=n.toString().split(""):i=n.toString().split(V8));var o=i.map(function(d){return{word:d,width:Hh(d,a).width}}),l=s?0:Hh(" ",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},hxe=function(t,n,s,a,i){var o=t.maxLines,l=t.children,d=t.style,u=t.breakAll,h=Ue(o),m=l,p=function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return $.reduce(function(E,V){var q=V.word,U=V.width,Q=E[E.length-1];if(Q&&(a==null||i||Q.width+U+s<Number(a)))Q.words.push(q),Q.width+=U+s;else{var he={words:[q],width:U};E.push(he)}return E},[])},g=p(n),y=function($){return $.reduce(function(E,V){return E.width>V.width?E:V})};if(!h)return g;for(var x="…",v=function($){var E=m.slice(0,$),V=W8({breakAll:u,style:d,children:E+x}).wordsWithComputedWidth,q=p(V),U=q.length>o||y(q).width>Number(a);return[U,q]},j=0,b=m.length-1,S=0,C;j<=b&&S<=m.length-1;){var _=Math.floor((j+b)/2),A=_-1,k=v(A),T=_k(k,2),O=T[0],M=T[1],z=v(_),F=_k(z,1),Z=F[0];if(!O&&!Z&&(j=_+1),O&&Z&&(b=_-1),!O&&Z){C=M;break}S++}return C||g},Pk=function(t){var n=pt(t)?[]:t.toString().split(V8);return[{words:n}]},fxe=function(t){var n=t.width,s=t.scaleToFit,a=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((n||s)&&!Vs.isSsr){var d,u,h=W8({breakAll:o,children:a,style:i});if(h){var m=h.wordsWithComputedWidth,p=h.spaceWidth;d=m,u=p}else return Pk(a);return hxe({breakAll:o,children:a,maxLines:l,style:i},d,u,n,s)}return Pk(a)},Ak="#808080",td=function(t){var n=t.x,s=n===void 0?0:n,a=t.y,i=a===void 0?0:a,o=t.lineHeight,l=o===void 0?"1em":o,d=t.capHeight,u=d===void 0?"0.71em":d,h=t.scaleToFit,m=h===void 0?!1:h,p=t.textAnchor,g=p===void 0?"start":p,y=t.verticalAnchor,x=y===void 0?"end":y,v=t.fill,j=v===void 0?Ak:v,b=Sk(t,ixe),S=N.useMemo(function(){return fxe({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:m,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,m,b.style,b.width]),C=b.dx,_=b.dy,A=b.angle,k=b.className,T=b.breakAll,O=Sk(b,oxe);if(!cn(s)||!cn(i))return null;var M=s+(Ue(C)?C:0),z=i+(Ue(_)?_:0),F;switch(x){case"start":F=Xb("calc(".concat(u,")"));break;case"middle":F=Xb("calc(".concat((S.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:F=Xb("calc(".concat(S.length-1," * -").concat(l,")"));break}var Z=[];if(m){var D=S[0].width,$=b.width;Z.push("scale(".concat((Ue($)?$/D:1)/D,")"))}return A&&Z.push("rotate(".concat(A,", ").concat(M,", ").concat(z,")")),Z.length&&(O.transform=Z.join(" ")),R.createElement("text",_1({},tt(O,!0),{x:M,y:z,className:bt("recharts-text",k),textAnchor:g,fill:j.includes("url")?Ak:j}),S.map(function(E,V){var q=E.words.join(T?"":" ");return R.createElement("tspan",{x:M,dy:V===0?F:l,key:"".concat(q,"-").concat(V)},q)}))};function Al(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function pxe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function nC(e){let t,n,s;e.length!==2?(t=Al,n=(l,d)=>Al(e(l),d),s=(l,d)=>e(l)-d):(t=e===Al||e===pxe?e:xxe,n=e,s=e);function a(l,d,u=0,h=l.length){if(u<h){if(t(d,d)!==0)return h;do{const m=u+h>>>1;n(l[m],d)<0?u=m+1:h=m}while(u<h)}return u}function i(l,d,u=0,h=l.length){if(u<h){if(t(d,d)!==0)return h;do{const m=u+h>>>1;n(l[m],d)<=0?u=m+1:h=m}while(u<h)}return u}function o(l,d,u=0,h=l.length){const m=a(l,d,u,h-1);return m>u&&s(l[m-1],d)>-s(l[m],d)?m-1:m}return{left:a,center:o,right:i}}function xxe(){return 0}function K8(e){return e===null?NaN:+e}function*gxe(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const vxe=nC(Al),Fp=vxe.right;nC(K8).center;class kk extends Map{constructor(t,n=bxe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[s,a]of t)this.set(s,a)}get(t){return super.get(Ek(this,t))}has(t){return super.has(Ek(this,t))}set(t,n){return super.set(yxe(this,t),n)}delete(t){return super.delete(jxe(this,t))}}function Ek({_intern:e,_key:t},n){const s=t(n);return e.has(s)?e.get(s):n}function yxe({_intern:e,_key:t},n){const s=t(n);return e.has(s)?e.get(s):(e.set(s,n),n)}function jxe({_intern:e,_key:t},n){const s=t(n);return e.has(s)&&(n=e.get(s),e.delete(s)),n}function bxe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function wxe(e=Al){if(e===Al)return H8;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const s=e(t,n);return s||s===0?s:(e(n,n)===0)-(e(t,t)===0)}}function H8(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Nxe=Math.sqrt(50),Sxe=Math.sqrt(10),_xe=Math.sqrt(2);function Iv(e,t,n){const s=(t-e)/Math.max(0,n),a=Math.floor(Math.log10(s)),i=s/Math.pow(10,a),o=i>=Nxe?10:i>=Sxe?5:i>=_xe?2:1;let l,d,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(e*u),d=Math.round(t*u),l/u<e&&++l,d/u>t&&--d,u=-u):(u=Math.pow(10,a)*o,l=Math.round(e/u),d=Math.round(t/u),l*u<e&&++l,d*u>t&&--d),d<l&&.5<=n&&n<2?Iv(e,t,n*2):[l,d,u]}function C1(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const s=t<e,[a,i,o]=s?Iv(t,e,n):Iv(e,t,n);if(!(i>=a))return[];const l=i-a+1,d=new Array(l);if(s)if(o<0)for(let u=0;u<l;++u)d[u]=(i-u)/-o;else for(let u=0;u<l;++u)d[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)d[u]=(a+u)/-o;else for(let u=0;u<l;++u)d[u]=(a+u)*o;return d}function P1(e,t,n){return t=+t,e=+e,n=+n,Iv(e,t,n)[2]}function A1(e,t,n){t=+t,e=+e,n=+n;const s=t<e,a=s?P1(t,e,n):P1(e,t,n);return(s?-1:1)*(a<0?1/-a:a)}function Tk(e,t){let n;for(const s of e)s!=null&&(n<s||n===void 0&&s>=s)&&(n=s);return n}function Ok(e,t){let n;for(const s of e)s!=null&&(n>s||n===void 0&&s>=s)&&(n=s);return n}function G8(e,t,n=0,s=1/0,a){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),s=Math.floor(Math.min(e.length-1,s)),!(n<=t&&t<=s))return e;for(a=a===void 0?H8:wxe(a);s>n;){if(s-n>600){const d=s-n+1,u=t-n+1,h=Math.log(d),m=.5*Math.exp(2*h/3),p=.5*Math.sqrt(h*m*(d-m)/d)*(u-d/2<0?-1:1),g=Math.max(n,Math.floor(t-u*m/d+p)),y=Math.min(s,Math.floor(t+(d-u)*m/d+p));G8(e,t,g,y,a)}const i=e[t];let o=n,l=s;for(jh(e,n,t),a(e[s],i)>0&&jh(e,n,s);o<l;){for(jh(e,o,l),++o,--l;a(e[o],i)<0;)++o;for(;a(e[l],i)>0;)--l}a(e[n],i)===0?jh(e,n,l):(++l,jh(e,l,s)),l<=t&&(n=l+1),t<=l&&(s=l-1)}return e}function jh(e,t,n){const s=e[t];e[t]=e[n],e[n]=s}function Cxe(e,t,n){if(e=Float64Array.from(gxe(e)),!(!(s=e.length)||isNaN(t=+t))){if(t<=0||s<2)return Ok(e);if(t>=1)return Tk(e);var s,a=(s-1)*t,i=Math.floor(a),o=Tk(G8(e,i).subarray(0,i+1)),l=Ok(e.subarray(i+1));return o+(l-o)*(a-i)}}function Pxe(e,t,n=K8){if(!(!(s=e.length)||isNaN(t=+t))){if(t<=0||s<2)return+n(e[0],0,e);if(t>=1)return+n(e[s-1],s-1,e);var s,a=(s-1)*t,i=Math.floor(a),o=+n(e[i],i,e),l=+n(e[i+1],i+1,e);return o+(l-o)*(a-i)}}function Axe(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var s=-1,a=Math.max(0,Math.ceil((t-e)/n))|0,i=new Array(a);++s<a;)i[s]=e+s*n;return i}function Na(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ro(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const k1=Symbol("implicit");function sC(){var e=new kk,t=[],n=[],s=k1;function a(i){let o=e.get(i);if(o===void 0){if(s!==k1)return s;e.set(i,o=t.push(i)-1)}return n[o%n.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new kk;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(n=Array.from(i),a):n.slice()},a.unknown=function(i){return arguments.length?(s=i,a):s},a.copy=function(){return sC(t,n).unknown(s)},Na.apply(a,arguments),a}function Bf(){var e=sC().unknown(void 0),t=e.domain,n=e.range,s=0,a=1,i,o,l=!1,d=0,u=0,h=.5;delete e.unknown;function m(){var p=t().length,g=a<s,y=g?a:s,x=g?s:a;i=(x-y)/Math.max(1,p-d+u*2),l&&(i=Math.floor(i)),y+=(x-y-i*(p-d))*h,o=i*(1-d),l&&(y=Math.round(y),o=Math.round(o));var v=Axe(p).map(function(j){return y+i*j});return n(g?v.reverse():v)}return e.domain=function(p){return arguments.length?(t(p),m()):t()},e.range=function(p){return arguments.length?([s,a]=p,s=+s,a=+a,m()):[s,a]},e.rangeRound=function(p){return[s,a]=p,s=+s,a=+a,l=!0,m()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(p){return arguments.length?(l=!!p,m()):l},e.padding=function(p){return arguments.length?(d=Math.min(1,u=+p),m()):d},e.paddingInner=function(p){return arguments.length?(d=Math.min(1,p),m()):d},e.paddingOuter=function(p){return arguments.length?(u=+p,m()):u},e.align=function(p){return arguments.length?(h=Math.max(0,Math.min(1,p)),m()):h},e.copy=function(){return Bf(t(),[s,a]).round(l).paddingInner(d).paddingOuter(u).align(h)},Na.apply(m(),arguments)}function Z8(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Z8(t())},e}function Gh(){return Z8(Bf.apply(null,arguments).paddingInner(1))}function aC(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Q8(e,t){var n=Object.create(e.prototype);for(var s in t)n[s]=t[s];return n}function Bp(){}var qf=.7,Mv=1/qf,gu="\\s*([+-]?\\d+)\\s*",Uf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ci="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",kxe=/^#([0-9a-f]{3,8})$/,Exe=new RegExp(`^rgb\\(${gu},${gu},${gu}\\)$`),Txe=new RegExp(`^rgb\\(${Ci},${Ci},${Ci}\\)$`),Oxe=new RegExp(`^rgba\\(${gu},${gu},${gu},${Uf}\\)$`),Ixe=new RegExp(`^rgba\\(${Ci},${Ci},${Ci},${Uf}\\)$`),Mxe=new RegExp(`^hsl\\(${Uf},${Ci},${Ci}\\)$`),Lxe=new RegExp(`^hsla\\(${Uf},${Ci},${Ci},${Uf}\\)$`),Ik={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};aC(Bp,Vf,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Mk,formatHex:Mk,formatHex8:$xe,formatHsl:Dxe,formatRgb:Lk,toString:Lk});function Mk(){return this.rgb().formatHex()}function $xe(){return this.rgb().formatHex8()}function Dxe(){return Y8(this).formatHsl()}function Lk(){return this.rgb().formatRgb()}function Vf(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=kxe.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?$k(t):n===3?new js(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Kx(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Kx(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Exe.exec(e))?new js(t[1],t[2],t[3],1):(t=Txe.exec(e))?new js(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Oxe.exec(e))?Kx(t[1],t[2],t[3],t[4]):(t=Ixe.exec(e))?Kx(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Mxe.exec(e))?zk(t[1],t[2]/100,t[3]/100,1):(t=Lxe.exec(e))?zk(t[1],t[2]/100,t[3]/100,t[4]):Ik.hasOwnProperty(e)?$k(Ik[e]):e==="transparent"?new js(NaN,NaN,NaN,0):null}function $k(e){return new js(e>>16&255,e>>8&255,e&255,1)}function Kx(e,t,n,s){return s<=0&&(e=t=n=NaN),new js(e,t,n,s)}function Rxe(e){return e instanceof Bp||(e=Vf(e)),e?(e=e.rgb(),new js(e.r,e.g,e.b,e.opacity)):new js}function E1(e,t,n,s){return arguments.length===1?Rxe(e):new js(e,t,n,s??1)}function js(e,t,n,s){this.r=+e,this.g=+t,this.b=+n,this.opacity=+s}aC(js,E1,Q8(Bp,{brighter(e){return e=e==null?Mv:Math.pow(Mv,e),new js(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?qf:Math.pow(qf,e),new js(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new js(Rc(this.r),Rc(this.g),Rc(this.b),Lv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Dk,formatHex:Dk,formatHex8:zxe,formatRgb:Rk,toString:Rk}));function Dk(){return`#${wc(this.r)}${wc(this.g)}${wc(this.b)}`}function zxe(){return`#${wc(this.r)}${wc(this.g)}${wc(this.b)}${wc((isNaN(this.opacity)?1:this.opacity)*255)}`}function Rk(){const e=Lv(this.opacity);return`${e===1?"rgb(":"rgba("}${Rc(this.r)}, ${Rc(this.g)}, ${Rc(this.b)}${e===1?")":`, ${e})`}`}function Lv(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Rc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function wc(e){return e=Rc(e),(e<16?"0":"")+e.toString(16)}function zk(e,t,n,s){return s<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new za(e,t,n,s)}function Y8(e){if(e instanceof za)return new za(e.h,e.s,e.l,e.opacity);if(e instanceof Bp||(e=Vf(e)),!e)return new za;if(e instanceof za)return e;e=e.rgb();var t=e.r/255,n=e.g/255,s=e.b/255,a=Math.min(t,n,s),i=Math.max(t,n,s),o=NaN,l=i-a,d=(i+a)/2;return l?(t===i?o=(n-s)/l+(n<s)*6:n===i?o=(s-t)/l+2:o=(t-n)/l+4,l/=d<.5?i+a:2-i-a,o*=60):l=d>0&&d<1?0:o,new za(o,l,d,e.opacity)}function Fxe(e,t,n,s){return arguments.length===1?Y8(e):new za(e,t,n,s??1)}function za(e,t,n,s){this.h=+e,this.s=+t,this.l=+n,this.opacity=+s}aC(za,Fxe,Q8(Bp,{brighter(e){return e=e==null?Mv:Math.pow(Mv,e),new za(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?qf:Math.pow(qf,e),new za(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,s=n+(n<.5?n:1-n)*t,a=2*n-s;return new js(Jb(e>=240?e-240:e+120,a,s),Jb(e,a,s),Jb(e<120?e+240:e-120,a,s),this.opacity)},clamp(){return new za(Fk(this.h),Hx(this.s),Hx(this.l),Lv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Lv(this.opacity);return`${e===1?"hsl(":"hsla("}${Fk(this.h)}, ${Hx(this.s)*100}%, ${Hx(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Fk(e){return e=(e||0)%360,e<0?e+360:e}function Hx(e){return Math.max(0,Math.min(1,e||0))}function Jb(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const iC=e=>()=>e;function Bxe(e,t){return function(n){return e+n*t}}function qxe(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(s){return Math.pow(e+s*t,n)}}function Uxe(e){return(e=+e)==1?X8:function(t,n){return n-t?qxe(t,n,e):iC(isNaN(t)?n:t)}}function X8(e,t){var n=t-e;return n?Bxe(e,n):iC(isNaN(e)?t:e)}const Bk=function e(t){var n=Uxe(t);function s(a,i){var o=n((a=E1(a)).r,(i=E1(i)).r),l=n(a.g,i.g),d=n(a.b,i.b),u=X8(a.opacity,i.opacity);return function(h){return a.r=o(h),a.g=l(h),a.b=d(h),a.opacity=u(h),a+""}}return s.gamma=e,s}(1);function Vxe(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,s=t.slice(),a;return function(i){for(a=0;a<n;++a)s[a]=e[a]*(1-i)+t[a]*i;return s}}function Wxe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Kxe(e,t){var n=t?t.length:0,s=e?Math.min(n,e.length):0,a=new Array(s),i=new Array(n),o;for(o=0;o<s;++o)a[o]=Dm(e[o],t[o]);for(;o<n;++o)i[o]=t[o];return function(l){for(o=0;o<s;++o)i[o]=a[o](l);return i}}function Hxe(e,t){var n=new Date;return e=+e,t=+t,function(s){return n.setTime(e*(1-s)+t*s),n}}function $v(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Gxe(e,t){var n={},s={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?n[a]=Dm(e[a],t[a]):s[a]=t[a];return function(i){for(a in n)s[a]=n[a](i);return s}}var T1=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ew=new RegExp(T1.source,"g");function Zxe(e){return function(){return e}}function Qxe(e){return function(t){return e(t)+""}}function Yxe(e,t){var n=T1.lastIndex=ew.lastIndex=0,s,a,i,o=-1,l=[],d=[];for(e=e+"",t=t+"";(s=T1.exec(e))&&(a=ew.exec(t));)(i=a.index)>n&&(i=t.slice(n,i),l[o]?l[o]+=i:l[++o]=i),(s=s[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,d.push({i:o,x:$v(s,a)})),n=ew.lastIndex;return n<t.length&&(i=t.slice(n),l[o]?l[o]+=i:l[++o]=i),l.length<2?d[0]?Qxe(d[0].x):Zxe(t):(t=d.length,function(u){for(var h=0,m;h<t;++h)l[(m=d[h]).i]=m.x(u);return l.join("")})}function Dm(e,t){var n=typeof t,s;return t==null||n==="boolean"?iC(t):(n==="number"?$v:n==="string"?(s=Vf(t))?(t=s,Bk):Yxe:t instanceof Vf?Bk:t instanceof Date?Hxe:Wxe(t)?Vxe:Array.isArray(t)?Kxe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Gxe:$v)(e,t)}function oC(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Xxe(e,t){t===void 0&&(t=e,e=Dm);for(var n=0,s=t.length-1,a=t[0],i=new Array(s<0?0:s);n<s;)i[n]=e(a,a=t[++n]);return function(o){var l=Math.max(0,Math.min(s-1,Math.floor(o*=s)));return i[l](o-l)}}function Jxe(e){return function(){return e}}function Dv(e){return+e}var qk=[0,1];function rs(e){return e}function O1(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Jxe(isNaN(t)?NaN:.5)}function ege(e,t){var n;return e>t&&(n=e,e=t,t=n),function(s){return Math.max(e,Math.min(t,s))}}function tge(e,t,n){var s=e[0],a=e[1],i=t[0],o=t[1];return a<s?(s=O1(a,s),i=n(o,i)):(s=O1(s,a),i=n(i,o)),function(l){return i(s(l))}}function rge(e,t,n){var s=Math.min(e.length,t.length)-1,a=new Array(s),i=new Array(s),o=-1;for(e[s]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<s;)a[o]=O1(e[o],e[o+1]),i[o]=n(t[o],t[o+1]);return function(l){var d=Fp(e,l,1,s)-1;return i[d](a[d](l))}}function qp(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function V0(){var e=qk,t=qk,n=Dm,s,a,i,o=rs,l,d,u;function h(){var p=Math.min(e.length,t.length);return o!==rs&&(o=ege(e[0],e[p-1])),l=p>2?rge:tge,d=u=null,m}function m(p){return p==null||isNaN(p=+p)?i:(d||(d=l(e.map(s),t,n)))(s(o(p)))}return m.invert=function(p){return o(a((u||(u=l(t,e.map(s),$v)))(p)))},m.domain=function(p){return arguments.length?(e=Array.from(p,Dv),h()):e.slice()},m.range=function(p){return arguments.length?(t=Array.from(p),h()):t.slice()},m.rangeRound=function(p){return t=Array.from(p),n=oC,h()},m.clamp=function(p){return arguments.length?(o=p?!0:rs,h()):o!==rs},m.interpolate=function(p){return arguments.length?(n=p,h()):n},m.unknown=function(p){return arguments.length?(i=p,m):i},function(p,g){return s=p,a=g,h()}}function lC(){return V0()(rs,rs)}function nge(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Rv(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,s=e.slice(0,n);return[s.length>1?s[0]+s.slice(2):s,+e.slice(n+1)]}function Hu(e){return e=Rv(Math.abs(e)),e?e[1]:NaN}function sge(e,t){return function(n,s){for(var a=n.length,i=[],o=0,l=e[0],d=0;a>0&&l>0&&(d+l+1>s&&(l=Math.max(1,s-d)),i.push(n.substring(a-=l,a+l)),!((d+=l+1)>s));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function age(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var ige=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Wf(e){if(!(t=ige.exec(e)))throw new Error("invalid format: "+e);var t;return new cC({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Wf.prototype=cC.prototype;function cC(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}cC.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function oge(e){e:for(var t=e.length,n=1,s=-1,a;n<t;++n)switch(e[n]){case".":s=a=n;break;case"0":s===0&&(s=n),a=n;break;default:if(!+e[n])break e;s>0&&(s=0);break}return s>0?e.slice(0,s)+e.slice(a+1):e}var J8;function lge(e,t){var n=Rv(e,t);if(!n)return e+"";var s=n[0],a=n[1],i=a-(J8=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=s.length;return i===o?s:i>o?s+new Array(i-o+1).join("0"):i>0?s.slice(0,i)+"."+s.slice(i):"0."+new Array(1-i).join("0")+Rv(e,Math.max(0,t+i-1))[0]}function Uk(e,t){var n=Rv(e,t);if(!n)return e+"";var s=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+s:s.length>a+1?s.slice(0,a+1)+"."+s.slice(a+1):s+new Array(a-s.length+2).join("0")}const Vk={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:nge,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Uk(e*100,t),r:Uk,s:lge,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Wk(e){return e}var Kk=Array.prototype.map,Hk=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function cge(e){var t=e.grouping===void 0||e.thousands===void 0?Wk:sge(Kk.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",s=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?Wk:age(Kk.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"−":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function u(m){m=Wf(m);var p=m.fill,g=m.align,y=m.sign,x=m.symbol,v=m.zero,j=m.width,b=m.comma,S=m.precision,C=m.trim,_=m.type;_==="n"?(b=!0,_="g"):Vk[_]||(S===void 0&&(S=12),C=!0,_="g"),(v||p==="0"&&g==="=")&&(v=!0,p="0",g="=");var A=x==="$"?n:x==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",k=x==="$"?s:/[%p]/.test(_)?o:"",T=Vk[_],O=/[defgprs%]/.test(_);S=S===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function M(z){var F=A,Z=k,D,$,E;if(_==="c")Z=T(z)+Z,z="";else{z=+z;var V=z<0||1/z<0;if(z=isNaN(z)?d:T(Math.abs(z),S),C&&(z=oge(z)),V&&+z==0&&y!=="+"&&(V=!1),F=(V?y==="("?y:l:y==="-"||y==="("?"":y)+F,Z=(_==="s"?Hk[8+J8/3]:"")+Z+(V&&y==="("?")":""),O){for(D=-1,$=z.length;++D<$;)if(E=z.charCodeAt(D),48>E||E>57){Z=(E===46?a+z.slice(D+1):z.slice(D))+Z,z=z.slice(0,D);break}}}b&&!v&&(z=t(z,1/0));var q=F.length+z.length+Z.length,U=q<j?new Array(j-q+1).join(p):"";switch(b&&v&&(z=t(U+z,U.length?j-Z.length:1/0),U=""),g){case"<":z=F+z+Z+U;break;case"=":z=F+U+z+Z;break;case"^":z=U.slice(0,q=U.length>>1)+F+z+Z+U.slice(q);break;default:z=U+F+z+Z;break}return i(z)}return M.toString=function(){return m+""},M}function h(m,p){var g=u((m=Wf(m),m.type="f",m)),y=Math.max(-8,Math.min(8,Math.floor(Hu(p)/3)))*3,x=Math.pow(10,-y),v=Hk[8+y/3];return function(j){return g(x*j)+v}}return{format:u,formatPrefix:h}}var Gx,dC,e6;dge({thousands:",",grouping:[3],currency:["$",""]});function dge(e){return Gx=cge(e),dC=Gx.format,e6=Gx.formatPrefix,Gx}function uge(e){return Math.max(0,-Hu(Math.abs(e)))}function mge(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Hu(t)/3)))*3-Hu(Math.abs(e)))}function hge(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Hu(t)-Hu(e))+1}function t6(e,t,n,s){var a=A1(e,t,n),i;switch(s=Wf(s??",f"),s.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return s.precision==null&&!isNaN(i=mge(a,o))&&(s.precision=i),e6(s,o)}case"":case"e":case"g":case"p":case"r":{s.precision==null&&!isNaN(i=hge(a,Math.max(Math.abs(e),Math.abs(t))))&&(s.precision=i-(s.type==="e"));break}case"f":case"%":{s.precision==null&&!isNaN(i=uge(a))&&(s.precision=i-(s.type==="%")*2);break}}return dC(s)}function Zl(e){var t=e.domain;return e.ticks=function(n){var s=t();return C1(s[0],s[s.length-1],n??10)},e.tickFormat=function(n,s){var a=t();return t6(a[0],a[a.length-1],n??10,s)},e.nice=function(n){n==null&&(n=10);var s=t(),a=0,i=s.length-1,o=s[a],l=s[i],d,u,h=10;for(l<o&&(u=o,o=l,l=u,u=a,a=i,i=u);h-- >0;){if(u=P1(o,l,n),u===d)return s[a]=o,s[i]=l,t(s);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;d=u}return e},e}function zv(){var e=lC();return e.copy=function(){return qp(e,zv())},Na.apply(e,arguments),Zl(e)}function r6(e){var t;function n(s){return s==null||isNaN(s=+s)?t:s}return n.invert=n,n.domain=n.range=function(s){return arguments.length?(e=Array.from(s,Dv),n):e.slice()},n.unknown=function(s){return arguments.length?(t=s,n):t},n.copy=function(){return r6(e).unknown(t)},e=arguments.length?Array.from(e,Dv):[0,1],Zl(n)}function n6(e,t){e=e.slice();var n=0,s=e.length-1,a=e[n],i=e[s],o;return i<a&&(o=n,n=s,s=o,o=a,a=i,i=o),e[n]=t.floor(a),e[s]=t.ceil(i),e}function Gk(e){return Math.log(e)}function Zk(e){return Math.exp(e)}function fge(e){return-Math.log(-e)}function pge(e){return-Math.exp(-e)}function xge(e){return isFinite(e)?+("1e"+e):e<0?0:e}function gge(e){return e===10?xge:e===Math.E?Math.exp:t=>Math.pow(e,t)}function vge(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Qk(e){return(t,n)=>-e(-t,n)}function uC(e){const t=e(Gk,Zk),n=t.domain;let s=10,a,i;function o(){return a=vge(s),i=gge(s),n()[0]<0?(a=Qk(a),i=Qk(i),e(fge,pge)):e(Gk,Zk),t}return t.base=function(l){return arguments.length?(s=+l,o()):s},t.domain=function(l){return arguments.length?(n(l),o()):n()},t.ticks=l=>{const d=n();let u=d[0],h=d[d.length-1];const m=h<u;m&&([u,h]=[h,u]);let p=a(u),g=a(h),y,x;const v=l==null?10:+l;let j=[];if(!(s%1)&&g-p<v){if(p=Math.floor(p),g=Math.ceil(g),u>0){for(;p<=g;++p)for(y=1;y<s;++y)if(x=p<0?y/i(-p):y*i(p),!(x<u)){if(x>h)break;j.push(x)}}else for(;p<=g;++p)for(y=s-1;y>=1;--y)if(x=p>0?y/i(-p):y*i(p),!(x<u)){if(x>h)break;j.push(x)}j.length*2<v&&(j=C1(u,h,v))}else j=C1(p,g,Math.min(g-p,v)).map(i);return m?j.reverse():j},t.tickFormat=(l,d)=>{if(l==null&&(l=10),d==null&&(d=s===10?"s":","),typeof d!="function"&&(!(s%1)&&(d=Wf(d)).precision==null&&(d.trim=!0),d=dC(d)),l===1/0)return d;const u=Math.max(1,s*l/t.ticks().length);return h=>{let m=h/i(Math.round(a(h)));return m*s<s-.5&&(m*=s),m<=u?d(h):""}},t.nice=()=>n(n6(n(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function s6(){const e=uC(V0()).domain([1,10]);return e.copy=()=>qp(e,s6()).base(e.base()),Na.apply(e,arguments),e}function Yk(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Xk(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function mC(e){var t=1,n=e(Yk(t),Xk(t));return n.constant=function(s){return arguments.length?e(Yk(t=+s),Xk(t)):t},Zl(n)}function a6(){var e=mC(V0());return e.copy=function(){return qp(e,a6()).constant(e.constant())},Na.apply(e,arguments)}function Jk(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function yge(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function jge(e){return e<0?-e*e:e*e}function hC(e){var t=e(rs,rs),n=1;function s(){return n===1?e(rs,rs):n===.5?e(yge,jge):e(Jk(n),Jk(1/n))}return t.exponent=function(a){return arguments.length?(n=+a,s()):n},Zl(t)}function fC(){var e=hC(V0());return e.copy=function(){return qp(e,fC()).exponent(e.exponent())},Na.apply(e,arguments),e}function bge(){return fC.apply(null,arguments).exponent(.5)}function eE(e){return Math.sign(e)*e*e}function wge(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function i6(){var e=lC(),t=[0,1],n=!1,s;function a(i){var o=wge(e(i));return isNaN(o)?s:n?Math.round(o):o}return a.invert=function(i){return e.invert(eE(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,Dv)).map(eE)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(n=!!i,a):n},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(s=i,a):s},a.copy=function(){return i6(e.domain(),t).round(n).clamp(e.clamp()).unknown(s)},Na.apply(a,arguments),Zl(a)}function o6(){var e=[],t=[],n=[],s;function a(){var o=0,l=Math.max(1,t.length);for(n=new Array(l-1);++o<l;)n[o-1]=Pxe(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?s:t[Fp(n,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?n[l-1]:e[0],l<n.length?n[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Al),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(s=o,i):s},i.quantiles=function(){return n.slice()},i.copy=function(){return o6().domain(e).range(t).unknown(s)},Na.apply(i,arguments)}function l6(){var e=0,t=1,n=1,s=[.5],a=[0,1],i;function o(d){return d!=null&&d<=d?a[Fp(s,d,0,n)]:i}function l(){var d=-1;for(s=new Array(n);++d<n;)s[d]=((d+1)*t-(d-n)*e)/(n+1);return o}return o.domain=function(d){return arguments.length?([e,t]=d,e=+e,t=+t,l()):[e,t]},o.range=function(d){return arguments.length?(n=(a=Array.from(d)).length-1,l()):a.slice()},o.invertExtent=function(d){var u=a.indexOf(d);return u<0?[NaN,NaN]:u<1?[e,s[0]]:u>=n?[s[n-1],t]:[s[u-1],s[u]]},o.unknown=function(d){return arguments.length&&(i=d),o},o.thresholds=function(){return s.slice()},o.copy=function(){return l6().domain([e,t]).range(a).unknown(i)},Na.apply(Zl(o),arguments)}function c6(){var e=[.5],t=[0,1],n,s=1;function a(i){return i!=null&&i<=i?t[Fp(e,i,0,s)]:n}return a.domain=function(i){return arguments.length?(e=Array.from(i),s=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),s=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return c6().domain(e).range(t).unknown(n)},Na.apply(a,arguments)}const tw=new Date,rw=new Date;function mn(e,t,n,s){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const d=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return d;let u;do d.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return d},a.filter=i=>mn(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),n&&(a.count=(i,o)=>(tw.setTime(+i),rw.setTime(+o),e(tw),e(rw),Math.floor(n(tw,rw))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(s?o=>s(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const Fv=mn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Fv.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?mn(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Fv);Fv.range;const lo=1e3,ma=lo*60,co=ma*60,Po=co*24,pC=Po*7,tE=Po*30,nw=Po*365,Nc=mn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*lo)},(e,t)=>(t-e)/lo,e=>e.getUTCSeconds());Nc.range;const xC=mn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*lo)},(e,t)=>{e.setTime(+e+t*ma)},(e,t)=>(t-e)/ma,e=>e.getMinutes());xC.range;const gC=mn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ma)},(e,t)=>(t-e)/ma,e=>e.getUTCMinutes());gC.range;const vC=mn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*lo-e.getMinutes()*ma)},(e,t)=>{e.setTime(+e+t*co)},(e,t)=>(t-e)/co,e=>e.getHours());vC.range;const yC=mn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*co)},(e,t)=>(t-e)/co,e=>e.getUTCHours());yC.range;const Up=mn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ma)/Po,e=>e.getDate()-1);Up.range;const W0=mn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Po,e=>e.getUTCDate()-1);W0.range;const d6=mn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Po,e=>Math.floor(e/Po));d6.range;function hd(e){return mn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*ma)/pC)}const K0=hd(0),Bv=hd(1),Nge=hd(2),Sge=hd(3),Gu=hd(4),_ge=hd(5),Cge=hd(6);K0.range;Bv.range;Nge.range;Sge.range;Gu.range;_ge.range;Cge.range;function fd(e){return mn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/pC)}const H0=fd(0),qv=fd(1),Pge=fd(2),Age=fd(3),Zu=fd(4),kge=fd(5),Ege=fd(6);H0.range;qv.range;Pge.range;Age.range;Zu.range;kge.range;Ege.range;const jC=mn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());jC.range;const bC=mn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());bC.range;const Ao=mn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ao.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:mn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Ao.range;const ko=mn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ko.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:mn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});ko.range;function u6(e,t,n,s,a,i){const o=[[Nc,1,lo],[Nc,5,5*lo],[Nc,15,15*lo],[Nc,30,30*lo],[i,1,ma],[i,5,5*ma],[i,15,15*ma],[i,30,30*ma],[a,1,co],[a,3,3*co],[a,6,6*co],[a,12,12*co],[s,1,Po],[s,2,2*Po],[n,1,pC],[t,1,tE],[t,3,3*tE],[e,1,nw]];function l(u,h,m){const p=h<u;p&&([u,h]=[h,u]);const g=m&&typeof m.range=="function"?m:d(u,h,m),y=g?g.range(u,+h+1):[];return p?y.reverse():y}function d(u,h,m){const p=Math.abs(h-u)/m,g=nC(([,,v])=>v).right(o,p);if(g===o.length)return e.every(A1(u/nw,h/nw,m));if(g===0)return Fv.every(Math.max(A1(u,h,m),1));const[y,x]=o[p/o[g-1][2]<o[g][2]/p?g-1:g];return y.every(x)}return[l,d]}const[Tge,Oge]=u6(ko,bC,H0,d6,yC,gC),[Ige,Mge]=u6(Ao,jC,K0,Up,vC,xC);function sw(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function aw(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function bh(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function Lge(e){var t=e.dateTime,n=e.date,s=e.time,a=e.periods,i=e.days,o=e.shortDays,l=e.months,d=e.shortMonths,u=wh(a),h=Nh(a),m=wh(i),p=Nh(i),g=wh(o),y=Nh(o),x=wh(l),v=Nh(l),j=wh(d),b=Nh(d),S={a:V,A:q,b:U,B:Q,c:null,d:oE,e:oE,f:sve,g:fve,G:xve,H:tve,I:rve,j:nve,L:m6,m:ave,M:ive,p:he,q:ue,Q:dE,s:uE,S:ove,u:lve,U:cve,V:dve,w:uve,W:mve,x:null,X:null,y:hve,Y:pve,Z:gve,"%":cE},C={a:ce,A:G,b:J,B:ye,c:null,d:lE,e:lE,f:bve,g:Tve,G:Ive,H:vve,I:yve,j:jve,L:f6,m:wve,M:Nve,p:Se,q:We,Q:dE,s:uE,S:Sve,u:_ve,U:Cve,V:Pve,w:Ave,W:kve,x:null,X:null,y:Eve,Y:Ove,Z:Mve,"%":cE},_={a:M,A:z,b:F,B:Z,c:D,d:aE,e:aE,f:Yge,g:sE,G:nE,H:iE,I:iE,j:Hge,L:Qge,m:Kge,M:Gge,p:O,q:Wge,Q:Jge,s:eve,S:Zge,u:Fge,U:Bge,V:qge,w:zge,W:Uge,x:$,X:E,y:sE,Y:nE,Z:Vge,"%":Xge};S.x=A(n,S),S.X=A(s,S),S.c=A(t,S),C.x=A(n,C),C.X=A(s,C),C.c=A(t,C);function A(Ae,ze){return function(Fe){var je=[],Ze=-1,K=0,te=Ae.length,Ne,pe,oe;for(Fe instanceof Date||(Fe=new Date(+Fe));++Ze<te;)Ae.charCodeAt(Ze)===37&&(je.push(Ae.slice(K,Ze)),(pe=rE[Ne=Ae.charAt(++Ze)])!=null?Ne=Ae.charAt(++Ze):pe=Ne==="e"?" ":"0",(oe=ze[Ne])&&(Ne=oe(Fe,pe)),je.push(Ne),K=Ze+1);return je.push(Ae.slice(K,Ze)),je.join("")}}function k(Ae,ze){return function(Fe){var je=bh(1900,void 0,1),Ze=T(je,Ae,Fe+="",0),K,te;if(Ze!=Fe.length)return null;if("Q"in je)return new Date(je.Q);if("s"in je)return new Date(je.s*1e3+("L"in je?je.L:0));if(ze&&!("Z"in je)&&(je.Z=0),"p"in je&&(je.H=je.H%12+je.p*12),je.m===void 0&&(je.m="q"in je?je.q:0),"V"in je){if(je.V<1||je.V>53)return null;"w"in je||(je.w=1),"Z"in je?(K=aw(bh(je.y,0,1)),te=K.getUTCDay(),K=te>4||te===0?qv.ceil(K):qv(K),K=W0.offset(K,(je.V-1)*7),je.y=K.getUTCFullYear(),je.m=K.getUTCMonth(),je.d=K.getUTCDate()+(je.w+6)%7):(K=sw(bh(je.y,0,1)),te=K.getDay(),K=te>4||te===0?Bv.ceil(K):Bv(K),K=Up.offset(K,(je.V-1)*7),je.y=K.getFullYear(),je.m=K.getMonth(),je.d=K.getDate()+(je.w+6)%7)}else("W"in je||"U"in je)&&("w"in je||(je.w="u"in je?je.u%7:"W"in je?1:0),te="Z"in je?aw(bh(je.y,0,1)).getUTCDay():sw(bh(je.y,0,1)).getDay(),je.m=0,je.d="W"in je?(je.w+6)%7+je.W*7-(te+5)%7:je.w+je.U*7-(te+6)%7);return"Z"in je?(je.H+=je.Z/100|0,je.M+=je.Z%100,aw(je)):sw(je)}}function T(Ae,ze,Fe,je){for(var Ze=0,K=ze.length,te=Fe.length,Ne,pe;Ze<K;){if(je>=te)return-1;if(Ne=ze.charCodeAt(Ze++),Ne===37){if(Ne=ze.charAt(Ze++),pe=_[Ne in rE?ze.charAt(Ze++):Ne],!pe||(je=pe(Ae,Fe,je))<0)return-1}else if(Ne!=Fe.charCodeAt(je++))return-1}return je}function O(Ae,ze,Fe){var je=u.exec(ze.slice(Fe));return je?(Ae.p=h.get(je[0].toLowerCase()),Fe+je[0].length):-1}function M(Ae,ze,Fe){var je=g.exec(ze.slice(Fe));return je?(Ae.w=y.get(je[0].toLowerCase()),Fe+je[0].length):-1}function z(Ae,ze,Fe){var je=m.exec(ze.slice(Fe));return je?(Ae.w=p.get(je[0].toLowerCase()),Fe+je[0].length):-1}function F(Ae,ze,Fe){var je=j.exec(ze.slice(Fe));return je?(Ae.m=b.get(je[0].toLowerCase()),Fe+je[0].length):-1}function Z(Ae,ze,Fe){var je=x.exec(ze.slice(Fe));return je?(Ae.m=v.get(je[0].toLowerCase()),Fe+je[0].length):-1}function D(Ae,ze,Fe){return T(Ae,t,ze,Fe)}function $(Ae,ze,Fe){return T(Ae,n,ze,Fe)}function E(Ae,ze,Fe){return T(Ae,s,ze,Fe)}function V(Ae){return o[Ae.getDay()]}function q(Ae){return i[Ae.getDay()]}function U(Ae){return d[Ae.getMonth()]}function Q(Ae){return l[Ae.getMonth()]}function he(Ae){return a[+(Ae.getHours()>=12)]}function ue(Ae){return 1+~~(Ae.getMonth()/3)}function ce(Ae){return o[Ae.getUTCDay()]}function G(Ae){return i[Ae.getUTCDay()]}function J(Ae){return d[Ae.getUTCMonth()]}function ye(Ae){return l[Ae.getUTCMonth()]}function Se(Ae){return a[+(Ae.getUTCHours()>=12)]}function We(Ae){return 1+~~(Ae.getUTCMonth()/3)}return{format:function(Ae){var ze=A(Ae+="",S);return ze.toString=function(){return Ae},ze},parse:function(Ae){var ze=k(Ae+="",!1);return ze.toString=function(){return Ae},ze},utcFormat:function(Ae){var ze=A(Ae+="",C);return ze.toString=function(){return Ae},ze},utcParse:function(Ae){var ze=k(Ae+="",!0);return ze.toString=function(){return Ae},ze}}}var rE={"-":"",_:" ",0:"0"},Sn=/^\s*\d+/,$ge=/^%/,Dge=/[\\^$*+?|[\]().{}]/g;function sr(e,t,n){var s=e<0?"-":"",a=(s?-e:e)+"",i=a.length;return s+(i<n?new Array(n-i+1).join(t)+a:a)}function Rge(e){return e.replace(Dge,"\\$&")}function wh(e){return new RegExp("^(?:"+e.map(Rge).join("|")+")","i")}function Nh(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function zge(e,t,n){var s=Sn.exec(t.slice(n,n+1));return s?(e.w=+s[0],n+s[0].length):-1}function Fge(e,t,n){var s=Sn.exec(t.slice(n,n+1));return s?(e.u=+s[0],n+s[0].length):-1}function Bge(e,t,n){var s=Sn.exec(t.slice(n,n+2));return s?(e.U=+s[0],n+s[0].length):-1}function qge(e,t,n){var s=Sn.exec(t.slice(n,n+2));return s?(e.V=+s[0],n+s[0].length):-1}function Uge(e,t,n){var s=Sn.exec(t.slice(n,n+2));return s?(e.W=+s[0],n+s[0].length):-1}function nE(e,t,n){var s=Sn.exec(t.slice(n,n+4));return s?(e.y=+s[0],n+s[0].length):-1}function sE(e,t,n){var s=Sn.exec(t.slice(n,n+2));return s?(e.y=+s[0]+(+s[0]>68?1900:2e3),n+s[0].length):-1}function Vge(e,t,n){var s=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return s?(e.Z=s[1]?0:-(s[2]+(s[3]||"00")),n+s[0].length):-1}function Wge(e,t,n){var s=Sn.exec(t.slice(n,n+1));return s?(e.q=s[0]*3-3,n+s[0].length):-1}function Kge(e,t,n){var s=Sn.exec(t.slice(n,n+2));return s?(e.m=s[0]-1,n+s[0].length):-1}function aE(e,t,n){var s=Sn.exec(t.slice(n,n+2));return s?(e.d=+s[0],n+s[0].length):-1}function Hge(e,t,n){var s=Sn.exec(t.slice(n,n+3));return s?(e.m=0,e.d=+s[0],n+s[0].length):-1}function iE(e,t,n){var s=Sn.exec(t.slice(n,n+2));return s?(e.H=+s[0],n+s[0].length):-1}function Gge(e,t,n){var s=Sn.exec(t.slice(n,n+2));return s?(e.M=+s[0],n+s[0].length):-1}function Zge(e,t,n){var s=Sn.exec(t.slice(n,n+2));return s?(e.S=+s[0],n+s[0].length):-1}function Qge(e,t,n){var s=Sn.exec(t.slice(n,n+3));return s?(e.L=+s[0],n+s[0].length):-1}function Yge(e,t,n){var s=Sn.exec(t.slice(n,n+6));return s?(e.L=Math.floor(s[0]/1e3),n+s[0].length):-1}function Xge(e,t,n){var s=$ge.exec(t.slice(n,n+1));return s?n+s[0].length:-1}function Jge(e,t,n){var s=Sn.exec(t.slice(n));return s?(e.Q=+s[0],n+s[0].length):-1}function eve(e,t,n){var s=Sn.exec(t.slice(n));return s?(e.s=+s[0],n+s[0].length):-1}function oE(e,t){return sr(e.getDate(),t,2)}function tve(e,t){return sr(e.getHours(),t,2)}function rve(e,t){return sr(e.getHours()%12||12,t,2)}function nve(e,t){return sr(1+Up.count(Ao(e),e),t,3)}function m6(e,t){return sr(e.getMilliseconds(),t,3)}function sve(e,t){return m6(e,t)+"000"}function ave(e,t){return sr(e.getMonth()+1,t,2)}function ive(e,t){return sr(e.getMinutes(),t,2)}function ove(e,t){return sr(e.getSeconds(),t,2)}function lve(e){var t=e.getDay();return t===0?7:t}function cve(e,t){return sr(K0.count(Ao(e)-1,e),t,2)}function h6(e){var t=e.getDay();return t>=4||t===0?Gu(e):Gu.ceil(e)}function dve(e,t){return e=h6(e),sr(Gu.count(Ao(e),e)+(Ao(e).getDay()===4),t,2)}function uve(e){return e.getDay()}function mve(e,t){return sr(Bv.count(Ao(e)-1,e),t,2)}function hve(e,t){return sr(e.getFullYear()%100,t,2)}function fve(e,t){return e=h6(e),sr(e.getFullYear()%100,t,2)}function pve(e,t){return sr(e.getFullYear()%1e4,t,4)}function xve(e,t){var n=e.getDay();return e=n>=4||n===0?Gu(e):Gu.ceil(e),sr(e.getFullYear()%1e4,t,4)}function gve(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+sr(t/60|0,"0",2)+sr(t%60,"0",2)}function lE(e,t){return sr(e.getUTCDate(),t,2)}function vve(e,t){return sr(e.getUTCHours(),t,2)}function yve(e,t){return sr(e.getUTCHours()%12||12,t,2)}function jve(e,t){return sr(1+W0.count(ko(e),e),t,3)}function f6(e,t){return sr(e.getUTCMilliseconds(),t,3)}function bve(e,t){return f6(e,t)+"000"}function wve(e,t){return sr(e.getUTCMonth()+1,t,2)}function Nve(e,t){return sr(e.getUTCMinutes(),t,2)}function Sve(e,t){return sr(e.getUTCSeconds(),t,2)}function _ve(e){var t=e.getUTCDay();return t===0?7:t}function Cve(e,t){return sr(H0.count(ko(e)-1,e),t,2)}function p6(e){var t=e.getUTCDay();return t>=4||t===0?Zu(e):Zu.ceil(e)}function Pve(e,t){return e=p6(e),sr(Zu.count(ko(e),e)+(ko(e).getUTCDay()===4),t,2)}function Ave(e){return e.getUTCDay()}function kve(e,t){return sr(qv.count(ko(e)-1,e),t,2)}function Eve(e,t){return sr(e.getUTCFullYear()%100,t,2)}function Tve(e,t){return e=p6(e),sr(e.getUTCFullYear()%100,t,2)}function Ove(e,t){return sr(e.getUTCFullYear()%1e4,t,4)}function Ive(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Zu(e):Zu.ceil(e),sr(e.getUTCFullYear()%1e4,t,4)}function Mve(){return"+0000"}function cE(){return"%"}function dE(e){return+e}function uE(e){return Math.floor(+e/1e3)}var $d,x6,g6;Lve({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Lve(e){return $d=Lge(e),x6=$d.format,$d.parse,g6=$d.utcFormat,$d.utcParse,$d}function $ve(e){return new Date(e)}function Dve(e){return e instanceof Date?+e:+new Date(+e)}function wC(e,t,n,s,a,i,o,l,d,u){var h=lC(),m=h.invert,p=h.domain,g=u(".%L"),y=u(":%S"),x=u("%I:%M"),v=u("%I %p"),j=u("%a %d"),b=u("%b %d"),S=u("%B"),C=u("%Y");function _(A){return(d(A)<A?g:l(A)<A?y:o(A)<A?x:i(A)<A?v:s(A)<A?a(A)<A?j:b:n(A)<A?S:C)(A)}return h.invert=function(A){return new Date(m(A))},h.domain=function(A){return arguments.length?p(Array.from(A,Dve)):p().map($ve)},h.ticks=function(A){var k=p();return e(k[0],k[k.length-1],A??10)},h.tickFormat=function(A,k){return k==null?_:u(k)},h.nice=function(A){var k=p();return(!A||typeof A.range!="function")&&(A=t(k[0],k[k.length-1],A??10)),A?p(n6(k,A)):h},h.copy=function(){return qp(h,wC(e,t,n,s,a,i,o,l,d,u))},h}function Rve(){return Na.apply(wC(Ige,Mge,Ao,jC,K0,Up,vC,xC,Nc,x6).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function zve(){return Na.apply(wC(Tge,Oge,ko,bC,H0,W0,yC,gC,Nc,g6).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function G0(){var e=0,t=1,n,s,a,i,o=rs,l=!1,d;function u(m){return m==null||isNaN(m=+m)?d:o(a===0?.5:(m=(i(m)-n)*a,l?Math.max(0,Math.min(1,m)):m))}u.domain=function(m){return arguments.length?([e,t]=m,n=i(e=+e),s=i(t=+t),a=n===s?0:1/(s-n),u):[e,t]},u.clamp=function(m){return arguments.length?(l=!!m,u):l},u.interpolator=function(m){return arguments.length?(o=m,u):o};function h(m){return function(p){var g,y;return arguments.length?([g,y]=p,o=m(g,y),u):[o(0),o(1)]}}return u.range=h(Dm),u.rangeRound=h(oC),u.unknown=function(m){return arguments.length?(d=m,u):d},function(m){return i=m,n=m(e),s=m(t),a=n===s?0:1/(s-n),u}}function Ql(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function v6(){var e=Zl(G0()(rs));return e.copy=function(){return Ql(e,v6())},Ro.apply(e,arguments)}function y6(){var e=uC(G0()).domain([1,10]);return e.copy=function(){return Ql(e,y6()).base(e.base())},Ro.apply(e,arguments)}function j6(){var e=mC(G0());return e.copy=function(){return Ql(e,j6()).constant(e.constant())},Ro.apply(e,arguments)}function NC(){var e=hC(G0());return e.copy=function(){return Ql(e,NC()).exponent(e.exponent())},Ro.apply(e,arguments)}function Fve(){return NC.apply(null,arguments).exponent(.5)}function b6(){var e=[],t=rs;function n(s){if(s!=null&&!isNaN(s=+s))return t((Fp(e,s,1)-1)/(e.length-1))}return n.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let a of s)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Al),n},n.interpolator=function(s){return arguments.length?(t=s,n):t},n.range=function(){return e.map((s,a)=>t(a/(e.length-1)))},n.quantiles=function(s){return Array.from({length:s+1},(a,i)=>Cxe(e,i/s))},n.copy=function(){return b6(t).domain(e)},Ro.apply(n,arguments)}function Z0(){var e=0,t=.5,n=1,s=1,a,i,o,l,d,u=rs,h,m=!1,p;function g(x){return isNaN(x=+x)?p:(x=.5+((x=+h(x))-i)*(s*x<s*i?l:d),u(m?Math.max(0,Math.min(1,x)):x))}g.domain=function(x){return arguments.length?([e,t,n]=x,a=h(e=+e),i=h(t=+t),o=h(n=+n),l=a===i?0:.5/(i-a),d=i===o?0:.5/(o-i),s=i<a?-1:1,g):[e,t,n]},g.clamp=function(x){return arguments.length?(m=!!x,g):m},g.interpolator=function(x){return arguments.length?(u=x,g):u};function y(x){return function(v){var j,b,S;return arguments.length?([j,b,S]=v,u=Xxe(x,[j,b,S]),g):[u(0),u(.5),u(1)]}}return g.range=y(Dm),g.rangeRound=y(oC),g.unknown=function(x){return arguments.length?(p=x,g):p},function(x){return h=x,a=x(e),i=x(t),o=x(n),l=a===i?0:.5/(i-a),d=i===o?0:.5/(o-i),s=i<a?-1:1,g}}function w6(){var e=Zl(Z0()(rs));return e.copy=function(){return Ql(e,w6())},Ro.apply(e,arguments)}function N6(){var e=uC(Z0()).domain([.1,1,10]);return e.copy=function(){return Ql(e,N6()).base(e.base())},Ro.apply(e,arguments)}function S6(){var e=mC(Z0());return e.copy=function(){return Ql(e,S6()).constant(e.constant())},Ro.apply(e,arguments)}function SC(){var e=hC(Z0());return e.copy=function(){return Ql(e,SC()).exponent(e.exponent())},Ro.apply(e,arguments)}function Bve(){return SC.apply(null,arguments).exponent(.5)}const mE=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Bf,scaleDiverging:w6,scaleDivergingLog:N6,scaleDivergingPow:SC,scaleDivergingSqrt:Bve,scaleDivergingSymlog:S6,scaleIdentity:r6,scaleImplicit:k1,scaleLinear:zv,scaleLog:s6,scaleOrdinal:sC,scalePoint:Gh,scalePow:fC,scaleQuantile:o6,scaleQuantize:l6,scaleRadial:i6,scaleSequential:v6,scaleSequentialLog:y6,scaleSequentialPow:NC,scaleSequentialQuantile:b6,scaleSequentialSqrt:Fve,scaleSequentialSymlog:j6,scaleSqrt:bge,scaleSymlog:a6,scaleThreshold:c6,scaleTime:Rve,scaleUtc:zve,tickFormat:t6},Symbol.toStringTag,{value:"Module"}));var qve=Am;function Uve(e,t,n){for(var s=-1,a=e.length;++s<a;){var i=e[s],o=t(i);if(o!=null&&(l===void 0?o===o&&!qve(o):n(o,l)))var l=o,d=i}return d}var Q0=Uve;function Vve(e,t){return e>t}var _6=Vve,Wve=Q0,Kve=_6,Hve=$m;function Gve(e){return e&&e.length?Wve(e,Hve,Kve):void 0}var Zve=Gve;const hl=ar(Zve);function Qve(e,t){return e<t}var C6=Qve,Yve=Q0,Xve=C6,Jve=$m;function eye(e){return e&&e.length?Yve(e,Jve,Xve):void 0}var tye=eye;const Y0=ar(tye);var rye=z_,nye=Ii,sye=M8,aye=Ps;function iye(e,t){var n=aye(e)?rye:sye;return n(e,nye(t))}var oye=iye,lye=O8,cye=oye;function dye(e,t){return lye(cye(e,t),1)}var uye=dye;const mye=ar(uye);var hye=J_;function fye(e,t){return hye(e,t)}var pye=fye;const Eo=ar(pye);var Rm=1e9,xye={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},CC,Mr=!0,ya="[DecimalError] ",zc=ya+"Invalid argument: ",_C=ya+"Exponent out of range: ",zm=Math.floor,hc=Math.pow,gye=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,zs,fn=1e7,kr=7,P6=9007199254740991,Uv=zm(P6/kr),at={};at.absoluteValue=at.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};at.comparedTo=at.cmp=function(e){var t,n,s,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(s=i.d.length,a=e.d.length,t=0,n=s<a?s:a;t<n;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return s===a?0:s>a^i.s<0?1:-1};at.decimalPlaces=at.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*kr;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};at.dividedBy=at.div=function(e){return xo(this,new this.constructor(e))};at.dividedToIntegerBy=at.idiv=function(e){var t=this,n=t.constructor;return vr(xo(t,new n(e),0,1),n.precision)};at.equals=at.eq=function(e){return!this.cmp(e)};at.exponent=function(){return tn(this)};at.greaterThan=at.gt=function(e){return this.cmp(e)>0};at.greaterThanOrEqualTo=at.gte=function(e){return this.cmp(e)>=0};at.isInteger=at.isint=function(){return this.e>this.d.length-2};at.isNegative=at.isneg=function(){return this.s<0};at.isPositive=at.ispos=function(){return this.s>0};at.isZero=function(){return this.s===0};at.lessThan=at.lt=function(e){return this.cmp(e)<0};at.lessThanOrEqualTo=at.lte=function(e){return this.cmp(e)<1};at.logarithm=at.log=function(e){var t,n=this,s=n.constructor,a=s.precision,i=a+5;if(e===void 0)e=new s(10);else if(e=new s(e),e.s<1||e.eq(zs))throw Error(ya+"NaN");if(n.s<1)throw Error(ya+(n.s?"NaN":"-Infinity"));return n.eq(zs)?new s(0):(Mr=!1,t=xo(Kf(n,i),Kf(e,i),i),Mr=!0,vr(t,a))};at.minus=at.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?E6(t,e):A6(t,(e.s=-e.s,e))};at.modulo=at.mod=function(e){var t,n=this,s=n.constructor,a=s.precision;if(e=new s(e),!e.s)throw Error(ya+"NaN");return n.s?(Mr=!1,t=xo(n,e,0,1).times(e),Mr=!0,n.minus(t)):vr(new s(n),a)};at.naturalExponential=at.exp=function(){return k6(this)};at.naturalLogarithm=at.ln=function(){return Kf(this)};at.negated=at.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};at.plus=at.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?A6(t,e):E6(t,(e.s=-e.s,e))};at.precision=at.sd=function(e){var t,n,s,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(zc+e);if(t=tn(a)+1,s=a.d.length-1,n=s*kr+1,s=a.d[s],s){for(;s%10==0;s/=10)n--;for(s=a.d[0];s>=10;s/=10)n++}return e&&t>n?t:n};at.squareRoot=at.sqrt=function(){var e,t,n,s,a,i,o,l=this,d=l.constructor;if(l.s<1){if(!l.s)return new d(0);throw Error(ya+"NaN")}for(e=tn(l),Mr=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=ji(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=zm((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),s=new d(t)):s=new d(a.toString()),n=d.precision,a=o=n+3;;)if(i=s,s=i.plus(xo(l,i,o+2)).times(.5),ji(i.d).slice(0,o)===(t=ji(s.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(vr(i,n+1,0),i.times(i).eq(l)){s=i;break}}else if(t!="9999")break;o+=4}return Mr=!0,vr(s,n)};at.times=at.mul=function(e){var t,n,s,a,i,o,l,d,u,h=this,m=h.constructor,p=h.d,g=(e=new m(e)).d;if(!h.s||!e.s)return new m(0);for(e.s*=h.s,n=h.e+e.e,d=p.length,u=g.length,d<u&&(i=p,p=g,g=i,o=d,d=u,u=o),i=[],o=d+u,s=o;s--;)i.push(0);for(s=u;--s>=0;){for(t=0,a=d+s;a>s;)l=i[a]+g[s]*p[a-s-1]+t,i[a--]=l%fn|0,t=l/fn|0;i[a]=(i[a]+t)%fn|0}for(;!i[--o];)i.pop();return t?++n:i.shift(),e.d=i,e.e=n,Mr?vr(e,m.precision):e};at.toDecimalPlaces=at.todp=function(e,t){var n=this,s=n.constructor;return n=new s(n),e===void 0?n:(Ei(e,0,Rm),t===void 0?t=s.rounding:Ei(t,0,8),vr(n,e+tn(n)+1,t))};at.toExponential=function(e,t){var n,s=this,a=s.constructor;return e===void 0?n=rd(s,!0):(Ei(e,0,Rm),t===void 0?t=a.rounding:Ei(t,0,8),s=vr(new a(s),e+1,t),n=rd(s,!0,e+1)),n};at.toFixed=function(e,t){var n,s,a=this,i=a.constructor;return e===void 0?rd(a):(Ei(e,0,Rm),t===void 0?t=i.rounding:Ei(t,0,8),s=vr(new i(a),e+tn(a)+1,t),n=rd(s.abs(),!1,e+tn(s)+1),a.isneg()&&!a.isZero()?"-"+n:n)};at.toInteger=at.toint=function(){var e=this,t=e.constructor;return vr(new t(e),tn(e)+1,t.rounding)};at.toNumber=function(){return+this};at.toPower=at.pow=function(e){var t,n,s,a,i,o,l=this,d=l.constructor,u=12,h=+(e=new d(e));if(!e.s)return new d(zs);if(l=new d(l),!l.s){if(e.s<1)throw Error(ya+"Infinity");return l}if(l.eq(zs))return l;if(s=d.precision,e.eq(zs))return vr(l,s);if(t=e.e,n=e.d.length-1,o=t>=n,i=l.s,o){if((n=h<0?-h:h)<=P6){for(a=new d(zs),t=Math.ceil(s/kr+4),Mr=!1;n%2&&(a=a.times(l),fE(a.d,t)),n=zm(n/2),n!==0;)l=l.times(l),fE(l.d,t);return Mr=!0,e.s<0?new d(zs).div(a):vr(a,s)}}else if(i<0)throw Error(ya+"NaN");return i=i<0&&e.d[Math.max(t,n)]&1?-1:1,l.s=1,Mr=!1,a=e.times(Kf(l,s+u)),Mr=!0,a=k6(a),a.s=i,a};at.toPrecision=function(e,t){var n,s,a=this,i=a.constructor;return e===void 0?(n=tn(a),s=rd(a,n<=i.toExpNeg||n>=i.toExpPos)):(Ei(e,1,Rm),t===void 0?t=i.rounding:Ei(t,0,8),a=vr(new i(a),e,t),n=tn(a),s=rd(a,e<=n||n<=i.toExpNeg,e)),s};at.toSignificantDigits=at.tosd=function(e,t){var n=this,s=n.constructor;return e===void 0?(e=s.precision,t=s.rounding):(Ei(e,1,Rm),t===void 0?t=s.rounding:Ei(t,0,8)),vr(new s(n),e,t)};at.toString=at.valueOf=at.val=at.toJSON=at[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=tn(e),n=e.constructor;return rd(e,t<=n.toExpNeg||t>=n.toExpPos)};function A6(e,t){var n,s,a,i,o,l,d,u,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),Mr?vr(t,m):t;if(d=e.d,u=t.d,o=e.e,a=t.e,d=d.slice(),i=o-a,i){for(i<0?(s=d,i=-i,l=u.length):(s=u,a=o,l=d.length),o=Math.ceil(m/kr),l=o>l?o+1:l+1,i>l&&(i=l,s.length=1),s.reverse();i--;)s.push(0);s.reverse()}for(l=d.length,i=u.length,l-i<0&&(i=l,s=u,u=d,d=s),n=0;i;)n=(d[--i]=d[i]+u[i]+n)/fn|0,d[i]%=fn;for(n&&(d.unshift(n),++a),l=d.length;d[--l]==0;)d.pop();return t.d=d,t.e=a,Mr?vr(t,m):t}function Ei(e,t,n){if(e!==~~e||e<t||e>n)throw Error(zc+e)}function ji(e){var t,n,s,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)s=e[t]+"",n=kr-s.length,n&&(i+=Qo(n)),i+=s;o=e[t],s=o+"",n=kr-s.length,n&&(i+=Qo(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var xo=function(){function e(s,a){var i,o=0,l=s.length;for(s=s.slice();l--;)i=s[l]*a+o,s[l]=i%fn|0,o=i/fn|0;return o&&s.unshift(o),s}function t(s,a,i,o){var l,d;if(i!=o)d=i>o?1:-1;else for(l=d=0;l<i;l++)if(s[l]!=a[l]){d=s[l]>a[l]?1:-1;break}return d}function n(s,a,i){for(var o=0;i--;)s[i]-=o,o=s[i]<a[i]?1:0,s[i]=o*fn+s[i]-a[i];for(;!s[0]&&s.length>1;)s.shift()}return function(s,a,i,o){var l,d,u,h,m,p,g,y,x,v,j,b,S,C,_,A,k,T,O=s.constructor,M=s.s==a.s?1:-1,z=s.d,F=a.d;if(!s.s)return new O(s);if(!a.s)throw Error(ya+"Division by zero");for(d=s.e-a.e,k=F.length,_=z.length,g=new O(M),y=g.d=[],u=0;F[u]==(z[u]||0);)++u;if(F[u]>(z[u]||0)&&--d,i==null?b=i=O.precision:o?b=i+(tn(s)-tn(a))+1:b=i,b<0)return new O(0);if(b=b/kr+2|0,u=0,k==1)for(h=0,F=F[0],b++;(u<_||h)&&b--;u++)S=h*fn+(z[u]||0),y[u]=S/F|0,h=S%F|0;else{for(h=fn/(F[0]+1)|0,h>1&&(F=e(F,h),z=e(z,h),k=F.length,_=z.length),C=k,x=z.slice(0,k),v=x.length;v<k;)x[v++]=0;T=F.slice(),T.unshift(0),A=F[0],F[1]>=fn/2&&++A;do h=0,l=t(F,x,k,v),l<0?(j=x[0],k!=v&&(j=j*fn+(x[1]||0)),h=j/A|0,h>1?(h>=fn&&(h=fn-1),m=e(F,h),p=m.length,v=x.length,l=t(m,x,p,v),l==1&&(h--,n(m,k<p?T:F,p))):(h==0&&(l=h=1),m=F.slice()),p=m.length,p<v&&m.unshift(0),n(x,m,v),l==-1&&(v=x.length,l=t(F,x,k,v),l<1&&(h++,n(x,k<v?T:F,v))),v=x.length):l===0&&(h++,x=[0]),y[u++]=h,l&&x[0]?x[v++]=z[C]||0:(x=[z[C]],v=1);while((C++<_||x[0]!==void 0)&&b--)}return y[0]||y.shift(),g.e=d,vr(g,o?i+tn(g)+1:i)}}();function k6(e,t){var n,s,a,i,o,l,d=0,u=0,h=e.constructor,m=h.precision;if(tn(e)>16)throw Error(_C+tn(e));if(!e.s)return new h(zs);for(t==null?(Mr=!1,l=m):l=t,o=new h(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(s=Math.log(hc(2,u))/Math.LN10*2+5|0,l+=s,n=a=i=new h(zs),h.precision=l;;){if(a=vr(a.times(e),l),n=n.times(++d),o=i.plus(xo(a,n,l)),ji(o.d).slice(0,l)===ji(i.d).slice(0,l)){for(;u--;)i=vr(i.times(i),l);return h.precision=m,t==null?(Mr=!0,vr(i,m)):i}i=o}}function tn(e){for(var t=e.e*kr,n=e.d[0];n>=10;n/=10)t++;return t}function iw(e,t,n){if(t>e.LN10.sd())throw Mr=!0,n&&(e.precision=n),Error(ya+"LN10 precision limit exceeded");return vr(new e(e.LN10),t)}function Qo(e){for(var t="";e--;)t+="0";return t}function Kf(e,t){var n,s,a,i,o,l,d,u,h,m=1,p=10,g=e,y=g.d,x=g.constructor,v=x.precision;if(g.s<1)throw Error(ya+(g.s?"NaN":"-Infinity"));if(g.eq(zs))return new x(0);if(t==null?(Mr=!1,u=v):u=t,g.eq(10))return t==null&&(Mr=!0),iw(x,u);if(u+=p,x.precision=u,n=ji(y),s=n.charAt(0),i=tn(g),Math.abs(i)<15e14){for(;s<7&&s!=1||s==1&&n.charAt(1)>3;)g=g.times(e),n=ji(g.d),s=n.charAt(0),m++;i=tn(g),s>1?(g=new x("0."+n),i++):g=new x(s+"."+n.slice(1))}else return d=iw(x,u+2,v).times(i+""),g=Kf(new x(s+"."+n.slice(1)),u-p).plus(d),x.precision=v,t==null?(Mr=!0,vr(g,v)):g;for(l=o=g=xo(g.minus(zs),g.plus(zs),u),h=vr(g.times(g),u),a=3;;){if(o=vr(o.times(h),u),d=l.plus(xo(o,new x(a),u)),ji(d.d).slice(0,u)===ji(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(iw(x,u+2,v).times(i+""))),l=xo(l,new x(m),u),x.precision=v,t==null?(Mr=!0,vr(l,v)):l;l=d,a+=2}}function hE(e,t){var n,s,a;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(s=t.search(/e/i))>0?(n<0&&(n=s),n+=+t.slice(s+1),t=t.substring(0,s)):n<0&&(n=t.length),s=0;t.charCodeAt(s)===48;)++s;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(s,a),t){if(a-=s,n=n-s-1,e.e=zm(n/kr),e.d=[],s=(n+1)%kr,n<0&&(s+=kr),s<a){for(s&&e.d.push(+t.slice(0,s)),a-=kr;s<a;)e.d.push(+t.slice(s,s+=kr));t=t.slice(s),s=kr-t.length}else s-=a;for(;s--;)t+="0";if(e.d.push(+t),Mr&&(e.e>Uv||e.e<-Uv))throw Error(_C+n)}else e.s=0,e.e=0,e.d=[0];return e}function vr(e,t,n){var s,a,i,o,l,d,u,h,m=e.d;for(o=1,i=m[0];i>=10;i/=10)o++;if(s=t-o,s<0)s+=kr,a=t,u=m[h=0];else{if(h=Math.ceil((s+1)/kr),i=m.length,h>=i)return e;for(u=i=m[h],o=1;i>=10;i/=10)o++;s%=kr,a=s-kr+o}if(n!==void 0&&(i=hc(10,o-a-1),l=u/i%10|0,d=t<0||m[h+1]!==void 0||u%i,d=n<4?(l||d)&&(n==0||n==(e.s<0?3:2)):l>5||l==5&&(n==4||d||n==6&&(s>0?a>0?u/hc(10,o-a):0:m[h-1])%10&1||n==(e.s<0?8:7))),t<1||!m[0])return d?(i=tn(e),m.length=1,t=t-i-1,m[0]=hc(10,(kr-t%kr)%kr),e.e=zm(-t/kr)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(s==0?(m.length=h,i=1,h--):(m.length=h+1,i=hc(10,kr-s),m[h]=a>0?(u/hc(10,o-a)%hc(10,a)|0)*i:0),d)for(;;)if(h==0){(m[0]+=i)==fn&&(m[0]=1,++e.e);break}else{if(m[h]+=i,m[h]!=fn)break;m[h--]=0,i=1}for(s=m.length;m[--s]===0;)m.pop();if(Mr&&(e.e>Uv||e.e<-Uv))throw Error(_C+tn(e));return e}function E6(e,t){var n,s,a,i,o,l,d,u,h,m,p=e.constructor,g=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),Mr?vr(t,g):t;if(d=e.d,m=t.d,s=t.e,u=e.e,d=d.slice(),o=u-s,o){for(h=o<0,h?(n=d,o=-o,l=m.length):(n=m,s=u,l=d.length),a=Math.max(Math.ceil(g/kr),l)+2,o>a&&(o=a,n.length=1),n.reverse(),a=o;a--;)n.push(0);n.reverse()}else{for(a=d.length,l=m.length,h=a<l,h&&(l=a),a=0;a<l;a++)if(d[a]!=m[a]){h=d[a]<m[a];break}o=0}for(h&&(n=d,d=m,m=n,t.s=-t.s),l=d.length,a=m.length-l;a>0;--a)d[l++]=0;for(a=m.length;a>o;){if(d[--a]<m[a]){for(i=a;i&&d[--i]===0;)d[i]=fn-1;--d[i],d[a]+=fn}d[a]-=m[a]}for(;d[--l]===0;)d.pop();for(;d[0]===0;d.shift())--s;return d[0]?(t.d=d,t.e=s,Mr?vr(t,g):t):new p(0)}function rd(e,t,n){var s,a=tn(e),i=ji(e.d),o=i.length;return t?(n&&(s=n-o)>0?i=i.charAt(0)+"."+i.slice(1)+Qo(s):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Qo(-a-1)+i,n&&(s=n-o)>0&&(i+=Qo(s))):a>=o?(i+=Qo(a+1-o),n&&(s=n-a-1)>0&&(i=i+"."+Qo(s))):((s=a+1)<o&&(i=i.slice(0,s)+"."+i.slice(s)),n&&(s=n-o)>0&&(a+1===o&&(i+="."),i+=Qo(s))),e.s<0?"-"+i:i}function fE(e,t){if(e.length>t)return e.length=t,!0}function T6(e){var t,n,s;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(zc+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return hE(o,i.toString())}else if(typeof i!="string")throw Error(zc+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,gye.test(i))hE(o,i);else throw Error(zc+i)}if(a.prototype=at,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=T6,a.config=a.set=vye,e===void 0&&(e={}),e)for(s=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<s.length;)e.hasOwnProperty(n=s[t++])||(e[n]=this[n]);return a.config(e),a}function vye(e){if(!e||typeof e!="object")throw Error(ya+"Object expected");var t,n,s,a=["precision",1,Rm,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((s=e[n=a[t]])!==void 0)if(zm(s)===s&&s>=a[t+1]&&s<=a[t+2])this[n]=s;else throw Error(zc+n+": "+s);if((s=e[n="LN10"])!==void 0)if(s==Math.LN10)this[n]=new this(s);else throw Error(zc+n+": "+s);return this}var CC=T6(xye);zs=new CC(1);const pr=CC;function yye(e){return Nye(e)||wye(e)||bye(e)||jye()}function jye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bye(e,t){if(e){if(typeof e=="string")return I1(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I1(e,t)}}function wye(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Nye(e){if(Array.isArray(e))return I1(e)}function I1(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}var Sye=function(t){return t},O6={"@@functional/placeholder":!0},I6=function(t){return t===O6},pE=function(t){return function n(){return arguments.length===0||arguments.length===1&&I6(arguments.length<=0?void 0:arguments[0])?n:t.apply(void 0,arguments)}},_ye=function e(t,n){return t===1?n:pE(function(){for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];var o=a.filter(function(l){return l!==O6}).length;return o>=t?n.apply(void 0,a):e(t-o,pE(function(){for(var l=arguments.length,d=new Array(l),u=0;u<l;u++)d[u]=arguments[u];var h=a.map(function(m){return I6(m)?d.shift():m});return n.apply(void 0,yye(h).concat(d))}))})},X0=function(t){return _ye(t.length,t)},M1=function(t,n){for(var s=[],a=t;a<n;++a)s[a-t]=a;return s},Cye=X0(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(n){return t[n]}).map(e)}),Pye=function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];if(!n.length)return Sye;var a=n.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(l,d){return d(l)},i.apply(void 0,arguments))}},L1=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},M6=function(t){var n=null,s=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n&&i.every(function(l,d){return l===n[d]})||(n=i,s=t.apply(void 0,i)),s}};function Aye(e){var t;return e===0?t=1:t=Math.floor(new pr(e).abs().log(10).toNumber())+1,t}function kye(e,t,n){for(var s=new pr(e),a=0,i=[];s.lt(t)&&a<1e5;)i.push(s.toNumber()),s=s.add(n),a++;return i}var Eye=X0(function(e,t,n){var s=+e,a=+t;return s+n*(a-s)}),Tye=X0(function(e,t,n){var s=t-+e;return s=s||1/0,(n-e)/s}),Oye=X0(function(e,t,n){var s=t-+e;return s=s||1/0,Math.max(0,Math.min(1,(n-e)/s))});const J0={rangeStep:kye,getDigitCount:Aye,interpolateNumber:Eye,uninterpolateNumber:Tye,uninterpolateTruncation:Oye};function $1(e){return Lye(e)||Mye(e)||L6(e)||Iye()}function Iye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mye(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Lye(e){if(Array.isArray(e))return D1(e)}function Hf(e,t){return Rye(e)||Dye(e,t)||L6(e,t)||$ye()}function $ye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function L6(e,t){if(e){if(typeof e=="string")return D1(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D1(e,t)}}function D1(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function Dye(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],s=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(s=(l=o.next()).done)&&(n.push(l.value),!(t&&n.length===t));s=!0);}catch(d){a=!0,i=d}finally{try{!s&&o.return!=null&&o.return()}finally{if(a)throw i}}return n}}function Rye(e){if(Array.isArray(e))return e}function $6(e){var t=Hf(e,2),n=t[0],s=t[1],a=n,i=s;return n>s&&(a=s,i=n),[a,i]}function D6(e,t,n){if(e.lte(0))return new pr(0);var s=J0.getDigitCount(e.toNumber()),a=new pr(10).pow(s),i=e.div(a),o=s!==1?.05:.1,l=new pr(Math.ceil(i.div(o).toNumber())).add(n).mul(o),d=l.mul(a);return t?d:new pr(Math.ceil(d))}function zye(e,t,n){var s=1,a=new pr(e);if(!a.isint()&&n){var i=Math.abs(e);i<1?(s=new pr(10).pow(J0.getDigitCount(e)-1),a=new pr(Math.floor(a.div(s).toNumber())).mul(s)):i>1&&(a=new pr(Math.floor(e)))}else e===0?a=new pr(Math.floor((t-1)/2)):n||(a=new pr(Math.floor(e)));var o=Math.floor((t-1)/2),l=Pye(Cye(function(d){return a.add(new pr(d-o).mul(s)).toNumber()}),M1);return l(0,t)}function R6(e,t,n,s){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new pr(0),tickMin:new pr(0),tickMax:new pr(0)};var i=D6(new pr(t).sub(e).div(n-1),s,a),o;e<=0&&t>=0?o=new pr(0):(o=new pr(e).add(t).div(2),o=o.sub(new pr(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),d=Math.ceil(new pr(t).sub(o).div(i).toNumber()),u=l+d+1;return u>n?R6(e,t,n,s,a+1):(u<n&&(d=t>0?d+(n-u):d,l=t>0?l:l+(n-u)),{step:i,tickMin:o.sub(new pr(l).mul(i)),tickMax:o.add(new pr(d).mul(i))})}function Fye(e){var t=Hf(e,2),n=t[0],s=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=$6([n,s]),d=Hf(l,2),u=d[0],h=d[1];if(u===-1/0||h===1/0){var m=h===1/0?[u].concat($1(M1(0,a-1).map(function(){return 1/0}))):[].concat($1(M1(0,a-1).map(function(){return-1/0})),[h]);return n>s?L1(m):m}if(u===h)return zye(u,a,i);var p=R6(u,h,o,i),g=p.step,y=p.tickMin,x=p.tickMax,v=J0.rangeStep(y,x.add(new pr(.1).mul(g)),g);return n>s?L1(v):v}function Bye(e,t){var n=Hf(e,2),s=n[0],a=n[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=$6([s,a]),l=Hf(o,2),d=l[0],u=l[1];if(d===-1/0||u===1/0)return[s,a];if(d===u)return[d];var h=Math.max(t,2),m=D6(new pr(u).sub(d).div(h-1),i,0),p=[].concat($1(J0.rangeStep(new pr(d),new pr(u).sub(new pr(.99).mul(m)),m)),[u]);return s>a?L1(p):p}var qye=M6(Fye),Uye=M6(Bye),Vye="Invariant failed";function nd(e,t){throw new Error(Vye)}var Wye=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Qu(e){"@babel/helpers - typeof";return Qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qu(e)}function Vv(){return Vv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Vv.apply(this,arguments)}function Kye(e,t){return Qye(e)||Zye(e,t)||Gye(e,t)||Hye()}function Hye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gye(e,t){if(e){if(typeof e=="string")return xE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xE(e,t)}}function xE(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function Zye(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,a,i,o,l=[],d=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(d=(s=i.call(n)).done)&&(l.push(s.value),l.length!==t);d=!0);}catch(h){u=!0,a=h}finally{try{if(!d&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Qye(e){if(Array.isArray(e))return e}function Yye(e,t){if(e==null)return{};var n=Xye(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Xye(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function Jye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function e0e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,B6(s.key),s)}}function t0e(e,t,n){return t&&e0e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function r0e(e,t,n){return t=Wv(t),n0e(e,z6()?Reflect.construct(t,n||[],Wv(e).constructor):t.apply(e,n))}function n0e(e,t){if(t&&(Qu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return s0e(e)}function s0e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function z6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(z6=function(){return!!e})()}function Wv(e){return Wv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Wv(e)}function a0e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&R1(e,t)}function R1(e,t){return R1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},R1(e,t)}function F6(e,t,n){return t=B6(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B6(e){var t=i0e(e,"string");return Qu(t)=="symbol"?t:t+""}function i0e(e,t){if(Qu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Qu(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fm=function(e){function t(){return Jye(this,t),r0e(this,t,arguments)}return a0e(t,e),t0e(t,[{key:"render",value:function(){var s=this.props,a=s.offset,i=s.layout,o=s.width,l=s.dataKey,d=s.data,u=s.dataPointFormatter,h=s.xAxis,m=s.yAxis,p=Yye(s,Wye),g=tt(p,!1);this.props.direction==="x"&&h.type!=="number"&&nd();var y=d.map(function(x){var v=u(x,l),j=v.x,b=v.y,S=v.value,C=v.errorVal;if(!C)return null;var _=[],A,k;if(Array.isArray(C)){var T=Kye(C,2);A=T[0],k=T[1]}else A=k=C;if(i==="vertical"){var O=h.scale,M=b+a,z=M+o,F=M-o,Z=O(S-A),D=O(S+k);_.push({x1:D,y1:z,x2:D,y2:F}),_.push({x1:Z,y1:M,x2:D,y2:M}),_.push({x1:Z,y1:z,x2:Z,y2:F})}else if(i==="horizontal"){var $=m.scale,E=j+a,V=E-o,q=E+o,U=$(S-A),Q=$(S+k);_.push({x1:V,y1:Q,x2:q,y2:Q}),_.push({x1:E,y1:U,x2:E,y2:Q}),_.push({x1:V,y1:U,x2:q,y2:U})}return R.createElement(_t,Vv({className:"recharts-errorBar",key:"bar-".concat(_.map(function(he){return"".concat(he.x1,"-").concat(he.x2,"-").concat(he.y1,"-").concat(he.y2)}))},g),_.map(function(he){return R.createElement("line",Vv({},he,{key:"line-".concat(he.x1,"-").concat(he.x2,"-").concat(he.y1,"-").concat(he.y2)}))}))});return R.createElement(_t,{className:"recharts-errorBars"},y)}}])}(R.Component);F6(Fm,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});F6(Fm,"displayName","ErrorBar");function Gf(e){"@babel/helpers - typeof";return Gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gf(e)}function gE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function ic(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gE(Object(n),!0).forEach(function(s){o0e(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gE(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function o0e(e,t,n){return t=l0e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l0e(e){var t=c0e(e,"string");return Gf(t)=="symbol"?t:t+""}function c0e(e,t){if(Gf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Gf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var q6=function(t){var n=t.children,s=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,o=Ls(n,po);if(!o)return null;var l=po.defaultProps,d=l!==void 0?ic(ic({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(s||[]).reduce(function(h,m){var p=m.item,g=m.props,y=g.sectors||g.data||[];return h.concat(y.map(function(x){return{type:o.props.iconType||p.props.legendType,value:x.name,color:x.fill,payload:x}}))},[]):u=(s||[]).map(function(h){var m=h.item,p=m.type.defaultProps,g=p!==void 0?ic(ic({},p),m.props):{},y=g.dataKey,x=g.name,v=g.legendType,j=g.hide;return{inactive:j,dataKey:y,type:d.iconType||v||"square",color:PC(m),value:x||y,payload:g}}),ic(ic(ic({},d),po.getWithHeight(o,a)),{},{payload:u,item:o})};function Zf(e){"@babel/helpers - typeof";return Zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zf(e)}function vE(e){return h0e(e)||m0e(e)||u0e(e)||d0e()}function d0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function u0e(e,t){if(e){if(typeof e=="string")return z1(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z1(e,t)}}function m0e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function h0e(e){if(Array.isArray(e))return z1(e)}function z1(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function yE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Ur(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yE(Object(n),!0).forEach(function(s){vu(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yE(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function vu(e,t,n){return t=f0e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f0e(e){var t=p0e(e,"string");return Zf(t)=="symbol"?t:t+""}function p0e(e,t){if(Zf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Zf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gr(e,t,n){return pt(e)||pt(t)?n:cn(t)?Us(e,t,n):ft(t)?t(e):n}function Zh(e,t,n,s){var a=mye(e,function(l){return gr(l,t)});if(n==="number"){var i=a.filter(function(l){return Ue(l)||parseFloat(l)});return i.length?[Y0(i),hl(i)]:[1/0,-1/0]}var o=s?a.filter(function(l){return!pt(l)}):a;return o.map(function(l){return cn(l)||l instanceof Date?l:""})}var x0e=function(t){var n,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(n=s==null?void 0:s.length)!==null&&n!==void 0?n:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var d=i.range,u=0;u<l;u++){var h=u>0?a[u-1].coordinate:a[l-1].coordinate,m=a[u].coordinate,p=u>=l-1?a[0].coordinate:a[u+1].coordinate,g=void 0;if(es(m-h)!==es(p-m)){var y=[];if(es(p-m)===es(d[1]-d[0])){g=p;var x=m+d[1]-d[0];y[0]=Math.min(x,(x+h)/2),y[1]=Math.max(x,(x+h)/2)}else{g=h;var v=p+d[1]-d[0];y[0]=Math.min(m,(v+m)/2),y[1]=Math.max(m,(v+m)/2)}var j=[Math.min(m,(g+m)/2),Math.max(m,(g+m)/2)];if(t>j[0]&&t<=j[1]||t>=y[0]&&t<=y[1]){o=a[u].index;break}}else{var b=Math.min(h,p),S=Math.max(h,p);if(t>(b+m)/2&&t<=(S+m)/2){o=a[u].index;break}}}else for(var C=0;C<l;C++)if(C===0&&t<=(s[C].coordinate+s[C+1].coordinate)/2||C>0&&C<l-1&&t>(s[C].coordinate+s[C-1].coordinate)/2&&t<=(s[C].coordinate+s[C+1].coordinate)/2||C===l-1&&t>(s[C].coordinate+s[C-1].coordinate)/2){o=s[C].index;break}return o},PC=function(t){var n,s=t,a=s.type.displayName,i=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Ur(Ur({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,d;switch(a){case"Line":d=o;break;case"Area":case"Radar":d=o&&o!=="none"?o:l;break;default:d=l;break}return d},g0e=function(t){var n=t.barSize,s=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},l=Object.keys(i),d=0,u=l.length;d<u;d++)for(var h=i[l[d]].stackGroups,m=Object.keys(h),p=0,g=m.length;p<g;p++){var y=h[m[p]],x=y.items,v=y.cateAxisId,j=x.filter(function(k){return fo(k.type).indexOf("Bar")>=0});if(j&&j.length){var b=j[0].type.defaultProps,S=b!==void 0?Ur(Ur({},b),j[0].props):j[0].props,C=S.barSize,_=S[v];o[_]||(o[_]=[]);var A=pt(C)?n:C;o[_].push({item:j[0],stackList:j.slice(1),barSize:pt(A)?void 0:ts(A,s,0)})}}return o},v0e=function(t){var n=t.barGap,s=t.barCategoryGap,a=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,d=o.length;if(d<1)return null;var u=ts(n,a,0,!0),h,m=[];if(o[0].barSize===+o[0].barSize){var p=!1,g=a/d,y=o.reduce(function(C,_){return C+_.barSize||0},0);y+=(d-1)*u,y>=a&&(y-=(d-1)*u,u=0),y>=a&&g>0&&(p=!0,g*=.9,y=d*g);var x=(a-y)/2>>0,v={offset:x-u,size:0};h=o.reduce(function(C,_){var A={item:_.item,position:{offset:v.offset+v.size+u,size:p?g:_.barSize}},k=[].concat(vE(C),[A]);return v=k[k.length-1].position,_.stackList&&_.stackList.length&&_.stackList.forEach(function(T){k.push({item:T,position:v})}),k},m)}else{var j=ts(s,a,0,!0);a-2*j-(d-1)*u<=0&&(u=0);var b=(a-2*j-(d-1)*u)/d;b>1&&(b>>=0);var S=l===+l?Math.min(b,l):b;h=o.reduce(function(C,_,A){var k=[].concat(vE(C),[{item:_.item,position:{offset:j+(b+u)*A+(b-S)/2,size:S}}]);return _.stackList&&_.stackList.length&&_.stackList.forEach(function(T){k.push({item:T,position:k[k.length-1].position})}),k},m)}return h},y0e=function(t,n,s,a){var i=s.children,o=s.width,l=s.margin,d=o-(l.left||0)-(l.right||0),u=q6({children:i,legendWidth:d});if(u){var h=a||{},m=h.width,p=h.height,g=u.align,y=u.verticalAlign,x=u.layout;if((x==="vertical"||x==="horizontal"&&y==="middle")&&g!=="center"&&Ue(t[g]))return Ur(Ur({},t),{},vu({},g,t[g]+(m||0)));if((x==="horizontal"||x==="vertical"&&g==="center")&&y!=="middle"&&Ue(t[y]))return Ur(Ur({},t),{},vu({},y,t[y]+(p||0)))}return t},j0e=function(t,n,s){return pt(n)?!0:t==="horizontal"?n==="yAxis":t==="vertical"||s==="x"?n==="xAxis":s==="y"?n==="yAxis":!0},U6=function(t,n,s,a,i){var o=n.props.children,l=as(o,Fm).filter(function(u){return j0e(a,i,u.props.direction)});if(l&&l.length){var d=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,h){var m=gr(h,s);if(pt(m))return u;var p=Array.isArray(m)?[Y0(m),hl(m)]:[m,m],g=d.reduce(function(y,x){var v=gr(h,x,0),j=p[0]-Math.abs(Array.isArray(v)?v[0]:v),b=p[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(j,y[0]),Math.max(b,y[1])]},[1/0,-1/0]);return[Math.min(g[0],u[0]),Math.max(g[1],u[1])]},[1/0,-1/0])}return null},b0e=function(t,n,s,a,i){var o=n.map(function(l){return U6(t,l,s,i,a)}).filter(function(l){return!pt(l)});return o&&o.length?o.reduce(function(l,d){return[Math.min(l[0],d[0]),Math.max(l[1],d[1])]},[1/0,-1/0]):null},V6=function(t,n,s,a,i){var o=n.map(function(d){var u=d.props.dataKey;return s==="number"&&u&&U6(t,d,u,a)||Zh(t,u,s,i)});if(s==="number")return o.reduce(function(d,u){return[Math.min(d[0],u[0]),Math.max(d[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(d,u){for(var h=0,m=u.length;h<m;h++)l[u[h]]||(l[u[h]]=!0,d.push(u[h]));return d},[])},W6=function(t,n){return t==="horizontal"&&n==="xAxis"||t==="vertical"&&n==="yAxis"||t==="centric"&&n==="angleAxis"||t==="radial"&&n==="radiusAxis"},K6=function(t,n,s,a){if(a)return t.map(function(d){return d.coordinate});var i,o,l=t.map(function(d){return d.coordinate===n&&(i=!0),d.coordinate===s&&(o=!0),d.coordinate});return i||l.push(n),o||l.push(s),l},uo=function(t,n,s){if(!t)return null;var a=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,d=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(n||s)&&o==="category"&&a.bandwidth?a.bandwidth()/d:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?es(l[0]-l[1])*2*u:u,n&&(t.ticks||t.niceTicks)){var h=(t.ticks||t.niceTicks).map(function(m){var p=i?i.indexOf(m):m;return{coordinate:a(p)+u,value:m,offset:u}});return h.filter(function(m){return!Im(m.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(m,p){return{coordinate:a(m)+u,value:m,index:p,offset:u}}):a.ticks&&!s?a.ticks(t.tickCount).map(function(m){return{coordinate:a(m)+u,value:m,offset:u}}):a.domain().map(function(m,p){return{coordinate:a(m)+u,value:i?i[m]:m,index:p,offset:u}})},ow=new WeakMap,Zx=function(t,n){if(typeof n!="function")return t;ow.has(t)||ow.set(t,new WeakMap);var s=ow.get(t);if(s.has(n))return s.get(n);var a=function(){t.apply(void 0,arguments),n.apply(void 0,arguments)};return s.set(n,a),a},H6=function(t,n,s){var a=t.scale,i=t.type,o=t.layout,l=t.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Bf(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:zv(),realScaleType:"linear"}:i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!s)?{scale:Gh(),realScaleType:"point"}:i==="category"?{scale:Bf(),realScaleType:"band"}:{scale:zv(),realScaleType:"linear"};if(Jc(a)){var d="scale".concat($0(a));return{scale:(mE[d]||Gh)(),realScaleType:mE[d]?d:"point"}}return ft(a)?{scale:a}:{scale:Gh(),realScaleType:"point"}},jE=1e-4,G6=function(t){var n=t.domain();if(!(!n||n.length<=2)){var s=n.length,a=t.range(),i=Math.min(a[0],a[1])-jE,o=Math.max(a[0],a[1])+jE,l=t(n[0]),d=t(n[s-1]);(l<i||l>o||d<i||d>o)&&t.domain([n[0],n[s-1]])}},w0e=function(t,n){if(!t)return null;for(var s=0,a=t.length;s<a;s++)if(t[s].item===n)return t[s].position;return null},N0e=function(t,n){if(!n||n.length!==2||!Ue(n[0])||!Ue(n[1]))return t;var s=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]),i=[t[0],t[1]];return(!Ue(t[0])||t[0]<s)&&(i[0]=s),(!Ue(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<s&&(i[1]=s),i},S0e=function(t){var n=t.length;if(!(n<=0))for(var s=0,a=t[0].length;s<a;++s)for(var i=0,o=0,l=0;l<n;++l){var d=Im(t[l][s][1])?t[l][s][0]:t[l][s][1];d>=0?(t[l][s][0]=i,t[l][s][1]=i+d,i=t[l][s][1]):(t[l][s][0]=o,t[l][s][1]=o+d,o=t[l][s][1])}},_0e=function(t){var n=t.length;if(!(n<=0))for(var s=0,a=t[0].length;s<a;++s)for(var i=0,o=0;o<n;++o){var l=Im(t[o][s][1])?t[o][s][0]:t[o][s][1];l>=0?(t[o][s][0]=i,t[o][s][1]=i+l,i=t[o][s][1]):(t[o][s][0]=0,t[o][s][1]=0)}},C0e={sign:S0e,expand:Wie,none:qu,silhouette:Kie,wiggle:Hie,positive:_0e},P0e=function(t,n,s){var a=n.map(function(l){return l.props.dataKey}),i=C0e[s],o=Vie().keys(a).value(function(l,d){return+gr(l,d,0)}).order(d1).offset(i);return o(t)},A0e=function(t,n,s,a,i,o){if(!t)return null;var l=o?n.reverse():n,d={},u=l.reduce(function(m,p){var g,y=(g=p.type)!==null&&g!==void 0&&g.defaultProps?Ur(Ur({},p.type.defaultProps),p.props):p.props,x=y.stackId,v=y.hide;if(v)return m;var j=y[s],b=m[j]||{hasStack:!1,stackGroups:{}};if(cn(x)){var S=b.stackGroups[x]||{numericAxisId:s,cateAxisId:a,items:[]};S.items.push(p),b.hasStack=!0,b.stackGroups[x]=S}else b.stackGroups[Gl("_stackId_")]={numericAxisId:s,cateAxisId:a,items:[p]};return Ur(Ur({},m),{},vu({},j,b))},d),h={};return Object.keys(u).reduce(function(m,p){var g=u[p];if(g.hasStack){var y={};g.stackGroups=Object.keys(g.stackGroups).reduce(function(x,v){var j=g.stackGroups[v];return Ur(Ur({},x),{},vu({},v,{numericAxisId:s,cateAxisId:a,items:j.items,stackedData:P0e(t,j.items,i)}))},y)}return Ur(Ur({},m),{},vu({},p,g))},h)},Z6=function(t,n){var s=n.realScaleType,a=n.type,i=n.tickCount,o=n.originalDomain,l=n.allowDecimals,d=s||n.scale;if(d!=="auto"&&d!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var h=qye(u,i,l);return t.domain([Y0(h),hl(h)]),{niceTicks:h}}if(i&&a==="number"){var m=t.domain(),p=Uye(m,i,l);return{niceTicks:p}}return null};function Yu(e){var t=e.axis,n=e.ticks,s=e.bandSize,a=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!pt(a[t.dataKey])){var l=vv(n,"value",a[t.dataKey]);if(l)return l.coordinate+s/2}return n[i]?n[i].coordinate+s/2:null}var d=gr(a,pt(o)?t.dataKey:o);return pt(d)?null:t.scale(d)}var bE=function(t){var n=t.axis,s=t.ticks,a=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(n.type==="category")return s[l]?s[l].coordinate+a:null;var d=gr(o,n.dataKey,n.domain[l]);return pt(d)?null:n.scale(d)-i/2+a},k0e=function(t){var n=t.numericAxis,s=n.scale.domain();if(n.type==="number"){var a=Math.min(s[0],s[1]),i=Math.max(s[0],s[1]);return a<=0&&i>=0?0:i<0?i:a}return s[0]},E0e=function(t,n){var s,a=(s=t.type)!==null&&s!==void 0&&s.defaultProps?Ur(Ur({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(cn(i)){var o=n[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},T0e=function(t){return t.reduce(function(n,s){return[Y0(s.concat([n[0]]).filter(Ue)),hl(s.concat([n[1]]).filter(Ue))]},[1/0,-1/0])},Q6=function(t,n,s){return Object.keys(t).reduce(function(a,i){var o=t[i],l=o.stackedData,d=l.reduce(function(u,h){var m=T0e(h.slice(n,s+1));return[Math.min(u[0],m[0]),Math.max(u[1],m[1])]},[1/0,-1/0]);return[Math.min(d[0],a[0]),Math.max(d[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},wE=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,NE=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,F1=function(t,n,s){if(ft(t))return t(n,s);if(!Array.isArray(t))return n;var a=[];if(Ue(t[0]))a[0]=s?t[0]:Math.min(t[0],n[0]);else if(wE.test(t[0])){var i=+wE.exec(t[0])[1];a[0]=n[0]-i}else ft(t[0])?a[0]=t[0](n[0]):a[0]=n[0];if(Ue(t[1]))a[1]=s?t[1]:Math.max(t[1],n[1]);else if(NE.test(t[1])){var o=+NE.exec(t[1])[1];a[1]=n[1]+o}else ft(t[1])?a[1]=t[1](n[1]):a[1]=n[1];return a},Kv=function(t,n,s){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!s||a>0)return a}if(t&&n&&n.length>=2){for(var i=tC(n,function(m){return m.coordinate}),o=1/0,l=1,d=i.length;l<d;l++){var u=i[l],h=i[l-1];o=Math.min((u.coordinate||0)-(h.coordinate||0),o)}return o===1/0?0:o}return s?void 0:0},SE=function(t,n,s){return!t||!t.length||Eo(t,Us(s,"type.defaultProps.domain"))?n:t},Y6=function(t,n){var s=t.type.defaultProps?Ur(Ur({},t.type.defaultProps),t.props):t.props,a=s.dataKey,i=s.name,o=s.unit,l=s.formatter,d=s.tooltipType,u=s.chartType,h=s.hide;return Ur(Ur({},tt(t,!1)),{},{dataKey:a,unit:o,formatter:l,name:i||a,color:PC(t),value:gr(n,a),type:d,payload:n,chartType:u,hide:h})};function Qf(e){"@babel/helpers - typeof";return Qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qf(e)}function _E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Gi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_E(Object(n),!0).forEach(function(s){X6(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_E(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function X6(e,t,n){return t=O0e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O0e(e){var t=I0e(e,"string");return Qf(t)=="symbol"?t:t+""}function I0e(e,t){if(Qf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Qf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function M0e(e,t){return R0e(e)||D0e(e,t)||$0e(e,t)||L0e()}function L0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $0e(e,t){if(e){if(typeof e=="string")return CE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CE(e,t)}}function CE(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function D0e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,a,i,o,l=[],d=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(d=(s=i.call(n)).done)&&(l.push(s.value),l.length!==t);d=!0);}catch(h){u=!0,a=h}finally{try{if(!d&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function R0e(e){if(Array.isArray(e))return e}var Hv=Math.PI/180,z0e=function(t){return t*180/Math.PI},or=function(t,n,s,a){return{x:t+Math.cos(-Hv*a)*s,y:n+Math.sin(-Hv*a)*s}},J6=function(t,n){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(s.left||0)-(s.right||0)),Math.abs(n-(s.top||0)-(s.bottom||0)))/2},eF=function(t,n,s,a,i){var o=t.width,l=t.height,d=t.startAngle,u=t.endAngle,h=ts(t.cx,o,o/2),m=ts(t.cy,l,l/2),p=J6(o,l,s),g=ts(t.innerRadius,p,0),y=ts(t.outerRadius,p,p*.8),x=Object.keys(n);return x.reduce(function(v,j){var b=n[j],S=b.domain,C=b.reversed,_;if(pt(b.range))a==="angleAxis"?_=[d,u]:a==="radiusAxis"&&(_=[g,y]),C&&(_=[_[1],_[0]]);else{_=b.range;var A=_,k=M0e(A,2);d=k[0],u=k[1]}var T=H6(b,i),O=T.realScaleType,M=T.scale;M.domain(S).range(_),G6(M);var z=Z6(M,Gi(Gi({},b),{},{realScaleType:O})),F=Gi(Gi(Gi({},b),z),{},{range:_,radius:y,realScaleType:O,scale:M,cx:h,cy:m,innerRadius:g,outerRadius:y,startAngle:d,endAngle:u});return Gi(Gi({},v),{},X6({},j,F))},{})},F0e=function(t,n){var s=t.x,a=t.y,i=n.x,o=n.y;return Math.sqrt(Math.pow(s-i,2)+Math.pow(a-o,2))},B0e=function(t,n){var s=t.x,a=t.y,i=n.cx,o=n.cy,l=F0e({x:s,y:a},{x:i,y:o});if(l<=0)return{radius:l};var d=(s-i)/l,u=Math.acos(d);return a>o&&(u=2*Math.PI-u),{radius:l,angle:z0e(u),angleInRadian:u}},q0e=function(t){var n=t.startAngle,s=t.endAngle,a=Math.floor(n/360),i=Math.floor(s/360),o=Math.min(a,i);return{startAngle:n-o*360,endAngle:s-o*360}},U0e=function(t,n){var s=n.startAngle,a=n.endAngle,i=Math.floor(s/360),o=Math.floor(a/360),l=Math.min(i,o);return t+l*360},PE=function(t,n){var s=t.x,a=t.y,i=B0e({x:s,y:a},n),o=i.radius,l=i.angle,d=n.innerRadius,u=n.outerRadius;if(o<d||o>u)return!1;if(o===0)return!0;var h=q0e(n),m=h.startAngle,p=h.endAngle,g=l,y;if(m<=p){for(;g>p;)g-=360;for(;g<m;)g+=360;y=g>=m&&g<=p}else{for(;g>m;)g-=360;for(;g<p;)g+=360;y=g>=p&&g<=m}return y?Gi(Gi({},n),{},{radius:o,angle:U0e(g,n)}):null},tF=function(t){return!N.isValidElement(t)&&!ft(t)&&typeof t!="boolean"?t.className:""};function Yf(e){"@babel/helpers - typeof";return Yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yf(e)}var V0e=["offset"];function W0e(e){return Z0e(e)||G0e(e)||H0e(e)||K0e()}function K0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H0e(e,t){if(e){if(typeof e=="string")return B1(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B1(e,t)}}function G0e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Z0e(e){if(Array.isArray(e))return B1(e)}function B1(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function Q0e(e,t){if(e==null)return{};var n=Y0e(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Y0e(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function AE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function nn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AE(Object(n),!0).forEach(function(s){X0e(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AE(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function X0e(e,t,n){return t=J0e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function J0e(e){var t=eje(e,"string");return Yf(t)=="symbol"?t:t+""}function eje(e,t){if(Yf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Yf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xf(){return Xf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Xf.apply(this,arguments)}var tje=function(t){var n=t.value,s=t.formatter,a=pt(t.children)?n:t.children;return ft(s)?s(a):a},rje=function(t,n){var s=es(n-t),a=Math.min(Math.abs(n-t),360);return s*a},nje=function(t,n,s){var a=t.position,i=t.viewBox,o=t.offset,l=t.className,d=i,u=d.cx,h=d.cy,m=d.innerRadius,p=d.outerRadius,g=d.startAngle,y=d.endAngle,x=d.clockWise,v=(m+p)/2,j=rje(g,y),b=j>=0?1:-1,S,C;a==="insideStart"?(S=g+b*o,C=x):a==="insideEnd"?(S=y-b*o,C=!x):a==="end"&&(S=y+b*o,C=x),C=j<=0?C:!C;var _=or(u,h,v,S),A=or(u,h,v,S+(C?1:-1)*359),k="M".concat(_.x,",").concat(_.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(C?0:1,`,
    `).concat(A.x,",").concat(A.y),T=pt(t.id)?Gl("recharts-radial-line-"):t.id;return R.createElement("text",Xf({},s,{dominantBaseline:"central",className:bt("recharts-radial-bar-label",l)}),R.createElement("defs",null,R.createElement("path",{id:T,d:k})),R.createElement("textPath",{xlinkHref:"#".concat(T)},n))},sje=function(t){var n=t.viewBox,s=t.offset,a=t.position,i=n,o=i.cx,l=i.cy,d=i.innerRadius,u=i.outerRadius,h=i.startAngle,m=i.endAngle,p=(h+m)/2;if(a==="outside"){var g=or(o,l,u+s,p),y=g.x,x=g.y;return{x:y,y:x,textAnchor:y>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var v=(d+u)/2,j=or(o,l,v,p),b=j.x,S=j.y;return{x:b,y:S,textAnchor:"middle",verticalAnchor:"middle"}},aje=function(t){var n=t.viewBox,s=t.parentViewBox,a=t.offset,i=t.position,o=n,l=o.x,d=o.y,u=o.width,h=o.height,m=h>=0?1:-1,p=m*a,g=m>0?"end":"start",y=m>0?"start":"end",x=u>=0?1:-1,v=x*a,j=x>0?"end":"start",b=x>0?"start":"end";if(i==="top"){var S={x:l+u/2,y:d-m*a,textAnchor:"middle",verticalAnchor:g};return nn(nn({},S),s?{height:Math.max(d-s.y,0),width:u}:{})}if(i==="bottom"){var C={x:l+u/2,y:d+h+p,textAnchor:"middle",verticalAnchor:y};return nn(nn({},C),s?{height:Math.max(s.y+s.height-(d+h),0),width:u}:{})}if(i==="left"){var _={x:l-v,y:d+h/2,textAnchor:j,verticalAnchor:"middle"};return nn(nn({},_),s?{width:Math.max(_.x-s.x,0),height:h}:{})}if(i==="right"){var A={x:l+u+v,y:d+h/2,textAnchor:b,verticalAnchor:"middle"};return nn(nn({},A),s?{width:Math.max(s.x+s.width-A.x,0),height:h}:{})}var k=s?{width:u,height:h}:{};return i==="insideLeft"?nn({x:l+v,y:d+h/2,textAnchor:b,verticalAnchor:"middle"},k):i==="insideRight"?nn({x:l+u-v,y:d+h/2,textAnchor:j,verticalAnchor:"middle"},k):i==="insideTop"?nn({x:l+u/2,y:d+p,textAnchor:"middle",verticalAnchor:y},k):i==="insideBottom"?nn({x:l+u/2,y:d+h-p,textAnchor:"middle",verticalAnchor:g},k):i==="insideTopLeft"?nn({x:l+v,y:d+p,textAnchor:b,verticalAnchor:y},k):i==="insideTopRight"?nn({x:l+u-v,y:d+p,textAnchor:j,verticalAnchor:y},k):i==="insideBottomLeft"?nn({x:l+v,y:d+h-p,textAnchor:b,verticalAnchor:g},k):i==="insideBottomRight"?nn({x:l+u-v,y:d+h-p,textAnchor:j,verticalAnchor:g},k):km(i)&&(Ue(i.x)||bc(i.x))&&(Ue(i.y)||bc(i.y))?nn({x:l+ts(i.x,u),y:d+ts(i.y,h),textAnchor:"end",verticalAnchor:"end"},k):nn({x:l+u/2,y:d+h/2,textAnchor:"middle",verticalAnchor:"middle"},k)},ije=function(t){return"cx"in t&&Ue(t.cx)};function xn(e){var t=e.offset,n=t===void 0?5:t,s=Q0e(e,V0e),a=nn({offset:n},s),i=a.viewBox,o=a.position,l=a.value,d=a.children,u=a.content,h=a.className,m=h===void 0?"":h,p=a.textBreakAll;if(!i||pt(l)&&pt(d)&&!N.isValidElement(u)&&!ft(u))return null;if(N.isValidElement(u))return N.cloneElement(u,a);var g;if(ft(u)){if(g=N.createElement(u,a),N.isValidElement(g))return g}else g=tje(a);var y=ije(i),x=tt(a,!0);if(y&&(o==="insideStart"||o==="insideEnd"||o==="end"))return nje(a,g,x);var v=y?sje(a):aje(a);return R.createElement(td,Xf({className:bt("recharts-label",m)},x,v,{breakAll:p}),g)}xn.displayName="Label";var rF=function(t){var n=t.cx,s=t.cy,a=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,d=t.radius,u=t.innerRadius,h=t.outerRadius,m=t.x,p=t.y,g=t.top,y=t.left,x=t.width,v=t.height,j=t.clockWise,b=t.labelViewBox;if(b)return b;if(Ue(x)&&Ue(v)){if(Ue(m)&&Ue(p))return{x:m,y:p,width:x,height:v};if(Ue(g)&&Ue(y))return{x:g,y,width:x,height:v}}return Ue(m)&&Ue(p)?{x:m,y:p,width:0,height:0}:Ue(n)&&Ue(s)?{cx:n,cy:s,startAngle:i||a||0,endAngle:o||a||0,innerRadius:u||0,outerRadius:h||d||l||0,clockWise:j}:t.viewBox?t.viewBox:{}},oje=function(t,n){return t?t===!0?R.createElement(xn,{key:"label-implicit",viewBox:n}):cn(t)?R.createElement(xn,{key:"label-implicit",viewBox:n,value:t}):N.isValidElement(t)?t.type===xn?N.cloneElement(t,{key:"label-implicit",viewBox:n}):R.createElement(xn,{key:"label-implicit",content:t,viewBox:n}):ft(t)?R.createElement(xn,{key:"label-implicit",content:t,viewBox:n}):km(t)?R.createElement(xn,Xf({viewBox:n},t,{key:"label-implicit"})):null:null},lje=function(t,n){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&s&&!t.label)return null;var a=t.children,i=rF(t),o=as(a,xn).map(function(d,u){return N.cloneElement(d,{viewBox:n||i,key:"label-".concat(u)})});if(!s)return o;var l=oje(t.label,n||i);return[l].concat(W0e(o))};xn.parseViewBox=rF;xn.renderCallByParent=lje;function cje(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var dje=cje;const nF=ar(dje);function Jf(e){"@babel/helpers - typeof";return Jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jf(e)}var uje=["valueAccessor"],mje=["data","dataKey","clockWise","id","textBreakAll"];function hje(e){return gje(e)||xje(e)||pje(e)||fje()}function fje(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pje(e,t){if(e){if(typeof e=="string")return q1(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q1(e,t)}}function xje(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function gje(e){if(Array.isArray(e))return q1(e)}function q1(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function Gv(){return Gv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Gv.apply(this,arguments)}function kE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function EE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kE(Object(n),!0).forEach(function(s){vje(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kE(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function vje(e,t,n){return t=yje(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yje(e){var t=jje(e,"string");return Jf(t)=="symbol"?t:t+""}function jje(e,t){if(Jf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Jf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TE(e,t){if(e==null)return{};var n=bje(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function bje(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}var wje=function(t){return Array.isArray(t.value)?nF(t.value):t.value};function pa(e){var t=e.valueAccessor,n=t===void 0?wje:t,s=TE(e,uje),a=s.data,i=s.dataKey,o=s.clockWise,l=s.id,d=s.textBreakAll,u=TE(s,mje);return!a||!a.length?null:R.createElement(_t,{className:"recharts-label-list"},a.map(function(h,m){var p=pt(i)?n(h,m):gr(h&&h.payload,i),g=pt(l)?{}:{id:"".concat(l,"-").concat(m)};return R.createElement(xn,Gv({},tt(h,!0),u,g,{parentViewBox:h.parentViewBox,value:p,textBreakAll:d,viewBox:xn.parseViewBox(pt(o)?h:EE(EE({},h),{},{clockWise:o})),key:"label-".concat(m),index:m}))}))}pa.displayName="LabelList";function Nje(e,t){return e?e===!0?R.createElement(pa,{key:"labelList-implicit",data:t}):R.isValidElement(e)||ft(e)?R.createElement(pa,{key:"labelList-implicit",data:t,content:e}):km(e)?R.createElement(pa,Gv({data:t},e,{key:"labelList-implicit"})):null:null}function Sje(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var s=e.children,a=as(s,pa).map(function(o,l){return N.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!n)return a;var i=Nje(e.label,t);return[i].concat(hje(a))}pa.renderCallByParent=Sje;function ep(e){"@babel/helpers - typeof";return ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ep(e)}function U1(){return U1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},U1.apply(this,arguments)}function OE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function IE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OE(Object(n),!0).forEach(function(s){_je(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OE(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function _je(e,t,n){return t=Cje(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cje(e){var t=Pje(e,"string");return ep(t)=="symbol"?t:t+""}function Pje(e,t){if(ep(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(ep(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Aje=function(t,n){var s=es(n-t),a=Math.min(Math.abs(n-t),359.999);return s*a},Qx=function(t){var n=t.cx,s=t.cy,a=t.radius,i=t.angle,o=t.sign,l=t.isExternal,d=t.cornerRadius,u=t.cornerIsExternal,h=d*(l?1:-1)+a,m=Math.asin(d/h)/Hv,p=u?i:i+o*m,g=or(n,s,h,p),y=or(n,s,a,p),x=u?i-o*m:i,v=or(n,s,h*Math.cos(m*Hv),x);return{center:g,circleTangency:y,lineTangency:v,theta:m}},sF=function(t){var n=t.cx,s=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,d=Aje(o,l),u=o+d,h=or(n,s,i,o),m=or(n,s,i,u),p="M ".concat(h.x,",").concat(h.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(o>u),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(a>0){var g=or(n,s,a,o),y=or(n,s,a,u);p+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(o<=u),`,
            `).concat(g.x,",").concat(g.y," Z")}else p+="L ".concat(n,",").concat(s," Z");return p},kje=function(t){var n=t.cx,s=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,d=t.cornerIsExternal,u=t.startAngle,h=t.endAngle,m=es(h-u),p=Qx({cx:n,cy:s,radius:i,angle:u,sign:m,cornerRadius:o,cornerIsExternal:d}),g=p.circleTangency,y=p.lineTangency,x=p.theta,v=Qx({cx:n,cy:s,radius:i,angle:h,sign:-m,cornerRadius:o,cornerIsExternal:d}),j=v.circleTangency,b=v.lineTangency,S=v.theta,C=d?Math.abs(u-h):Math.abs(u-h)-x-S;if(C<0)return l?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):sF({cx:n,cy:s,innerRadius:a,outerRadius:i,startAngle:u,endAngle:h});var _="M ".concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(C>180),",").concat(+(m<0),",").concat(j.x,",").concat(j.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(b.x,",").concat(b.y,`
  `);if(a>0){var A=Qx({cx:n,cy:s,radius:a,angle:u,sign:m,isExternal:!0,cornerRadius:o,cornerIsExternal:d}),k=A.circleTangency,T=A.lineTangency,O=A.theta,M=Qx({cx:n,cy:s,radius:a,angle:h,sign:-m,isExternal:!0,cornerRadius:o,cornerIsExternal:d}),z=M.circleTangency,F=M.lineTangency,Z=M.theta,D=d?Math.abs(u-h):Math.abs(u-h)-O-Z;if(D<0&&o===0)return"".concat(_,"L").concat(n,",").concat(s,"Z");_+="L".concat(F.x,",").concat(F.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(z.x,",").concat(z.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(D>180),",").concat(+(m>0),",").concat(k.x,",").concat(k.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(T.x,",").concat(T.y,"Z")}else _+="L".concat(n,",").concat(s,"Z");return _},Eje={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},aF=function(t){var n=IE(IE({},Eje),t),s=n.cx,a=n.cy,i=n.innerRadius,o=n.outerRadius,l=n.cornerRadius,d=n.forceCornerRadius,u=n.cornerIsExternal,h=n.startAngle,m=n.endAngle,p=n.className;if(o<i||h===m)return null;var g=bt("recharts-sector",p),y=o-i,x=ts(l,y,0,!0),v;return x>0&&Math.abs(h-m)<360?v=kje({cx:s,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(x,y/2),forceCornerRadius:d,cornerIsExternal:u,startAngle:h,endAngle:m}):v=sF({cx:s,cy:a,innerRadius:i,outerRadius:o,startAngle:h,endAngle:m}),R.createElement("path",U1({},tt(n,!0),{className:g,d:v,role:"img"}))};function tp(e){"@babel/helpers - typeof";return tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tp(e)}function V1(){return V1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},V1.apply(this,arguments)}function ME(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function LE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ME(Object(n),!0).forEach(function(s){Tje(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ME(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Tje(e,t,n){return t=Oje(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oje(e){var t=Ije(e,"string");return tp(t)=="symbol"?t:t+""}function Ije(e,t){if(tp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(tp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $E={curveBasisClosed:Iie,curveBasisOpen:Mie,curveBasis:Oie,curveBumpX:vie,curveBumpY:yie,curveLinearClosed:Lie,curveLinear:R0,curveMonotoneX:$ie,curveMonotoneY:Die,curveNatural:Rie,curveStep:zie,curveStepAfter:Bie,curveStepBefore:Fie},Yx=function(t){return t.x===+t.x&&t.y===+t.y},Sh=function(t){return t.x},_h=function(t){return t.y},Mje=function(t,n){if(ft(t))return t;var s="curve".concat($0(t));return(s==="curveMonotone"||s==="curveBump")&&n?$E["".concat(s).concat(n==="vertical"?"Y":"X")]:$E[s]||R0},Lje=function(t){var n=t.type,s=n===void 0?"linear":n,a=t.points,i=a===void 0?[]:a,o=t.baseLine,l=t.layout,d=t.connectNulls,u=d===void 0?!1:d,h=Mje(s,l),m=u?i.filter(function(x){return Yx(x)}):i,p;if(Array.isArray(o)){var g=u?o.filter(function(x){return Yx(x)}):o,y=m.map(function(x,v){return LE(LE({},x),{},{base:g[v]})});return l==="vertical"?p=Bx().y(_h).x1(Sh).x0(function(x){return x.base.x}):p=Bx().x(Sh).y1(_h).y0(function(x){return x.base.y}),p.defined(Yx).curve(h),p(y)}return l==="vertical"&&Ue(o)?p=Bx().y(_h).x1(Sh).x0(o):Ue(o)?p=Bx().x(Sh).y1(_h).y0(o):p=Yz().x(Sh).y(_h),p.defined(Yx).curve(h),p(m)},kl=function(t){var n=t.className,s=t.points,a=t.path,i=t.pathRef;if((!s||!s.length)&&!a)return null;var o=s&&s.length?Lje(t):a;return N.createElement("path",V1({},tt(t,!1),yv(t),{className:bt("recharts-curve",n),d:o,ref:i}))},iF={exports:{}},$je="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Dje=$je,Rje=Dje;function oF(){}function lF(){}lF.resetWarningCache=oF;var zje=function(){function e(s,a,i,o,l,d){if(d!==Rje){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:lF,resetWarningCache:oF};return n.PropTypes=n,n};iF.exports=zje();var Fje=iF.exports;const dr=ar(Fje);var Bje=Object.getOwnPropertyNames,qje=Object.getOwnPropertySymbols,Uje=Object.prototype.hasOwnProperty;function DE(e,t){return function(s,a,i){return e(s,a,i)&&t(s,a,i)}}function Xx(e){return function(n,s,a){if(!n||!s||typeof n!="object"||typeof s!="object")return e(n,s,a);var i=a.cache,o=i.get(n),l=i.get(s);if(o&&l)return o===s&&l===n;i.set(n,s),i.set(s,n);var d=e(n,s,a);return i.delete(n),i.delete(s),d}}function RE(e){return Bje(e).concat(qje(e))}var Vje=Object.hasOwn||function(e,t){return Uje.call(e,t)};function pd(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var Wje="__v",Kje="__o",Hje="_owner",zE=Object.getOwnPropertyDescriptor,FE=Object.keys;function Gje(e,t,n){var s=e.length;if(t.length!==s)return!1;for(;s-- >0;)if(!n.equals(e[s],t[s],s,s,e,t,n))return!1;return!0}function Zje(e,t){return pd(e.getTime(),t.getTime())}function Qje(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function Yje(e,t){return e===t}function BE(e,t,n){var s=e.size;if(s!==t.size)return!1;if(!s)return!0;for(var a=new Array(s),i=e.entries(),o,l,d=0;(o=i.next())&&!o.done;){for(var u=t.entries(),h=!1,m=0;(l=u.next())&&!l.done;){if(a[m]){m++;continue}var p=o.value,g=l.value;if(n.equals(p[0],g[0],d,m,e,t,n)&&n.equals(p[1],g[1],p[0],g[0],e,t,n)){h=a[m]=!0;break}m++}if(!h)return!1;d++}return!0}var Xje=pd;function Jje(e,t,n){var s=FE(e),a=s.length;if(FE(t).length!==a)return!1;for(;a-- >0;)if(!cF(e,t,n,s[a]))return!1;return!0}function Ch(e,t,n){var s=RE(e),a=s.length;if(RE(t).length!==a)return!1;for(var i,o,l;a-- >0;)if(i=s[a],!cF(e,t,n,i)||(o=zE(e,i),l=zE(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function ebe(e,t){return pd(e.valueOf(),t.valueOf())}function tbe(e,t){return e.source===t.source&&e.flags===t.flags}function qE(e,t,n){var s=e.size;if(s!==t.size)return!1;if(!s)return!0;for(var a=new Array(s),i=e.values(),o,l;(o=i.next())&&!o.done;){for(var d=t.values(),u=!1,h=0;(l=d.next())&&!l.done;){if(!a[h]&&n.equals(o.value,l.value,o.value,l.value,e,t,n)){u=a[h]=!0;break}h++}if(!u)return!1}return!0}function rbe(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function nbe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function cF(e,t,n,s){return(s===Hje||s===Kje||s===Wje)&&(e.$$typeof||t.$$typeof)?!0:Vje(t,s)&&n.equals(e[s],t[s],s,s,e,t,n)}var sbe="[object Arguments]",abe="[object Boolean]",ibe="[object Date]",obe="[object Error]",lbe="[object Map]",cbe="[object Number]",dbe="[object Object]",ube="[object RegExp]",mbe="[object Set]",hbe="[object String]",fbe="[object URL]",pbe=Array.isArray,UE=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,VE=Object.assign,xbe=Object.prototype.toString.call.bind(Object.prototype.toString);function gbe(e){var t=e.areArraysEqual,n=e.areDatesEqual,s=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,d=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,h=e.areSetsEqual,m=e.areTypedArraysEqual,p=e.areUrlsEqual;return function(y,x,v){if(y===x)return!0;if(y==null||x==null)return!1;var j=typeof y;if(j!==typeof x)return!1;if(j!=="object")return j==="number"?o(y,x,v):j==="function"?a(y,x,v):!1;var b=y.constructor;if(b!==x.constructor)return!1;if(b===Object)return l(y,x,v);if(pbe(y))return t(y,x,v);if(UE!=null&&UE(y))return m(y,x,v);if(b===Date)return n(y,x,v);if(b===RegExp)return u(y,x,v);if(b===Map)return i(y,x,v);if(b===Set)return h(y,x,v);var S=xbe(y);return S===ibe?n(y,x,v):S===ube?u(y,x,v):S===lbe?i(y,x,v):S===mbe?h(y,x,v):S===dbe?typeof y.then!="function"&&typeof x.then!="function"&&l(y,x,v):S===fbe?p(y,x,v):S===obe?s(y,x,v):S===sbe?l(y,x,v):S===abe||S===cbe||S===hbe?d(y,x,v):!1}}function vbe(e){var t=e.circular,n=e.createCustomConfig,s=e.strict,a={areArraysEqual:s?Ch:Gje,areDatesEqual:Zje,areErrorsEqual:Qje,areFunctionsEqual:Yje,areMapsEqual:s?DE(BE,Ch):BE,areNumbersEqual:Xje,areObjectsEqual:s?Ch:Jje,arePrimitiveWrappersEqual:ebe,areRegExpsEqual:tbe,areSetsEqual:s?DE(qE,Ch):qE,areTypedArraysEqual:s?Ch:rbe,areUrlsEqual:nbe};if(n&&(a=VE({},a,n(a))),t){var i=Xx(a.areArraysEqual),o=Xx(a.areMapsEqual),l=Xx(a.areObjectsEqual),d=Xx(a.areSetsEqual);a=VE({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:d})}return a}function ybe(e){return function(t,n,s,a,i,o,l){return e(t,n,l)}}function jbe(e){var t=e.circular,n=e.comparator,s=e.createState,a=e.equals,i=e.strict;if(s)return function(d,u){var h=s(),m=h.cache,p=m===void 0?t?new WeakMap:void 0:m,g=h.meta;return n(d,u,{cache:p,equals:a,meta:g,strict:i})};if(t)return function(d,u){return n(d,u,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(d,u){return n(d,u,o)}}var bbe=Yl();Yl({strict:!0});Yl({circular:!0});Yl({circular:!0,strict:!0});Yl({createInternalComparator:function(){return pd}});Yl({strict:!0,createInternalComparator:function(){return pd}});Yl({circular:!0,createInternalComparator:function(){return pd}});Yl({circular:!0,createInternalComparator:function(){return pd},strict:!0});function Yl(e){e===void 0&&(e={});var t=e.circular,n=t===void 0?!1:t,s=e.createInternalComparator,a=e.createState,i=e.strict,o=i===void 0?!1:i,l=vbe(e),d=gbe(l),u=s?s(d):ybe(d);return jbe({circular:n,comparator:d,createState:a,equals:u,strict:o})}function wbe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function WE(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,s=function a(i){n<0&&(n=i),i-n>t?(e(i),n=-1):wbe(a)};requestAnimationFrame(s)}function W1(e){"@babel/helpers - typeof";return W1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},W1(e)}function Nbe(e){return Pbe(e)||Cbe(e)||_be(e)||Sbe()}function Sbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _be(e,t){if(e){if(typeof e=="string")return KE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KE(e,t)}}function KE(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function Cbe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Pbe(e){if(Array.isArray(e))return e}function Abe(){var e={},t=function(){return null},n=!1,s=function a(i){if(!n){if(Array.isArray(i)){if(!i.length)return;var o=i,l=Nbe(o),d=l[0],u=l.slice(1);if(typeof d=="number"){WE(a.bind(null,u),d);return}a(d),WE(a.bind(null,u));return}W1(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){n=!0},start:function(i){n=!1,s(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function rp(e){"@babel/helpers - typeof";return rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rp(e)}function HE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function GE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HE(Object(n),!0).forEach(function(s){dF(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HE(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function dF(e,t,n){return t=kbe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kbe(e){var t=Ebe(e,"string");return rp(t)==="symbol"?t:String(t)}function Ebe(e,t){if(rp(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(rp(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Tbe=function(t,n){return[Object.keys(t),Object.keys(n)].reduce(function(s,a){return s.filter(function(i){return a.includes(i)})})},Obe=function(t){return t},Ibe=function(t){return t.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Qh=function(t,n){return Object.keys(n).reduce(function(s,a){return GE(GE({},s),{},dF({},a,t(a,n[a])))},{})},ZE=function(t,n,s){return t.map(function(a){return"".concat(Ibe(a)," ").concat(n,"ms ").concat(s)}).join(",")};function Mbe(e,t){return Dbe(e)||$be(e,t)||uF(e,t)||Lbe()}function Lbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $be(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,a,i,o,l=[],d=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(d=(s=i.call(n)).done)&&(l.push(s.value),l.length!==t);d=!0);}catch(h){u=!0,a=h}finally{try{if(!d&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Dbe(e){if(Array.isArray(e))return e}function Rbe(e){return Bbe(e)||Fbe(e)||uF(e)||zbe()}function zbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uF(e,t){if(e){if(typeof e=="string")return K1(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return K1(e,t)}}function Fbe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Bbe(e){if(Array.isArray(e))return K1(e)}function K1(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}var Zv=1e-4,mF=function(t,n){return[0,3*t,3*n-6*t,3*t-3*n+1]},hF=function(t,n){return t.map(function(s,a){return s*Math.pow(n,a)}).reduce(function(s,a){return s+a})},QE=function(t,n){return function(s){var a=mF(t,n);return hF(a,s)}},qbe=function(t,n){return function(s){var a=mF(t,n),i=[].concat(Rbe(a.map(function(o,l){return o*l}).slice(1)),[0]);return hF(i,s)}},YE=function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];var a=n[0],i=n[1],o=n[2],l=n[3];if(n.length===1)switch(n[0]){case"linear":a=0,i=0,o=1,l=1;break;case"ease":a=.25,i=.1,o=.25,l=1;break;case"ease-in":a=.42,i=0,o=1,l=1;break;case"ease-out":a=.42,i=0,o=.58,l=1;break;case"ease-in-out":a=0,i=0,o=.58,l=1;break;default:{var d=n[0].split("(");if(d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4){var u=d[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),h=Mbe(u,4);a=h[0],i=h[1],o=h[2],l=h[3]}}}var m=QE(a,o),p=QE(i,l),g=qbe(a,o),y=function(j){return j>1?1:j<0?0:j},x=function(j){for(var b=j>1?1:j,S=b,C=0;C<8;++C){var _=m(S)-b,A=g(S);if(Math.abs(_-b)<Zv||A<Zv)return p(S);S=y(S-_/A)}return p(S)};return x.isStepper=!1,x},Ube=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.stiff,s=n===void 0?100:n,a=t.damping,i=a===void 0?8:a,o=t.dt,l=o===void 0?17:o,d=function(h,m,p){var g=-(h-m)*s,y=p*i,x=p+(g-y)*l/1e3,v=p*l/1e3+h;return Math.abs(v-m)<Zv&&Math.abs(x)<Zv?[m,0]:[v,x]};return d.isStepper=!0,d.dt=l,d},Vbe=function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];var a=n[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return YE(a);case"spring":return Ube();default:if(a.split("(")[0]==="cubic-bezier")return YE(a)}return typeof a=="function"?a:null};function np(e){"@babel/helpers - typeof";return np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},np(e)}function XE(e){return Hbe(e)||Kbe(e)||fF(e)||Wbe()}function Wbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kbe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Hbe(e){if(Array.isArray(e))return G1(e)}function JE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Cn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JE(Object(n),!0).forEach(function(s){H1(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JE(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function H1(e,t,n){return t=Gbe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gbe(e){var t=Zbe(e,"string");return np(t)==="symbol"?t:String(t)}function Zbe(e,t){if(np(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(np(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qbe(e,t){return Jbe(e)||Xbe(e,t)||fF(e,t)||Ybe()}function Ybe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fF(e,t){if(e){if(typeof e=="string")return G1(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G1(e,t)}}function G1(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function Xbe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,a,i,o,l=[],d=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(d=(s=i.call(n)).done)&&(l.push(s.value),l.length!==t);d=!0);}catch(h){u=!0,a=h}finally{try{if(!d&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Jbe(e){if(Array.isArray(e))return e}var Qv=function(t,n,s){return t+(n-t)*s},Z1=function(t){var n=t.from,s=t.to;return n!==s},ewe=function e(t,n,s){var a=Qh(function(i,o){if(Z1(o)){var l=t(o.from,o.to,o.velocity),d=Qbe(l,2),u=d[0],h=d[1];return Cn(Cn({},o),{},{from:u,velocity:h})}return o},n);return s<1?Qh(function(i,o){return Z1(o)?Cn(Cn({},o),{},{velocity:Qv(o.velocity,a[i].velocity,s),from:Qv(o.from,a[i].from,s)}):o},n):e(t,a,s-1)};const twe=function(e,t,n,s,a){var i=Tbe(e,t),o=i.reduce(function(v,j){return Cn(Cn({},v),{},H1({},j,[e[j],t[j]]))},{}),l=i.reduce(function(v,j){return Cn(Cn({},v),{},H1({},j,{from:e[j],velocity:0,to:t[j]}))},{}),d=-1,u,h,m=function(){return null},p=function(){return Qh(function(j,b){return b.from},l)},g=function(){return!Object.values(l).filter(Z1).length},y=function(j){u||(u=j);var b=j-u,S=b/n.dt;l=ewe(n,l,S),a(Cn(Cn(Cn({},e),t),p())),u=j,g()||(d=requestAnimationFrame(m))},x=function(j){h||(h=j);var b=(j-h)/s,S=Qh(function(_,A){return Qv.apply(void 0,XE(A).concat([n(b)]))},o);if(a(Cn(Cn(Cn({},e),t),S)),b<1)d=requestAnimationFrame(m);else{var C=Qh(function(_,A){return Qv.apply(void 0,XE(A).concat([n(1)]))},o);a(Cn(Cn(Cn({},e),t),C))}};return m=n.isStepper?y:x,function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(d)}}};function Xu(e){"@babel/helpers - typeof";return Xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xu(e)}var rwe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function nwe(e,t){if(e==null)return{};var n=swe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function swe(e,t){if(e==null)return{};var n={},s=Object.keys(e),a,i;for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function lw(e){return lwe(e)||owe(e)||iwe(e)||awe()}function awe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iwe(e,t){if(e){if(typeof e=="string")return Q1(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Q1(e,t)}}function owe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function lwe(e){if(Array.isArray(e))return Q1(e)}function Q1(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function eT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function ka(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eT(Object(n),!0).forEach(function(s){$h(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eT(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function $h(e,t,n){return t=pF(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dwe(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,pF(s.key),s)}}function uwe(e,t,n){return t&&dwe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function pF(e){var t=mwe(e,"string");return Xu(t)==="symbol"?t:String(t)}function mwe(e,t){if(Xu(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Xu(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hwe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Y1(e,t)}function Y1(e,t){return Y1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},Y1(e,t)}function fwe(e){var t=pwe();return function(){var s=Yv(e),a;if(t){var i=Yv(this).constructor;a=Reflect.construct(s,arguments,i)}else a=s.apply(this,arguments);return X1(this,a)}}function X1(e,t){if(t&&(Xu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return J1(e)}function J1(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pwe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Yv(e){return Yv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Yv(e)}var Hs=function(e){hwe(n,e);var t=fwe(n);function n(s,a){var i;cwe(this,n),i=t.call(this,s,a);var o=i.props,l=o.isActive,d=o.attributeName,u=o.from,h=o.to,m=o.steps,p=o.children,g=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(J1(i)),i.changeStyle=i.changeStyle.bind(J1(i)),!l||g<=0)return i.state={style:{}},typeof p=="function"&&(i.state={style:h}),X1(i);if(m&&m.length)i.state={style:m[0].style};else if(u){if(typeof p=="function")return i.state={style:u},X1(i);i.state={style:d?$h({},d,u):u}}else i.state={style:{}};return i}return uwe(n,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,l=i.canBegin,d=i.attributeName,u=i.shouldReAnimate,h=i.to,m=i.from,p=this.state.style;if(l){if(!o){var g={style:d?$h({},d,h):h};this.state&&p&&(d&&p[d]!==h||!d&&p!==h)&&this.setState(g);return}if(!(bbe(a.to,h)&&a.canBegin&&a.isActive)){var y=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var x=y||u?m:a.to;if(this.state&&p){var v={style:d?$h({},d,x):x};(d&&p[d]!==x||!d&&p!==x)&&this.setState(v)}this.runAnimation(ka(ka({},this.props),{},{from:x,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,l=a.to,d=a.duration,u=a.easing,h=a.begin,m=a.onAnimationEnd,p=a.onAnimationStart,g=twe(o,l,Vbe(u),d,this.changeStyle),y=function(){i.stopJSAnimation=g()};this.manager.start([p,h,y,d,m])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,l=a.begin,d=a.onAnimationStart,u=o[0],h=u.style,m=u.duration,p=m===void 0?0:m,g=function(x,v,j){if(j===0)return x;var b=v.duration,S=v.easing,C=S===void 0?"ease":S,_=v.style,A=v.properties,k=v.onAnimationEnd,T=j>0?o[j-1]:v,O=A||Object.keys(_);if(typeof C=="function"||C==="spring")return[].concat(lw(x),[i.runJSAnimation.bind(i,{from:T.style,to:_,duration:b,easing:C}),b]);var M=ZE(O,b,C),z=ka(ka(ka({},T.style),_),{},{transition:M});return[].concat(lw(x),[z,b,k]).filter(Obe)};return this.manager.start([d].concat(lw(o.reduce(g,[h,Math.max(p,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=Abe());var i=a.begin,o=a.duration,l=a.attributeName,d=a.to,u=a.easing,h=a.onAnimationStart,m=a.onAnimationEnd,p=a.steps,g=a.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof u=="function"||typeof g=="function"||u==="spring"){this.runJSAnimation(a);return}if(p.length>1){this.runStepAnimation(a);return}var x=l?$h({},l,d):d,v=ZE(Object.keys(x),o,u);y.start([h,i,ka(ka({},x),{},{transition:v}),o,m])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var d=nwe(a,rwe),u=N.Children.count(i),h=this.state.style;if(typeof i=="function")return i(h);if(!l||u===0||o<=0)return i;var m=function(g){var y=g.props,x=y.style,v=x===void 0?{}:x,j=y.className,b=N.cloneElement(g,ka(ka({},d),{},{style:ka(ka({},v),h),className:j}));return b};return u===1?m(N.Children.only(i)):R.createElement("div",null,N.Children.map(i,function(p){return m(p)}))}}]),n}(N.PureComponent);Hs.displayName="Animate";Hs.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Hs.propTypes={from:dr.oneOfType([dr.object,dr.string]),to:dr.oneOfType([dr.object,dr.string]),attributeName:dr.string,duration:dr.number,begin:dr.number,easing:dr.oneOfType([dr.string,dr.func]),steps:dr.arrayOf(dr.shape({duration:dr.number.isRequired,style:dr.object.isRequired,easing:dr.oneOfType([dr.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),dr.func]),properties:dr.arrayOf("string"),onAnimationEnd:dr.func})),children:dr.oneOfType([dr.node,dr.func]),isActive:dr.bool,canBegin:dr.bool,onAnimationEnd:dr.func,shouldReAnimate:dr.bool,onAnimationStart:dr.func,onAnimationReStart:dr.func};function sp(e){"@babel/helpers - typeof";return sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sp(e)}function Xv(){return Xv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Xv.apply(this,arguments)}function xwe(e,t){return jwe(e)||ywe(e,t)||vwe(e,t)||gwe()}function gwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vwe(e,t){if(e){if(typeof e=="string")return tT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tT(e,t)}}function tT(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function ywe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,a,i,o,l=[],d=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(d=(s=i.call(n)).done)&&(l.push(s.value),l.length!==t);d=!0);}catch(h){u=!0,a=h}finally{try{if(!d&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function jwe(e){if(Array.isArray(e))return e}function rT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function nT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rT(Object(n),!0).forEach(function(s){bwe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rT(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function bwe(e,t,n){return t=wwe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wwe(e){var t=Nwe(e,"string");return sp(t)=="symbol"?t:t+""}function Nwe(e,t){if(sp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(sp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sT=function(t,n,s,a,i){var o=Math.min(Math.abs(s)/2,Math.abs(a)/2),l=a>=0?1:-1,d=s>=0?1:-1,u=a>=0&&s>=0||a<0&&s<0?1:0,h;if(o>0&&i instanceof Array){for(var m=[0,0,0,0],p=0,g=4;p<g;p++)m[p]=i[p]>o?o:i[p];h="M".concat(t,",").concat(n+l*m[0]),m[0]>0&&(h+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(u,",").concat(t+d*m[0],",").concat(n)),h+="L ".concat(t+s-d*m[1],",").concat(n),m[1]>0&&(h+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(u,`,
        `).concat(t+s,",").concat(n+l*m[1])),h+="L ".concat(t+s,",").concat(n+a-l*m[2]),m[2]>0&&(h+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(u,`,
        `).concat(t+s-d*m[2],",").concat(n+a)),h+="L ".concat(t+d*m[3],",").concat(n+a),m[3]>0&&(h+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(n+a-l*m[3])),h+="Z"}else if(o>0&&i===+i&&i>0){var y=Math.min(o,i);h="M ".concat(t,",").concat(n+l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+d*y,",").concat(n,`
            L `).concat(t+s-d*y,",").concat(n,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+s,",").concat(n+l*y,`
            L `).concat(t+s,",").concat(n+a-l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+s-d*y,",").concat(n+a,`
            L `).concat(t+d*y,",").concat(n+a,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t,",").concat(n+a-l*y," Z")}else h="M ".concat(t,",").concat(n," h ").concat(s," v ").concat(a," h ").concat(-s," Z");return h},Swe=function(t,n){if(!t||!n)return!1;var s=t.x,a=t.y,i=n.x,o=n.y,l=n.width,d=n.height;if(Math.abs(l)>0&&Math.abs(d)>0){var u=Math.min(i,i+l),h=Math.max(i,i+l),m=Math.min(o,o+d),p=Math.max(o,o+d);return s>=u&&s<=h&&a>=m&&a<=p}return!1},_we={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},AC=function(t){var n=nT(nT({},_we),t),s=N.useRef(),a=N.useState(-1),i=xwe(a,2),o=i[0],l=i[1];N.useEffect(function(){if(s.current&&s.current.getTotalLength)try{var C=s.current.getTotalLength();C&&l(C)}catch{}},[]);var d=n.x,u=n.y,h=n.width,m=n.height,p=n.radius,g=n.className,y=n.animationEasing,x=n.animationDuration,v=n.animationBegin,j=n.isAnimationActive,b=n.isUpdateAnimationActive;if(d!==+d||u!==+u||h!==+h||m!==+m||h===0||m===0)return null;var S=bt("recharts-rectangle",g);return b?R.createElement(Hs,{canBegin:o>0,from:{width:h,height:m,x:d,y:u},to:{width:h,height:m,x:d,y:u},duration:x,animationEasing:y,isActive:b},function(C){var _=C.width,A=C.height,k=C.x,T=C.y;return R.createElement(Hs,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:x,isActive:j,easing:y},R.createElement("path",Xv({},tt(n,!0),{className:S,d:sT(k,T,_,A,p),ref:s})))}):R.createElement("path",Xv({},tt(n,!0),{className:S,d:sT(d,u,h,m,p)}))},Cwe=["points","className","baseLinePoints","connectNulls"];function eu(){return eu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},eu.apply(this,arguments)}function Pwe(e,t){if(e==null)return{};var n=Awe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Awe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function aT(e){return Owe(e)||Twe(e)||Ewe(e)||kwe()}function kwe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ewe(e,t){if(e){if(typeof e=="string")return e2(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return e2(e,t)}}function Twe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Owe(e){if(Array.isArray(e))return e2(e)}function e2(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}var iT=function(t){return t&&t.x===+t.x&&t.y===+t.y},Iwe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return t.forEach(function(s){iT(s)?n[n.length-1].push(s):n[n.length-1].length>0&&n.push([])}),iT(t[0])&&n[n.length-1].push(t[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},Yh=function(t,n){var s=Iwe(t);n&&(s=[s.reduce(function(i,o){return[].concat(aT(i),aT(o))},[])]);var a=s.map(function(i){return i.reduce(function(o,l,d){return"".concat(o).concat(d===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return s.length===1?"".concat(a,"Z"):a},Mwe=function(t,n,s){var a=Yh(t,s);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(Yh(n.reverse(),s).slice(1))},xF=function(t){var n=t.points,s=t.className,a=t.baseLinePoints,i=t.connectNulls,o=Pwe(t,Cwe);if(!n||!n.length)return null;var l=bt("recharts-polygon",s);if(a&&a.length){var d=o.stroke&&o.stroke!=="none",u=Mwe(n,a,i);return R.createElement("g",{className:l},R.createElement("path",eu({},tt(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),d?R.createElement("path",eu({},tt(o,!0),{fill:"none",d:Yh(n,i)})):null,d?R.createElement("path",eu({},tt(o,!0),{fill:"none",d:Yh(a,i)})):null)}var h=Yh(n,i);return R.createElement("path",eu({},tt(o,!0),{fill:h.slice(-1)==="Z"?o.fill:"none",className:l,d:h}))};function t2(){return t2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},t2.apply(this,arguments)}var Bm=function(t){var n=t.cx,s=t.cy,a=t.r,i=t.className,o=bt("recharts-dot",i);return n===+n&&s===+s&&a===+a?N.createElement("circle",t2({},tt(t,!1),yv(t),{className:o,cx:n,cy:s,r:a})):null};function ap(e){"@babel/helpers - typeof";return ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ap(e)}var Lwe=["x","y","top","left","width","height","className"];function r2(){return r2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},r2.apply(this,arguments)}function oT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function $we(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oT(Object(n),!0).forEach(function(s){Dwe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oT(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Dwe(e,t,n){return t=Rwe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rwe(e){var t=zwe(e,"string");return ap(t)=="symbol"?t:t+""}function zwe(e,t){if(ap(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(ap(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fwe(e,t){if(e==null)return{};var n=Bwe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Bwe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}var qwe=function(t,n,s,a,i,o){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(o,",").concat(n,"h").concat(s)},Uwe=function(t){var n=t.x,s=n===void 0?0:n,a=t.y,i=a===void 0?0:a,o=t.top,l=o===void 0?0:o,d=t.left,u=d===void 0?0:d,h=t.width,m=h===void 0?0:h,p=t.height,g=p===void 0?0:p,y=t.className,x=Fwe(t,Lwe),v=$we({x:s,y:i,top:l,left:u,width:m,height:g},x);return!Ue(s)||!Ue(i)||!Ue(m)||!Ue(g)||!Ue(l)||!Ue(u)?null:R.createElement("path",r2({},tt(v,!0),{className:bt("recharts-cross",y),d:qwe(s,i,m,g,l,u)}))},Vwe=["cx","cy","innerRadius","outerRadius","gridType","radialLines"];function ip(e){"@babel/helpers - typeof";return ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ip(e)}function Wwe(e,t){if(e==null)return{};var n=Kwe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Kwe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function To(){return To=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},To.apply(this,arguments)}function lT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function op(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lT(Object(n),!0).forEach(function(s){Hwe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lT(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Hwe(e,t,n){return t=Gwe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gwe(e){var t=Zwe(e,"string");return ip(t)=="symbol"?t:t+""}function Zwe(e,t){if(ip(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(ip(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qwe=function(t,n,s,a){var i="";return a.forEach(function(o,l){var d=or(n,s,t,o);l?i+="L ".concat(d.x,",").concat(d.y):i+="M ".concat(d.x,",").concat(d.y)}),i+="Z",i},Ywe=function(t){var n=t.cx,s=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.polarAngles,l=t.radialLines;if(!o||!o.length||!l)return null;var d=op({stroke:"#ccc"},tt(t,!1));return R.createElement("g",{className:"recharts-polar-grid-angle"},o.map(function(u){var h=or(n,s,a,u),m=or(n,s,i,u);return R.createElement("line",To({},d,{key:"line-".concat(u),x1:h.x,y1:h.y,x2:m.x,y2:m.y}))}))},Xwe=function(t){var n=t.cx,s=t.cy,a=t.radius,i=t.index,o=op(op({stroke:"#ccc"},tt(t,!1)),{},{fill:"none"});return R.createElement("circle",To({},o,{className:bt("recharts-polar-grid-concentric-circle",t.className),key:"circle-".concat(i),cx:n,cy:s,r:a}))},Jwe=function(t){var n=t.radius,s=t.index,a=op(op({stroke:"#ccc"},tt(t,!1)),{},{fill:"none"});return R.createElement("path",To({},a,{className:bt("recharts-polar-grid-concentric-polygon",t.className),key:"path-".concat(s),d:Qwe(n,t.cx,t.cy,t.polarAngles)}))},eNe=function(t){var n=t.polarRadius,s=t.gridType;return!n||!n.length?null:R.createElement("g",{className:"recharts-polar-grid-concentric"},n.map(function(a,i){var o=i;return s==="circle"?R.createElement(Xwe,To({key:o},t,{radius:a,index:i})):R.createElement(Jwe,To({key:o},t,{radius:a,index:i}))}))},gF=function(t){var n=t.cx,s=n===void 0?0:n,a=t.cy,i=a===void 0?0:a,o=t.innerRadius,l=o===void 0?0:o,d=t.outerRadius,u=d===void 0?0:d,h=t.gridType,m=h===void 0?"polygon":h,p=t.radialLines,g=p===void 0?!0:p,y=Wwe(t,Vwe);return u<=0?null:R.createElement("g",{className:"recharts-polar-grid"},R.createElement(Ywe,To({cx:s,cy:i,innerRadius:l,outerRadius:u,gridType:m,radialLines:g},y)),R.createElement(eNe,To({cx:s,cy:i,innerRadius:l,outerRadius:u,gridType:m,radialLines:g},y)))};gF.displayName="PolarGrid";var tNe=Q0,rNe=_6,nNe=Ii;function sNe(e,t){return e&&e.length?tNe(e,nNe(t),rNe):void 0}var aNe=sNe;const iNe=ar(aNe);var oNe=Q0,lNe=Ii,cNe=C6;function dNe(e,t){return e&&e.length?oNe(e,lNe(t),cNe):void 0}var uNe=dNe;const mNe=ar(uNe);var hNe=["cx","cy","angle","ticks","axisLine"],fNe=["ticks","tick","angle","tickFormatter","stroke"];function Ju(e){"@babel/helpers - typeof";return Ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ju(e)}function Xh(){return Xh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Xh.apply(this,arguments)}function cT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function oc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cT(Object(n),!0).forEach(function(s){ej(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cT(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function dT(e,t){if(e==null)return{};var n=pNe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function pNe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function xNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uT(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,yF(s.key),s)}}function gNe(e,t,n){return t&&uT(e.prototype,t),n&&uT(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function vNe(e,t,n){return t=Jv(t),yNe(e,vF()?Reflect.construct(t,n||[],Jv(e).constructor):t.apply(e,n))}function yNe(e,t){if(t&&(Ju(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jNe(e)}function jNe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vF=function(){return!!e})()}function Jv(e){return Jv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Jv(e)}function bNe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&n2(e,t)}function n2(e,t){return n2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},n2(e,t)}function ej(e,t,n){return t=yF(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yF(e){var t=wNe(e,"string");return Ju(t)=="symbol"?t:t+""}function wNe(e,t){if(Ju(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Ju(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qm=function(e){function t(){return xNe(this,t),vNe(this,t,arguments)}return bNe(t,e),gNe(t,[{key:"getTickValueCoord",value:function(s){var a=s.coordinate,i=this.props,o=i.angle,l=i.cx,d=i.cy;return or(l,d,a,o)}},{key:"getTickTextAnchor",value:function(){var s=this.props.orientation,a;switch(s){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var s=this.props,a=s.cx,i=s.cy,o=s.angle,l=s.ticks,d=iNe(l,function(h){return h.coordinate||0}),u=mNe(l,function(h){return h.coordinate||0});return{cx:a,cy:i,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:d.coordinate||0}}},{key:"renderAxisLine",value:function(){var s=this.props,a=s.cx,i=s.cy,o=s.angle,l=s.ticks,d=s.axisLine,u=dT(s,hNe),h=l.reduce(function(y,x){return[Math.min(y[0],x.coordinate),Math.max(y[1],x.coordinate)]},[1/0,-1/0]),m=or(a,i,h[0],o),p=or(a,i,h[1],o),g=oc(oc(oc({},tt(u,!1)),{},{fill:"none"},tt(d,!1)),{},{x1:m.x,y1:m.y,x2:p.x,y2:p.y});return R.createElement("line",Xh({className:"recharts-polar-radius-axis-line"},g))}},{key:"renderTicks",value:function(){var s=this,a=this.props,i=a.ticks,o=a.tick,l=a.angle,d=a.tickFormatter,u=a.stroke,h=dT(a,fNe),m=this.getTickTextAnchor(),p=tt(h,!1),g=tt(o,!1),y=i.map(function(x,v){var j=s.getTickValueCoord(x),b=oc(oc(oc(oc({textAnchor:m,transform:"rotate(".concat(90-l,", ").concat(j.x,", ").concat(j.y,")")},p),{},{stroke:"none",fill:u},g),{},{index:v},j),{},{payload:x});return R.createElement(_t,Xh({className:bt("recharts-polar-radius-axis-tick",tF(o)),key:"tick-".concat(x.coordinate)},Ml(s.props,x,v)),t.renderTickItem(o,b,d?d(x.value,v):x.value))});return R.createElement(_t,{className:"recharts-polar-radius-axis-ticks"},y)}},{key:"render",value:function(){var s=this.props,a=s.ticks,i=s.axisLine,o=s.tick;return!a||!a.length?null:R.createElement(_t,{className:bt("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),xn.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(s,a,i){var o;return R.isValidElement(s)?o=R.cloneElement(s,a):ft(s)?o=s(a):o=R.createElement(td,Xh({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])}(N.PureComponent);ej(qm,"displayName","PolarRadiusAxis");ej(qm,"axisType","radiusAxis");ej(qm,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function em(e){"@babel/helpers - typeof";return em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},em(e)}function pc(){return pc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},pc.apply(this,arguments)}function mT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function lc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mT(Object(n),!0).forEach(function(s){tj(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mT(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function NNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hT(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,bF(s.key),s)}}function SNe(e,t,n){return t&&hT(e.prototype,t),n&&hT(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _Ne(e,t,n){return t=ey(t),CNe(e,jF()?Reflect.construct(t,n||[],ey(e).constructor):t.apply(e,n))}function CNe(e,t){if(t&&(em(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PNe(e)}function PNe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jF=function(){return!!e})()}function ey(e){return ey=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ey(e)}function ANe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s2(e,t)}function s2(e,t){return s2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},s2(e,t)}function tj(e,t,n){return t=bF(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bF(e){var t=kNe(e,"string");return em(t)=="symbol"?t:t+""}function kNe(e,t){if(em(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(em(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ENe=Math.PI/180,fT=1e-5,Um=function(e){function t(){return NNe(this,t),_Ne(this,t,arguments)}return ANe(t,e),SNe(t,[{key:"getTickLineCoord",value:function(s){var a=this.props,i=a.cx,o=a.cy,l=a.radius,d=a.orientation,u=a.tickSize,h=u||8,m=or(i,o,l,s.coordinate),p=or(i,o,l+(d==="inner"?-1:1)*h,s.coordinate);return{x1:m.x,y1:m.y,x2:p.x,y2:p.y}}},{key:"getTickTextAnchor",value:function(s){var a=this.props.orientation,i=Math.cos(-s.coordinate*ENe),o;return i>fT?o=a==="outer"?"start":"end":i<-fT?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var s=this.props,a=s.cx,i=s.cy,o=s.radius,l=s.axisLine,d=s.axisLineType,u=lc(lc({},tt(this.props,!1)),{},{fill:"none"},tt(l,!1));if(d==="circle")return R.createElement(Bm,pc({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:i,r:o}));var h=this.props.ticks,m=h.map(function(p){return or(a,i,o,p.coordinate)});return R.createElement(xF,pc({className:"recharts-polar-angle-axis-line"},u,{points:m}))}},{key:"renderTicks",value:function(){var s=this,a=this.props,i=a.ticks,o=a.tick,l=a.tickLine,d=a.tickFormatter,u=a.stroke,h=tt(this.props,!1),m=tt(o,!1),p=lc(lc({},h),{},{fill:"none"},tt(l,!1)),g=i.map(function(y,x){var v=s.getTickLineCoord(y),j=s.getTickTextAnchor(y),b=lc(lc(lc({textAnchor:j},h),{},{stroke:"none",fill:u},m),{},{index:x,payload:y,x:v.x2,y:v.y2});return R.createElement(_t,pc({className:bt("recharts-polar-angle-axis-tick",tF(o)),key:"tick-".concat(y.coordinate)},Ml(s.props,y,x)),l&&R.createElement("line",pc({className:"recharts-polar-angle-axis-tick-line"},p,v)),o&&t.renderTickItem(o,b,d?d(y.value,x):y.value))});return R.createElement(_t,{className:"recharts-polar-angle-axis-ticks"},g)}},{key:"render",value:function(){var s=this.props,a=s.ticks,i=s.radius,o=s.axisLine;return i<=0||!a||!a.length?null:R.createElement(_t,{className:bt("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(s,a,i){var o;return R.isValidElement(s)?o=R.cloneElement(s,a):ft(s)?o=s(a):o=R.createElement(td,pc({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])}(N.PureComponent);tj(Um,"displayName","PolarAngleAxis");tj(Um,"axisType","angleAxis");tj(Um,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var TNe=b8,ONe=TNe(Object.getPrototypeOf,Object),INe=ONe,MNe=Lo,LNe=INe,$Ne=$o,DNe="[object Object]",RNe=Function.prototype,zNe=Object.prototype,wF=RNe.toString,FNe=zNe.hasOwnProperty,BNe=wF.call(Object);function qNe(e){if(!$Ne(e)||MNe(e)!=DNe)return!1;var t=LNe(e);if(t===null)return!0;var n=FNe.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&wF.call(n)==BNe}var UNe=qNe;const VNe=ar(UNe);var WNe=Lo,KNe=$o,HNe="[object Boolean]";function GNe(e){return e===!0||e===!1||KNe(e)&&WNe(e)==HNe}var ZNe=GNe;const QNe=ar(ZNe);function lp(e){"@babel/helpers - typeof";return lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lp(e)}function ty(){return ty=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ty.apply(this,arguments)}function YNe(e,t){return t1e(e)||e1e(e,t)||JNe(e,t)||XNe()}function XNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JNe(e,t){if(e){if(typeof e=="string")return pT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pT(e,t)}}function pT(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function e1e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,a,i,o,l=[],d=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(d=(s=i.call(n)).done)&&(l.push(s.value),l.length!==t);d=!0);}catch(h){u=!0,a=h}finally{try{if(!d&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function t1e(e){if(Array.isArray(e))return e}function xT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function gT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xT(Object(n),!0).forEach(function(s){r1e(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xT(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function r1e(e,t,n){return t=n1e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n1e(e){var t=s1e(e,"string");return lp(t)=="symbol"?t:t+""}function s1e(e,t){if(lp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(lp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vT=function(t,n,s,a,i){var o=s-a,l;return l="M ".concat(t,",").concat(n),l+="L ".concat(t+s,",").concat(n),l+="L ".concat(t+s-o/2,",").concat(n+i),l+="L ".concat(t+s-o/2-a,",").concat(n+i),l+="L ".concat(t,",").concat(n," Z"),l},a1e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},i1e=function(t){var n=gT(gT({},a1e),t),s=N.useRef(),a=N.useState(-1),i=YNe(a,2),o=i[0],l=i[1];N.useEffect(function(){if(s.current&&s.current.getTotalLength)try{var S=s.current.getTotalLength();S&&l(S)}catch{}},[]);var d=n.x,u=n.y,h=n.upperWidth,m=n.lowerWidth,p=n.height,g=n.className,y=n.animationEasing,x=n.animationDuration,v=n.animationBegin,j=n.isUpdateAnimationActive;if(d!==+d||u!==+u||h!==+h||m!==+m||p!==+p||h===0&&m===0||p===0)return null;var b=bt("recharts-trapezoid",g);return j?R.createElement(Hs,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:p,x:d,y:u},to:{upperWidth:h,lowerWidth:m,height:p,x:d,y:u},duration:x,animationEasing:y,isActive:j},function(S){var C=S.upperWidth,_=S.lowerWidth,A=S.height,k=S.x,T=S.y;return R.createElement(Hs,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:x,easing:y},R.createElement("path",ty({},tt(n,!0),{className:b,d:vT(k,T,C,_,A),ref:s})))}):R.createElement("g",null,R.createElement("path",ty({},tt(n,!0),{className:b,d:vT(d,u,h,m,p)})))},o1e=["option","shapeType","propTransformer","activeClassName","isActive"];function cp(e){"@babel/helpers - typeof";return cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cp(e)}function l1e(e,t){if(e==null)return{};var n=c1e(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function c1e(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function yT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function ry(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yT(Object(n),!0).forEach(function(s){d1e(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yT(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function d1e(e,t,n){return t=u1e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u1e(e){var t=m1e(e,"string");return cp(t)=="symbol"?t:t+""}function m1e(e,t){if(cp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(cp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function h1e(e,t){return ry(ry({},t),e)}function f1e(e,t){return e==="symbols"}function jT(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return R.createElement(AC,n);case"trapezoid":return R.createElement(i1e,n);case"sector":return R.createElement(aF,n);case"symbols":if(f1e(t))return R.createElement(F0,n);break;default:return null}}function p1e(e){return N.isValidElement(e)?e.props:e}function ny(e){var t=e.option,n=e.shapeType,s=e.propTransformer,a=s===void 0?h1e:s,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,d=l1e(e,o1e),u;if(N.isValidElement(t))u=N.cloneElement(t,ry(ry({},d),p1e(t)));else if(ft(t))u=t(d);else if(VNe(t)&&!QNe(t)){var h=a(t,d);u=R.createElement(jT,{shapeType:n,elementProps:h})}else{var m=d;u=R.createElement(jT,{shapeType:n,elementProps:m})}return l?R.createElement(_t,{className:o},u):u}function rj(e,t){return t!=null&&"trapezoids"in e.props}function nj(e,t){return t!=null&&"sectors"in e.props}function dp(e,t){return t!=null&&"points"in e.props}function x1e(e,t){var n,s,a=e.x===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.x)||e.x===t.x,i=e.y===(t==null||(s=t.labelViewBox)===null||s===void 0?void 0:s.y)||e.y===t.y;return a&&i}function g1e(e,t){var n=e.endAngle===t.endAngle,s=e.startAngle===t.startAngle;return n&&s}function v1e(e,t){var n=e.x===t.x,s=e.y===t.y,a=e.z===t.z;return n&&s&&a}function y1e(e,t){var n;return rj(e,t)?n=x1e:nj(e,t)?n=g1e:dp(e,t)&&(n=v1e),n}function j1e(e,t){var n;return rj(e,t)?n="trapezoids":nj(e,t)?n="sectors":dp(e,t)&&(n="points"),n}function b1e(e,t){if(rj(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(nj(e,t)){var s;return(s=t.tooltipPayload)===null||s===void 0||(s=s[0])===null||s===void 0||(s=s.payload)===null||s===void 0?void 0:s.payload}return dp(e,t)?t.payload:{}}function w1e(e){var t=e.activeTooltipItem,n=e.graphicalItem,s=e.itemData,a=j1e(n,t),i=b1e(n,t),o=s.filter(function(d,u){var h=Eo(i,d),m=n.props[a].filter(function(y){var x=y1e(n,t);return x(y,t)}),p=n.props[a].indexOf(m[m.length-1]),g=u===p;return h&&g}),l=s.indexOf(o[o.length-1]);return l}var Sg;function tm(e){"@babel/helpers - typeof";return tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tm(e)}function tu(){return tu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},tu.apply(this,arguments)}function bT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function wr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bT(Object(n),!0).forEach(function(s){da(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bT(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function N1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wT(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,SF(s.key),s)}}function S1e(e,t,n){return t&&wT(e.prototype,t),n&&wT(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _1e(e,t,n){return t=sy(t),C1e(e,NF()?Reflect.construct(t,n||[],sy(e).constructor):t.apply(e,n))}function C1e(e,t){if(t&&(tm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return P1e(e)}function P1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function NF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NF=function(){return!!e})()}function sy(e){return sy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sy(e)}function A1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a2(e,t)}function a2(e,t){return a2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},a2(e,t)}function da(e,t,n){return t=SF(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SF(e){var t=k1e(e,"string");return tm(t)=="symbol"?t:t+""}function k1e(e,t){if(tm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(tm(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ha=function(e){function t(n){var s;return N1e(this,t),s=_1e(this,t,[n]),da(s,"pieRef",null),da(s,"sectorRefs",[]),da(s,"id",Gl("recharts-pie-")),da(s,"handleAnimationEnd",function(){var a=s.props.onAnimationEnd;s.setState({isAnimationFinished:!0}),ft(a)&&a()}),da(s,"handleAnimationStart",function(){var a=s.props.onAnimationStart;s.setState({isAnimationFinished:!1}),ft(a)&&a()}),s.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},s}return A1e(t,e),S1e(t,[{key:"isActiveIndex",value:function(s){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(s)!==-1:s===a}},{key:"hasActiveIndex",value:function(){var s=this.props.activeIndex;return Array.isArray(s)?s.length!==0:s||s===0}},{key:"renderLabels",value:function(s){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,d=i.dataKey,u=i.valueKey,h=tt(this.props,!1),m=tt(o,!1),p=tt(l,!1),g=o&&o.offsetRadius||20,y=s.map(function(x,v){var j=(x.startAngle+x.endAngle)/2,b=or(x.cx,x.cy,x.outerRadius+g,j),S=wr(wr(wr(wr({},h),x),{},{stroke:"none"},m),{},{index:v,textAnchor:t.getTextAnchor(b.x,x.cx)},b),C=wr(wr(wr(wr({},h),x),{},{fill:"none",stroke:x.fill},p),{},{index:v,points:[or(x.cx,x.cy,x.outerRadius,j),b]}),_=d;return pt(d)&&pt(u)?_="value":pt(d)&&(_=u),R.createElement(_t,{key:"label-".concat(x.startAngle,"-").concat(x.endAngle,"-").concat(x.midAngle,"-").concat(v)},l&&t.renderLabelLineItem(l,C,"line"),t.renderLabelItem(o,S,gr(x,_)))});return R.createElement(_t,{className:"recharts-pie-labels"},y)}},{key:"renderSectorsStatically",value:function(s){var a=this,i=this.props,o=i.activeShape,l=i.blendStroke,d=i.inactiveShape;return s.map(function(u,h){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&s.length!==1)return null;var m=a.isActiveIndex(h),p=d&&a.hasActiveIndex()?d:null,g=m?o:p,y=wr(wr({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return R.createElement(_t,tu({ref:function(v){v&&!a.sectorRefs.includes(v)&&a.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},Ml(a.props,u,h),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(h)}),R.createElement(ny,tu({option:g,isActive:m,shapeType:"sector"},y)))})}},{key:"renderSectorsWithAnimation",value:function(){var s=this,a=this.props,i=a.sectors,o=a.isAnimationActive,l=a.animationBegin,d=a.animationDuration,u=a.animationEasing,h=a.animationId,m=this.state,p=m.prevSectors,g=m.prevIsAnimationActive;return R.createElement(Hs,{begin:l,duration:d,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(h,"-").concat(g),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(y){var x=y.t,v=[],j=i&&i[0],b=j.startAngle;return i.forEach(function(S,C){var _=p&&p[C],A=C>0?Us(S,"paddingAngle",0):0;if(_){var k=xr(_.endAngle-_.startAngle,S.endAngle-S.startAngle),T=wr(wr({},S),{},{startAngle:b+A,endAngle:b+k(x)+A});v.push(T),b=T.endAngle}else{var O=S.endAngle,M=S.startAngle,z=xr(0,O-M),F=z(x),Z=wr(wr({},S),{},{startAngle:b+A,endAngle:b+F+A});v.push(Z),b=Z.endAngle}}),R.createElement(_t,null,s.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(s){var a=this;s.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var s=this.props,a=s.sectors,i=s.isAnimationActive,o=this.state.prevSectors;return i&&a&&a.length&&(!o||!Eo(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var s=this,a=this.props,i=a.hide,o=a.sectors,l=a.className,d=a.label,u=a.cx,h=a.cy,m=a.innerRadius,p=a.outerRadius,g=a.isAnimationActive,y=this.state.isAnimationFinished;if(i||!o||!o.length||!Ue(u)||!Ue(h)||!Ue(m)||!Ue(p))return null;var x=bt("recharts-pie",l);return R.createElement(_t,{tabIndex:this.props.rootTabIndex,className:x,ref:function(j){s.pieRef=j}},this.renderSectors(),d&&this.renderLabels(o),xn.renderCallByParent(this.props,null,!1),(!g||y)&&pa.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return a.prevIsAnimationActive!==s.isAnimationActive?{prevIsAnimationActive:s.isAnimationActive,prevAnimationId:s.animationId,curSectors:s.sectors,prevSectors:[],isAnimationFinished:!0}:s.isAnimationActive&&s.animationId!==a.prevAnimationId?{prevAnimationId:s.animationId,curSectors:s.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:s.sectors!==a.curSectors?{curSectors:s.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(s,a){return s>a?"start":s<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(s,a,i){if(R.isValidElement(s))return R.cloneElement(s,a);if(ft(s))return s(a);var o=bt("recharts-pie-label-line",typeof s!="boolean"?s.className:"");return R.createElement(kl,tu({},a,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(s,a,i){if(R.isValidElement(s))return R.cloneElement(s,a);var o=i;if(ft(s)&&(o=s(a),R.isValidElement(o)))return o;var l=bt("recharts-pie-label-text",typeof s!="boolean"&&!ft(s)?s.className:"");return R.createElement(td,tu({},a,{alignmentBaseline:"middle",className:l}),o)}}])}(N.PureComponent);Sg=Ha;da(Ha,"displayName","Pie");da(Ha,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Vs.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});da(Ha,"parseDeltaAngle",function(e,t){var n=es(t-e),s=Math.min(Math.abs(t-e),360);return n*s});da(Ha,"getRealPieData",function(e){var t=e.data,n=e.children,s=tt(e,!1),a=as(n,ed);return t&&t.length?t.map(function(i,o){return wr(wr(wr({payload:i},s),i),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(i){return wr(wr({},s),i.props)}):[]});da(Ha,"parseCoordinateOfPie",function(e,t){var n=t.top,s=t.left,a=t.width,i=t.height,o=J6(a,i),l=s+ts(e.cx,a,a/2),d=n+ts(e.cy,i,i/2),u=ts(e.innerRadius,o,0),h=ts(e.outerRadius,o,o*.8),m=e.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:l,cy:d,innerRadius:u,outerRadius:h,maxRadius:m}});da(Ha,"getComposedData",function(e){var t=e.item,n=e.offset,s=t.type.defaultProps!==void 0?wr(wr({},t.type.defaultProps),t.props):t.props,a=Sg.getRealPieData(s);if(!a||!a.length)return null;var i=s.cornerRadius,o=s.startAngle,l=s.endAngle,d=s.paddingAngle,u=s.dataKey,h=s.nameKey,m=s.valueKey,p=s.tooltipType,g=Math.abs(s.minAngle),y=Sg.parseCoordinateOfPie(s,n),x=Sg.parseDeltaAngle(o,l),v=Math.abs(x),j=u;pt(u)&&pt(m)?(Ua(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),j="value"):pt(u)&&(Ua(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),j=m);var b=a.filter(function(T){return gr(T,j,0)!==0}).length,S=(v>=360?b:b-1)*d,C=v-b*g-S,_=a.reduce(function(T,O){var M=gr(O,j,0);return T+(Ue(M)?M:0)},0),A;if(_>0){var k;A=a.map(function(T,O){var M=gr(T,j,0),z=gr(T,h,O),F=(Ue(M)?M:0)/_,Z;O?Z=k.endAngle+es(x)*d*(M!==0?1:0):Z=o;var D=Z+es(x)*((M!==0?g:0)+F*C),$=(Z+D)/2,E=(y.innerRadius+y.outerRadius)/2,V=[{name:z,value:M,payload:T,dataKey:j,type:p}],q=or(y.cx,y.cy,E,$);return k=wr(wr(wr({percent:F,cornerRadius:i,name:z,tooltipPayload:V,midAngle:$,middleRadius:E,tooltipPosition:q},T),y),{},{value:gr(T,j),startAngle:Z,endAngle:D,payload:T,paddingAngle:es(x)*d}),k})}return wr(wr({},y),{},{sectors:A,data:a})});function E1e(e){return e&&e.length?e[0]:void 0}var T1e=E1e,O1e=T1e;const I1e=ar(O1e);var M1e=["key"];function rm(e){"@babel/helpers - typeof";return rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rm(e)}function L1e(e,t){if(e==null)return{};var n=$1e(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function $1e(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function ay(){return ay=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ay.apply(this,arguments)}function NT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Zn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NT(Object(n),!0).forEach(function(s){so(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NT(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function D1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ST(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,CF(s.key),s)}}function R1e(e,t,n){return t&&ST(e.prototype,t),n&&ST(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function z1e(e,t,n){return t=iy(t),F1e(e,_F()?Reflect.construct(t,n||[],iy(e).constructor):t.apply(e,n))}function F1e(e,t){if(t&&(rm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return B1e(e)}function B1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _F(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_F=function(){return!!e})()}function iy(e){return iy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},iy(e)}function q1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i2(e,t)}function i2(e,t){return i2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},i2(e,t)}function so(e,t,n){return t=CF(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CF(e){var t=U1e(e,"string");return rm(t)=="symbol"?t:t+""}function U1e(e,t){if(rm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(rm(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vp=function(e){function t(){var n;D1e(this,t);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return n=z1e(this,t,[].concat(a)),so(n,"state",{isAnimationFinished:!1}),so(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),ft(o)&&o()}),so(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),ft(o)&&o()}),so(n,"handleMouseEnter",function(o){var l=n.props.onMouseEnter;l&&l(n.props,o)}),so(n,"handleMouseLeave",function(o){var l=n.props.onMouseLeave;l&&l(n.props,o)}),n}return q1e(t,e),R1e(t,[{key:"renderDots",value:function(s){var a=this.props,i=a.dot,o=a.dataKey,l=tt(this.props,!1),d=tt(i,!0),u=s.map(function(h,m){var p=Zn(Zn(Zn({key:"dot-".concat(m),r:3},l),d),{},{dataKey:o,cx:h.x,cy:h.y,index:m,payload:h});return t.renderDotItem(i,p)});return R.createElement(_t,{className:"recharts-radar-dots"},u)}},{key:"renderPolygonStatically",value:function(s){var a=this.props,i=a.shape,o=a.dot,l=a.isRange,d=a.baseLinePoints,u=a.connectNulls,h;return R.isValidElement(i)?h=R.cloneElement(i,Zn(Zn({},this.props),{},{points:s})):ft(i)?h=i(Zn(Zn({},this.props),{},{points:s})):h=R.createElement(xF,ay({},tt(this.props,!0),{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,points:s,baseLinePoints:l?d:null,connectNulls:u})),R.createElement(_t,{className:"recharts-radar-polygon"},h,o?this.renderDots(s):null)}},{key:"renderPolygonWithAnimation",value:function(){var s=this,a=this.props,i=a.points,o=a.isAnimationActive,l=a.animationBegin,d=a.animationDuration,u=a.animationEasing,h=a.animationId,m=this.state.prevPoints;return R.createElement(Hs,{begin:l,duration:d,isActive:o,easing:u,from:{t:0},to:{t:1},key:"radar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var g=p.t,y=m&&m.length/i.length,x=i.map(function(v,j){var b=m&&m[Math.floor(j*y)];if(b){var S=xr(b.x,v.x),C=xr(b.y,v.y);return Zn(Zn({},v),{},{x:S(g),y:C(g)})}var _=xr(v.cx,v.x),A=xr(v.cy,v.y);return Zn(Zn({},v),{},{x:_(g),y:A(g)})});return s.renderPolygonStatically(x)})}},{key:"renderPolygon",value:function(){var s=this.props,a=s.points,i=s.isAnimationActive,o=s.isRange,l=this.state.prevPoints;return i&&a&&a.length&&!o&&(!l||!Eo(l,a))?this.renderPolygonWithAnimation():this.renderPolygonStatically(a)}},{key:"render",value:function(){var s=this.props,a=s.hide,i=s.className,o=s.points,l=s.isAnimationActive;if(a||!o||!o.length)return null;var d=this.state.isAnimationFinished,u=bt("recharts-radar",i);return R.createElement(_t,{className:u},this.renderPolygon(),(!l||d)&&pa.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return s.animationId!==a.prevAnimationId?{prevAnimationId:s.animationId,curPoints:s.points,prevPoints:a.curPoints}:s.points!==a.curPoints?{curPoints:s.points}:null}},{key:"renderDotItem",value:function(s,a){var i;if(R.isValidElement(s))i=R.cloneElement(s,a);else if(ft(s))i=s(a);else{var o=a.key,l=L1e(a,M1e);i=R.createElement(Bm,ay({},l,{key:o,className:bt("recharts-radar-dot",typeof s!="boolean"?s.className:"")}))}return i}}])}(N.PureComponent);so(Vp,"displayName","Radar");so(Vp,"defaultProps",{angleAxisId:0,radiusAxisId:0,hide:!1,activeDot:!0,dot:!1,legendType:"rect",isAnimationActive:!Vs.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});so(Vp,"getComposedData",function(e){var t=e.radiusAxis,n=e.angleAxis,s=e.displayedData,a=e.dataKey,i=e.bandSize,o=n.cx,l=n.cy,d=!1,u=[],h=n.type!=="number"?i??0:0;s.forEach(function(p,g){var y=gr(p,n.dataKey,g),x=gr(p,a),v=n.scale(y)+h,j=Array.isArray(x)?nF(x):x,b=pt(j)?void 0:t.scale(j);Array.isArray(x)&&x.length>=2&&(d=!0),u.push(Zn(Zn({},or(o,l,b,v)),{},{name:y,value:x,cx:o,cy:l,radius:b,angle:v,payload:p}))});var m=[];return d&&u.forEach(function(p){if(Array.isArray(p.value)){var g=I1e(p.value),y=pt(g)?void 0:t.scale(g);m.push(Zn(Zn({},p),{},{radius:y},or(o,l,y,p.angle)))}else m.push(p)}),{points:u,isRange:d,baseLinePoints:m}});var V1e=Math.ceil,W1e=Math.max;function K1e(e,t,n,s){for(var a=-1,i=W1e(V1e((t-e)/(n||1)),0),o=Array(i);i--;)o[s?i:++a]=e,e+=n;return o}var H1e=K1e,G1e=F8,_T=1/0,Z1e=17976931348623157e292;function Q1e(e){if(!e)return e===0?e:0;if(e=G1e(e),e===_T||e===-_T){var t=e<0?-1:1;return t*Z1e}return e===e?e:0}var PF=Q1e,Y1e=H1e,X1e=U0,cw=PF;function J1e(e){return function(t,n,s){return s&&typeof s!="number"&&X1e(t,n,s)&&(n=s=void 0),t=cw(t),n===void 0?(n=t,t=0):n=cw(n),s=s===void 0?t<n?1:-1:cw(s),Y1e(t,n,s,e)}}var e2e=J1e,t2e=e2e,r2e=t2e(),n2e=r2e;const oy=ar(n2e);function up(e){"@babel/helpers - typeof";return up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},up(e)}function CT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function PT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CT(Object(n),!0).forEach(function(s){AF(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CT(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function AF(e,t,n){return t=s2e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s2e(e){var t=a2e(e,"string");return up(t)=="symbol"?t:t+""}function a2e(e,t){if(up(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(up(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var i2e=["Webkit","Moz","O","ms"],o2e=function(t,n){var s=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=i2e.reduce(function(i,o){return PT(PT({},i),{},AF({},o+s,n))},{});return a[t]=n,a};function nm(e){"@babel/helpers - typeof";return nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nm(e)}function ly(){return ly=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ly.apply(this,arguments)}function AT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function dw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AT(Object(n),!0).forEach(function(s){Os(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AT(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function l2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kT(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,EF(s.key),s)}}function c2e(e,t,n){return t&&kT(e.prototype,t),n&&kT(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function d2e(e,t,n){return t=cy(t),u2e(e,kF()?Reflect.construct(t,n||[],cy(e).constructor):t.apply(e,n))}function u2e(e,t){if(t&&(nm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return m2e(e)}function m2e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kF=function(){return!!e})()}function cy(e){return cy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cy(e)}function h2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o2(e,t)}function o2(e,t){return o2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},o2(e,t)}function Os(e,t,n){return t=EF(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EF(e){var t=f2e(e,"string");return nm(t)=="symbol"?t:t+""}function f2e(e,t){if(nm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(nm(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var p2e=function(t){var n=t.data,s=t.startIndex,a=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!n||!n.length)return{};var d=n.length,u=Gh().domain(oy(0,d)).range([i,i+o-l]),h=u.domain().map(function(m){return u(m)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(s),endX:u(a),scale:u,scaleValues:h}},ET=function(t){return t.changedTouches&&!!t.changedTouches.length},sm=function(e){function t(n){var s;return l2e(this,t),s=d2e(this,t,[n]),Os(s,"handleDrag",function(a){s.leaveTimer&&(clearTimeout(s.leaveTimer),s.leaveTimer=null),s.state.isTravellerMoving?s.handleTravellerMove(a):s.state.isSlideMoving&&s.handleSlideDrag(a)}),Os(s,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&s.handleDrag(a.changedTouches[0])}),Os(s,"handleDragEnd",function(){s.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=s.props,i=a.endIndex,o=a.onDragEnd,l=a.startIndex;o==null||o({endIndex:i,startIndex:l})}),s.detachDragEndListener()}),Os(s,"handleLeaveWrapper",function(){(s.state.isTravellerMoving||s.state.isSlideMoving)&&(s.leaveTimer=window.setTimeout(s.handleDragEnd,s.props.leaveTimeOut))}),Os(s,"handleEnterSlideOrTraveller",function(){s.setState({isTextActive:!0})}),Os(s,"handleLeaveSlideOrTraveller",function(){s.setState({isTextActive:!1})}),Os(s,"handleSlideDragStart",function(a){var i=ET(a)?a.changedTouches[0]:a;s.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),s.attachDragEndListener()}),s.travellerDragStartHandlers={startX:s.handleTravellerDragStart.bind(s,"startX"),endX:s.handleTravellerDragStart.bind(s,"endX")},s.state={},s}return h2e(t,e),c2e(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(s){var a=s.startX,i=s.endX,o=this.state.scaleValues,l=this.props,d=l.gap,u=l.data,h=u.length-1,m=Math.min(a,i),p=Math.max(a,i),g=t.getIndexInRange(o,m),y=t.getIndexInRange(o,p);return{startIndex:g-g%d,endIndex:y===h?h:y-y%d}}},{key:"getTextOfTick",value:function(s){var a=this.props,i=a.data,o=a.tickFormatter,l=a.dataKey,d=gr(i[s],l,s);return ft(o)?o(d,s):d}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(s){var a=this.state,i=a.slideMoveStartX,o=a.startX,l=a.endX,d=this.props,u=d.x,h=d.width,m=d.travellerWidth,p=d.startIndex,g=d.endIndex,y=d.onChange,x=s.pageX-i;x>0?x=Math.min(x,u+h-m-l,u+h-m-o):x<0&&(x=Math.max(x,u-o,u-l));var v=this.getIndex({startX:o+x,endX:l+x});(v.startIndex!==p||v.endIndex!==g)&&y&&y(v),this.setState({startX:o+x,endX:l+x,slideMoveStartX:s.pageX})}},{key:"handleTravellerDragStart",value:function(s,a){var i=ET(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:s,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(s){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,d=a.startX,u=this.state[o],h=this.props,m=h.x,p=h.width,g=h.travellerWidth,y=h.onChange,x=h.gap,v=h.data,j={startX:this.state.startX,endX:this.state.endX},b=s.pageX-i;b>0?b=Math.min(b,m+p-g-u):b<0&&(b=Math.max(b,m-u)),j[o]=u+b;var S=this.getIndex(j),C=S.startIndex,_=S.endIndex,A=function(){var T=v.length-1;return o==="startX"&&(l>d?C%x===0:_%x===0)||l<d&&_===T||o==="endX"&&(l>d?_%x===0:C%x===0)||l>d&&_===T};this.setState(Os(Os({},o,u+b),"brushMoveStartX",s.pageX),function(){y&&A()&&y(S)})}},{key:"handleTravellerMoveKeyboard",value:function(s,a){var i=this,o=this.state,l=o.scaleValues,d=o.startX,u=o.endX,h=this.state[a],m=l.indexOf(h);if(m!==-1){var p=m+s;if(!(p===-1||p>=l.length)){var g=l[p];a==="startX"&&g>=u||a==="endX"&&g<=d||this.setState(Os({},a,g),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var s=this.props,a=s.x,i=s.y,o=s.width,l=s.height,d=s.fill,u=s.stroke;return R.createElement("rect",{stroke:u,fill:d,x:a,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var s=this.props,a=s.x,i=s.y,o=s.width,l=s.height,d=s.data,u=s.children,h=s.padding,m=N.Children.only(u);return m?R.cloneElement(m,{x:a,y:i,width:o,height:l,margin:h,compact:!0,data:d}):null}},{key:"renderTravellerLayer",value:function(s,a){var i,o,l=this,d=this.props,u=d.y,h=d.travellerWidth,m=d.height,p=d.traveller,g=d.ariaLabel,y=d.data,x=d.startIndex,v=d.endIndex,j=Math.max(s,this.props.x),b=dw(dw({},tt(this.props,!1)),{},{x:j,y:u,width:h,height:m}),S=g||"Min value: ".concat((i=y[x])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=y[v])===null||o===void 0?void 0:o.name);return R.createElement(_t,{tabIndex:0,role:"slider","aria-label":S,"aria-valuenow":s,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(_){["ArrowLeft","ArrowRight"].includes(_.key)&&(_.preventDefault(),_.stopPropagation(),l.handleTravellerMoveKeyboard(_.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(p,b))}},{key:"renderSlide",value:function(s,a){var i=this.props,o=i.y,l=i.height,d=i.stroke,u=i.travellerWidth,h=Math.min(s,a)+u,m=Math.max(Math.abs(a-s)-u,0);return R.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:d,fillOpacity:.2,x:h,y:o,width:m,height:l})}},{key:"renderText",value:function(){var s=this.props,a=s.startIndex,i=s.endIndex,o=s.y,l=s.height,d=s.travellerWidth,u=s.stroke,h=this.state,m=h.startX,p=h.endX,g=5,y={pointerEvents:"none",fill:u};return R.createElement(_t,{className:"recharts-brush-texts"},R.createElement(td,ly({textAnchor:"end",verticalAnchor:"middle",x:Math.min(m,p)-g,y:o+l/2},y),this.getTextOfTick(a)),R.createElement(td,ly({textAnchor:"start",verticalAnchor:"middle",x:Math.max(m,p)+d+g,y:o+l/2},y),this.getTextOfTick(i)))}},{key:"render",value:function(){var s=this.props,a=s.data,i=s.className,o=s.children,l=s.x,d=s.y,u=s.width,h=s.height,m=s.alwaysShowText,p=this.state,g=p.startX,y=p.endX,x=p.isTextActive,v=p.isSlideMoving,j=p.isTravellerMoving,b=p.isTravellerFocused;if(!a||!a.length||!Ue(l)||!Ue(d)||!Ue(u)||!Ue(h)||u<=0||h<=0)return null;var S=bt("recharts-brush",i),C=R.Children.count(o)===1,_=o2e("userSelect","none");return R.createElement(_t,{className:S,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:_},this.renderBackground(),C&&this.renderPanorama(),this.renderSlide(g,y),this.renderTravellerLayer(g,"startX"),this.renderTravellerLayer(y,"endX"),(x||v||j||b||m)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(s){var a=s.x,i=s.y,o=s.width,l=s.height,d=s.stroke,u=Math.floor(i+l/2)-1;return R.createElement(R.Fragment,null,R.createElement("rect",{x:a,y:i,width:o,height:l,fill:d,stroke:"none"}),R.createElement("line",{x1:a+1,y1:u,x2:a+o-1,y2:u,fill:"none",stroke:"#fff"}),R.createElement("line",{x1:a+1,y1:u+2,x2:a+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(s,a){var i;return R.isValidElement(s)?i=R.cloneElement(s,a):ft(s)?i=s(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(s,a){var i=s.data,o=s.width,l=s.x,d=s.travellerWidth,u=s.updateId,h=s.startIndex,m=s.endIndex;if(i!==a.prevData||u!==a.prevUpdateId)return dw({prevData:i,prevTravellerWidth:d,prevUpdateId:u,prevX:l,prevWidth:o},i&&i.length?p2e({data:i,width:o,x:l,travellerWidth:d,startIndex:h,endIndex:m}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||d!==a.prevTravellerWidth)){a.scale.range([l,l+o-d]);var p=a.scale.domain().map(function(g){return a.scale(g)});return{prevData:i,prevTravellerWidth:d,prevUpdateId:u,prevX:l,prevWidth:o,startX:a.scale(s.startIndex),endX:a.scale(s.endIndex),scaleValues:p}}return null}},{key:"getIndexInRange",value:function(s,a){for(var i=s.length,o=0,l=i-1;l-o>1;){var d=Math.floor((o+l)/2);s[d]>a?l=d:o=d}return a>=s[l]?l:o}}])}(N.PureComponent);Os(sm,"displayName","Brush");Os(sm,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var x2e=eC;function g2e(e,t){var n;return x2e(e,function(s,a,i){return n=t(s,a,i),!n}),!!n}var v2e=g2e,y2e=h8,j2e=Ii,b2e=v2e,w2e=Ps,N2e=U0;function S2e(e,t,n){var s=w2e(e)?y2e:b2e;return n&&N2e(e,t,n)&&(t=void 0),s(e,j2e(t))}var _2e=S2e;const C2e=ar(_2e);var Pi=function(t,n){var s=t.alwaysShow,a=t.ifOverflow;return s&&(a="extendDomain"),a===n},TT=L8;function P2e(e,t,n){t=="__proto__"&&TT?TT(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var A2e=P2e,k2e=A2e,E2e=I8,T2e=Ii;function O2e(e,t){var n={};return t=T2e(t),E2e(e,function(s,a,i){k2e(n,a,t(s,a,i))}),n}var I2e=O2e;const M2e=ar(I2e);function L2e(e,t){for(var n=-1,s=e==null?0:e.length;++n<s;)if(!t(e[n],n,e))return!1;return!0}var $2e=L2e,D2e=eC;function R2e(e,t){var n=!0;return D2e(e,function(s,a,i){return n=!!t(s,a,i),n}),n}var z2e=R2e,F2e=$2e,B2e=z2e,q2e=Ii,U2e=Ps,V2e=U0;function W2e(e,t,n){var s=U2e(e)?F2e:B2e;return n&&V2e(e,t,n)&&(t=void 0),s(e,q2e(t))}var K2e=W2e;const TF=ar(K2e);var H2e=["x","y"];function mp(e){"@babel/helpers - typeof";return mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mp(e)}function l2(){return l2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},l2.apply(this,arguments)}function OT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Ph(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OT(Object(n),!0).forEach(function(s){G2e(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OT(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function G2e(e,t,n){return t=Z2e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Z2e(e){var t=Q2e(e,"string");return mp(t)=="symbol"?t:t+""}function Q2e(e,t){if(mp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(mp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Y2e(e,t){if(e==null)return{};var n=X2e(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function X2e(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function J2e(e,t){var n=e.x,s=e.y,a=Y2e(e,H2e),i="".concat(n),o=parseInt(i,10),l="".concat(s),d=parseInt(l,10),u="".concat(t.height||a.height),h=parseInt(u,10),m="".concat(t.width||a.width),p=parseInt(m,10);return Ph(Ph(Ph(Ph(Ph({},t),a),o?{x:o}:{}),d?{y:d}:{}),{},{height:h,width:p,name:t.name,radius:t.radius})}function IT(e){return R.createElement(ny,l2({shapeType:"rectangle",propTransformer:J2e,activeClassName:"recharts-active-bar"},e))}var eSe=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(s,a){if(typeof t=="number")return t;var i=Ue(s)||nae(s);return i?t(s,a):(i||nd(),n)}},tSe=["value","background"],OF;function am(e){"@babel/helpers - typeof";return am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},am(e)}function rSe(e,t){if(e==null)return{};var n=nSe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function nSe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function dy(){return dy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},dy.apply(this,arguments)}function MT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Jr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?MT(Object(n),!0).forEach(function(s){fl(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MT(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function sSe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LT(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,MF(s.key),s)}}function aSe(e,t,n){return t&&LT(e.prototype,t),n&&LT(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function iSe(e,t,n){return t=uy(t),oSe(e,IF()?Reflect.construct(t,n||[],uy(e).constructor):t.apply(e,n))}function oSe(e,t){if(t&&(am(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lSe(e)}function lSe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IF=function(){return!!e})()}function uy(e){return uy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},uy(e)}function cSe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c2(e,t)}function c2(e,t){return c2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},c2(e,t)}function fl(e,t,n){return t=MF(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MF(e){var t=dSe(e,"string");return am(t)=="symbol"?t:t+""}function dSe(e,t){if(am(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(am(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xl=function(e){function t(){var n;sSe(this,t);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return n=iSe(this,t,[].concat(a)),fl(n,"state",{isAnimationFinished:!1}),fl(n,"id",Gl("recharts-bar-")),fl(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),fl(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return cSe(t,e),aSe(t,[{key:"renderRectanglesStatically",value:function(s){var a=this,i=this.props,o=i.shape,l=i.dataKey,d=i.activeIndex,u=i.activeBar,h=tt(this.props,!1);return s&&s.map(function(m,p){var g=p===d,y=g?u:o,x=Jr(Jr(Jr({},h),m),{},{isActive:g,option:y,index:p,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return R.createElement(_t,dy({className:"recharts-bar-rectangle"},Ml(a.props,m,p),{key:"rectangle-".concat(m==null?void 0:m.x,"-").concat(m==null?void 0:m.y,"-").concat(m==null?void 0:m.value,"-").concat(p)}),R.createElement(IT,x))})}},{key:"renderRectanglesWithAnimation",value:function(){var s=this,a=this.props,i=a.data,o=a.layout,l=a.isAnimationActive,d=a.animationBegin,u=a.animationDuration,h=a.animationEasing,m=a.animationId,p=this.state.prevData;return R.createElement(Hs,{begin:d,duration:u,isActive:l,easing:h,from:{t:0},to:{t:1},key:"bar-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(g){var y=g.t,x=i.map(function(v,j){var b=p&&p[j];if(b){var S=xr(b.x,v.x),C=xr(b.y,v.y),_=xr(b.width,v.width),A=xr(b.height,v.height);return Jr(Jr({},v),{},{x:S(y),y:C(y),width:_(y),height:A(y)})}if(o==="horizontal"){var k=xr(0,v.height),T=k(y);return Jr(Jr({},v),{},{y:v.y+v.height-T,height:T})}var O=xr(0,v.width),M=O(y);return Jr(Jr({},v),{},{width:M})});return R.createElement(_t,null,s.renderRectanglesStatically(x))})}},{key:"renderRectangles",value:function(){var s=this.props,a=s.data,i=s.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!Eo(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var s=this,a=this.props,i=a.data,o=a.dataKey,l=a.activeIndex,d=tt(this.props.background,!1);return i.map(function(u,h){u.value;var m=u.background,p=rSe(u,tSe);if(!m)return null;var g=Jr(Jr(Jr(Jr(Jr({},p),{},{fill:"#eee"},m),d),Ml(s.props,u,h)),{},{onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd,dataKey:o,index:h,className:"recharts-bar-background-rectangle"});return R.createElement(IT,dy({key:"background-bar-".concat(h),option:s.props.background,isActive:h===l},g))})}},{key:"renderErrorBar",value:function(s,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,d=i.yAxis,u=i.layout,h=i.children,m=as(h,Fm);if(!m)return null;var p=u==="vertical"?o[0].height/2:o[0].width/2,g=function(v,j){var b=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:b,errorVal:gr(v,j)}},y={clipPath:s?"url(#clipPath-".concat(a,")"):null};return R.createElement(_t,y,m.map(function(x){return R.cloneElement(x,{key:"error-bar-".concat(a,"-").concat(x.props.dataKey),data:o,xAxis:l,yAxis:d,layout:u,offset:p,dataPointFormatter:g})}))}},{key:"render",value:function(){var s=this.props,a=s.hide,i=s.data,o=s.className,l=s.xAxis,d=s.yAxis,u=s.left,h=s.top,m=s.width,p=s.height,g=s.isAnimationActive,y=s.background,x=s.id;if(a||!i||!i.length)return null;var v=this.state.isAnimationFinished,j=bt("recharts-bar",o),b=l&&l.allowDataOverflow,S=d&&d.allowDataOverflow,C=b||S,_=pt(x)?this.id:x;return R.createElement(_t,{className:j},b||S?R.createElement("defs",null,R.createElement("clipPath",{id:"clipPath-".concat(_)},R.createElement("rect",{x:b?u:u-m/2,y:S?h:h-p/2,width:b?m:m*2,height:S?p:p*2}))):null,R.createElement(_t,{className:"recharts-bar-rectangles",clipPath:C?"url(#clipPath-".concat(_,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(C,_),(!g||v)&&pa.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return s.animationId!==a.prevAnimationId?{prevAnimationId:s.animationId,curData:s.data,prevData:a.curData}:s.data!==a.curData?{curData:s.data}:null}}])}(N.PureComponent);OF=Xl;fl(Xl,"displayName","Bar");fl(Xl,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Vs.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});fl(Xl,"getComposedData",function(e){var t=e.props,n=e.item,s=e.barPosition,a=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,d=e.yAxisTicks,u=e.stackedData,h=e.dataStartIndex,m=e.displayedData,p=e.offset,g=w0e(s,n);if(!g)return null;var y=t.layout,x=n.type.defaultProps,v=x!==void 0?Jr(Jr({},x),n.props):n.props,j=v.dataKey,b=v.children,S=v.minPointSize,C=y==="horizontal"?o:i,_=u?C.scale.domain():null,A=k0e({numericAxis:C}),k=as(b,ed),T=m.map(function(O,M){var z,F,Z,D,$,E;u?z=N0e(u[h+M],_):(z=gr(O,j),Array.isArray(z)||(z=[A,z]));var V=eSe(S,OF.defaultProps.minPointSize)(z[1],M);if(y==="horizontal"){var q,U=[o.scale(z[0]),o.scale(z[1])],Q=U[0],he=U[1];F=bE({axis:i,ticks:l,bandSize:a,offset:g.offset,entry:O,index:M}),Z=(q=he??Q)!==null&&q!==void 0?q:void 0,D=g.size;var ue=Q-he;if($=Number.isNaN(ue)?0:ue,E={x:F,y:o.y,width:D,height:o.height},Math.abs(V)>0&&Math.abs($)<Math.abs(V)){var ce=es($||V)*(Math.abs(V)-Math.abs($));Z-=ce,$+=ce}}else{var G=[i.scale(z[0]),i.scale(z[1])],J=G[0],ye=G[1];if(F=J,Z=bE({axis:o,ticks:d,bandSize:a,offset:g.offset,entry:O,index:M}),D=ye-J,$=g.size,E={x:i.x,y:Z,width:i.width,height:$},Math.abs(V)>0&&Math.abs(D)<Math.abs(V)){var Se=es(D||V)*(Math.abs(V)-Math.abs(D));D+=Se}}return Jr(Jr(Jr({},O),{},{x:F,y:Z,width:D,height:$,value:u?z:z[1],payload:O,background:E},k&&k[M]&&k[M].props),{},{tooltipPayload:[Y6(n,O)],tooltipPosition:{x:F+D/2,y:Z+$/2}})});return Jr({data:T,layout:y},p)});function hp(e){"@babel/helpers - typeof";return hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hp(e)}function uSe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $T(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,LF(s.key),s)}}function mSe(e,t,n){return t&&$T(e.prototype,t),n&&$T(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function DT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function La(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DT(Object(n),!0).forEach(function(s){sj(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DT(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function sj(e,t,n){return t=LF(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LF(e){var t=hSe(e,"string");return hp(t)=="symbol"?t:t+""}function hSe(e,t){if(hp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(hp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aj=function(t,n,s,a,i){var o=t.width,l=t.height,d=t.layout,u=t.children,h=Object.keys(n),m={left:s.left,leftMirror:s.left,right:o-s.right,rightMirror:o-s.right,top:s.top,topMirror:s.top,bottom:l-s.bottom,bottomMirror:l-s.bottom},p=!!Ls(u,Xl);return h.reduce(function(g,y){var x=n[y],v=x.orientation,j=x.domain,b=x.padding,S=b===void 0?{}:b,C=x.mirror,_=x.reversed,A="".concat(v).concat(C?"Mirror":""),k,T,O,M,z;if(x.type==="number"&&(x.padding==="gap"||x.padding==="no-gap")){var F=j[1]-j[0],Z=1/0,D=x.categoricalDomain.sort(oae);if(D.forEach(function(G,J){J>0&&(Z=Math.min((G||0)-(D[J-1]||0),Z))}),Number.isFinite(Z)){var $=Z/F,E=x.layout==="vertical"?s.height:s.width;if(x.padding==="gap"&&(k=$*E/2),x.padding==="no-gap"){var V=ts(t.barCategoryGap,$*E),q=$*E/2;k=q-V-(q-V)/E*V}}}a==="xAxis"?T=[s.left+(S.left||0)+(k||0),s.left+s.width-(S.right||0)-(k||0)]:a==="yAxis"?T=d==="horizontal"?[s.top+s.height-(S.bottom||0),s.top+(S.top||0)]:[s.top+(S.top||0)+(k||0),s.top+s.height-(S.bottom||0)-(k||0)]:T=x.range,_&&(T=[T[1],T[0]]);var U=H6(x,i,p),Q=U.scale,he=U.realScaleType;Q.domain(j).range(T),G6(Q);var ue=Z6(Q,La(La({},x),{},{realScaleType:he}));a==="xAxis"?(z=v==="top"&&!C||v==="bottom"&&C,O=s.left,M=m[A]-z*x.height):a==="yAxis"&&(z=v==="left"&&!C||v==="right"&&C,O=m[A]-z*x.width,M=s.top);var ce=La(La(La({},x),ue),{},{realScaleType:he,x:O,y:M,scale:Q,width:a==="xAxis"?s.width:x.width,height:a==="yAxis"?s.height:x.height});return ce.bandSize=Kv(ce,ue),!x.hide&&a==="xAxis"?m[A]+=(z?-1:1)*ce.height:x.hide||(m[A]+=(z?-1:1)*ce.width),La(La({},g),{},sj({},y,ce))},{})},$F=function(t,n){var s=t.x,a=t.y,i=n.x,o=n.y;return{x:Math.min(s,i),y:Math.min(a,o),width:Math.abs(i-s),height:Math.abs(o-a)}},fSe=function(t){var n=t.x1,s=t.y1,a=t.x2,i=t.y2;return $F({x:n,y:s},{x:a,y:i})},DF=function(){function e(t){uSe(this,e),this.scale=t}return mSe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=s.bandAware,i=s.position;if(n!==void 0){if(i)switch(i){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(n)+l}default:return this.scale(n)}if(a){var d=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+d}return this.scale(n)}}},{key:"isInRange",value:function(n){var s=this.range(),a=s[0],i=s[s.length-1];return a<=i?n>=a&&n<=i:n>=i&&n<=a}}],[{key:"create",value:function(n){return new e(n)}}])}();sj(DF,"EPS",1e-4);var kC=function(t){var n=Object.keys(t).reduce(function(s,a){return La(La({},s),{},sj({},a,DF.create(t[a])))},{});return La(La({},n),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return M2e(a,function(d,u){return n[u].apply(d,{bandAware:o,position:l})})},isInRange:function(a){return TF(a,function(i,o){return n[o].isInRange(i)})}})};function pSe(e){return(e%180+180)%180}var xSe=function(t){var n=t.width,s=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=pSe(a),o=i*Math.PI/180,l=Math.atan(s/n),d=o>l&&o<Math.PI-l?s/Math.sin(o):n/Math.cos(o);return Math.abs(d)},gSe=Ii,vSe=zp,ySe=B0;function jSe(e){return function(t,n,s){var a=Object(t);if(!vSe(t)){var i=gSe(n);t=ySe(t),n=function(l){return i(a[l],l,a)}}var o=e(t,n,s);return o>-1?a[i?t[o]:o]:void 0}}var bSe=jSe,wSe=PF;function NSe(e){var t=wSe(e),n=t%1;return t===t?n?t-n:t:0}var SSe=NSe,_Se=P8,CSe=Ii,PSe=SSe,ASe=Math.max;function kSe(e,t,n){var s=e==null?0:e.length;if(!s)return-1;var a=n==null?0:PSe(n);return a<0&&(a=ASe(s+a,0)),_Se(e,CSe(t),a)}var ESe=kSe,TSe=bSe,OSe=ESe,ISe=TSe(OSe),MSe=ISe;const LSe=ar(MSe);var $Se=ose(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),EC=N.createContext(void 0),TC=N.createContext(void 0),RF=N.createContext(void 0),zF=N.createContext({}),FF=N.createContext(void 0),BF=N.createContext(0),qF=N.createContext(0),RT=function(t){var n=t.state,s=n.xAxisMap,a=n.yAxisMap,i=n.offset,o=t.clipPathId,l=t.children,d=t.width,u=t.height,h=$Se(i);return R.createElement(EC.Provider,{value:s},R.createElement(TC.Provider,{value:a},R.createElement(zF.Provider,{value:i},R.createElement(RF.Provider,{value:h},R.createElement(FF.Provider,{value:o},R.createElement(BF.Provider,{value:u},R.createElement(qF.Provider,{value:d},l)))))))},DSe=function(){return N.useContext(FF)},UF=function(t){var n=N.useContext(EC);n==null&&nd();var s=n[t];return s==null&&nd(),s},RSe=function(){var t=N.useContext(EC);return Jo(t)},zSe=function(){var t=N.useContext(TC),n=LSe(t,function(s){return TF(s.domain,Number.isFinite)});return n||Jo(t)},VF=function(t){var n=N.useContext(TC);n==null&&nd();var s=n[t];return s==null&&nd(),s},FSe=function(){var t=N.useContext(RF);return t},BSe=function(){return N.useContext(zF)},OC=function(){return N.useContext(qF)},IC=function(){return N.useContext(BF)};function im(e){"@babel/helpers - typeof";return im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},im(e)}function qSe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function USe(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,KF(s.key),s)}}function VSe(e,t,n){return t&&USe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function WSe(e,t,n){return t=my(t),KSe(e,WF()?Reflect.construct(t,n||[],my(e).constructor):t.apply(e,n))}function KSe(e,t){if(t&&(im(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HSe(e)}function HSe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WF=function(){return!!e})()}function my(e){return my=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},my(e)}function GSe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d2(e,t)}function d2(e,t){return d2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},d2(e,t)}function zT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function FT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zT(Object(n),!0).forEach(function(s){MC(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zT(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function MC(e,t,n){return t=KF(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KF(e){var t=ZSe(e,"string");return im(t)=="symbol"?t:t+""}function ZSe(e,t){if(im(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(im(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function QSe(e,t){return e_e(e)||JSe(e,t)||XSe(e,t)||YSe()}function YSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XSe(e,t){if(e){if(typeof e=="string")return BT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BT(e,t)}}function BT(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function JSe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,a,i,o,l=[],d=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(d=(s=i.call(n)).done)&&(l.push(s.value),l.length!==t);d=!0);}catch(h){u=!0,a=h}finally{try{if(!d&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function e_e(e){if(Array.isArray(e))return e}function u2(){return u2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},u2.apply(this,arguments)}var t_e=function(t,n){var s;return R.isValidElement(t)?s=R.cloneElement(t,n):ft(t)?s=t(n):s=R.createElement("line",u2({},n,{className:"recharts-reference-line-line"})),s},r_e=function(t,n,s,a,i,o,l,d,u){var h=i.x,m=i.y,p=i.width,g=i.height;if(s){var y=u.y,x=t.y.apply(y,{position:o});if(Pi(u,"discard")&&!t.y.isInRange(x))return null;var v=[{x:h+p,y:x},{x:h,y:x}];return d==="left"?v.reverse():v}if(n){var j=u.x,b=t.x.apply(j,{position:o});if(Pi(u,"discard")&&!t.x.isInRange(b))return null;var S=[{x:b,y:m+g},{x:b,y:m}];return l==="top"?S.reverse():S}if(a){var C=u.segment,_=C.map(function(A){return t.apply(A,{position:o})});return Pi(u,"discard")&&C2e(_,function(A){return!t.isInRange(A)})?null:_}return null};function n_e(e){var t=e.x,n=e.y,s=e.segment,a=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,d=e.alwaysShow,u=DSe(),h=UF(a),m=VF(i),p=FSe();if(!u||!p)return null;Ua(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var g=kC({x:h.scale,y:m.scale}),y=cn(t),x=cn(n),v=s&&s.length===2,j=r_e(g,y,x,v,p,e.position,h.orientation,m.orientation,e);if(!j)return null;var b=QSe(j,2),S=b[0],C=S.x,_=S.y,A=b[1],k=A.x,T=A.y,O=Pi(e,"hidden")?"url(#".concat(u,")"):void 0,M=FT(FT({clipPath:O},tt(e,!0)),{},{x1:C,y1:_,x2:k,y2:T});return R.createElement(_t,{className:bt("recharts-reference-line",l)},t_e(o,M),xn.renderCallByParent(e,fSe({x1:C,y1:_,x2:k,y2:T})))}var fp=function(e){function t(){return qSe(this,t),WSe(this,t,arguments)}return GSe(t,e),VSe(t,[{key:"render",value:function(){return R.createElement(n_e,this.props)}}])}(R.Component);MC(fp,"displayName","ReferenceLine");MC(fp,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function m2(){return m2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},m2.apply(this,arguments)}function om(e){"@babel/helpers - typeof";return om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},om(e)}function qT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function UT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qT(Object(n),!0).forEach(function(s){ij(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qT(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function s_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a_e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,GF(s.key),s)}}function i_e(e,t,n){return t&&a_e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function o_e(e,t,n){return t=hy(t),l_e(e,HF()?Reflect.construct(t,n||[],hy(e).constructor):t.apply(e,n))}function l_e(e,t){if(t&&(om(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return c_e(e)}function c_e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HF=function(){return!!e})()}function hy(e){return hy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hy(e)}function d_e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h2(e,t)}function h2(e,t){return h2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},h2(e,t)}function ij(e,t,n){return t=GF(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GF(e){var t=u_e(e,"string");return om(t)=="symbol"?t:t+""}function u_e(e,t){if(om(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(om(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var m_e=function(t){var n=t.x,s=t.y,a=t.xAxis,i=t.yAxis,o=kC({x:a.scale,y:i.scale}),l=o.apply({x:n,y:s},{bandAware:!0});return Pi(t,"discard")&&!o.isInRange(l)?null:l},oj=function(e){function t(){return s_e(this,t),o_e(this,t,arguments)}return d_e(t,e),i_e(t,[{key:"render",value:function(){var s=this.props,a=s.x,i=s.y,o=s.r,l=s.alwaysShow,d=s.clipPathId,u=cn(a),h=cn(i);if(Ua(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!h)return null;var m=m_e(this.props);if(!m)return null;var p=m.x,g=m.y,y=this.props,x=y.shape,v=y.className,j=Pi(this.props,"hidden")?"url(#".concat(d,")"):void 0,b=UT(UT({clipPath:j},tt(this.props,!0)),{},{cx:p,cy:g});return R.createElement(_t,{className:bt("recharts-reference-dot",v)},t.renderDot(x,b),xn.renderCallByParent(this.props,{x:p-o,y:g-o,width:2*o,height:2*o}))}}])}(R.Component);ij(oj,"displayName","ReferenceDot");ij(oj,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});ij(oj,"renderDot",function(e,t){var n;return R.isValidElement(e)?n=R.cloneElement(e,t):ft(e)?n=e(t):n=R.createElement(Bm,m2({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),n});function f2(){return f2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},f2.apply(this,arguments)}function lm(e){"@babel/helpers - typeof";return lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lm(e)}function VT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function WT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VT(Object(n),!0).forEach(function(s){lj(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VT(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function h_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f_e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,QF(s.key),s)}}function p_e(e,t,n){return t&&f_e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function x_e(e,t,n){return t=fy(t),g_e(e,ZF()?Reflect.construct(t,n||[],fy(e).constructor):t.apply(e,n))}function g_e(e,t){if(t&&(lm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v_e(e)}function v_e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZF=function(){return!!e})()}function fy(e){return fy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},fy(e)}function y_e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p2(e,t)}function p2(e,t){return p2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},p2(e,t)}function lj(e,t,n){return t=QF(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QF(e){var t=j_e(e,"string");return lm(t)=="symbol"?t:t+""}function j_e(e,t){if(lm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(lm(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var b_e=function(t,n,s,a,i){var o=i.x1,l=i.x2,d=i.y1,u=i.y2,h=i.xAxis,m=i.yAxis;if(!h||!m)return null;var p=kC({x:h.scale,y:m.scale}),g={x:t?p.x.apply(o,{position:"start"}):p.x.rangeMin,y:s?p.y.apply(d,{position:"start"}):p.y.rangeMin},y={x:n?p.x.apply(l,{position:"end"}):p.x.rangeMax,y:a?p.y.apply(u,{position:"end"}):p.y.rangeMax};return Pi(i,"discard")&&(!p.isInRange(g)||!p.isInRange(y))?null:$F(g,y)},cj=function(e){function t(){return h_e(this,t),x_e(this,t,arguments)}return y_e(t,e),p_e(t,[{key:"render",value:function(){var s=this.props,a=s.x1,i=s.x2,o=s.y1,l=s.y2,d=s.className,u=s.alwaysShow,h=s.clipPathId;Ua(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=cn(a),p=cn(i),g=cn(o),y=cn(l),x=this.props.shape;if(!m&&!p&&!g&&!y&&!x)return null;var v=b_e(m,p,g,y,this.props);if(!v&&!x)return null;var j=Pi(this.props,"hidden")?"url(#".concat(h,")"):void 0;return R.createElement(_t,{className:bt("recharts-reference-area",d)},t.renderRect(x,WT(WT({clipPath:j},tt(this.props,!0)),v)),xn.renderCallByParent(this.props,v))}}])}(R.Component);lj(cj,"displayName","ReferenceArea");lj(cj,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});lj(cj,"renderRect",function(e,t){var n;return R.isValidElement(e)?n=R.cloneElement(e,t):ft(e)?n=e(t):n=R.createElement(AC,f2({},t,{className:"recharts-reference-area-rect"})),n});function YF(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var s=[],a=0;a<e.length;a+=t)s.push(e[a]);return s}function w_e(e,t,n){var s={width:e.width+t.width,height:e.height+t.height};return xSe(s,n)}function N_e(e,t,n){var s=n==="width",a=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:s?a:i,end:s?a+o:i+l}:{start:s?a+o:i+l,end:s?a:i}}function py(e,t,n,s,a){if(e*t<e*s||e*t>e*a)return!1;var i=n();return e*(t-e*i/2-s)>=0&&e*(t+e*i/2-a)<=0}function S_e(e,t){return YF(e,t+1)}function __e(e,t,n,s,a){for(var i=(s||[]).slice(),o=t.start,l=t.end,d=0,u=1,h=o,m=function(){var y=s==null?void 0:s[d];if(y===void 0)return{v:YF(s,u)};var x=d,v,j=function(){return v===void 0&&(v=n(y,x)),v},b=y.coordinate,S=d===0||py(e,b,j,h,l);S||(d=0,h=o,u+=1),S&&(h=b+e*(j()/2+a),d+=u)},p;u<=i.length;)if(p=m(),p)return p.v;return[]}function pp(e){"@babel/helpers - typeof";return pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pp(e)}function KT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function zn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KT(Object(n),!0).forEach(function(s){C_e(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KT(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function C_e(e,t,n){return t=P_e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P_e(e){var t=A_e(e,"string");return pp(t)=="symbol"?t:t+""}function A_e(e,t){if(pp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(pp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function k_e(e,t,n,s,a){for(var i=(s||[]).slice(),o=i.length,l=t.start,d=t.end,u=function(p){var g=i[p],y,x=function(){return y===void 0&&(y=n(g,p)),y};if(p===o-1){var v=e*(g.coordinate+e*x()/2-d);i[p]=g=zn(zn({},g),{},{tickCoord:v>0?g.coordinate-v*e:g.coordinate})}else i[p]=g=zn(zn({},g),{},{tickCoord:g.coordinate});var j=py(e,g.tickCoord,x,l,d);j&&(d=g.tickCoord-e*(x()/2+a),i[p]=zn(zn({},g),{},{isShow:!0}))},h=o-1;h>=0;h--)u(h);return i}function E_e(e,t,n,s,a,i){var o=(s||[]).slice(),l=o.length,d=t.start,u=t.end;if(i){var h=s[l-1],m=n(h,l-1),p=e*(h.coordinate+e*m/2-u);o[l-1]=h=zn(zn({},h),{},{tickCoord:p>0?h.coordinate-p*e:h.coordinate});var g=py(e,h.tickCoord,function(){return m},d,u);g&&(u=h.tickCoord-e*(m/2+a),o[l-1]=zn(zn({},h),{},{isShow:!0}))}for(var y=i?l-1:l,x=function(b){var S=o[b],C,_=function(){return C===void 0&&(C=n(S,b)),C};if(b===0){var A=e*(S.coordinate-e*_()/2-d);o[b]=S=zn(zn({},S),{},{tickCoord:A<0?S.coordinate-A*e:S.coordinate})}else o[b]=S=zn(zn({},S),{},{tickCoord:S.coordinate});var k=py(e,S.tickCoord,_,d,u);k&&(d=S.tickCoord+e*(_()/2+a),o[b]=zn(zn({},S),{},{isShow:!0}))},v=0;v<y;v++)x(v);return o}function LC(e,t,n){var s=e.tick,a=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,d=e.interval,u=e.tickFormatter,h=e.unit,m=e.angle;if(!a||!a.length||!s)return[];if(Ue(d)||Vs.isSsr)return S_e(a,typeof d=="number"&&Ue(d)?d:0);var p=[],g=l==="top"||l==="bottom"?"width":"height",y=h&&g==="width"?Hh(h,{fontSize:t,letterSpacing:n}):{width:0,height:0},x=function(S,C){var _=ft(u)?u(S.value,C):S.value;return g==="width"?w_e(Hh(_,{fontSize:t,letterSpacing:n}),y,m):Hh(_,{fontSize:t,letterSpacing:n})[g]},v=a.length>=2?es(a[1].coordinate-a[0].coordinate):1,j=N_e(i,v,g);return d==="equidistantPreserveStart"?__e(v,j,x,a,o):(d==="preserveStart"||d==="preserveStartEnd"?p=E_e(v,j,x,a,o,d==="preserveStartEnd"):p=k_e(v,j,x,a,o),p.filter(function(b){return b.isShow}))}var T_e=["viewBox"],O_e=["viewBox"],I_e=["ticks"];function cm(e){"@babel/helpers - typeof";return cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cm(e)}function ru(){return ru=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ru.apply(this,arguments)}function HT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function rn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HT(Object(n),!0).forEach(function(s){$C(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HT(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function uw(e,t){if(e==null)return{};var n=M_e(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function M_e(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function L_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GT(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,JF(s.key),s)}}function $_e(e,t,n){return t&&GT(e.prototype,t),n&&GT(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function D_e(e,t,n){return t=xy(t),R_e(e,XF()?Reflect.construct(t,n||[],xy(e).constructor):t.apply(e,n))}function R_e(e,t){if(t&&(cm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return z_e(e)}function z_e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XF=function(){return!!e})()}function xy(e){return xy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xy(e)}function F_e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x2(e,t)}function x2(e,t){return x2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},x2(e,t)}function $C(e,t,n){return t=JF(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JF(e){var t=B_e(e,"string");return cm(t)=="symbol"?t:t+""}function B_e(e,t){if(cm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(cm(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vm=function(e){function t(n){var s;return L_e(this,t),s=D_e(this,t,[n]),s.state={fontSize:"",letterSpacing:""},s}return F_e(t,e),$_e(t,[{key:"shouldComponentUpdate",value:function(s,a){var i=s.viewBox,o=uw(s,T_e),l=this.props,d=l.viewBox,u=uw(l,O_e);return!xu(i,d)||!xu(o,u)||!xu(a,this.state)}},{key:"componentDidMount",value:function(){var s=this.layerReference;if(s){var a=s.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(s){var a=this.props,i=a.x,o=a.y,l=a.width,d=a.height,u=a.orientation,h=a.tickSize,m=a.mirror,p=a.tickMargin,g,y,x,v,j,b,S=m?-1:1,C=s.tickSize||h,_=Ue(s.tickCoord)?s.tickCoord:s.coordinate;switch(u){case"top":g=y=s.coordinate,v=o+ +!m*d,x=v-S*C,b=x-S*p,j=_;break;case"left":x=v=s.coordinate,y=i+ +!m*l,g=y-S*C,j=g-S*p,b=_;break;case"right":x=v=s.coordinate,y=i+ +m*l,g=y+S*C,j=g+S*p,b=_;break;default:g=y=s.coordinate,v=o+ +m*d,x=v+S*C,b=x+S*p,j=_;break}return{line:{x1:g,y1:x,x2:y,y2:v},tick:{x:j,y:b}}}},{key:"getTickTextAnchor",value:function(){var s=this.props,a=s.orientation,i=s.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var s=this.props,a=s.orientation,i=s.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var s=this.props,a=s.x,i=s.y,o=s.width,l=s.height,d=s.orientation,u=s.mirror,h=s.axisLine,m=rn(rn(rn({},tt(this.props,!1)),tt(h,!1)),{},{fill:"none"});if(d==="top"||d==="bottom"){var p=+(d==="top"&&!u||d==="bottom"&&u);m=rn(rn({},m),{},{x1:a,y1:i+p*l,x2:a+o,y2:i+p*l})}else{var g=+(d==="left"&&!u||d==="right"&&u);m=rn(rn({},m),{},{x1:a+g*o,y1:i,x2:a+g*o,y2:i+l})}return R.createElement("line",ru({},m,{className:bt("recharts-cartesian-axis-line",Us(h,"className"))}))}},{key:"renderTicks",value:function(s,a,i){var o=this,l=this.props,d=l.tickLine,u=l.stroke,h=l.tick,m=l.tickFormatter,p=l.unit,g=LC(rn(rn({},this.props),{},{ticks:s}),a,i),y=this.getTickTextAnchor(),x=this.getTickVerticalAnchor(),v=tt(this.props,!1),j=tt(h,!1),b=rn(rn({},v),{},{fill:"none"},tt(d,!1)),S=g.map(function(C,_){var A=o.getTickLineCoord(C),k=A.line,T=A.tick,O=rn(rn(rn(rn({textAnchor:y,verticalAnchor:x},v),{},{stroke:"none",fill:u},j),T),{},{index:_,payload:C,visibleTicksCount:g.length,tickFormatter:m});return R.createElement(_t,ru({className:"recharts-cartesian-axis-tick",key:"tick-".concat(C.value,"-").concat(C.coordinate,"-").concat(C.tickCoord)},Ml(o.props,C,_)),d&&R.createElement("line",ru({},b,k,{className:bt("recharts-cartesian-axis-tick-line",Us(d,"className"))})),h&&t.renderTickItem(h,O,"".concat(ft(m)?m(C.value,_):C.value).concat(p||"")))});return R.createElement("g",{className:"recharts-cartesian-axis-ticks"},S)}},{key:"render",value:function(){var s=this,a=this.props,i=a.axisLine,o=a.width,l=a.height,d=a.ticksGenerator,u=a.className,h=a.hide;if(h)return null;var m=this.props,p=m.ticks,g=uw(m,I_e),y=p;return ft(d)&&(y=p&&p.length>0?d(this.props):d(g)),o<=0||l<=0||!y||!y.length?null:R.createElement(_t,{className:bt("recharts-cartesian-axis",u),ref:function(v){s.layerReference=v}},i&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),xn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(s,a,i){var o,l=bt(a.className,"recharts-cartesian-axis-tick-value");return R.isValidElement(s)?o=R.cloneElement(s,rn(rn({},a),{},{className:l})):ft(s)?o=s(rn(rn({},a),{},{className:l})):o=R.createElement(td,ru({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(N.Component);$C(Vm,"displayName","CartesianAxis");$C(Vm,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var q_e=["x1","y1","x2","y2","key"],U_e=["offset"];function sd(e){"@babel/helpers - typeof";return sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sd(e)}function ZT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function qn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZT(Object(n),!0).forEach(function(s){V_e(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZT(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function V_e(e,t,n){return t=W_e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W_e(e){var t=K_e(e,"string");return sd(t)=="symbol"?t:t+""}function K_e(e,t){if(sd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(sd(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sc(){return Sc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Sc.apply(this,arguments)}function QT(e,t){if(e==null)return{};var n=H_e(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function H_e(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}var G_e=function(t){var n=t.fill;if(!n||n==="none")return null;var s=t.fillOpacity,a=t.x,i=t.y,o=t.width,l=t.height,d=t.ry;return R.createElement("rect",{x:a,y:i,ry:d,width:o,height:l,stroke:"none",fill:n,fillOpacity:s,className:"recharts-cartesian-grid-bg"})};function e9(e,t){var n;if(R.isValidElement(e))n=R.cloneElement(e,t);else if(ft(e))n=e(t);else{var s=t.x1,a=t.y1,i=t.x2,o=t.y2,l=t.key,d=QT(t,q_e),u=tt(d,!1);u.offset;var h=QT(u,U_e);n=R.createElement("line",Sc({},h,{x1:s,y1:a,x2:i,y2:o,fill:"none",key:l}))}return n}function Z_e(e){var t=e.x,n=e.width,s=e.horizontal,a=s===void 0?!0:s,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,d){var u=qn(qn({},e),{},{x1:t,y1:l,x2:t+n,y2:l,key:"line-".concat(d),index:d});return e9(a,u)});return R.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function Q_e(e){var t=e.y,n=e.height,s=e.vertical,a=s===void 0?!0:s,i=e.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,d){var u=qn(qn({},e),{},{x1:l,y1:t,x2:l,y2:t+n,key:"line-".concat(d),index:d});return e9(a,u)});return R.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function Y_e(e){var t=e.horizontalFill,n=e.fillOpacity,s=e.x,a=e.y,i=e.width,o=e.height,l=e.horizontalPoints,d=e.horizontal,u=d===void 0?!0:d;if(!u||!t||!t.length)return null;var h=l.map(function(p){return Math.round(p+a-a)}).sort(function(p,g){return p-g});a!==h[0]&&h.unshift(0);var m=h.map(function(p,g){var y=!h[g+1],x=y?a+o-p:h[g+1]-p;if(x<=0)return null;var v=g%t.length;return R.createElement("rect",{key:"react-".concat(g),y:p,x:s,height:x,width:i,stroke:"none",fill:t[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return R.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function X_e(e){var t=e.vertical,n=t===void 0?!0:t,s=e.verticalFill,a=e.fillOpacity,i=e.x,o=e.y,l=e.width,d=e.height,u=e.verticalPoints;if(!n||!s||!s.length)return null;var h=u.map(function(p){return Math.round(p+i-i)}).sort(function(p,g){return p-g});i!==h[0]&&h.unshift(0);var m=h.map(function(p,g){var y=!h[g+1],x=y?i+l-p:h[g+1]-p;if(x<=0)return null;var v=g%s.length;return R.createElement("rect",{key:"react-".concat(g),x:p,y:o,width:x,height:d,stroke:"none",fill:s[v],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return R.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var J_e=function(t,n){var s=t.xAxis,a=t.width,i=t.height,o=t.offset;return K6(LC(qn(qn(qn({},Vm.defaultProps),s),{},{ticks:uo(s,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,n)},eCe=function(t,n){var s=t.yAxis,a=t.width,i=t.height,o=t.offset;return K6(LC(qn(qn(qn({},Vm.defaultProps),s),{},{ticks:uo(s,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,n)},Dd={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Wm(e){var t,n,s,a,i,o,l=OC(),d=IC(),u=BSe(),h=qn(qn({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Dd.stroke,fill:(n=e.fill)!==null&&n!==void 0?n:Dd.fill,horizontal:(s=e.horizontal)!==null&&s!==void 0?s:Dd.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Dd.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:Dd.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Dd.verticalFill,x:Ue(e.x)?e.x:u.left,y:Ue(e.y)?e.y:u.top,width:Ue(e.width)?e.width:u.width,height:Ue(e.height)?e.height:u.height}),m=h.x,p=h.y,g=h.width,y=h.height,x=h.syncWithTicks,v=h.horizontalValues,j=h.verticalValues,b=RSe(),S=zSe();if(!Ue(g)||g<=0||!Ue(y)||y<=0||!Ue(m)||m!==+m||!Ue(p)||p!==+p)return null;var C=h.verticalCoordinatesGenerator||J_e,_=h.horizontalCoordinatesGenerator||eCe,A=h.horizontalPoints,k=h.verticalPoints;if((!A||!A.length)&&ft(_)){var T=v&&v.length,O=_({yAxis:S?qn(qn({},S),{},{ticks:T?v:S.ticks}):void 0,width:l,height:d,offset:u},T?!0:x);Ua(Array.isArray(O),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(sd(O),"]")),Array.isArray(O)&&(A=O)}if((!k||!k.length)&&ft(C)){var M=j&&j.length,z=C({xAxis:b?qn(qn({},b),{},{ticks:M?j:b.ticks}):void 0,width:l,height:d,offset:u},M?!0:x);Ua(Array.isArray(z),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(sd(z),"]")),Array.isArray(z)&&(k=z)}return R.createElement("g",{className:"recharts-cartesian-grid"},R.createElement(G_e,{fill:h.fill,fillOpacity:h.fillOpacity,x:h.x,y:h.y,width:h.width,height:h.height,ry:h.ry}),R.createElement(Z_e,Sc({},h,{offset:u,horizontalPoints:A,xAxis:b,yAxis:S})),R.createElement(Q_e,Sc({},h,{offset:u,verticalPoints:k,xAxis:b,yAxis:S})),R.createElement(Y_e,Sc({},h,{horizontalPoints:A})),R.createElement(X_e,Sc({},h,{verticalPoints:k})))}Wm.displayName="CartesianGrid";var tCe=["type","layout","connectNulls","ref"],rCe=["key"];function dm(e){"@babel/helpers - typeof";return dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dm(e)}function YT(e,t){if(e==null)return{};var n=nCe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function nCe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function Jh(){return Jh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Jh.apply(this,arguments)}function XT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Ts(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XT(Object(n),!0).forEach(function(s){$a(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XT(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Rd(e){return oCe(e)||iCe(e)||aCe(e)||sCe()}function sCe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aCe(e,t){if(e){if(typeof e=="string")return g2(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g2(e,t)}}function iCe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function oCe(e){if(Array.isArray(e))return g2(e)}function g2(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function lCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JT(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,r9(s.key),s)}}function cCe(e,t,n){return t&&JT(e.prototype,t),n&&JT(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function dCe(e,t,n){return t=gy(t),uCe(e,t9()?Reflect.construct(t,n||[],gy(e).constructor):t.apply(e,n))}function uCe(e,t){if(t&&(dm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mCe(e)}function mCe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function t9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t9=function(){return!!e})()}function gy(e){return gy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gy(e)}function hCe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v2(e,t)}function v2(e,t){return v2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},v2(e,t)}function $a(e,t,n){return t=r9(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r9(e){var t=fCe(e,"string");return dm(t)=="symbol"?t:t+""}function fCe(e,t){if(dm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(dm(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wp=function(e){function t(){var n;lCe(this,t);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return n=dCe(this,t,[].concat(a)),$a(n,"state",{isAnimationFinished:!0,totalLength:0}),$a(n,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),$a(n,"getStrokeDasharray",function(o,l,d){var u=d.reduce(function(j,b){return j+b});if(!u)return n.generateSimpleStrokeDasharray(l,o);for(var h=Math.floor(o/u),m=o%u,p=l-o,g=[],y=0,x=0;y<d.length;x+=d[y],++y)if(x+d[y]>m){g=[].concat(Rd(d.slice(0,y)),[m-x]);break}var v=g.length%2===0?[0,p]:[p];return[].concat(Rd(t.repeat(d,h)),Rd(g),v).map(function(j){return"".concat(j,"px")}).join(", ")}),$a(n,"id",Gl("recharts-line-")),$a(n,"pathRef",function(o){n.mainCurve=o}),$a(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),$a(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return hCe(t,e),cCe(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var s=this.getTotalLength();this.setState({totalLength:s})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var s=this.getTotalLength();s!==this.state.totalLength&&this.setState({totalLength:s})}}},{key:"getTotalLength",value:function(){var s=this.mainCurve;try{return s&&s.getTotalLength&&s.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(s,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,l=i.xAxis,d=i.yAxis,u=i.layout,h=i.children,m=as(h,Fm);if(!m)return null;var p=function(x,v){return{x:x.x,y:x.y,value:x.value,errorVal:gr(x.payload,v)}},g={clipPath:s?"url(#clipPath-".concat(a,")"):null};return R.createElement(_t,g,m.map(function(y){return R.cloneElement(y,{key:"bar-".concat(y.props.dataKey),data:o,xAxis:l,yAxis:d,layout:u,dataPointFormatter:p})}))}},{key:"renderDots",value:function(s,a,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,d=l.dot,u=l.points,h=l.dataKey,m=tt(this.props,!1),p=tt(d,!0),g=u.map(function(x,v){var j=Ts(Ts(Ts({key:"dot-".concat(v),r:3},m),p),{},{index:v,cx:x.x,cy:x.y,value:x.value,dataKey:h,payload:x.payload,points:u});return t.renderDotItem(d,j)}),y={clipPath:s?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return R.createElement(_t,Jh({className:"recharts-line-dots",key:"dots"},y),g)}},{key:"renderCurveStatically",value:function(s,a,i,o){var l=this.props,d=l.type,u=l.layout,h=l.connectNulls;l.ref;var m=YT(l,tCe),p=Ts(Ts(Ts({},tt(m,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:s},o),{},{type:d,layout:u,connectNulls:h});return R.createElement(kl,Jh({},p,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(s,a){var i=this,o=this.props,l=o.points,d=o.strokeDasharray,u=o.isAnimationActive,h=o.animationBegin,m=o.animationDuration,p=o.animationEasing,g=o.animationId,y=o.animateNewValues,x=o.width,v=o.height,j=this.state,b=j.prevPoints,S=j.totalLength;return R.createElement(Hs,{begin:h,duration:m,isActive:u,easing:p,from:{t:0},to:{t:1},key:"line-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(C){var _=C.t;if(b){var A=b.length/l.length,k=l.map(function(F,Z){var D=Math.floor(Z*A);if(b[D]){var $=b[D],E=xr($.x,F.x),V=xr($.y,F.y);return Ts(Ts({},F),{},{x:E(_),y:V(_)})}if(y){var q=xr(x*2,F.x),U=xr(v/2,F.y);return Ts(Ts({},F),{},{x:q(_),y:U(_)})}return Ts(Ts({},F),{},{x:F.x,y:F.y})});return i.renderCurveStatically(k,s,a)}var T=xr(0,S),O=T(_),M;if(d){var z="".concat(d).split(/[,\s]+/gim).map(function(F){return parseFloat(F)});M=i.getStrokeDasharray(O,S,z)}else M=i.generateSimpleStrokeDasharray(S,O);return i.renderCurveStatically(l,s,a,{strokeDasharray:M})})}},{key:"renderCurve",value:function(s,a){var i=this.props,o=i.points,l=i.isAnimationActive,d=this.state,u=d.prevPoints,h=d.totalLength;return l&&o&&o.length&&(!u&&h>0||!Eo(u,o))?this.renderCurveWithAnimation(s,a):this.renderCurveStatically(o,s,a)}},{key:"render",value:function(){var s,a=this.props,i=a.hide,o=a.dot,l=a.points,d=a.className,u=a.xAxis,h=a.yAxis,m=a.top,p=a.left,g=a.width,y=a.height,x=a.isAnimationActive,v=a.id;if(i||!l||!l.length)return null;var j=this.state.isAnimationFinished,b=l.length===1,S=bt("recharts-line",d),C=u&&u.allowDataOverflow,_=h&&h.allowDataOverflow,A=C||_,k=pt(v)?this.id:v,T=(s=tt(o,!1))!==null&&s!==void 0?s:{r:3,strokeWidth:2},O=T.r,M=O===void 0?3:O,z=T.strokeWidth,F=z===void 0?2:z,Z=Rz(o)?o:{},D=Z.clipDot,$=D===void 0?!0:D,E=M*2+F;return R.createElement(_t,{className:S},C||_?R.createElement("defs",null,R.createElement("clipPath",{id:"clipPath-".concat(k)},R.createElement("rect",{x:C?p:p-g/2,y:_?m:m-y/2,width:C?g:g*2,height:_?y:y*2})),!$&&R.createElement("clipPath",{id:"clipPath-dots-".concat(k)},R.createElement("rect",{x:p-E/2,y:m-E/2,width:g+E,height:y+E}))):null,!b&&this.renderCurve(A,k),this.renderErrorBar(A,k),(b||o)&&this.renderDots(A,$,k),(!x||j)&&pa.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return s.animationId!==a.prevAnimationId?{prevAnimationId:s.animationId,curPoints:s.points,prevPoints:a.curPoints}:s.points!==a.curPoints?{curPoints:s.points}:null}},{key:"repeat",value:function(s,a){for(var i=s.length%2!==0?[].concat(Rd(s),[0]):s,o=[],l=0;l<a;++l)o=[].concat(Rd(o),Rd(i));return o}},{key:"renderDotItem",value:function(s,a){var i;if(R.isValidElement(s))i=R.cloneElement(s,a);else if(ft(s))i=s(a);else{var o=a.key,l=YT(a,rCe),d=bt("recharts-line-dot",typeof s!="boolean"?s.className:"");i=R.createElement(Bm,Jh({key:o},l,{className:d}))}return i}}])}(N.PureComponent);$a(Wp,"displayName","Line");$a(Wp,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Vs.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});$a(Wp,"getComposedData",function(e){var t=e.props,n=e.xAxis,s=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,l=e.bandSize,d=e.displayedData,u=e.offset,h=t.layout,m=d.map(function(p,g){var y=gr(p,o);return h==="horizontal"?{x:Yu({axis:n,ticks:a,bandSize:l,entry:p,index:g}),y:pt(y)?null:s.scale(y),value:y,payload:p}:{x:pt(y)?null:n.scale(y),y:Yu({axis:s,ticks:i,bandSize:l,entry:p,index:g}),value:y,payload:p}});return Ts({points:m,layout:h},u)});var pCe=["layout","type","stroke","connectNulls","isRange","ref"],xCe=["key"],n9;function um(e){"@babel/helpers - typeof";return um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},um(e)}function s9(e,t){if(e==null)return{};var n=gCe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function gCe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function _c(){return _c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},_c.apply(this,arguments)}function eO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Ho(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eO(Object(n),!0).forEach(function(s){bi(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eO(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function vCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tO(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,i9(s.key),s)}}function yCe(e,t,n){return t&&tO(e.prototype,t),n&&tO(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function jCe(e,t,n){return t=vy(t),bCe(e,a9()?Reflect.construct(t,n||[],vy(e).constructor):t.apply(e,n))}function bCe(e,t){if(t&&(um(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wCe(e)}function wCe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a9=function(){return!!e})()}function vy(e){return vy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},vy(e)}function NCe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y2(e,t)}function y2(e,t){return y2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},y2(e,t)}function bi(e,t,n){return t=i9(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i9(e){var t=SCe(e,"string");return um(t)=="symbol"?t:t+""}function SCe(e,t){if(um(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(um(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jl=function(e){function t(){var n;vCe(this,t);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return n=jCe(this,t,[].concat(a)),bi(n,"state",{isAnimationFinished:!0}),bi(n,"id",Gl("recharts-area-")),bi(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),ft(o)&&o()}),bi(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),ft(o)&&o()}),n}return NCe(t,e),yCe(t,[{key:"renderDots",value:function(s,a,i){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var d=this.props,u=d.dot,h=d.points,m=d.dataKey,p=tt(this.props,!1),g=tt(u,!0),y=h.map(function(v,j){var b=Ho(Ho(Ho({key:"dot-".concat(j),r:3},p),g),{},{index:j,cx:v.x,cy:v.y,dataKey:m,value:v.value,payload:v.payload,points:h});return t.renderDotItem(u,b)}),x={clipPath:s?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return R.createElement(_t,_c({className:"recharts-area-dots"},x),y)}},{key:"renderHorizontalRect",value:function(s){var a=this.props,i=a.baseLine,o=a.points,l=a.strokeWidth,d=o[0].x,u=o[o.length-1].x,h=s*Math.abs(d-u),m=hl(o.map(function(p){return p.y||0}));return Ue(i)&&typeof i=="number"?m=Math.max(i,m):i&&Array.isArray(i)&&i.length&&(m=Math.max(hl(i.map(function(p){return p.y||0})),m)),Ue(m)?R.createElement("rect",{x:d<u?d:d-h,y:0,width:h,height:Math.floor(m+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(s){var a=this.props,i=a.baseLine,o=a.points,l=a.strokeWidth,d=o[0].y,u=o[o.length-1].y,h=s*Math.abs(d-u),m=hl(o.map(function(p){return p.x||0}));return Ue(i)&&typeof i=="number"?m=Math.max(i,m):i&&Array.isArray(i)&&i.length&&(m=Math.max(hl(i.map(function(p){return p.x||0})),m)),Ue(m)?R.createElement("rect",{x:0,y:d<u?d:d-h,width:m+(l?parseInt("".concat(l),10):1),height:Math.floor(h)}):null}},{key:"renderClipRect",value:function(s){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(s):this.renderHorizontalRect(s)}},{key:"renderAreaStatically",value:function(s,a,i,o){var l=this.props,d=l.layout,u=l.type,h=l.stroke,m=l.connectNulls,p=l.isRange;l.ref;var g=s9(l,pCe);return R.createElement(_t,{clipPath:i?"url(#clipPath-".concat(o,")"):null},R.createElement(kl,_c({},tt(g,!0),{points:s,connectNulls:m,type:u,baseLine:a,layout:d,stroke:"none",className:"recharts-area-area"})),h!=="none"&&R.createElement(kl,_c({},tt(this.props,!1),{className:"recharts-area-curve",layout:d,type:u,connectNulls:m,fill:"none",points:s})),h!=="none"&&p&&R.createElement(kl,_c({},tt(this.props,!1),{className:"recharts-area-curve",layout:d,type:u,connectNulls:m,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(s,a){var i=this,o=this.props,l=o.points,d=o.baseLine,u=o.isAnimationActive,h=o.animationBegin,m=o.animationDuration,p=o.animationEasing,g=o.animationId,y=this.state,x=y.prevPoints,v=y.prevBaseLine;return R.createElement(Hs,{begin:h,duration:m,isActive:u,easing:p,from:{t:0},to:{t:1},key:"area-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(j){var b=j.t;if(x){var S=x.length/l.length,C=l.map(function(T,O){var M=Math.floor(O*S);if(x[M]){var z=x[M],F=xr(z.x,T.x),Z=xr(z.y,T.y);return Ho(Ho({},T),{},{x:F(b),y:Z(b)})}return T}),_;if(Ue(d)&&typeof d=="number"){var A=xr(v,d);_=A(b)}else if(pt(d)||Im(d)){var k=xr(v,0);_=k(b)}else _=d.map(function(T,O){var M=Math.floor(O*S);if(v[M]){var z=v[M],F=xr(z.x,T.x),Z=xr(z.y,T.y);return Ho(Ho({},T),{},{x:F(b),y:Z(b)})}return T});return i.renderAreaStatically(C,_,s,a)}return R.createElement(_t,null,R.createElement("defs",null,R.createElement("clipPath",{id:"animationClipPath-".concat(a)},i.renderClipRect(b))),R.createElement(_t,{clipPath:"url(#animationClipPath-".concat(a,")")},i.renderAreaStatically(l,d,s,a)))})}},{key:"renderArea",value:function(s,a){var i=this.props,o=i.points,l=i.baseLine,d=i.isAnimationActive,u=this.state,h=u.prevPoints,m=u.prevBaseLine,p=u.totalLength;return d&&o&&o.length&&(!h&&p>0||!Eo(h,o)||!Eo(m,l))?this.renderAreaWithAnimation(s,a):this.renderAreaStatically(o,l,s,a)}},{key:"render",value:function(){var s,a=this.props,i=a.hide,o=a.dot,l=a.points,d=a.className,u=a.top,h=a.left,m=a.xAxis,p=a.yAxis,g=a.width,y=a.height,x=a.isAnimationActive,v=a.id;if(i||!l||!l.length)return null;var j=this.state.isAnimationFinished,b=l.length===1,S=bt("recharts-area",d),C=m&&m.allowDataOverflow,_=p&&p.allowDataOverflow,A=C||_,k=pt(v)?this.id:v,T=(s=tt(o,!1))!==null&&s!==void 0?s:{r:3,strokeWidth:2},O=T.r,M=O===void 0?3:O,z=T.strokeWidth,F=z===void 0?2:z,Z=Rz(o)?o:{},D=Z.clipDot,$=D===void 0?!0:D,E=M*2+F;return R.createElement(_t,{className:S},C||_?R.createElement("defs",null,R.createElement("clipPath",{id:"clipPath-".concat(k)},R.createElement("rect",{x:C?h:h-g/2,y:_?u:u-y/2,width:C?g:g*2,height:_?y:y*2})),!$&&R.createElement("clipPath",{id:"clipPath-dots-".concat(k)},R.createElement("rect",{x:h-E/2,y:u-E/2,width:g+E,height:y+E}))):null,b?null:this.renderArea(A,k),(o||b)&&this.renderDots(A,$,k),(!x||j)&&pa.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return s.animationId!==a.prevAnimationId?{prevAnimationId:s.animationId,curPoints:s.points,curBaseLine:s.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:s.points!==a.curPoints||s.baseLine!==a.curBaseLine?{curPoints:s.points,curBaseLine:s.baseLine}:null}}])}(N.PureComponent);n9=Jl;bi(Jl,"displayName","Area");bi(Jl,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Vs.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});bi(Jl,"getBaseValue",function(e,t,n,s){var a=e.layout,i=e.baseValue,o=t.props.baseValue,l=o??i;if(Ue(l)&&typeof l=="number")return l;var d=a==="horizontal"?s:n,u=d.scale.domain();if(d.type==="number"){var h=Math.max(u[0],u[1]),m=Math.min(u[0],u[1]);return l==="dataMin"?m:l==="dataMax"||h<0?h:Math.max(Math.min(u[0],u[1]),0)}return l==="dataMin"?u[0]:l==="dataMax"?u[1]:u[0]});bi(Jl,"getComposedData",function(e){var t=e.props,n=e.item,s=e.xAxis,a=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,l=e.bandSize,d=e.dataKey,u=e.stackedData,h=e.dataStartIndex,m=e.displayedData,p=e.offset,g=t.layout,y=u&&u.length,x=n9.getBaseValue(t,n,s,a),v=g==="horizontal",j=!1,b=m.map(function(C,_){var A;y?A=u[h+_]:(A=gr(C,d),Array.isArray(A)?j=!0:A=[x,A]);var k=A[1]==null||y&&gr(C,d)==null;return v?{x:Yu({axis:s,ticks:i,bandSize:l,entry:C,index:_}),y:k?null:a.scale(A[1]),value:A,payload:C}:{x:k?null:s.scale(A[1]),y:Yu({axis:a,ticks:o,bandSize:l,entry:C,index:_}),value:A,payload:C}}),S;return y||j?S=b.map(function(C){var _=Array.isArray(C.value)?C.value[0]:null;return v?{x:C.x,y:_!=null&&C.y!=null?a.scale(_):null}:{x:_!=null?s.scale(_):null,y:C.y}}):S=v?a.scale(x):s.scale(x),Ho({points:b,baseLine:S,layout:g,isRange:j},p)});bi(Jl,"renderDotItem",function(e,t){var n;if(R.isValidElement(e))n=R.cloneElement(e,t);else if(ft(e))n=e(t);else{var s=bt("recharts-area-dot",typeof e!="boolean"?e.className:""),a=t.key,i=s9(t,xCe);n=R.createElement(Bm,_c({},i,{key:a,className:s}))}return n});function mm(e){"@babel/helpers - typeof";return mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mm(e)}function _Ce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CCe(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,c9(s.key),s)}}function PCe(e,t,n){return t&&CCe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ACe(e,t,n){return t=yy(t),kCe(e,o9()?Reflect.construct(t,n||[],yy(e).constructor):t.apply(e,n))}function kCe(e,t){if(t&&(mm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ECe(e)}function ECe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(o9=function(){return!!e})()}function yy(e){return yy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yy(e)}function TCe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&j2(e,t)}function j2(e,t){return j2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},j2(e,t)}function l9(e,t,n){return t=c9(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c9(e){var t=OCe(e,"string");return mm(t)=="symbol"?t:t+""}function OCe(e,t){if(mm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(mm(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dj=function(e){function t(){return _Ce(this,t),ACe(this,t,arguments)}return TCe(t,e),PCe(t,[{key:"render",value:function(){return null}}])}(N.Component);l9(dj,"displayName","ZAxis");l9(dj,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var ICe=["option","isActive"];function ef(){return ef=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ef.apply(this,arguments)}function MCe(e,t){if(e==null)return{};var n=LCe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function LCe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function $Ce(e){var t=e.option,n=e.isActive,s=MCe(e,ICe);return typeof t=="string"?N.createElement(ny,ef({option:N.createElement(F0,ef({type:t},s)),isActive:n,shapeType:"symbols"},s)):N.createElement(ny,ef({option:t,isActive:n,shapeType:"symbols"},s))}function hm(e){"@babel/helpers - typeof";return hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hm(e)}function tf(){return tf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},tf.apply(this,arguments)}function rO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function na(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rO(Object(n),!0).forEach(function(s){pl(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rO(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function DCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nO(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,u9(s.key),s)}}function RCe(e,t,n){return t&&nO(e.prototype,t),n&&nO(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function zCe(e,t,n){return t=jy(t),FCe(e,d9()?Reflect.construct(t,n||[],jy(e).constructor):t.apply(e,n))}function FCe(e,t){if(t&&(hm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BCe(e)}function BCe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d9=function(){return!!e})()}function jy(e){return jy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},jy(e)}function qCe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b2(e,t)}function b2(e,t){return b2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},b2(e,t)}function pl(e,t,n){return t=u9(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u9(e){var t=UCe(e,"string");return hm(t)=="symbol"?t:t+""}function UCe(e,t){if(hm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(hm(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kp=function(e){function t(){var n;DCe(this,t);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return n=zCe(this,t,[].concat(a)),pl(n,"state",{isAnimationFinished:!1}),pl(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0})}),pl(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1})}),pl(n,"id",Gl("recharts-scatter-")),n}return qCe(t,e),RCe(t,[{key:"renderSymbolsStatically",value:function(s){var a=this,i=this.props,o=i.shape,l=i.activeShape,d=i.activeIndex,u=tt(this.props,!1);return s.map(function(h,m){var p=d===m,g=p?l:o,y=na(na({},u),h);return R.createElement(_t,tf({className:"recharts-scatter-symbol",key:"symbol-".concat(h==null?void 0:h.cx,"-").concat(h==null?void 0:h.cy,"-").concat(h==null?void 0:h.size,"-").concat(m)},Ml(a.props,h,m),{role:"img"}),R.createElement($Ce,tf({option:g,isActive:p,key:"symbol-".concat(m)},y)))})}},{key:"renderSymbolsWithAnimation",value:function(){var s=this,a=this.props,i=a.points,o=a.isAnimationActive,l=a.animationBegin,d=a.animationDuration,u=a.animationEasing,h=a.animationId,m=this.state.prevPoints;return R.createElement(Hs,{begin:l,duration:d,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var g=p.t,y=i.map(function(x,v){var j=m&&m[v];if(j){var b=xr(j.cx,x.cx),S=xr(j.cy,x.cy),C=xr(j.size,x.size);return na(na({},x),{},{cx:b(g),cy:S(g),size:C(g)})}var _=xr(0,x.size);return na(na({},x),{},{size:_(g)})});return R.createElement(_t,null,s.renderSymbolsStatically(y))})}},{key:"renderSymbols",value:function(){var s=this.props,a=s.points,i=s.isAnimationActive,o=this.state.prevPoints;return i&&a&&a.length&&(!o||!Eo(o,a))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(a)}},{key:"renderErrorBar",value:function(){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var a=this.props,i=a.points,o=a.xAxis,l=a.yAxis,d=a.children,u=as(d,Fm);return u?u.map(function(h,m){var p=h.props,g=p.direction,y=p.dataKey;return R.cloneElement(h,{key:"".concat(g,"-").concat(y,"-").concat(i[m]),data:i,xAxis:o,yAxis:l,layout:g==="x"?"vertical":"horizontal",dataPointFormatter:function(v,j){return{x:v.cx,y:v.cy,value:g==="x"?+v.node.x:+v.node.y,errorVal:gr(v,j)}}})}):null}},{key:"renderLine",value:function(){var s=this.props,a=s.points,i=s.line,o=s.lineType,l=s.lineJointType,d=tt(this.props,!1),u=tt(i,!1),h,m;if(o==="joint")h=a.map(function(S){return{x:S.cx,y:S.cy}});else if(o==="fitting"){var p=iae(a),g=p.xmin,y=p.xmax,x=p.a,v=p.b,j=function(C){return x*C+v};h=[{x:g,y:j(g)},{x:y,y:j(y)}]}var b=na(na(na({},d),{},{fill:"none",stroke:d&&d.fill},u),{},{points:h});return R.isValidElement(i)?m=R.cloneElement(i,b):ft(i)?m=i(b):m=R.createElement(kl,tf({},b,{type:l})),R.createElement(_t,{className:"recharts-scatter-line",key:"recharts-scatter-line"},m)}},{key:"render",value:function(){var s=this.props,a=s.hide,i=s.points,o=s.line,l=s.className,d=s.xAxis,u=s.yAxis,h=s.left,m=s.top,p=s.width,g=s.height,y=s.id,x=s.isAnimationActive;if(a||!i||!i.length)return null;var v=this.state.isAnimationFinished,j=bt("recharts-scatter",l),b=d&&d.allowDataOverflow,S=u&&u.allowDataOverflow,C=b||S,_=pt(y)?this.id:y;return R.createElement(_t,{className:j,clipPath:C?"url(#clipPath-".concat(_,")"):null},b||S?R.createElement("defs",null,R.createElement("clipPath",{id:"clipPath-".concat(_)},R.createElement("rect",{x:b?h:h-p/2,y:S?m:m-g/2,width:b?p:p*2,height:S?g:g*2}))):null,o&&this.renderLine(),this.renderErrorBar(),R.createElement(_t,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!x||v)&&pa.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return s.animationId!==a.prevAnimationId?{prevAnimationId:s.animationId,curPoints:s.points,prevPoints:a.curPoints}:s.points!==a.curPoints?{curPoints:s.points}:null}}])}(N.PureComponent);pl(Kp,"displayName","Scatter");pl(Kp,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!Vs.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});pl(Kp,"getComposedData",function(e){var t=e.xAxis,n=e.yAxis,s=e.zAxis,a=e.item,i=e.displayedData,o=e.xAxisTicks,l=e.yAxisTicks,d=e.offset,u=a.props.tooltipType,h=as(a.props.children,ed),m=pt(t.dataKey)?a.props.dataKey:t.dataKey,p=pt(n.dataKey)?a.props.dataKey:n.dataKey,g=s&&s.dataKey,y=s?s.range:dj.defaultProps.range,x=y&&y[0],v=t.scale.bandwidth?t.scale.bandwidth():0,j=n.scale.bandwidth?n.scale.bandwidth():0,b=i.map(function(S,C){var _=gr(S,m),A=gr(S,p),k=!pt(g)&&gr(S,g)||"-",T=[{name:pt(t.dataKey)?a.props.name:t.name||t.dataKey,unit:t.unit||"",value:_,payload:S,dataKey:m,type:u},{name:pt(n.dataKey)?a.props.name:n.name||n.dataKey,unit:n.unit||"",value:A,payload:S,dataKey:p,type:u}];k!=="-"&&T.push({name:s.name||s.dataKey,unit:s.unit||"",value:k,payload:S,dataKey:g,type:u});var O=Yu({axis:t,ticks:o,bandSize:v,entry:S,index:C,dataKey:m}),M=Yu({axis:n,ticks:l,bandSize:j,entry:S,index:C,dataKey:p}),z=k!=="-"?s.scale(k):x,F=Math.sqrt(Math.max(z,0)/Math.PI);return na(na({},S),{},{cx:O,cy:M,x:O-F,y:M-F,xAxis:t,yAxis:n,zAxis:s,width:2*F,height:2*F,size:z,node:{x:_,y:A,z:k},tooltipPayload:T,tooltipPosition:{x:O,y:M},payload:S},h&&h[C]&&h[C].props)});return na({points:b},d)});function fm(e){"@babel/helpers - typeof";return fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fm(e)}function VCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WCe(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,f9(s.key),s)}}function KCe(e,t,n){return t&&WCe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function HCe(e,t,n){return t=by(t),GCe(e,m9()?Reflect.construct(t,n||[],by(e).constructor):t.apply(e,n))}function GCe(e,t){if(t&&(fm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZCe(e)}function ZCe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(m9=function(){return!!e})()}function by(e){return by=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},by(e)}function QCe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w2(e,t)}function w2(e,t){return w2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},w2(e,t)}function h9(e,t,n){return t=f9(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f9(e){var t=YCe(e,"string");return fm(t)=="symbol"?t:t+""}function YCe(e,t){if(fm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(fm(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function N2(){return N2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},N2.apply(this,arguments)}function XCe(e){var t=e.xAxisId,n=OC(),s=IC(),a=UF(t);return a==null?null:N.createElement(Vm,N2({},a,{className:bt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:s},ticksGenerator:function(o){return uo(o,!0)}}))}var Qa=function(e){function t(){return VCe(this,t),HCe(this,t,arguments)}return QCe(t,e),KCe(t,[{key:"render",value:function(){return N.createElement(XCe,this.props)}}])}(N.Component);h9(Qa,"displayName","XAxis");h9(Qa,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function pm(e){"@babel/helpers - typeof";return pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pm(e)}function JCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ePe(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,g9(s.key),s)}}function tPe(e,t,n){return t&&ePe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function rPe(e,t,n){return t=wy(t),nPe(e,p9()?Reflect.construct(t,n||[],wy(e).constructor):t.apply(e,n))}function nPe(e,t){if(t&&(pm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sPe(e)}function sPe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(p9=function(){return!!e})()}function wy(e){return wy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wy(e)}function aPe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&S2(e,t)}function S2(e,t){return S2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},S2(e,t)}function x9(e,t,n){return t=g9(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g9(e){var t=iPe(e,"string");return pm(t)=="symbol"?t:t+""}function iPe(e,t){if(pm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(pm(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _2(){return _2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},_2.apply(this,arguments)}var oPe=function(t){var n=t.yAxisId,s=OC(),a=IC(),i=VF(n);return i==null?null:N.createElement(Vm,_2({},i,{className:bt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:s,height:a},ticksGenerator:function(l){return uo(l,!0)}}))},Ya=function(e){function t(){return JCe(this,t),rPe(this,t,arguments)}return aPe(t,e),tPe(t,[{key:"render",value:function(){return N.createElement(oPe,this.props)}}])}(N.Component);x9(Ya,"displayName","YAxis");x9(Ya,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function sO(e){return uPe(e)||dPe(e)||cPe(e)||lPe()}function lPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cPe(e,t){if(e){if(typeof e=="string")return C2(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C2(e,t)}}function dPe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function uPe(e){if(Array.isArray(e))return C2(e)}function C2(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}var P2=function(t,n,s,a,i){var o=as(t,fp),l=as(t,oj),d=[].concat(sO(o),sO(l)),u=as(t,cj),h="".concat(a,"Id"),m=a[0],p=n;if(d.length&&(p=d.reduce(function(x,v){if(v.props[h]===s&&Pi(v.props,"extendDomain")&&Ue(v.props[m])){var j=v.props[m];return[Math.min(x[0],j),Math.max(x[1],j)]}return x},p)),u.length){var g="".concat(m,"1"),y="".concat(m,"2");p=u.reduce(function(x,v){if(v.props[h]===s&&Pi(v.props,"extendDomain")&&Ue(v.props[g])&&Ue(v.props[y])){var j=v.props[g],b=v.props[y];return[Math.min(x[0],j,b),Math.max(x[1],j,b)]}return x},p)}return i&&i.length&&(p=i.reduce(function(x,v){return Ue(v)?[Math.min(x[0],v),Math.max(x[1],v)]:x},p)),p},v9={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(n=!1));function a(d,u,h){this.fn=d,this.context=u,this.once=h||!1}function i(d,u,h,m,p){if(typeof h!="function")throw new TypeError("The listener must be a function");var g=new a(h,m||d,p),y=n?n+u:u;return d._events[y]?d._events[y].fn?d._events[y]=[d._events[y],g]:d._events[y].push(g):(d._events[y]=g,d._eventsCount++),d}function o(d,u){--d._eventsCount===0?d._events=new s:delete d._events[u]}function l(){this._events=new s,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],h,m;if(this._eventsCount===0)return u;for(m in h=this._events)t.call(h,m)&&u.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(h)):u},l.prototype.listeners=function(u){var h=n?n+u:u,m=this._events[h];if(!m)return[];if(m.fn)return[m.fn];for(var p=0,g=m.length,y=new Array(g);p<g;p++)y[p]=m[p].fn;return y},l.prototype.listenerCount=function(u){var h=n?n+u:u,m=this._events[h];return m?m.fn?1:m.length:0},l.prototype.emit=function(u,h,m,p,g,y){var x=n?n+u:u;if(!this._events[x])return!1;var v=this._events[x],j=arguments.length,b,S;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),j){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,h),!0;case 3:return v.fn.call(v.context,h,m),!0;case 4:return v.fn.call(v.context,h,m,p),!0;case 5:return v.fn.call(v.context,h,m,p,g),!0;case 6:return v.fn.call(v.context,h,m,p,g,y),!0}for(S=1,b=new Array(j-1);S<j;S++)b[S-1]=arguments[S];v.fn.apply(v.context,b)}else{var C=v.length,_;for(S=0;S<C;S++)switch(v[S].once&&this.removeListener(u,v[S].fn,void 0,!0),j){case 1:v[S].fn.call(v[S].context);break;case 2:v[S].fn.call(v[S].context,h);break;case 3:v[S].fn.call(v[S].context,h,m);break;case 4:v[S].fn.call(v[S].context,h,m,p);break;default:if(!b)for(_=1,b=new Array(j-1);_<j;_++)b[_-1]=arguments[_];v[S].fn.apply(v[S].context,b)}}return!0},l.prototype.on=function(u,h,m){return i(this,u,h,m,!1)},l.prototype.once=function(u,h,m){return i(this,u,h,m,!0)},l.prototype.removeListener=function(u,h,m,p){var g=n?n+u:u;if(!this._events[g])return this;if(!h)return o(this,g),this;var y=this._events[g];if(y.fn)y.fn===h&&(!p||y.once)&&(!m||y.context===m)&&o(this,g);else{for(var x=0,v=[],j=y.length;x<j;x++)(y[x].fn!==h||p&&!y[x].once||m&&y[x].context!==m)&&v.push(y[x]);v.length?this._events[g]=v.length===1?v[0]:v:o(this,g)}return this},l.prototype.removeAllListeners=function(u){var h;return u?(h=n?n+u:u,this._events[h]&&o(this,h)):(this._events=new s,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,e.exports=l})(v9);var mPe=v9.exports;const hPe=ar(mPe);var mw=new hPe,hw="recharts.syncMouseEvents";function xp(e){"@babel/helpers - typeof";return xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xp(e)}function fPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pPe(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,y9(s.key),s)}}function xPe(e,t,n){return t&&pPe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function fw(e,t,n){return t=y9(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y9(e){var t=gPe(e,"string");return xp(t)=="symbol"?t:t+""}function gPe(e,t){if(xp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(xp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var vPe=function(){function e(){fPe(this,e),fw(this,"activeIndex",0),fw(this,"coordinateList",[]),fw(this,"layout","horizontal")}return xPe(e,[{key:"setDetails",value:function(n){var s,a=n.coordinateList,i=a===void 0?null:a,o=n.container,l=o===void 0?null:o,d=n.layout,u=d===void 0?null:d,h=n.offset,m=h===void 0?null:h,p=n.mouseHandlerCallback,g=p===void 0?null:p;this.coordinateList=(s=i??this.coordinateList)!==null&&s!==void 0?s:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=m??this.offset,this.mouseHandlerCallback=g??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,s;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,l=a.height,d=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,h=((s=window)===null||s===void 0?void 0:s.scrollY)||0,m=i+d+u,p=o+this.offset.top+l/2+h;this.mouseHandlerCallback({pageX:m,pageY:p})}}}])}();function yPe(e,t,n){if(n==="number"&&t===!0&&Array.isArray(e)){var s=e==null?void 0:e[0],a=e==null?void 0:e[1];if(s&&a&&Ue(s)&&Ue(a))return!0}return!1}function jPe(e,t,n,s){var a=s/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-a,width:e==="horizontal"?s:n.width-1,height:e==="horizontal"?n.height-1:s}}function j9(e){var t=e.cx,n=e.cy,s=e.radius,a=e.startAngle,i=e.endAngle,o=or(t,n,s,a),l=or(t,n,s,i);return{points:[o,l],cx:t,cy:n,radius:s,startAngle:a,endAngle:i}}function bPe(e,t,n){var s,a,i,o;if(e==="horizontal")s=t.x,i=s,a=n.top,o=n.top+n.height;else if(e==="vertical")a=t.y,o=a,s=n.left,i=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,d=t.cy,u=t.innerRadius,h=t.outerRadius,m=t.angle,p=or(l,d,u,m),g=or(l,d,h,m);s=p.x,a=p.y,i=g.x,o=g.y}else return j9(t);return[{x:s,y:a},{x:i,y:o}]}function gp(e){"@babel/helpers - typeof";return gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gp(e)}function aO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Jx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aO(Object(n),!0).forEach(function(s){wPe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aO(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function wPe(e,t,n){return t=NPe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NPe(e){var t=SPe(e,"string");return gp(t)=="symbol"?t:t+""}function SPe(e,t){if(gp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(gp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _Pe(e){var t,n,s=e.element,a=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,d=e.offset,u=e.activeTooltipIndex,h=e.tooltipAxisBandSize,m=e.layout,p=e.chartName,g=(t=s.props.cursor)!==null&&t!==void 0?t:(n=s.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!s||!g||!i||!o||p!=="ScatterChart"&&a!=="axis")return null;var y,x=kl;if(p==="ScatterChart")y=o,x=Uwe;else if(p==="BarChart")y=jPe(m,o,d,h),x=AC;else if(m==="radial"){var v=j9(o),j=v.cx,b=v.cy,S=v.radius,C=v.startAngle,_=v.endAngle;y={cx:j,cy:b,startAngle:C,endAngle:_,innerRadius:S,outerRadius:S},x=aF}else y={points:bPe(m,o,d)},x=kl;var A=Jx(Jx(Jx(Jx({stroke:"#ccc",pointerEvents:"none"},d),y),tt(g,!1)),{},{payload:l,payloadIndex:u,className:bt("recharts-tooltip-cursor",g.className)});return N.isValidElement(g)?N.cloneElement(g,A):N.createElement(x,A)}var CPe=["item"],PPe=["children","className","width","height","style","compact","title","desc"];function xm(e){"@babel/helpers - typeof";return xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xm(e)}function nu(){return nu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},nu.apply(this,arguments)}function iO(e,t){return EPe(e)||kPe(e,t)||w9(e,t)||APe()}function APe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kPe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,a,i,o,l=[],d=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(d=(s=i.call(n)).done)&&(l.push(s.value),l.length!==t);d=!0);}catch(h){u=!0,a=h}finally{try{if(!d&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function EPe(e){if(Array.isArray(e))return e}function oO(e,t){if(e==null)return{};var n=TPe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function TPe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function OPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function IPe(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,N9(s.key),s)}}function MPe(e,t,n){return t&&IPe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function LPe(e,t,n){return t=Ny(t),$Pe(e,b9()?Reflect.construct(t,n||[],Ny(e).constructor):t.apply(e,n))}function $Pe(e,t){if(t&&(xm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DPe(e)}function DPe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(b9=function(){return!!e})()}function Ny(e){return Ny=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ny(e)}function RPe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&A2(e,t)}function A2(e,t){return A2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},A2(e,t)}function gm(e){return BPe(e)||FPe(e)||w9(e)||zPe()}function zPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w9(e,t){if(e){if(typeof e=="string")return k2(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k2(e,t)}}function FPe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function BPe(e){if(Array.isArray(e))return k2(e)}function k2(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function lO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Te(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lO(Object(n),!0).forEach(function(s){jt(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lO(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function jt(e,t,n){return t=N9(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N9(e){var t=qPe(e,"string");return xm(t)=="symbol"?t:t+""}function qPe(e,t){if(xm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(xm(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var UPe={xAxis:["bottom","top"],yAxis:["left","right"]},VPe={width:"100%",height:"100%"},S9={x:0,y:0};function eg(e){return e}var WPe=function(t,n){return n==="horizontal"?t.x:n==="vertical"?t.y:n==="centric"?t.angle:t.radius},KPe=function(t,n,s,a){var i=n.find(function(h){return h&&h.index===s});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=a.radius;return Te(Te(Te({},a),or(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var d=i.coordinate,u=a.angle;return Te(Te(Te({},a),or(a.cx,a.cy,d,u)),{},{angle:u,radius:d})}return S9},uj=function(t,n){var s=n.graphicalItems,a=n.dataStartIndex,i=n.dataEndIndex,o=(s??[]).reduce(function(l,d){var u=d.props.data;return u&&u.length?[].concat(gm(l),gm(u)):l},[]);return o.length>0?o:t&&t.length&&Ue(a)&&Ue(i)?t.slice(a,i+1):[]};function _9(e){return e==="number"?[0,"auto"]:void 0}var E2=function(t,n,s,a){var i=t.graphicalItems,o=t.tooltipAxis,l=uj(n,t);return s<0||!i||!i.length||s>=l.length?null:i.reduce(function(d,u){var h,m=(h=u.props.data)!==null&&h!==void 0?h:n;m&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=s&&(m=m.slice(t.dataStartIndex,t.dataEndIndex+1));var p;if(o.dataKey&&!o.allowDuplicatedCategory){var g=m===void 0?l:m;p=vv(g,o.dataKey,a)}else p=m&&m[s]||l[s];return p?[].concat(gm(d),[Y6(u,p)]):d},[])},cO=function(t,n,s,a){var i=a||{x:t.chartX,y:t.chartY},o=WPe(i,s),l=t.orderedTooltipTicks,d=t.tooltipAxis,u=t.tooltipTicks,h=x0e(o,l,u,d);if(h>=0&&u){var m=u[h]&&u[h].value,p=E2(t,n,h,m),g=KPe(s,l,h,i);return{activeTooltipIndex:h,activeLabel:m,activePayload:p,activeCoordinate:g}}return null},HPe=function(t,n){var s=n.axes,a=n.graphicalItems,i=n.axisType,o=n.axisIdKey,l=n.stackGroups,d=n.dataStartIndex,u=n.dataEndIndex,h=t.layout,m=t.children,p=t.stackOffset,g=W6(h,i);return s.reduce(function(y,x){var v,j=x.type.defaultProps!==void 0?Te(Te({},x.type.defaultProps),x.props):x.props,b=j.type,S=j.dataKey,C=j.allowDataOverflow,_=j.allowDuplicatedCategory,A=j.scale,k=j.ticks,T=j.includeHidden,O=j[o];if(y[O])return y;var M=uj(t.data,{graphicalItems:a.filter(function(ue){var ce,G=o in ue.props?ue.props[o]:(ce=ue.type.defaultProps)===null||ce===void 0?void 0:ce[o];return G===O}),dataStartIndex:d,dataEndIndex:u}),z=M.length,F,Z,D;yPe(j.domain,C,b)&&(F=F1(j.domain,null,C),g&&(b==="number"||A!=="auto")&&(D=Zh(M,S,"category")));var $=_9(b);if(!F||F.length===0){var E,V=(E=j.domain)!==null&&E!==void 0?E:$;if(S){if(F=Zh(M,S,b),b==="category"&&g){var q=aae(F);_&&q?(Z=F,F=oy(0,z)):_||(F=SE(V,F,x).reduce(function(ue,ce){return ue.indexOf(ce)>=0?ue:[].concat(gm(ue),[ce])},[]))}else if(b==="category")_?F=F.filter(function(ue){return ue!==""&&!pt(ue)}):F=SE(V,F,x).reduce(function(ue,ce){return ue.indexOf(ce)>=0||ce===""||pt(ce)?ue:[].concat(gm(ue),[ce])},[]);else if(b==="number"){var U=b0e(M,a.filter(function(ue){var ce,G,J=o in ue.props?ue.props[o]:(ce=ue.type.defaultProps)===null||ce===void 0?void 0:ce[o],ye="hide"in ue.props?ue.props.hide:(G=ue.type.defaultProps)===null||G===void 0?void 0:G.hide;return J===O&&(T||!ye)}),S,i,h);U&&(F=U)}g&&(b==="number"||A!=="auto")&&(D=Zh(M,S,"category"))}else g?F=oy(0,z):l&&l[O]&&l[O].hasStack&&b==="number"?F=p==="expand"?[0,1]:Q6(l[O].stackGroups,d,u):F=V6(M,a.filter(function(ue){var ce=o in ue.props?ue.props[o]:ue.type.defaultProps[o],G="hide"in ue.props?ue.props.hide:ue.type.defaultProps.hide;return ce===O&&(T||!G)}),b,h,!0);if(b==="number")F=P2(m,F,O,i,k),V&&(F=F1(V,F,C));else if(b==="category"&&V){var Q=V,he=F.every(function(ue){return Q.indexOf(ue)>=0});he&&(F=Q)}}return Te(Te({},y),{},jt({},O,Te(Te({},j),{},{axisType:i,domain:F,categoricalDomain:D,duplicateDomain:Z,originalDomain:(v=j.domain)!==null&&v!==void 0?v:$,isCategorical:g,layout:h})))},{})},GPe=function(t,n){var s=n.graphicalItems,a=n.Axis,i=n.axisType,o=n.axisIdKey,l=n.stackGroups,d=n.dataStartIndex,u=n.dataEndIndex,h=t.layout,m=t.children,p=uj(t.data,{graphicalItems:s,dataStartIndex:d,dataEndIndex:u}),g=p.length,y=W6(h,i),x=-1;return s.reduce(function(v,j){var b=j.type.defaultProps!==void 0?Te(Te({},j.type.defaultProps),j.props):j.props,S=b[o],C=_9("number");if(!v[S]){x++;var _;return y?_=oy(0,g):l&&l[S]&&l[S].hasStack?(_=Q6(l[S].stackGroups,d,u),_=P2(m,_,S,i)):(_=F1(C,V6(p,s.filter(function(A){var k,T,O=o in A.props?A.props[o]:(k=A.type.defaultProps)===null||k===void 0?void 0:k[o],M="hide"in A.props?A.props.hide:(T=A.type.defaultProps)===null||T===void 0?void 0:T.hide;return O===S&&!M}),"number",h),a.defaultProps.allowDataOverflow),_=P2(m,_,S,i)),Te(Te({},v),{},jt({},S,Te(Te({axisType:i},a.defaultProps),{},{hide:!0,orientation:Us(UPe,"".concat(i,".").concat(x%2),null),domain:_,originalDomain:C,isCategorical:y,layout:h})))}return v},{})},ZPe=function(t,n){var s=n.axisType,a=s===void 0?"xAxis":s,i=n.AxisComp,o=n.graphicalItems,l=n.stackGroups,d=n.dataStartIndex,u=n.dataEndIndex,h=t.children,m="".concat(a,"Id"),p=as(h,i),g={};return p&&p.length?g=HPe(t,{axes:p,graphicalItems:o,axisType:a,axisIdKey:m,stackGroups:l,dataStartIndex:d,dataEndIndex:u}):o&&o.length&&(g=GPe(t,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:m,stackGroups:l,dataStartIndex:d,dataEndIndex:u})),g},QPe=function(t){var n=Jo(t),s=uo(n,!1,!0);return{tooltipTicks:s,orderedTooltipTicks:tC(s,function(a){return a.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Kv(n,s)}},dO=function(t){var n=t.children,s=t.defaultShowTooltip,a=Ls(n,sm),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!s}},YPe=function(t){return!t||!t.length?!1:t.some(function(n){var s=fo(n&&n.type);return s&&s.indexOf("Bar")>=0})},uO=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},XPe=function(t,n){var s=t.props,a=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,d=l===void 0?{}:l,u=s.width,h=s.height,m=s.children,p=s.margin||{},g=Ls(m,sm),y=Ls(m,po),x=Object.keys(d).reduce(function(_,A){var k=d[A],T=k.orientation;return!k.mirror&&!k.hide?Te(Te({},_),{},jt({},T,_[T]+k.width)):_},{left:p.left||0,right:p.right||0}),v=Object.keys(o).reduce(function(_,A){var k=o[A],T=k.orientation;return!k.mirror&&!k.hide?Te(Te({},_),{},jt({},T,Us(_,"".concat(T))+k.height)):_},{top:p.top||0,bottom:p.bottom||0}),j=Te(Te({},v),x),b=j.bottom;g&&(j.bottom+=g.props.height||sm.defaultProps.height),y&&n&&(j=y0e(j,a,s,n));var S=u-j.left-j.right,C=h-j.top-j.bottom;return Te(Te({brushBottom:b},j),{},{width:Math.max(S,0),height:Math.max(C,0)})},JPe=function(t,n){if(n==="xAxis")return t[n].width;if(n==="yAxis")return t[n].height},Km=function(t){var n=t.chartName,s=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,d=t.axisComponents,u=t.legendContent,h=t.formatAxisMap,m=t.defaultProps,p=function(j,b){var S=b.graphicalItems,C=b.stackGroups,_=b.offset,A=b.updateId,k=b.dataStartIndex,T=b.dataEndIndex,O=j.barSize,M=j.layout,z=j.barGap,F=j.barCategoryGap,Z=j.maxBarSize,D=uO(M),$=D.numericAxisName,E=D.cateAxisName,V=YPe(S),q=[];return S.forEach(function(U,Q){var he=uj(j.data,{graphicalItems:[U],dataStartIndex:k,dataEndIndex:T}),ue=U.type.defaultProps!==void 0?Te(Te({},U.type.defaultProps),U.props):U.props,ce=ue.dataKey,G=ue.maxBarSize,J=ue["".concat($,"Id")],ye=ue["".concat(E,"Id")],Se={},We=d.reduce(function(H,me){var Ce=b["".concat(me.axisType,"Map")],le=ue["".concat(me.axisType,"Id")];Ce&&Ce[le]||me.axisType==="zAxis"||nd();var we=Ce[le];return Te(Te({},H),{},jt(jt({},me.axisType,we),"".concat(me.axisType,"Ticks"),uo(we)))},Se),Ae=We[E],ze=We["".concat(E,"Ticks")],Fe=C&&C[J]&&C[J].hasStack&&E0e(U,C[J].stackGroups),je=fo(U.type).indexOf("Bar")>=0,Ze=Kv(Ae,ze),K=[],te=V&&g0e({barSize:O,stackGroups:C,totalSize:JPe(We,E)});if(je){var Ne,pe,oe=pt(G)?Z:G,Be=(Ne=(pe=Kv(Ae,ze,!0))!==null&&pe!==void 0?pe:oe)!==null&&Ne!==void 0?Ne:0;K=v0e({barGap:z,barCategoryGap:F,bandSize:Be!==Ze?Be:Ze,sizeList:te[ye],maxBarSize:oe}),Be!==Ze&&(K=K.map(function(H){return Te(Te({},H),{},{position:Te(Te({},H.position),{},{offset:H.position.offset-Be/2})})}))}var X=U&&U.type&&U.type.getComposedData;X&&q.push({props:Te(Te({},X(Te(Te({},We),{},{displayedData:he,props:j,dataKey:ce,item:U,bandSize:Ze,barPosition:K,offset:_,stackedData:Fe,layout:M,dataStartIndex:k,dataEndIndex:T}))),{},jt(jt(jt({key:U.key||"item-".concat(Q)},$,We[$]),E,We[E]),"animationId",A)),childIndex:vae(U,j.children),item:U})}),q},g=function(j,b){var S=j.props,C=j.dataStartIndex,_=j.dataEndIndex,A=j.updateId;if(!v3({props:S}))return null;var k=S.children,T=S.layout,O=S.stackOffset,M=S.data,z=S.reverseStackOrder,F=uO(T),Z=F.numericAxisName,D=F.cateAxisName,$=as(k,s),E=A0e(M,$,"".concat(Z,"Id"),"".concat(D,"Id"),O,z),V=d.reduce(function(ue,ce){var G="".concat(ce.axisType,"Map");return Te(Te({},ue),{},jt({},G,ZPe(S,Te(Te({},ce),{},{graphicalItems:$,stackGroups:ce.axisType===Z&&E,dataStartIndex:C,dataEndIndex:_}))))},{}),q=XPe(Te(Te({},V),{},{props:S,graphicalItems:$}),b==null?void 0:b.legendBBox);Object.keys(V).forEach(function(ue){V[ue]=h(S,V[ue],q,ue.replace("Map",""),n)});var U=V["".concat(D,"Map")],Q=QPe(U),he=p(S,Te(Te({},V),{},{dataStartIndex:C,dataEndIndex:_,updateId:A,graphicalItems:$,stackGroups:E,offset:q}));return Te(Te({formattedGraphicalItems:he,graphicalItems:$,offset:q,stackGroups:E},Q),V)},y=function(v){function j(b){var S,C,_;return OPe(this,j),_=LPe(this,j,[b]),jt(_,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),jt(_,"accessibilityManager",new vPe),jt(_,"handleLegendBBoxUpdate",function(A){if(A){var k=_.state,T=k.dataStartIndex,O=k.dataEndIndex,M=k.updateId;_.setState(Te({legendBBox:A},g({props:_.props,dataStartIndex:T,dataEndIndex:O,updateId:M},Te(Te({},_.state),{},{legendBBox:A}))))}}),jt(_,"handleReceiveSyncEvent",function(A,k,T){if(_.props.syncId===A){if(T===_.eventEmitterSymbol&&typeof _.props.syncMethod!="function")return;_.applySyncEvent(k)}}),jt(_,"handleBrushChange",function(A){var k=A.startIndex,T=A.endIndex;if(k!==_.state.dataStartIndex||T!==_.state.dataEndIndex){var O=_.state.updateId;_.setState(function(){return Te({dataStartIndex:k,dataEndIndex:T},g({props:_.props,dataStartIndex:k,dataEndIndex:T,updateId:O},_.state))}),_.triggerSyncEvent({dataStartIndex:k,dataEndIndex:T})}}),jt(_,"handleMouseEnter",function(A){var k=_.getMouseInfo(A);if(k){var T=Te(Te({},k),{},{isTooltipActive:!0});_.setState(T),_.triggerSyncEvent(T);var O=_.props.onMouseEnter;ft(O)&&O(T,A)}}),jt(_,"triggeredAfterMouseMove",function(A){var k=_.getMouseInfo(A),T=k?Te(Te({},k),{},{isTooltipActive:!0}):{isTooltipActive:!1};_.setState(T),_.triggerSyncEvent(T);var O=_.props.onMouseMove;ft(O)&&O(T,A)}),jt(_,"handleItemMouseEnter",function(A){_.setState(function(){return{isTooltipActive:!0,activeItem:A,activePayload:A.tooltipPayload,activeCoordinate:A.tooltipPosition||{x:A.cx,y:A.cy}}})}),jt(_,"handleItemMouseLeave",function(){_.setState(function(){return{isTooltipActive:!1}})}),jt(_,"handleMouseMove",function(A){A.persist(),_.throttleTriggeredAfterMouseMove(A)}),jt(_,"handleMouseLeave",function(A){_.throttleTriggeredAfterMouseMove.cancel();var k={isTooltipActive:!1};_.setState(k),_.triggerSyncEvent(k);var T=_.props.onMouseLeave;ft(T)&&T(k,A)}),jt(_,"handleOuterEvent",function(A){var k=gae(A),T=Us(_.props,"".concat(k));if(k&&ft(T)){var O,M;/.*touch.*/i.test(k)?M=_.getMouseInfo(A.changedTouches[0]):M=_.getMouseInfo(A),T((O=M)!==null&&O!==void 0?O:{},A)}}),jt(_,"handleClick",function(A){var k=_.getMouseInfo(A);if(k){var T=Te(Te({},k),{},{isTooltipActive:!0});_.setState(T),_.triggerSyncEvent(T);var O=_.props.onClick;ft(O)&&O(T,A)}}),jt(_,"handleMouseDown",function(A){var k=_.props.onMouseDown;if(ft(k)){var T=_.getMouseInfo(A);k(T,A)}}),jt(_,"handleMouseUp",function(A){var k=_.props.onMouseUp;if(ft(k)){var T=_.getMouseInfo(A);k(T,A)}}),jt(_,"handleTouchMove",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&_.throttleTriggeredAfterMouseMove(A.changedTouches[0])}),jt(_,"handleTouchStart",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&_.handleMouseDown(A.changedTouches[0])}),jt(_,"handleTouchEnd",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&_.handleMouseUp(A.changedTouches[0])}),jt(_,"handleDoubleClick",function(A){var k=_.props.onDoubleClick;if(ft(k)){var T=_.getMouseInfo(A);k(T,A)}}),jt(_,"handleContextMenu",function(A){var k=_.props.onContextMenu;if(ft(k)){var T=_.getMouseInfo(A);k(T,A)}}),jt(_,"triggerSyncEvent",function(A){_.props.syncId!==void 0&&mw.emit(hw,_.props.syncId,A,_.eventEmitterSymbol)}),jt(_,"applySyncEvent",function(A){var k=_.props,T=k.layout,O=k.syncMethod,M=_.state.updateId,z=A.dataStartIndex,F=A.dataEndIndex;if(A.dataStartIndex!==void 0||A.dataEndIndex!==void 0)_.setState(Te({dataStartIndex:z,dataEndIndex:F},g({props:_.props,dataStartIndex:z,dataEndIndex:F,updateId:M},_.state)));else if(A.activeTooltipIndex!==void 0){var Z=A.chartX,D=A.chartY,$=A.activeTooltipIndex,E=_.state,V=E.offset,q=E.tooltipTicks;if(!V)return;if(typeof O=="function")$=O(q,A);else if(O==="value"){$=-1;for(var U=0;U<q.length;U++)if(q[U].value===A.activeLabel){$=U;break}}var Q=Te(Te({},V),{},{x:V.left,y:V.top}),he=Math.min(Z,Q.x+Q.width),ue=Math.min(D,Q.y+Q.height),ce=q[$]&&q[$].value,G=E2(_.state,_.props.data,$),J=q[$]?{x:T==="horizontal"?q[$].coordinate:he,y:T==="horizontal"?ue:q[$].coordinate}:S9;_.setState(Te(Te({},A),{},{activeLabel:ce,activeCoordinate:J,activePayload:G,activeTooltipIndex:$}))}else _.setState(A)}),jt(_,"renderCursor",function(A){var k,T=_.state,O=T.isTooltipActive,M=T.activeCoordinate,z=T.activePayload,F=T.offset,Z=T.activeTooltipIndex,D=T.tooltipAxisBandSize,$=_.getTooltipEventType(),E=(k=A.props.active)!==null&&k!==void 0?k:O,V=_.props.layout,q=A.key||"_recharts-cursor";return R.createElement(_Pe,{key:q,activeCoordinate:M,activePayload:z,activeTooltipIndex:Z,chartName:n,element:A,isActive:E,layout:V,offset:F,tooltipAxisBandSize:D,tooltipEventType:$})}),jt(_,"renderPolarAxis",function(A,k,T){var O=Us(A,"type.axisType"),M=Us(_.state,"".concat(O,"Map")),z=A.type.defaultProps,F=z!==void 0?Te(Te({},z),A.props):A.props,Z=M&&M[F["".concat(O,"Id")]];return N.cloneElement(A,Te(Te({},Z),{},{className:bt(O,Z.className),key:A.key||"".concat(k,"-").concat(T),ticks:uo(Z,!0)}))}),jt(_,"renderPolarGrid",function(A){var k=A.props,T=k.radialLines,O=k.polarAngles,M=k.polarRadius,z=_.state,F=z.radiusAxisMap,Z=z.angleAxisMap,D=Jo(F),$=Jo(Z),E=$.cx,V=$.cy,q=$.innerRadius,U=$.outerRadius;return N.cloneElement(A,{polarAngles:Array.isArray(O)?O:uo($,!0).map(function(Q){return Q.coordinate}),polarRadius:Array.isArray(M)?M:uo(D,!0).map(function(Q){return Q.coordinate}),cx:E,cy:V,innerRadius:q,outerRadius:U,key:A.key||"polar-grid",radialLines:T})}),jt(_,"renderLegend",function(){var A=_.state.formattedGraphicalItems,k=_.props,T=k.children,O=k.width,M=k.height,z=_.props.margin||{},F=O-(z.left||0)-(z.right||0),Z=q6({children:T,formattedGraphicalItems:A,legendWidth:F,legendContent:u});if(!Z)return null;var D=Z.item,$=oO(Z,CPe);return N.cloneElement(D,Te(Te({},$),{},{chartWidth:O,chartHeight:M,margin:z,onBBoxUpdate:_.handleLegendBBoxUpdate}))}),jt(_,"renderTooltip",function(){var A,k=_.props,T=k.children,O=k.accessibilityLayer,M=Ls(T,ui);if(!M)return null;var z=_.state,F=z.isTooltipActive,Z=z.activeCoordinate,D=z.activePayload,$=z.activeLabel,E=z.offset,V=(A=M.props.active)!==null&&A!==void 0?A:F;return N.cloneElement(M,{viewBox:Te(Te({},E),{},{x:E.left,y:E.top}),active:V,label:$,payload:V?D:[],coordinate:Z,accessibilityLayer:O})}),jt(_,"renderBrush",function(A){var k=_.props,T=k.margin,O=k.data,M=_.state,z=M.offset,F=M.dataStartIndex,Z=M.dataEndIndex,D=M.updateId;return N.cloneElement(A,{key:A.key||"_recharts-brush",onChange:Zx(_.handleBrushChange,A.props.onChange),data:O,x:Ue(A.props.x)?A.props.x:z.left,y:Ue(A.props.y)?A.props.y:z.top+z.height+z.brushBottom-(T.bottom||0),width:Ue(A.props.width)?A.props.width:z.width,startIndex:F,endIndex:Z,updateId:"brush-".concat(D)})}),jt(_,"renderReferenceElement",function(A,k,T){if(!A)return null;var O=_,M=O.clipPathId,z=_.state,F=z.xAxisMap,Z=z.yAxisMap,D=z.offset,$=A.type.defaultProps||{},E=A.props,V=E.xAxisId,q=V===void 0?$.xAxisId:V,U=E.yAxisId,Q=U===void 0?$.yAxisId:U;return N.cloneElement(A,{key:A.key||"".concat(k,"-").concat(T),xAxis:F[q],yAxis:Z[Q],viewBox:{x:D.left,y:D.top,width:D.width,height:D.height},clipPathId:M})}),jt(_,"renderActivePoints",function(A){var k=A.item,T=A.activePoint,O=A.basePoint,M=A.childIndex,z=A.isRange,F=[],Z=k.props.key,D=k.item.type.defaultProps!==void 0?Te(Te({},k.item.type.defaultProps),k.item.props):k.item.props,$=D.activeDot,E=D.dataKey,V=Te(Te({index:M,dataKey:E,cx:T.x,cy:T.y,r:4,fill:PC(k.item),strokeWidth:2,stroke:"#fff",payload:T.payload,value:T.value},tt($,!1)),yv($));return F.push(j.renderActiveDot($,V,"".concat(Z,"-activePoint-").concat(M))),O?F.push(j.renderActiveDot($,Te(Te({},V),{},{cx:O.x,cy:O.y}),"".concat(Z,"-basePoint-").concat(M))):z&&F.push(null),F}),jt(_,"renderGraphicChild",function(A,k,T){var O=_.filterFormatItem(A,k,T);if(!O)return null;var M=_.getTooltipEventType(),z=_.state,F=z.isTooltipActive,Z=z.tooltipAxis,D=z.activeTooltipIndex,$=z.activeLabel,E=_.props.children,V=Ls(E,ui),q=O.props,U=q.points,Q=q.isRange,he=q.baseLine,ue=O.item.type.defaultProps!==void 0?Te(Te({},O.item.type.defaultProps),O.item.props):O.item.props,ce=ue.activeDot,G=ue.hide,J=ue.activeBar,ye=ue.activeShape,Se=!!(!G&&F&&V&&(ce||J||ye)),We={};M!=="axis"&&V&&V.props.trigger==="click"?We={onClick:Zx(_.handleItemMouseEnter,A.props.onClick)}:M!=="axis"&&(We={onMouseLeave:Zx(_.handleItemMouseLeave,A.props.onMouseLeave),onMouseEnter:Zx(_.handleItemMouseEnter,A.props.onMouseEnter)});var Ae=N.cloneElement(A,Te(Te({},O.props),We));function ze(me){return typeof Z.dataKey=="function"?Z.dataKey(me.payload):null}if(Se)if(D>=0){var Fe,je;if(Z.dataKey&&!Z.allowDuplicatedCategory){var Ze=typeof Z.dataKey=="function"?ze:"payload.".concat(Z.dataKey.toString());Fe=vv(U,Ze,$),je=Q&&he&&vv(he,Ze,$)}else Fe=U==null?void 0:U[D],je=Q&&he&&he[D];if(ye||J){var K=A.props.activeIndex!==void 0?A.props.activeIndex:D;return[N.cloneElement(A,Te(Te(Te({},O.props),We),{},{activeIndex:K})),null,null]}if(!pt(Fe))return[Ae].concat(gm(_.renderActivePoints({item:O,activePoint:Fe,basePoint:je,childIndex:D,isRange:Q})))}else{var te,Ne=(te=_.getItemByXY(_.state.activeCoordinate))!==null&&te!==void 0?te:{graphicalItem:Ae},pe=Ne.graphicalItem,oe=pe.item,Be=oe===void 0?A:oe,X=pe.childIndex,H=Te(Te(Te({},O.props),We),{},{activeIndex:X});return[N.cloneElement(Be,H),null,null]}return Q?[Ae,null,null]:[Ae,null]}),jt(_,"renderCustomized",function(A,k,T){return N.cloneElement(A,Te(Te({key:"recharts-customized-".concat(T)},_.props),_.state))}),jt(_,"renderMap",{CartesianGrid:{handler:eg,once:!0},ReferenceArea:{handler:_.renderReferenceElement},ReferenceLine:{handler:eg},ReferenceDot:{handler:_.renderReferenceElement},XAxis:{handler:eg},YAxis:{handler:eg},Brush:{handler:_.renderBrush,once:!0},Bar:{handler:_.renderGraphicChild},Line:{handler:_.renderGraphicChild},Area:{handler:_.renderGraphicChild},Radar:{handler:_.renderGraphicChild},RadialBar:{handler:_.renderGraphicChild},Scatter:{handler:_.renderGraphicChild},Pie:{handler:_.renderGraphicChild},Funnel:{handler:_.renderGraphicChild},Tooltip:{handler:_.renderCursor,once:!0},PolarGrid:{handler:_.renderPolarGrid,once:!0},PolarAngleAxis:{handler:_.renderPolarAxis},PolarRadiusAxis:{handler:_.renderPolarAxis},Customized:{handler:_.renderCustomized}}),_.clipPathId="".concat((S=b.id)!==null&&S!==void 0?S:Gl("recharts"),"-clip"),_.throttleTriggeredAfterMouseMove=B8(_.triggeredAfterMouseMove,(C=b.throttleDelay)!==null&&C!==void 0?C:1e3/60),_.state={},_}return RPe(j,v),MPe(j,[{key:"componentDidMount",value:function(){var S,C;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var S=this.props,C=S.children,_=S.data,A=S.height,k=S.layout,T=Ls(C,ui);if(T){var O=T.props.defaultIndex;if(!(typeof O!="number"||O<0||O>this.state.tooltipTicks.length-1)){var M=this.state.tooltipTicks[O]&&this.state.tooltipTicks[O].value,z=E2(this.state,_,O,M),F=this.state.tooltipTicks[O].coordinate,Z=(this.state.offset.top+A)/2,D=k==="horizontal",$=D?{x:F,y:Z}:{y:F,x:Z},E=this.state.formattedGraphicalItems.find(function(q){var U=q.item;return U.type.name==="Scatter"});E&&($=Te(Te({},$),E.props.points[O].tooltipPosition),z=E.props.points[O].tooltipPayload);var V={activeTooltipIndex:O,isTooltipActive:!0,activeLabel:M,activePayload:z,activeCoordinate:$};this.setState(V),this.renderCursor(T),this.accessibilityManager.setIndex(O)}}}},{key:"getSnapshotBeforeUpdate",value:function(S,C){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==C.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==S.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==S.margin){var _,A;this.accessibilityManager.setDetails({offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0}})}return null}},{key:"componentDidUpdate",value:function(S){t1([Ls(S.children,ui)],[Ls(this.props.children,ui)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var S=Ls(this.props.children,ui);if(S&&typeof S.props.shared=="boolean"){var C=S.props.shared?"axis":"item";return l.indexOf(C)>=0?C:i}return i}},{key:"getMouseInfo",value:function(S){if(!this.container)return null;var C=this.container,_=C.getBoundingClientRect(),A=Vpe(_),k={chartX:Math.round(S.pageX-A.left),chartY:Math.round(S.pageY-A.top)},T=_.width/C.offsetWidth||1,O=this.inRange(k.chartX,k.chartY,T);if(!O)return null;var M=this.state,z=M.xAxisMap,F=M.yAxisMap,Z=this.getTooltipEventType(),D=cO(this.state,this.props.data,this.props.layout,O);if(Z!=="axis"&&z&&F){var $=Jo(z).scale,E=Jo(F).scale,V=$&&$.invert?$.invert(k.chartX):null,q=E&&E.invert?E.invert(k.chartY):null;return Te(Te({},k),{},{xValue:V,yValue:q},D)}return D?Te(Te({},k),D):null}},{key:"inRange",value:function(S,C){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,A=this.props.layout,k=S/_,T=C/_;if(A==="horizontal"||A==="vertical"){var O=this.state.offset,M=k>=O.left&&k<=O.left+O.width&&T>=O.top&&T<=O.top+O.height;return M?{x:k,y:T}:null}var z=this.state,F=z.angleAxisMap,Z=z.radiusAxisMap;if(F&&Z){var D=Jo(F);return PE({x:k,y:T},D)}return null}},{key:"parseEventsOfWrapper",value:function(){var S=this.props.children,C=this.getTooltipEventType(),_=Ls(S,ui),A={};_&&C==="axis"&&(_.props.trigger==="click"?A={onClick:this.handleClick}:A={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var k=yv(this.props,this.handleOuterEvent);return Te(Te({},k),A)}},{key:"addListener",value:function(){mw.on(hw,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){mw.removeListener(hw,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(S,C,_){for(var A=this.state.formattedGraphicalItems,k=0,T=A.length;k<T;k++){var O=A[k];if(O.item===S||O.props.key===S.key||C===fo(O.item.type)&&_===O.childIndex)return O}return null}},{key:"renderClipPath",value:function(){var S=this.clipPathId,C=this.state.offset,_=C.left,A=C.top,k=C.height,T=C.width;return R.createElement("defs",null,R.createElement("clipPath",{id:S},R.createElement("rect",{x:_,y:A,height:k,width:T})))}},{key:"getXScales",value:function(){var S=this.state.xAxisMap;return S?Object.entries(S).reduce(function(C,_){var A=iO(_,2),k=A[0],T=A[1];return Te(Te({},C),{},jt({},k,T.scale))},{}):null}},{key:"getYScales",value:function(){var S=this.state.yAxisMap;return S?Object.entries(S).reduce(function(C,_){var A=iO(_,2),k=A[0],T=A[1];return Te(Te({},C),{},jt({},k,T.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(S){var C;return(C=this.state.xAxisMap)===null||C===void 0||(C=C[S])===null||C===void 0?void 0:C.scale}},{key:"getYScaleByAxisId",value:function(S){var C;return(C=this.state.yAxisMap)===null||C===void 0||(C=C[S])===null||C===void 0?void 0:C.scale}},{key:"getItemByXY",value:function(S){var C=this.state,_=C.formattedGraphicalItems,A=C.activeItem;if(_&&_.length)for(var k=0,T=_.length;k<T;k++){var O=_[k],M=O.props,z=O.item,F=z.type.defaultProps!==void 0?Te(Te({},z.type.defaultProps),z.props):z.props,Z=fo(z.type);if(Z==="Bar"){var D=(M.data||[]).find(function(q){return Swe(S,q)});if(D)return{graphicalItem:O,payload:D}}else if(Z==="RadialBar"){var $=(M.data||[]).find(function(q){return PE(S,q)});if($)return{graphicalItem:O,payload:$}}else if(rj(O,A)||nj(O,A)||dp(O,A)){var E=w1e({graphicalItem:O,activeTooltipItem:A,itemData:F.data}),V=F.activeIndex===void 0?E:F.activeIndex;return{graphicalItem:Te(Te({},O),{},{childIndex:V}),payload:dp(O,A)?F.data[E]:O.props.data[E]}}}return null}},{key:"render",value:function(){var S=this;if(!v3(this))return null;var C=this.props,_=C.children,A=C.className,k=C.width,T=C.height,O=C.style,M=C.compact,z=C.title,F=C.desc,Z=oO(C,PPe),D=tt(Z,!1);if(M)return R.createElement(RT,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},R.createElement(n1,nu({},D,{width:k,height:T,title:z,desc:F}),this.renderClipPath(),j3(_,this.renderMap)));if(this.props.accessibilityLayer){var $,E;D.tabIndex=($=this.props.tabIndex)!==null&&$!==void 0?$:0,D.role=(E=this.props.role)!==null&&E!==void 0?E:"application",D.onKeyDown=function(q){S.accessibilityManager.keyboardEvent(q)},D.onFocus=function(){S.accessibilityManager.focus()}}var V=this.parseEventsOfWrapper();return R.createElement(RT,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},R.createElement("div",nu({className:bt("recharts-wrapper",A),style:Te({position:"relative",cursor:"default",width:k,height:T},O)},V,{ref:function(U){S.container=U}}),R.createElement(n1,nu({},D,{width:k,height:T,title:z,desc:F,style:VPe}),this.renderClipPath(),j3(_,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(N.Component);jt(y,"displayName",n),jt(y,"defaultProps",Te({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},m)),jt(y,"getDerivedStateFromProps",function(v,j){var b=v.dataKey,S=v.data,C=v.children,_=v.width,A=v.height,k=v.layout,T=v.stackOffset,O=v.margin,M=j.dataStartIndex,z=j.dataEndIndex;if(j.updateId===void 0){var F=dO(v);return Te(Te(Te({},F),{},{updateId:0},g(Te(Te({props:v},F),{},{updateId:0}),j)),{},{prevDataKey:b,prevData:S,prevWidth:_,prevHeight:A,prevLayout:k,prevStackOffset:T,prevMargin:O,prevChildren:C})}if(b!==j.prevDataKey||S!==j.prevData||_!==j.prevWidth||A!==j.prevHeight||k!==j.prevLayout||T!==j.prevStackOffset||!xu(O,j.prevMargin)){var Z=dO(v),D={chartX:j.chartX,chartY:j.chartY,isTooltipActive:j.isTooltipActive},$=Te(Te({},cO(j,S,k)),{},{updateId:j.updateId+1}),E=Te(Te(Te({},Z),D),$);return Te(Te(Te({},E),g(Te({props:v},E),j)),{},{prevDataKey:b,prevData:S,prevWidth:_,prevHeight:A,prevLayout:k,prevStackOffset:T,prevMargin:O,prevChildren:C})}if(!t1(C,j.prevChildren)){var V,q,U,Q,he=Ls(C,sm),ue=he&&(V=(q=he.props)===null||q===void 0?void 0:q.startIndex)!==null&&V!==void 0?V:M,ce=he&&(U=(Q=he.props)===null||Q===void 0?void 0:Q.endIndex)!==null&&U!==void 0?U:z,G=ue!==M||ce!==z,J=!pt(S),ye=J&&!G?j.updateId:j.updateId+1;return Te(Te({updateId:ye},g(Te(Te({props:v},j),{},{updateId:ye,dataStartIndex:ue,dataEndIndex:ce}),j)),{},{prevChildren:C,dataStartIndex:ue,dataEndIndex:ce})}return null}),jt(y,"renderActiveDot",function(v,j,b){var S;return N.isValidElement(v)?S=N.cloneElement(v,j):ft(v)?S=v(j):S=R.createElement(Bm,j),R.createElement(_t,{className:"recharts-active-dot",key:b},S)});var x=N.forwardRef(function(j,b){return R.createElement(y,nu({},j,{ref:b}))});return x.displayName=y.displayName,x},eAe=Km({chartName:"LineChart",GraphicalChild:Wp,axisComponents:[{axisType:"xAxis",AxisComp:Qa},{axisType:"yAxis",AxisComp:Ya}],formatAxisMap:aj}),C9=Km({chartName:"BarChart",GraphicalChild:Xl,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Qa},{axisType:"yAxis",AxisComp:Ya}],formatAxisMap:aj}),P9=Km({chartName:"PieChart",GraphicalChild:Ha,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Um},{axisType:"radiusAxis",AxisComp:qm}],formatAxisMap:eF,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),tAe=Km({chartName:"RadarChart",GraphicalChild:Vp,axisComponents:[{axisType:"angleAxis",AxisComp:Um},{axisType:"radiusAxis",AxisComp:qm}],formatAxisMap:eF,defaultProps:{layout:"centric",startAngle:90,endAngle:-270,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),rAe=Km({chartName:"ScatterChart",GraphicalChild:Kp,defaultTooltipEventType:"item",validateTooltipEventTypes:["item"],axisComponents:[{axisType:"xAxis",AxisComp:Qa},{axisType:"yAxis",AxisComp:Ya},{axisType:"zAxis",AxisComp:dj}],formatAxisMap:aj}),nAe=Km({chartName:"AreaChart",GraphicalChild:Jl,axisComponents:[{axisType:"xAxis",AxisComp:Qa},{axisType:"yAxis",AxisComp:Ya}],formatAxisMap:aj});const sAe={light:"",dark:".dark"},A9=N.createContext(null);function k9(){const e=N.useContext(A9);if(!e)throw new Error("useChart must be used within a <ChartContainer />");return e}const Mi=N.forwardRef(({id:e,className:t,children:n,config:s,...a},i)=>{const o=N.useId(),l=`chart-${e||o.replace(/:/g,"")}`;return r.jsx(A9.Provider,{value:{config:s},children:r.jsxs("div",{"data-chart":l,ref:i,className:Le("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",t),...a,children:[r.jsx(aAe,{id:l,config:s}),r.jsx(Do,{children:n})]})})});Mi.displayName="Chart";const aAe=({id:e,config:t})=>{const n=Object.entries(t).filter(([s,a])=>a.theme||a.color);return n.length?r.jsx("style",{dangerouslySetInnerHTML:{__html:Object.entries(sAe).map(([s,a])=>`
${a} [data-chart=${e}] {
${n.map(([i,o])=>{var d;const l=((d=o.theme)==null?void 0:d[s])||o.color;return l?`  --color-${i}: ${l};`:null}).join(`
`)}
}
`).join(`
`)}}):null},xd=ui,Hp=N.forwardRef(({active:e,payload:t,className:n,indicator:s="dot",hideLabel:a=!1,hideIndicator:i=!1,label:o,labelFormatter:l,labelClassName:d,formatter:u,color:h,nameKey:m,labelKey:p},g)=>{const{config:y}=k9(),x=N.useMemo(()=>{var _;if(a||!(t!=null&&t.length))return null;const[j]=t,b=`${p||j.dataKey||j.name||"value"}`,S=T2(y,j,b),C=!p&&typeof o=="string"?((_=y[o])==null?void 0:_.label)||o:S==null?void 0:S.label;return l?r.jsx("div",{className:Le("font-medium",d),children:l(C,t)}):C?r.jsx("div",{className:Le("font-medium",d),children:C}):null},[o,l,t,a,d,y,p]);if(!e||!(t!=null&&t.length))return null;const v=t.length===1&&s!=="dot";return r.jsxs("div",{ref:g,className:Le("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",n),children:[v?null:x,r.jsx("div",{className:"grid gap-1.5",children:t.map((j,b)=>{const S=`${m||j.name||j.dataKey||"value"}`,C=T2(y,j,S),_=h||j.payload.fill||j.color;return r.jsx("div",{className:Le("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground",s==="dot"&&"items-center"),children:u&&(j==null?void 0:j.value)!==void 0&&j.name?u(j.value,j.name,j,b,j.payload):r.jsxs(r.Fragment,{children:[C!=null&&C.icon?r.jsx(C.icon,{}):!i&&r.jsx("div",{className:Le("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":s==="dot","w-1":s==="line","w-0 border-[1.5px] border-dashed bg-transparent":s==="dashed","my-0.5":v&&s==="dashed"}),style:{"--color-bg":_,"--color-border":_}}),r.jsxs("div",{className:Le("flex flex-1 justify-between leading-none",v?"items-end":"items-center"),children:[r.jsxs("div",{className:"grid gap-1.5",children:[v?x:null,r.jsx("span",{className:"text-muted-foreground",children:(C==null?void 0:C.label)||j.name})]}),j.value&&r.jsx("span",{className:"font-mono font-medium tabular-nums text-foreground",children:j.value.toLocaleString()})]})]})},j.dataKey)})})]})});Hp.displayName="ChartTooltip";const iAe=N.forwardRef(({className:e,hideIcon:t=!1,payload:n,verticalAlign:s="bottom",nameKey:a},i)=>{const{config:o}=k9();return n!=null&&n.length?r.jsx("div",{ref:i,className:Le("flex items-center justify-center gap-4",s==="top"?"pb-3":"pt-3",e),children:n.map(l=>{const d=`${a||l.dataKey||"value"}`,u=T2(o,l,d);return r.jsxs("div",{className:Le("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[u!=null&&u.icon&&!t?r.jsx(u.icon,{}):r.jsx("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:l.color}}),u==null?void 0:u.label]},l.value)})}):null});iAe.displayName="ChartLegend";function T2(e,t,n){if(typeof t!="object"||t===null)return;const s="payload"in t&&typeof t.payload=="object"&&t.payload!==null?t.payload:void 0;let a=n;return n in t&&typeof t[n]=="string"?a=t[n]:s&&n in s&&typeof s[n]=="string"&&(a=s[n]),a in e?e[a]:e[n]}const oAe=({data:e,config:t,xAxisDataKey:n,lines:s,height:a=300,showGrid:i=!0,showTooltip:o=!0,className:l=""})=>{const{theme:d}=cd(),{isRTL:u}=rt();return r.jsx(Mi,{config:t,className:l,children:r.jsx(Do,{width:"100%",height:a,children:r.jsxs(eAe,{data:e,margin:{top:20,right:u?12:20,left:u?20:12,bottom:20},children:[i&&r.jsx(Wm,{strokeDasharray:"3 3",stroke:"hsl(var(--border))",opacity:.3}),r.jsx(Qa,{dataKey:n,stroke:"hsl(var(--muted-foreground))",fontSize:12,tickLine:!1,axisLine:!1}),r.jsx(Ya,{stroke:"hsl(var(--muted-foreground))",fontSize:12,tickLine:!1,axisLine:!1,orientation:u?"right":"left"}),o&&r.jsx(xd,{cursor:{stroke:"hsl(var(--muted-foreground))",strokeWidth:1},content:r.jsx(Hp,{})}),s.map((h,m)=>r.jsx(Wp,{type:h.type||"monotone",dataKey:h.dataKey,stroke:h.stroke||`var(--color-${h.dataKey})`,strokeWidth:h.strokeWidth||2,dot:{fill:h.stroke||`var(--color-${h.dataKey})`,strokeWidth:2,r:4},activeDot:{r:6,stroke:h.stroke||`var(--color-${h.dataKey})`,strokeWidth:2}},h.dataKey))]})})})},lAe=({data:e,config:t,xAxisDataKey:n,bars:s,height:a=300,showGrid:i=!0,showTooltip:o=!0,className:l="",layout:d="vertical"})=>{const{theme:u}=cd(),{isRTL:h}=rt();return r.jsx(Mi,{config:t,className:l,children:r.jsx(Do,{width:"100%",height:a,children:r.jsxs(C9,{layout:d,data:e,margin:{top:20,right:h?12:20,left:h?20:12,bottom:20},children:[i&&r.jsx(Wm,{strokeDasharray:"3 3",stroke:"hsl(var(--border))",opacity:.3}),r.jsx(Qa,{type:d==="vertical"?"number":"category",dataKey:d==="horizontal"?n:void 0,stroke:"hsl(var(--muted-foreground))",fontSize:12,tickLine:!1,axisLine:!1}),r.jsx(Ya,{type:d==="vertical"?"category":"number",dataKey:d==="vertical"?n:void 0,stroke:"hsl(var(--muted-foreground))",fontSize:12,tickLine:!1,axisLine:!1,orientation:h?"right":"left",width:120}),o&&r.jsx(xd,{cursor:{fill:u==="dark"?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)"},content:r.jsx(Hp,{})}),s.map((m,p)=>r.jsx(Xl,{dataKey:m.dataKey,fill:m.fill||`var(--color-${m.dataKey})`,radius:m.radius||[4,4,0,0]},m.dataKey))]})})})},mO=({data:e,config:t,xAxisDataKey:n,areas:s,height:a=300,showGrid:i=!0,showTooltip:o=!0,className:l=""})=>{const{theme:d}=cd(),{isRTL:u}=rt();return r.jsx(Mi,{config:t,className:l,children:r.jsx(Do,{width:"100%",height:a,children:r.jsxs(nAe,{data:e,margin:{top:20,right:u?12:20,left:u?20:12,bottom:20},children:[i&&r.jsx(Wm,{strokeDasharray:"3 3",stroke:"hsl(var(--border))",opacity:.3}),r.jsx(Qa,{dataKey:n,stroke:"hsl(var(--muted-foreground))",fontSize:12,tickLine:!1,axisLine:!1}),r.jsx(Ya,{stroke:"hsl(var(--muted-foreground))",fontSize:12,tickLine:!1,axisLine:!1,orientation:u?"right":"left"}),o&&r.jsx(xd,{cursor:{stroke:"hsl(var(--muted-foreground))",strokeWidth:1},content:r.jsx(Hp,{})}),s.map((h,m)=>r.jsx(Jl,{type:h.type||"monotone",dataKey:h.dataKey,stackId:h.stackId,stroke:h.stroke||`var(--color-${h.dataKey})`,fill:h.fill||`var(--color-${h.dataKey})`,fillOpacity:h.fillOpacity||.3,strokeWidth:2},h.dataKey))]})})})},cAe=({data:e,config:t,frequencyDataKey:n="frequency",rangeDataKey:s="range",height:a=300,showGrid:i=!0,showTooltip:o=!0,className:l="",barColor:d})=>{const{theme:u}=cd(),{isRTL:h}=rt();return r.jsx(Mi,{config:t,className:l,children:r.jsx(Do,{width:"100%",height:a,children:r.jsxs(C9,{data:e,margin:{top:20,right:h?12:20,left:h?20:12,bottom:20},children:[i&&r.jsx(Wm,{strokeDasharray:"3 3",stroke:"hsl(var(--border))",opacity:.3}),r.jsx(Qa,{dataKey:s,stroke:"hsl(var(--muted-foreground))",fontSize:12,tickLine:!1,axisLine:!1,angle:-45,textAnchor:"end",height:60}),r.jsx(Ya,{stroke:"hsl(var(--muted-foreground))",fontSize:12,tickLine:!1,axisLine:!1,orientation:h?"right":"left"}),o&&r.jsx(xd,{cursor:{fill:u==="dark"?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)"},content:r.jsx(Hp,{})}),r.jsx(Xl,{dataKey:n,fill:d||`var(--color-${n})`,radius:[2,2,0,0]})]})})})},dAe=(e,t=10,n)=>{if(e.length===0)return[];const s=Math.min(...e),i=(Math.max(...e)-s)/t,o=[];for(let l=0;l<t;l++){const d=s+l*i,u=s+(l+1)*i,h=`${d.toFixed(1)}-${u.toFixed(1)}`,m=e.filter(p=>p>=d&&(l===t-1?p<=u:p<u)).length;o.push({range:h,frequency:m,binStart:d,binEnd:u})}return o},uAe=["hsl(var(--primary))","hsl(var(--secondary))","hsl(var(--destructive))","hsl(var(--warning))","hsl(var(--success))","hsl(var(--info))","hsl(220 70% 50%)","hsl(280 70% 50%)","hsl(320 70% 50%)","hsl(40 70% 50%)"],E9=({data:e,config:t,height:n=300,showTooltip:s=!0,showLegend:a=!0,className:i="",innerRadius:o=0,outerRadius:l,paddingAngle:d=2,dataKey:u="value",nameKey:h="name",colors:m=uAe})=>{rt();const p=e.map((y,x)=>({...y,fill:y.fill||m[x%m.length]})),g=y=>{var b;if(!y.active||!((b=y.payload)!=null&&b[0]))return null;const x=y.payload[0],v=p.reduce((S,C)=>S+C.value,0),j=(x.value/v*100).toFixed(1);return r.jsxs("div",{className:"rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"h-2.5 w-2.5 rounded-full",style:{backgroundColor:x.payload.fill}}),r.jsx("span",{className:"font-medium",children:x.payload[h]})]}),r.jsx("div",{className:"mt-1",children:r.jsxs("span",{className:"font-mono font-medium tabular-nums",children:[x.value," (",j,"%)"]})})]})};return r.jsx(Mi,{config:t,className:i,children:r.jsx(Do,{width:"100%",height:n,children:r.jsxs(P9,{children:[r.jsx(Ha,{data:p,cx:"50%",cy:"50%",labelLine:!1,outerRadius:l||Math.min(n,300)/3,innerRadius:o,fill:"#8884d8",dataKey:u,paddingAngle:d,children:p.map((y,x)=>r.jsx(ed,{fill:y.fill},`cell-${x}`))}),s&&r.jsx(xd,{content:g}),a&&r.jsx(po,{wrapperStyle:{paddingTop:"20px",fontSize:"12px"}})]})})})},mAe=e=>r.jsx(E9,{...e,innerRadius:60}),hAe=({data:e,config:t,height:n=400,showTooltip:s=!0,showLegend:a=!0,className:i="",radarProps:o=[]})=>{rt();const l=d=>!d.active||!d.payload?null:r.jsxs("div",{className:"rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",children:[r.jsx("div",{className:"font-medium mb-1",children:d.label}),d.payload.map((u,h)=>r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"h-2.5 w-2.5 rounded-full",style:{backgroundColor:u.stroke}}),r.jsxs("span",{className:"font-medium",children:[u.dataKey,":"]}),r.jsx("span",{className:"font-mono tabular-nums",children:u.value})]},h))]});return r.jsx(Mi,{config:t,className:i,children:r.jsx(Do,{width:"100%",height:n,children:r.jsxs(tAe,{cx:"50%",cy:"50%",outerRadius:"80%",data:e,children:[r.jsx(gF,{}),r.jsx(Um,{dataKey:"subject",tick:{fontSize:12},className:"fill-foreground"}),r.jsx(qm,{angle:90,domain:[0,"dataMax"],tick:{fontSize:10},className:"fill-muted-foreground"}),o.map((d,u)=>r.jsx(Vp,{name:d.dataKey,dataKey:d.dataKey,stroke:d.stroke,fill:d.fill,fillOpacity:d.fillOpacity||.3,strokeWidth:d.strokeWidth||2},u)),s&&r.jsx(xd,{content:l}),a&&r.jsx(po,{wrapperStyle:{paddingTop:"20px",fontSize:"12px"}})]})})})},fAe=({data:e=[],config:t,height:n=400,showTooltip:s=!0,showLegend:a=!0,className:i="",xAxisLabel:o,yAxisLabel:l,scatters:d=[],showGrid:u=!0,showReferenceLines:h=!1,xDomain:m,yDomain:p})=>{rt();const g=d.length>0?d:[{dataKey:"default",data:e,fill:"hsl(var(--primary))",name:"Data Points"}],y=x=>{var j;if(!x.active||!((j=x.payload)!=null&&j[0]))return null;const v=x.payload[0].payload;return r.jsx("div",{className:"rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",children:r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-medium",children:"X:"}),r.jsx("span",{className:"font-mono tabular-nums",children:v.x})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-medium",children:"Y:"}),r.jsx("span",{className:"font-mono tabular-nums",children:v.y})]}),v.z!==void 0&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-medium",children:"Z:"}),r.jsx("span",{className:"font-mono tabular-nums",children:v.z})]}),Object.entries(v).map(([b,S])=>b!=="x"&&b!=="y"&&b!=="z"&&typeof S=="string"?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("span",{className:"font-medium",children:[b,":"]}),r.jsx("span",{children:S})]},b):null)]})})};return r.jsx(Mi,{config:t,className:i,children:r.jsx(Do,{width:"100%",height:n,children:r.jsxs(rAe,{margin:{top:20,right:20,bottom:20,left:20},children:[u&&r.jsx(Wm,{strokeDasharray:"3 3",className:"stroke-muted"}),r.jsx(Qa,{type:"number",dataKey:"x",name:"x",domain:m,className:"text-xs fill-muted-foreground",label:{value:o,position:"insideBottom",offset:-10}}),r.jsx(Ya,{type:"number",dataKey:"y",name:"y",domain:p,className:"text-xs fill-muted-foreground",label:{value:l,angle:-90,position:"insideLeft"}}),g.map((x,v)=>r.jsx(Kp,{name:x.name||x.dataKey,data:x.data,fill:x.fill},v)),h&&r.jsxs(r.Fragment,{children:[r.jsx(fp,{x:0,stroke:"hsl(var(--muted-foreground))",strokeDasharray:"2 2"}),r.jsx(fp,{y:0,stroke:"hsl(var(--muted-foreground))",strokeDasharray:"2 2"})]}),s&&r.jsx(xd,{content:y}),a&&g.length>1&&r.jsx(po,{wrapperStyle:{paddingTop:"20px",fontSize:"12px"}})]})})})},pAe={low:"hsl(var(--destructive))",medium:"hsl(var(--warning))",high:"hsl(var(--success))",background:"hsl(var(--muted))"},pw=({value:e,min:t=0,max:n=100,config:s,height:a=300,className:i="",title:o,subtitle:l,unit:d="",colors:u=pAe,thresholds:h={low:33,medium:66}})=>{rt();const m=Math.min(Math.max((e-t)/(n-t)*100,0),100),p=m/100*180,g=()=>m<=h.low?u.low:m<=h.medium?u.medium:u.high;g(),100-m,u.background;const y=[{name:"background",value:100,fill:u.background}];return r.jsx(Mi,{config:s,className:i,children:r.jsxs("div",{className:"relative",children:[r.jsx(Do,{width:"100%",height:a,children:r.jsxs(P9,{children:[r.jsx(Ha,{data:y,cx:"50%",cy:"90%",startAngle:180,endAngle:0,innerRadius:"60%",outerRadius:"80%",dataKey:"value",children:y.map((x,v)=>r.jsx(ed,{fill:x.fill},`bg-cell-${v}`))}),r.jsx(Ha,{data:[{name:"value",value:m,fill:g()}],cx:"50%",cy:"90%",startAngle:180,endAngle:180-p,innerRadius:"60%",outerRadius:"80%",dataKey:"value",children:r.jsx(ed,{fill:g()})})]})}),r.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:r.jsxs("div",{className:"text-center",style:{marginTop:a*.2},children:[o&&r.jsx("h3",{className:"text-sm font-medium text-muted-foreground mb-1",children:o}),r.jsxs("div",{className:"text-3xl font-bold",style:{color:g()},children:[e.toLocaleString(),d]}),r.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[m.toFixed(1),"% of ",n,d]}),l&&r.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:l})]})}),r.jsxs("div",{className:"absolute bottom-4 left-0 right-0 flex justify-between px-8",children:[r.jsxs("span",{className:"text-xs text-muted-foreground",children:[t,d]}),r.jsxs("span",{className:"text-xs text-muted-foreground",children:[Math.round((t+n)/2),d]}),r.jsxs("span",{className:"text-xs text-muted-foreground",children:[n,d]})]})]})})},xAe=["hsl(var(--primary))","hsl(var(--secondary))","hsl(var(--success))","hsl(var(--warning))","hsl(var(--destructive))","hsl(var(--info))"],gAe=({data:e,config:t,height:n=400,className:s="",showTooltip:a=!0,colors:i=xAe,showPercentages:o=!0,showValues:l=!0})=>{const{isRTL:d}=rt(),u=Math.max(...e.map(m=>m.value)),h=e.length;return r.jsx(Mi,{config:t,className:s,children:r.jsxs("div",{className:"relative w-full",style:{height:n},children:[r.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 400 400",className:"overflow-visible",children:[e.map((m,p)=>{const g=m.value/u*100,y=g/100*300,x=p*(380/h)+10,v=Math.max(50,380/h-10),j=(400-y)/2,b=p<e.length-1?e[p+1].value/u*300:y*.8,S=(400-b)/2,C=m.fill||i[p%i.length],_=`M ${j} ${x} 
                         L ${j+y} ${x} 
                         L ${S+b} ${x+v} 
                         L ${S} ${x+v} Z`;return r.jsxs("g",{children:[r.jsx("path",{d:_,fill:C,stroke:"white",strokeWidth:"2",opacity:.8,className:"transition-opacity hover:opacity-100 cursor-pointer"}),r.jsx("text",{x:200,y:x+v/2,textAnchor:"middle",dominantBaseline:"central",className:"fill-white text-sm font-medium",style:{fontSize:"12px"},children:d&&m.nameAr||m.name}),r.jsxs("text",{x:200,y:x+v/2+16,textAnchor:"middle",dominantBaseline:"central",className:"fill-white text-xs",style:{fontSize:"10px"},children:[l&&`${m.value.toLocaleString()}`,l&&o&&" • ",o&&`${g.toFixed(1)}%`]}),p<e.length-1&&r.jsxs(r.Fragment,{children:[r.jsx("line",{x1:200,y1:x+v+5,x2:200,y2:x+v+15,stroke:"hsl(var(--muted-foreground))",strokeWidth:"2",markerEnd:"url(#arrowhead)"}),r.jsxs("text",{x:220,y:x+v+12,className:"fill-muted-foreground text-xs",style:{fontSize:"10px"},children:[(e[p+1].value/m.value*100).toFixed(1),"%"]})]})]},p)}),r.jsx("defs",{children:r.jsx("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"7",refX:"0",refY:"3.5",orient:"auto",children:r.jsx("polygon",{points:"0 0, 10 3.5, 0 7",fill:"hsl(var(--muted-foreground))"})})})]}),r.jsx("div",{className:"mt-4 flex flex-wrap gap-2 justify-center",children:e.map((m,p)=>{const g=m.fill||i[p%i.length],y=p>0?(m.value/e[p-1].value*100).toFixed(1):"100.0";return r.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[r.jsx("div",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:g}}),r.jsx("span",{className:"font-medium",children:d&&m.nameAr||m.name}),r.jsxs("span",{className:"text-muted-foreground",children:["(",y,"%)"]})]},p)})})]})})},hO=[{month:"Jan",monthAr:"يناير",users:400,sessions:240,pageViews:800},{month:"Feb",monthAr:"فبراير",users:300,sessions:139,pageViews:600},{month:"Mar",monthAr:"مارس",users:200,sessions:980,pageViews:1200},{month:"Apr",monthAr:"أبريل",users:278,sessions:390,pageViews:950},{month:"May",monthAr:"مايو",users:189,sessions:480,pageViews:780},{month:"Jun",monthAr:"يونيو",users:239,sessions:380,pageViews:890},{month:"Jul",monthAr:"يوليو",users:349,sessions:430,pageViews:1100}],zd=[{product:"Swedish Massage",productAr:"المساج السويدي",sales:186,revenue:16740,unitPrice:90,category:"Classic",categoryAr:"كلاسيكي"},{product:"Deep Tissue Massage",productAr:"مساج الأنسجة العميقة",sales:142,revenue:17040,unitPrice:120,category:"Therapeutic",categoryAr:"علاجي"},{product:"Hot Stone Therapy",productAr:"علاج الأحجار الساخنة",sales:98,revenue:14700,unitPrice:150,category:"Premium",categoryAr:"مميز"},{product:"Aromatherapy",productAr:"العلاج بالروائح العطرية",sales:89,revenue:9790,unitPrice:110,category:"Wellness",categoryAr:"العافية"},{product:"Thai Massage",productAr:"المساج التايلاندي",sales:76,revenue:9120,unitPrice:120,category:"Traditional",categoryAr:"تقليدي"},{product:"Reflexology",productAr:"علاج انعكاسي القدم",sales:64,revenue:5120,unitPrice:80,category:"Specialty",categoryAr:"تخصصي"}].sort((e,t)=>t.sales-e.sales),fO=[{name:"Desktop",nameAr:"سطح المكتب",value:65,fill:"hsl(var(--primary))"},{name:"Mobile",nameAr:"الجوال",value:25,fill:"hsl(var(--secondary))"},{name:"Tablet",nameAr:"اللوحي",value:10,fill:"hsl(var(--success))"}],vAe=dAe([120,150,180,200,220,180,160,190,210,170,140,160,180,200,230,190,170,150,160,180,200,220,240,260,180,200,190,170,160,150],8),yAe=[{time:"00:00",timeAr:"00:00",organic:45,paid:20,social:15,direct:25},{time:"04:00",timeAr:"04:00",organic:35,paid:15,social:10,direct:20},{time:"08:00",timeAr:"08:00",organic:85,paid:40,social:30,direct:45},{time:"12:00",timeAr:"12:00",organic:120,paid:60,social:45,direct:70},{time:"16:00",timeAr:"16:00",organic:100,paid:55,social:40,direct:60},{time:"20:00",timeAr:"20:00",organic:75,paid:35,social:25,direct:40}],jAe=[{subject:"Quality",subjectAr:"الجودة",swedish:95,deepTissue:88,hotStone:92,thai:85},{subject:"Popularity",subjectAr:"الشعبية",swedish:90,deepTissue:75,hotStone:60,thai:65},{subject:"Profit Margin",subjectAr:"هامش الربح",swedish:70,deepTissue:85,hotStone:95,thai:80},{subject:"Customer Satisfaction",subjectAr:"رضا العملاء",swedish:92,deepTissue:87,hotStone:94,thai:89},{subject:"Repeat Bookings",subjectAr:"الحجوزات المتكررة",swedish:88,deepTissue:82,hotStone:78,thai:85}],bAe=[{x:90,y:92,z:186,service:"Swedish Massage",serviceAr:"المساج السويدي"},{x:120,y:87,z:142,service:"Deep Tissue",serviceAr:"مساج الأنسجة العميقة"},{x:150,y:94,z:98,service:"Hot Stone",serviceAr:"علاج الأحجار الساخنة"},{x:110,y:85,z:89,service:"Aromatherapy",serviceAr:"العلاج بالروائح"},{x:120,y:89,z:76,service:"Thai Massage",serviceAr:"المساج التايلاندي"},{x:80,y:83,z:64,service:"Reflexology",serviceAr:"علاج انعكاسي القدم"}],wAe=[{name:"Website Visitors",nameAr:"زوار الموقع",value:1e4,fill:"hsl(var(--primary))"},{name:"Service Page Views",nameAr:"مشاهدات صفحات الخدمات",value:5500,fill:"hsl(var(--secondary))"},{name:"Booking Form Started",nameAr:"بدء ملء نموذج الحجز",value:2800,fill:"hsl(var(--success))"},{name:"Contact Info Entered",nameAr:"إدخال معلومات الاتصال",value:1900,fill:"hsl(var(--warning))"},{name:"Payment Completed",nameAr:"اكتمال الدفع",value:1350,fill:"hsl(var(--info))"}],pO={users:{label:"Users / المستخدمون",color:"hsl(var(--primary))"},sessions:{label:"Sessions / الجلسات",color:"hsl(var(--secondary))"},pageViews:{label:"Page Views / مشاهدات الصفحة",color:"hsl(var(--success))"}},NAe={sales:{label:"Sales / المبيعات",color:"hsl(var(--primary))"},revenue:{label:"Revenue / الإيرادات",color:"hsl(var(--secondary))"}},xO={desktop:{label:"Desktop / سطح المكتب",color:"hsl(var(--primary))"},mobile:{label:"Mobile / الجوال",color:"hsl(var(--secondary))"},tablet:{label:"Tablet / اللوحي",color:"hsl(var(--success))"}},SAe={frequency:{label:"Frequency / التكرار",color:"hsl(var(--warning))"}},_Ae={organic:{label:"Organic / عضوي",color:"hsl(var(--primary))"},paid:{label:"Paid / مدفوع",color:"hsl(var(--secondary))"},social:{label:"Social / اجتماعي",color:"hsl(var(--success))"},direct:{label:"Direct / مباشر",color:"hsl(var(--warning))"}},CAe={swedish:{label:"Swedish / السويدي",color:"hsl(var(--primary))"},deepTissue:{label:"Deep Tissue / الأنسجة العميقة",color:"hsl(var(--secondary))"},hotStone:{label:"Hot Stone / الأحجار الساخنة",color:"hsl(var(--success))"},thai:{label:"Thai / التايلاندي",color:"hsl(var(--warning))"}},PAe={price:{label:"Price ($) / السعر",color:"hsl(var(--primary))"},satisfaction:{label:"Satisfaction (%) / الرضا",color:"hsl(var(--secondary))"}},xw={value:{label:"Value / القيمة",color:"hsl(var(--primary))"}},AAe={conversion:{label:"Conversion / التحويل",color:"hsl(var(--primary))"}},kAe=()=>{const{isRTL:e}=rt(),[t,n]=N.useState("30days");return r.jsx(lt,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-foreground",children:e?"الإحصائيات والرسوم البيانية":"Statistics & Charts"}),r.jsx("p",{className:"text-muted-foreground",children:e?"تصور البيانات باستخدام الرسوم البيانية والإحصائيات المختلفة":"Visualize your data with various charts and statistical insights"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(ut,{value:t,onValueChange:n,children:[r.jsx(ct,{className:"w-40",children:r.jsx(mt,{})}),r.jsxs(dt,{children:[r.jsx(Ye,{value:"7days",children:e?"7 أيام":"Last 7 days"}),r.jsx(Ye,{value:"30days",children:e?"30 يوم":"Last 30 days"}),r.jsx(Ye,{value:"90days",children:e?"90 يوم":"Last 90 days"}),r.jsx(Ye,{value:"1year",children:e?"سنة واحدة":"Last year"})]})]}),r.jsxs(B,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:[r.jsx(OS,{className:"h-4 w-4"}),e?"تحديث":"Refresh"]}),r.jsxs(B,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:[r.jsx(Zg,{className:"h-4 w-4"}),e?"تصدير":"Export"]}),r.jsxs(B,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:[r.jsx(MS,{className:"h-4 w-4"}),e?"إعدادات":"Settings"]})]})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[r.jsx(Y,{className:"border-0 shadow-elegant",children:r.jsx(ee,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:e?"إجمالي الزيارات":"Total Visits"}),r.jsx("p",{className:"text-2xl font-bold",children:"24,567"}),r.jsxs("div",{className:"flex items-center gap-1 mt-2 text-success",children:[r.jsx(Un,{className:"h-4 w-4"}),r.jsx("span",{className:"text-sm",children:"+12.5%"})]})]}),r.jsx(fc,{className:"h-8 w-8 text-primary"})]})})}),r.jsx(Y,{className:"border-0 shadow-elegant",children:r.jsx(ee,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:e?"معدل التحويل":"Conversion Rate"}),r.jsx("p",{className:"text-2xl font-bold",children:"3.24%"}),r.jsxs("div",{className:"flex items-center gap-1 mt-2 text-success",children:[r.jsx(Un,{className:"h-4 w-4"}),r.jsx("span",{className:"text-sm",children:"+0.5%"})]})]}),r.jsx(xb,{className:"h-8 w-8 text-success"})]})})}),r.jsx(Y,{className:"border-0 shadow-elegant",children:r.jsx(ee,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:e?"متوسط وقت الاستجابة":"Avg Response Time"}),r.jsx("p",{className:"text-2xl font-bold",children:"187ms"}),r.jsxs("div",{className:"flex items-center gap-1 mt-2 text-warning",children:[r.jsx(Un,{className:"h-4 w-4"}),r.jsx("span",{className:"text-sm",children:"+2.1%"})]})]}),r.jsx(gb,{className:"h-8 w-8 text-warning"})]})})}),r.jsx(Y,{className:"border-0 shadow-elegant",children:r.jsx(ee,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:e?"النشاط الحالي":"Active Now"}),r.jsx("p",{className:"text-2xl font-bold",children:"1,234"}),r.jsxs("div",{className:"flex items-center gap-1 mt-2 text-primary",children:[r.jsx(fc,{className:"h-4 w-4"}),r.jsx("span",{className:"text-sm",children:e?"مباشر":"Live"})]})]}),r.jsx(fc,{className:"h-8 w-8 text-primary"})]})})})]}),r.jsxs(MR,{defaultValue:"performance",className:"space-y-6",children:[r.jsxs(k_,{className:"grid w-full grid-cols-4 lg:grid-cols-8",children:[r.jsxs(fs,{value:"performance",className:"flex items-center gap-2",children:[r.jsx(fc,{className:"h-4 w-4"}),e?"الأداء":"Performance"]}),r.jsxs(fs,{value:"sales",className:"flex items-center gap-2",children:[r.jsx(du,{className:"h-4 w-4"}),e?"المبيعات":"Sales"]}),r.jsxs(fs,{value:"devices",className:"flex items-center gap-2",children:[r.jsx(xg,{className:"h-4 w-4"}),e?"الأجهزة":"Devices"]}),r.jsxs(fs,{value:"response",className:"flex items-center gap-2",children:[r.jsx(gb,{className:"h-4 w-4"}),e?"الاستجابة":"Response"]}),r.jsxs(fs,{value:"traffic",className:"flex items-center gap-2",children:[r.jsx(xb,{className:"h-4 w-4"}),e?"الزيارات":"Traffic"]}),r.jsxs(fs,{value:"comparison",className:"flex items-center gap-2",children:[r.jsx(XA,{className:"h-4 w-4"}),e?"المقارنة":"Comparison"]}),r.jsxs(fs,{value:"correlation",className:"flex items-center gap-2",children:[r.jsx(QA,{className:"h-4 w-4"}),e?"الارتباط":"Correlation"]}),r.jsxs(fs,{value:"metrics",className:"flex items-center gap-2",children:[r.jsx(uV,{className:"h-4 w-4"}),e?"المقاييس":"Metrics"]})]}),r.jsx(ps,{value:"performance",className:"space-y-6",children:r.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[r.jsxs(Y,{className:"border-0 shadow-elegant",children:[r.jsx(Pe,{children:r.jsxs(Ie,{className:"flex items-center gap-2",children:[r.jsx(fc,{className:"h-5 w-5 text-primary"}),e?"مؤشرات الأداء الرئيسية":"Key Performance Indicators"]})}),r.jsx(ee,{children:r.jsx(oAe,{data:hO,config:pO,xAxisDataKey:e?"monthAr":"month",lines:[{dataKey:"users",stroke:"hsl(var(--primary))"},{dataKey:"sessions",stroke:"hsl(var(--secondary))"},{dataKey:"pageViews",stroke:"hsl(var(--success))"}],height:350})})]}),r.jsxs(Y,{className:"border-0 shadow-elegant",children:[r.jsx(Pe,{children:r.jsxs(Ie,{className:"flex items-center gap-2",children:[r.jsx(du,{className:"h-5 w-5 text-primary"}),e?"أداء المستخدمين":"User Performance"]})}),r.jsx(ee,{children:r.jsx(mO,{data:hO,config:pO,xAxisDataKey:e?"monthAr":"month",areas:[{dataKey:"users",fill:"hsl(var(--primary))",fillOpacity:.3,stackId:"1"},{dataKey:"sessions",fill:"hsl(var(--secondary))",fillOpacity:.3,stackId:"1"}],height:350})})]})]})}),r.jsx(ps,{value:"sales",className:"space-y-6",children:r.jsxs(Y,{className:"border-0 shadow-elegant",children:[r.jsx(Pe,{children:r.jsxs(Ie,{className:"flex items-center gap-2",children:[r.jsx(du,{className:"h-5 w-5 text-primary"}),e?"أداء الخدمات - المبيعات والإيرادات":"Service Performance - Sales & Revenue"]})}),r.jsx(ee,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 p-4 bg-muted/30 rounded-lg",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-2xl font-bold text-primary",children:zd.reduce((s,a)=>s+a.sales,0).toLocaleString()}),r.jsx("p",{className:"text-xs text-muted-foreground",children:e?"إجمالي المبيعات":"Total Sales"})]}),r.jsxs("div",{className:"text-center",children:[r.jsxs("p",{className:"text-2xl font-bold text-success",children:["$",zd.reduce((s,a)=>s+a.revenue,0).toLocaleString()]}),r.jsx("p",{className:"text-xs text-muted-foreground",children:e?"إجمالي الإيرادات":"Total Revenue"})]}),r.jsxs("div",{className:"text-center",children:[r.jsxs("p",{className:"text-2xl font-bold text-warning",children:["$",Math.round(zd.reduce((s,a)=>s+a.revenue,0)/zd.reduce((s,a)=>s+a.sales,0))]}),r.jsx("p",{className:"text-xs text-muted-foreground",children:e?"متوسط السعر":"Avg. Price"})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:e?"الخدمات مرتبة حسب الأداء (الأعلى مبيعاً أولاً)":"Services ranked by performance (highest sales first)"}),r.jsxs("div",{className:"flex items-center gap-4 text-xs",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-primary rounded"}),r.jsx("span",{children:e?"عدد المبيعات":"Sales Volume"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-secondary rounded"}),r.jsx("span",{children:e?"الإيرادات ($)":"Revenue ($)"})]})]})]}),r.jsx(lAe,{data:zd,config:NAe,xAxisDataKey:e?"productAr":"product",bars:[{dataKey:"sales",fill:"hsl(var(--primary))"},{dataKey:"revenue",fill:"hsl(var(--secondary))"}],height:400,layout:"vertical"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("h4",{className:"text-sm font-medium text-foreground",children:e?"تفاصيل الخدمات":"Service Details"}),r.jsx("div",{className:"grid gap-2",children:zd.map((s,a)=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/20 rounded-md",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("span",{className:"text-xs font-medium text-muted-foreground w-6",children:["#",a+1]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium",children:e?s.productAr:s.product}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:[e?s.categoryAr:s.category," • $",s.unitPrice,e?" للجلسة":" per session"]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"text-sm font-bold",children:[s.sales," ",e?"مبيعة":"sales"]}),r.jsxs("p",{className:"text-xs text-success",children:["$",s.revenue.toLocaleString()]})]})]},s.product))})]})]})})]})}),r.jsx(ps,{value:"devices",className:"space-y-6",children:r.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[r.jsxs(Y,{className:"border-0 shadow-elegant",children:[r.jsx(Pe,{children:r.jsxs(Ie,{className:"flex items-center gap-2",children:[r.jsx(xg,{className:"h-5 w-5 text-primary"}),e?"توزيع الأجهزة":"Device Distribution"]})}),r.jsx(ee,{children:r.jsx(E9,{data:fO.map(s=>({...s,name:e?s.nameAr:s.name})),config:xO,height:300})})]}),r.jsxs(Y,{className:"border-0 shadow-elegant",children:[r.jsx(Pe,{children:r.jsxs(Ie,{className:"flex items-center gap-2",children:[r.jsx(xg,{className:"h-5 w-5 text-primary"}),e?"توزيع الأجهزة (دونات)":"Device Distribution (Donut)"]})}),r.jsx(ee,{children:r.jsx(mAe,{data:fO.map(s=>({...s,name:e?s.nameAr:s.name})),config:xO,height:300})})]})]})}),r.jsx(ps,{value:"response",className:"space-y-6",children:r.jsxs(Y,{className:"border-0 shadow-elegant",children:[r.jsx(Pe,{children:r.jsxs(Ie,{className:"flex items-center gap-2",children:[r.jsx(gb,{className:"h-5 w-5 text-primary"}),e?"توزيع أوقات الاستجابة":"Response Time Distribution"]})}),r.jsx(ee,{children:r.jsx(cAe,{data:vAe,config:SAe,height:400,barColor:"hsl(var(--warning))"})})]})}),r.jsx(ps,{value:"traffic",className:"space-y-6",children:r.jsxs(Y,{className:"border-0 shadow-elegant",children:[r.jsx(Pe,{children:r.jsxs(Ie,{className:"flex items-center gap-2",children:[r.jsx(xb,{className:"h-5 w-5 text-primary"}),e?"مصادر الزيارات عبر الوقت":"Traffic Sources Over Time"]})}),r.jsx(ee,{children:r.jsx(mO,{data:yAe,config:_Ae,xAxisDataKey:e?"timeAr":"time",areas:[{dataKey:"organic",fill:"hsl(var(--primary))",stackId:"1"},{dataKey:"paid",fill:"hsl(var(--secondary))",stackId:"1"},{dataKey:"social",fill:"hsl(var(--success))",stackId:"1"},{dataKey:"direct",fill:"hsl(var(--warning))",stackId:"1"}],height:400})})]})}),r.jsx(ps,{value:"comparison",className:"space-y-6",children:r.jsx("div",{className:"grid gap-6",children:r.jsxs(Y,{className:"border-0 shadow-elegant",children:[r.jsx(Pe,{children:r.jsxs(Ie,{className:"flex items-center gap-2",children:[r.jsx(XA,{className:"h-5 w-5 text-primary"}),e?"مقارنة الخدمات متعددة الأبعاد":"Multi-dimensional Service Comparison"]})}),r.jsx(ee,{children:r.jsx(hAe,{data:jAe.map(s=>({...s,subject:e?s.subjectAr:s.subject})),config:CAe,radarProps:[{dataKey:"swedish",stroke:"hsl(var(--primary))",fill:"hsl(var(--primary))",fillOpacity:.1},{dataKey:"deepTissue",stroke:"hsl(var(--secondary))",fill:"hsl(var(--secondary))",fillOpacity:.1},{dataKey:"hotStone",stroke:"hsl(var(--success))",fill:"hsl(var(--success))",fillOpacity:.1},{dataKey:"thai",stroke:"hsl(var(--warning))",fill:"hsl(var(--warning))",fillOpacity:.1}],height:500})})]})})}),r.jsx(ps,{value:"correlation",className:"space-y-6",children:r.jsxs(Y,{className:"border-0 shadow-elegant",children:[r.jsx(Pe,{children:r.jsxs(Ie,{className:"flex items-center gap-2",children:[r.jsx(QA,{className:"h-5 w-5 text-primary"}),e?"تحليل الارتباط: السعر مقابل الرضا":"Correlation Analysis: Price vs Satisfaction"]})}),r.jsxs(ee,{children:[r.jsx(fAe,{data:bAe,config:PAe,xAxisLabel:e?"السعر ($)":"Price ($)",yAxisLabel:e?"رضا العملاء (%)":"Customer Satisfaction (%)",xDomain:[70,160],yDomain:[80,100],showReferenceLines:!1,height:450}),r.jsxs("div",{className:"mt-4 p-4 bg-muted/30 rounded-lg",children:[r.jsx("h4",{className:"text-sm font-medium mb-2",children:e?"نتائج التحليل":"Analysis Results"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:e?"تظهر البيانات ارتباط إيجابي ضعيف بين السعر ورضا العملاء. الخدمات المميزة تحقق رضا أعلى رغم السعر المرتفع.":"Data shows a weak positive correlation between price and customer satisfaction. Premium services achieve higher satisfaction despite higher prices."})]})]})]})}),r.jsx(ps,{value:"metrics",className:"space-y-6",children:r.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[r.jsx(Y,{className:"border-0 shadow-elegant",children:r.jsx(ee,{className:"p-6",children:r.jsx(pw,{value:87,max:100,config:xw,title:e?"رضا العملاء العام":"Overall Customer Satisfaction",subtitle:e?"متوسط جميع الخدمات":"Average across all services",unit:"%",height:250,colors:{low:"hsl(var(--destructive))",medium:"hsl(var(--warning))",high:"hsl(var(--success))",background:"hsl(var(--muted))"}})})}),r.jsx(Y,{className:"border-0 shadow-elegant",children:r.jsx(ee,{className:"p-6",children:r.jsx(pw,{value:2340,max:3e3,config:xw,title:e?"الهدف الشهري":"Monthly Target",subtitle:e?"الحجوزات المكتملة":"Completed bookings",unit:"",height:250,thresholds:{low:40,medium:70}})})}),r.jsx(Y,{className:"border-0 shadow-elegant",children:r.jsx(ee,{className:"p-6",children:r.jsx(pw,{value:94.5,max:100,config:xw,title:e?"وقت التشغيل":"System Uptime",subtitle:e?"آخر 30 يوماً":"Last 30 days",unit:"%",height:250,colors:{low:"hsl(var(--destructive))",medium:"hsl(var(--warning))",high:"hsl(var(--success))",background:"hsl(var(--muted))"},thresholds:{low:95,medium:98}})})}),r.jsxs(Y,{className:"border-0 shadow-elegant lg:col-span-3",children:[r.jsx(Pe,{children:r.jsxs(Ie,{className:"flex items-center gap-2",children:[r.jsx(Ru,{className:"h-5 w-5 text-primary"}),e?"مسار تحويل الحجوزات":"Booking Conversion Funnel"]})}),r.jsx(ee,{children:r.jsx(gAe,{data:wAe,config:AAe,height:450,showPercentages:!0,showValues:!0})})]})]})})]})]})})},EAe="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2032%2032'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20fill='%23000000'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3cdefs%3e%3cclipPath%20id='clip-hourglass'%3e%3crect%20width='32'%20height='32'/%3e%3c/clipPath%3e%3c/defs%3e%3cg%20id='hourglass'%20clip-path='url(%23clip-hourglass)'%3e%3cg%20id='Group_2130'%20data-name='Group%202130'%20transform='translate(-208%20-364)'%3e%3cg%20id='Group_2129'%20data-name='Group%202129'%3e%3cg%20id='Group_2128'%20data-name='Group%202128'%3e%3cpath%20id='Path_3790'%20data-name='Path%203790'%20d='M234.383,391.266h-.715c-.28-5.1-2.669-9.4-5.982-11.266,3.313-1.867,5.7-6.168,5.982-11.266h.715a2.367,2.367,0,1,0,0-4.733H213.617a2.367,2.367,0,1,0,0,4.733h.715c.28,5.1,2.669,9.4,5.982,11.266-3.313,1.867-5.7,6.168-5.982,11.266h-.715a2.367,2.367,0,1,0,0,4.733h20.766a2.367,2.367,0,1,0,0-4.733Zm-21.133-24.9a.367.367,0,0,1,.367-.366h20.766a.367.367,0,1,1,0,.733H213.617A.368.368,0,0,1,213.25,366.367Zm18.421,2.367a14.886,14.886,0,0,1-1.18,5.047L217.1,372.727a14.67,14.67,0,0,1-.569-2.255H218.5a.5.5,0,1,0,0-1h-2.1c-.026-.245-.052-.489-.067-.738ZM217.5,373.76l12.52.986C228.608,377.334,226.436,379,224,379,221.268,379,218.869,376.9,217.5,373.76ZM224,381c2.995,0,5.59,2.516,6.864,6.173l-3.6-.814c-.29-.065-.583-.141-.878-.217a13.914,13.914,0,0,0-2.132-.433,9.1,9.1,0,0,0-3.455.566c-.448.136-.894.271-1.337.371l-2.328.527C218.41,383.516,221.005,381,224,381Zm-7.2,7.273,2.881-.652c.465-.1.934-.246,1.4-.388a8.086,8.086,0,0,1,3.072-.528,13.265,13.265,0,0,1,1.976.4c.3.078.608.157.907.224l4.151.939a15.516,15.516,0,0,1,.475,2.993H216.329A15.516,15.516,0,0,1,216.8,388.273ZM234.383,394H213.617a.367.367,0,1,1,0-.733h20.766a.367.367,0,1,1,0,.733Z'%20fill='%23000000'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e",TAe="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2032%2032'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20fill='%23000000'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3cdefs%3e%3cclipPath%20id='clip-compass'%3e%3crect%20width='32'%20height='32'/%3e%3c/clipPath%3e%3c/defs%3e%3cg%20id='compass'%20clip-path='url(%23clip-compass)'%3e%3cg%20id='Group_2146'%20data-name='Group%202146'%20transform='translate(-156%20-364)'%3e%3cg%20id='Group_2133'%20data-name='Group%202133'%3e%3cg%20id='Group_2132'%20data-name='Group%202132'%3e%3cg%20id='Group_2131'%20data-name='Group%202131'%3e%3cpath%20id='Path_3791'%20data-name='Path%203791'%20d='M172,364.167A15.833,15.833,0,1,0,187.833,380,15.851,15.851,0,0,0,172,364.167Zm0,29.666A13.833,13.833,0,1,1,185.833,380,13.848,13.848,0,0,1,172,393.833Z'%20fill='%23000000'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3cg%20id='Group_2136'%20data-name='Group%202136'%3e%3cg%20id='Group_2135'%20data-name='Group%202135'%3e%3cg%20id='Group_2134'%20data-name='Group%202134'%3e%3cpath%20id='Path_3792'%20data-name='Path%203792'%20d='M174.4,379.314c0-.005-.009-.007-.012-.012a2.482,2.482,0,0,0-.62-1.07,2.4,2.4,0,0,0-1.048-.6c-.013-.01-.02-.026-.034-.034l-6.645-4.25a.5.5,0,0,0-.691.69l4.25,6.645s.009.006.012.01a2.409,2.409,0,0,0,1.693,1.695l.009.008,6.645,4.25a.494.494,0,0,0,.27.08.5.5,0,0,0,.421-.77Zm-3.887.751c0-.031-.007-.062-.007-.093a1.5,1.5,0,0,1,.1-.489c.013-.034.029-.067.044-.1a1.513,1.513,0,0,1,.294-.444,1.555,1.555,0,0,1,.27-.21c.026-.016.054-.028.082-.043a1.451,1.451,0,0,1,.228-.1c.032-.011.064-.02.1-.029a1.484,1.484,0,0,1,.25-.043c.029,0,.057-.007.087-.008a1.491,1.491,0,0,1,.345.026h0a1.5,1.5,0,0,1,.759,2.53,1.538,1.538,0,0,1-2.122,0A1.489,1.489,0,0,1,170.513,380.065ZM173,382.289a2.434,2.434,0,0,0,1.289-1.294l2.295,3.587Z'%20fill='%23000000'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3cg%20id='Group_2139'%20data-name='Group%202139'%3e%3cg%20id='Group_2138'%20data-name='Group%202138'%3e%3cg%20id='Group_2137'%20data-name='Group%202137'%3e%3cpath%20id='Path_3793'%20data-name='Path%203793'%20d='M172,372.871a.5.5,0,0,0-.5.5v1.2a.5.5,0,0,0,1,0v-.67a6.133,6.133,0,0,1,5.6,5.6h-.67a.5.5,0,0,0,0,1h1.195a.5.5,0,0,0,.5-.5A7.137,7.137,0,0,0,172,372.871Z'%20fill='%23000000'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3cg%20id='Group_2142'%20data-name='Group%202142'%3e%3cg%20id='Group_2141'%20data-name='Group%202141'%3e%3cg%20id='Group_2140'%20data-name='Group%202140'%3e%3cpath%20id='Path_3794'%20data-name='Path%203794'%20d='M172,384.934a.5.5,0,0,0-.5.5v.67a6.133,6.133,0,0,1-5.6-5.6h.67a.5.5,0,0,0,0-1h-1.195a.5.5,0,0,0-.5.5A7.137,7.137,0,0,0,172,387.129a.5.5,0,0,0,.5-.5v-1.2A.5.5,0,0,0,172,384.934Z'%20fill='%23000000'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3cg%20id='Group_2145'%20data-name='Group%202145'%3e%3cg%20id='Group_2144'%20data-name='Group%202144'%3e%3cg%20id='Group_2143'%20data-name='Group%202143'%3e%3cpath%20id='Path_3795'%20data-name='Path%203795'%20d='M172,368.063A11.938,11.938,0,1,0,183.937,380,11.951,11.951,0,0,0,172,368.063Zm.5,22.849v-1.537a.5.5,0,0,0-1,0v1.537A10.933,10.933,0,0,1,161.088,380.5h1.537a.5.5,0,0,0,0-1h-1.537A10.933,10.933,0,0,1,171.5,369.088v1.537a.5.5,0,0,0,1,0v-1.537A10.933,10.933,0,0,1,182.912,379.5h-1.537a.5.5,0,0,0,0,1h1.537A10.933,10.933,0,0,1,172.5,390.912Z'%20fill='%23000000'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e",OAe="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%23000000'%20width='800px'%20height='800px'%20viewBox='0%200%2050%2050'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cpath%20d='M24.982422%202%20A%201.0001%201.0001%200%200%200%2024.535156%202.1132812L3.5351562%2013.113281%20A%201.0001%201.0001%200%200%200%203%2014L3%2017%20A%201.0001%201.0001%200%200%200%204%2018L5%2018L5%2019.400391C5%2020.612292%205.8642937%2021.645028%207%2021.921875L7%2040.011719L4.0996094%2040.011719L4.265625%2040.025391C3.0336039%2039.818002%202%2040.874696%202%2042.03125L2%2044.779297C2%2045.959462%202.9340538%2047%204.0996094%2047L45.800781%2047C46.966337%2047%2047.900391%2046.037413%2047.900391%2044.880859L47.900391%2042.132812C47.900391%2040.976259%2046.966337%2040.011719%2045.800781%2040.011719L43%2040.011719L43%2021.921875C44.135706%2021.645028%2045%2020.612292%2045%2019.400391L45%2018L46%2018%20A%201.0001%201.0001%200%200%200%2047%2017L47%2014%20A%201.0001%201.0001%200%200%200%2046.464844%2013.113281L25.464844%202.1132812%20A%201.0001%201.0001%200%200%200%2024.982422%202%20z%20M%2025%204.1308594L45%2014.605469L45%2016L44.167969%2016%20A%201.0001%201.0001%200%200%200%2043.841797%2016L34.154297%2016%20A%201.0001%201.0001%200%200%200%2033.984375%2015.986328%20A%201.0001%201.0001%200%200%200%2033.839844%2016L30.167969%2016%20A%201.0001%201.0001%200%200%200%2029.841797%2016L20.154297%2016%20A%201.0001%201.0001%200%200%200%2019.984375%2015.986328%20A%201.0001%201.0001%200%200%200%2019.839844%2016L16.167969%2016%20A%201.0001%201.0001%200%200%200%2015.841797%2016L6.1542969%2016%20A%201.0001%201.0001%200%200%200%205.984375%2015.986328%20A%201.0001%201.0001%200%200%200%205.8398438%2016L5%2016L5%2014.605469L25%204.1308594%20z%20M%207%2018L15%2018L15%2019.400391C15%2019.781872%2014.781872%2020%2014.400391%2020L7.5996094%2020C7.2181279%2020%207%2019.781872%207%2019.400391L7%2018%20z%20M%2017%2018L19%2018L19%2019.400391C19%2020.612292%2019.864294%2021.645028%2021%2021.921875L21%2040.011719L15%2040.011719L15%2021.921875C16.135706%2021.645028%2017%2020.612292%2017%2019.400391L17%2018%20z%20M%2021%2018L29%2018L29%2019.400391C29%2019.781872%2028.781872%2020%2028.400391%2020L21.599609%2020C21.218128%2020%2021%2019.781872%2021%2019.400391L21%2018%20z%20M%2031%2018L33%2018L33%2019.400391C33%2020.612292%2033.864294%2021.645028%2035%2021.921875L35%2040.011719L29%2040.011719L29%2021.921875C30.135706%2021.645028%2031%2020.612292%2031%2019.400391L31%2018%20z%20M%2035%2018L43%2018L43%2019.400391C43%2019.781872%2042.781872%2020%2042.400391%2020L35.599609%2020C35.218128%2020%2035%2019.781872%2035%2019.400391L35%2018%20z%20M%209%2022L13%2022L13%2040L9%2040L9%2022%20z%20M%2023%2022L27%2022L27%2040L23%2040L23%2022%20z%20M%2037%2022L41%2022L41%2040L37%2040L37%2022%20z%20M%203.984375%2042.003906%20A%201.0001%201.0001%200%200%200%204.0996094%2042.011719L45.800781%2042.011719C45.835221%2042.011719%2045.900391%2042.067369%2045.900391%2042.132812L45.900391%2044.880859C45.900391%2044.946308%2045.835226%2045%2045.800781%2045L4.0996094%2045C4.0651649%2045%204%2045.023132%204%2044.779297L4%2042.03125C4%2042.008135%203.9913337%2042.007741%203.984375%2042.003906%20z'/%3e%3c/svg%3e",IAe="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2064%2064'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20aria-hidden='true'%20role='img'%20class='iconify%20iconify--emojione-monotone'%20preserveAspectRatio='xMidYMid%20meet'%20fill='%23000000'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3cpath%20d='M33.545%2026.613a15.755%2015.755%200%200%200-1.309-.067c-8.668%200-15.691%207.036-15.691%2015.718c0%202.59.637%205.025%201.744%207.178a17.388%2017.388%200%200%201-.873-5.43c0-9.205%207.111-16.729%2016.129-17.399'%20fill='%23000000'/%3e%3cpath%20d='M38.533%2055.139a17.759%2017.759%200%200%201-4.988%202.316a15.905%2015.905%200%200%200%206.918-2.578c7.203-4.842%209.158-14.5%204.367-21.578a15.286%2015.286%200%200%200-.777-1.028c4.427%207.733%202.115%2017.735-5.52%2022.868'%20fill='%23000000'/%3e%3cpath%20d='M44.656%2026.519v-8.698c0-.364-.199-.67-.48-.86L54%202H35.164L32%206.746L28.836%202H10l9.822%2014.96c-.281.19-.48.497-.48.861v8.698C14.861%2030.187%2012%2035.758%2012%2042c0%2011.045%208.955%2020%2020%2020c.682%200%201.354-.035%202.018-.102C44.115%2060.887%2052%2052.365%2052%2042c0-6.242-2.863-11.813-7.344-15.481M40.826%203h6.328l-8.826%2013.239l-3.164-4.746L40.826%203m.666%2017.985l.973-1.458c.053.125.082.261.082.404v4.219a.99.99%200%200%201-.297.7C39.25%2023.052%2035.752%2022%2032%2022a19.87%2019.87%200%200%200-10.252%202.851a1%201%200%200%201-.297-.701v-4.219c0-.143.031-.28.082-.404l.973%201.459h18.986zM16.846%203h6.328l11.324%2016.985H28.17L16.846%203M32%2059c-9.389%200-17-7.611-17-17c0-9.388%207.611-17%2017-17c9.387%200%2017%207.612%2017%2017c0%209.389-7.613%2017-17%2017'%20fill='%23000000'/%3e%3cpath%20d='M34.234%2049.207V31H30.39a3.034%203.034%200%200%201-3.034%203.035v3.793c.274%200%202.345-.156%203.034-.432v11.811h-3.034V53h9.912v-3.793h-3.034z'%20fill='%23000000'/%3e%3c/g%3e%3c/svg%3e",MAe="/admin/assets/admission-tickets-svgrepo-com-DjmfRm49.svg",LAe="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2064%2064'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20aria-hidden='true'%20role='img'%20class='iconify%20iconify--emojione-monotone'%20preserveAspectRatio='xMidYMid%20meet'%20fill='%23000000'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3cpath%20d='M33.126%2044.979c-2.951-2.363-7.736-2.363-10.687%200c-2.948%202.364-2.948%206.195%200%208.559c2.95%202.364%207.735%202.364%2010.687%200c2.949-2.364%202.949-6.195%200-8.559'%20fill='%23000000'/%3e%3cpath%20d='M21.786%2041.57c2.287-2.841%201.513-6.43-1.727-8.014c-3.241-1.583-7.72-.564-10.007%202.277c-2.284%202.841-1.512%206.43%201.727%208.014c3.242%201.585%207.722.565%2010.007-2.277'%20fill='%23000000'/%3e%3cpath%20d='M18.683%2028.018c2.189-2.446%201.66-5.713-1.183-7.297c-2.842-1.585-6.919-.887-9.109%201.559c-2.19%202.446-1.66%205.712%201.182%207.296c2.842%201.585%206.921.887%209.11-1.558'%20fill='%23000000'/%3e%3cpath%20d='M20.7%2019.308c2.718%201.582%206.669.98%208.823-1.341c2.155-2.322%201.7-5.485-1.017-7.066c-2.717-1.582-6.668-.981-8.822%201.34c-2.156%202.322-1.701%205.485%201.016%207.067'%20fill='%23000000'/%3e%3cpath%20d='M43.646%2015.271c2.42-1.237%202.689-3.667.6-5.43c-2.087-1.763-5.746-2.19-8.167-.954c-2.422%201.236-2.69%203.667-.601%205.43s5.748%202.19%208.168.954'%20fill='%23000000'/%3e%3cpath%20d='M52.475%2033.199c-2.164-.636-4.031-1.186-4.544-2.459c-.297-.738-.181-1.822.323-3.221c5.366-5.02%2013.394-13.109%2013.168-16.396c-.09-1.314-2.184-3.196-3.557-3.196l-.108.004c-1.486.102-3.757%202.068-6.183%204.73a10.075%2010.075%200%200%200-.781-1.761C48.248%206.515%2042.653%204%2035.444%204c-5.605%200-11.846%201.545-18.045%204.468c-7.957%203.752-13.9%2011.576-15.14%2019.934c-.922%206.206.18%2015.592%2010.658%2025.075C17.563%2057.684%2024.879%2060%2033.514%2060h.003c6.932%200%2013.955-1.543%2019.271-4.23C58.729%2052.765%2062%2048.609%2062%2044.066c0-8.066-5.506-9.685-9.525-10.867m5.39-23.772c.631%200%202.027%201.31%202.06%201.798c.191%202.783-9.723%2012.647-16.35%2018.529l-1.13-.983l-.739-.645c4.932-7.358%2013.366-18.509%2016.159-18.699M39.266%2031.06l1.522-1.745l1.731%201.51L41%2032.569l-1.734-1.509m12.62%2022.924C46.84%2056.536%2040.146%2058%2033.517%2058h-.002c-8.14%200-14.978-2.133-19.256-6.006C4.435%2043.105%203.386%2034.418%204.235%2028.695c1.146-7.714%206.648-14.943%2014.019-18.418C24.187%207.479%2030.132%206%2035.444%206c6.383%200%2011.473%202.207%2013.618%205.904c.462.795.772%201.645.952%202.535c-4.478%205.283-9.026%2012.053-9.895%2013.359l-2.777%203.184c-1.458-.015-2.918.622-3.368%202.161c-1.658%205.655-5.351%209.162-5.351%209.162s9.361-1.85%2011.152-3.952c.97-1.138%201.44-2.498%201.429-3.738l2.908-3.334c.388-.341.965-.854%201.676-1.496c-.004.624.082%201.194.286%201.702c.875%202.172%203.284%202.88%205.835%203.63c3.977%201.17%208.09%202.379%208.09%208.949c.001%203.75-2.882%207.272-8.113%209.918'%20fill='%23000000'/%3e%3cpath%20d='M54.121%2039.807c-2.95-2.363-7.736-2.363-10.686%200s-2.949%206.195%200%208.559s7.735%202.363%2010.686%200s2.95-6.196%200-8.559m-1.453%207.394c-2.147%201.721-5.633%201.721-7.779%200c-2.147-1.721-2.147-4.51%200-6.23c2.146-1.721%205.632-1.721%207.779%200s2.147%204.509%200%206.23'%20fill='%23000000'/%3e%3c/g%3e%3c/svg%3e",$Ae="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2032%2032'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20fill='%23000000'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3cdefs%3e%3cclipPath%20id='clip-present'%3e%3crect%20width='32'%20height='32'/%3e%3c/clipPath%3e%3c/defs%3e%3cg%20id='present'%20clip-path='url(%23clip-present)'%3e%3cg%20id='Group_3113'%20data-name='Group%203113'%20transform='translate(-312%20-104)'%3e%3cg%20id='Group_3112'%20data-name='Group%203112'%3e%3cg%20id='Group_3111'%20data-name='Group%203111'%3e%3cpath%20id='Path_3989'%20data-name='Path%203989'%20d='M343.858,114.114a.98.98,0,0,0-.059-.257.882.882,0,0,0-.055-.14.951.951,0,0,0-.184-.231.766.766,0,0,0-.061-.077c-.006,0-.014,0-.02-.01a.991.991,0,0,0-.379-.183h0l-5.671-1.287a2.986,2.986,0,0,0,.654-3.382,2.843,2.843,0,0,0-1.724-1.618c-.015-.005-.025-.017-.04-.021l-4.834-1.486c-.006,0-.012,0-.018,0s-.01-.006-.016-.008a2.574,2.574,0,0,0-2.485.395,30.676,30.676,0,0,0-2.95,3.955,4.911,4.911,0,0,0-1.088-.468l-5.034-1.414a1.03,1.03,0,0,0-.271-.037,2.711,2.711,0,0,0-2.892,2.893,2.783,2.783,0,0,0,.429,1.514l-4.254.966a.984.984,0,0,0-.382.184c-.006,0-.014,0-.02.01-.026.021-.038.054-.062.077a.971.971,0,0,0-.183.231.882.882,0,0,0-.055.14.98.98,0,0,0-.059.257c0,.026-.017.049-.017.076v16.163a1,1,0,0,0,.778.975l14.875,3.376a1.039,1.039,0,0,0,.444,0l14.875-3.376a1,1,0,0,0,.778-.975V114.19C343.875,114.163,343.86,114.14,343.858,114.114ZM328,116.541l-4.27-.969,2.324-.528,4.373.946Zm-8.526-2.779.065.014,3.391.952-1.307.3c-.015,0-.026.014-.04.019a.37.37,0,0,0-.07.026l-3.87-.879,1.777-.4C319.44,113.782,319.454,113.768,319.474,113.762Zm4.347-1.6c0-.444.061-.846.764-.889.374.161,1.391.74,2.549,1.433l-2.21.5-.406-.114A1.022,1.022,0,0,1,323.821,112.165Zm6.666,1.953,4.193.907-1.945.441-4.372-.946,2-.454A.513.513,0,0,0,330.487,114.118Zm4.71-5.228c.657-.251.887.1,1.065.49.3.647-.258,1.188-.527,1.4l-2.258.473C334.241,110.143,334.924,109.192,335.2,108.89Zm-13.964,8.166v14.111l-2.434-.552V116.5Zm1,.227L327,118.365v14.111l-4.767-1.082Zm14.968-.78v14.112l-3.527.8V117.3Zm-.213-2-4.372-.946,1.568-.356a.881.881,0,0,0,.2.088l3.978.9Zm-6.79-7.122c.12-.093.225-.172.723-.038l2.376.73c-.538.689-1.4,1.9-2.86,4.116a1.062,1.062,0,0,0-.077.168.929.929,0,0,0-.075-.064c-1.03-.643-1.851-1.143-2.524-1.541C328.831,109.182,329.938,107.625,330.2,107.379Zm-10.7,2.467,2.713.762a3.134,3.134,0,0,0-.387,1.557c0,.065.018.117.021.18l-1.767-.5a.522.522,0,0,0-.069,0c-.023-.005-.041-.02-.065-.023-.049-.007-1.213-.178-1.213-1.086C318.728,110.307,318.789,109.889,319.495,109.846Zm-5.37,5.6,3.674.834v14.112l-3.674-.834ZM329,118.365l3.674-.834v14.111l-3.674.834Zm12.875,11.189-3.674.834V116.276l3.674-.834Z'%20fill='%23000000'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e",DAe="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2032%2032'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20fill='%23000000'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3cdefs%3e%3cclipPath%20id='clip-shoppingcart'%3e%3crect%20width='32'%20height='32'/%3e%3c/clipPath%3e%3c/defs%3e%3cg%20id='shoppingcart'%20clip-path='url(%23clip-shoppingcart)'%3e%3cg%20id='Group_2537'%20data-name='Group%202537'%20transform='translate(0%20-260)'%3e%3cg%20id='Group_2520'%20data-name='Group%202520'%3e%3cg%20id='Group_2519'%20data-name='Group%202519'%3e%3cg%20id='Group_2518'%20data-name='Group%202518'%3e%3cg%20id='Group_2517'%20data-name='Group%202517'%3e%3cg%20id='Group_2516'%20data-name='Group%202516'%3e%3cg%20id='Group_2515'%20data-name='Group%202515'%3e%3cg%20id='Group_2514'%20data-name='Group%202514'%3e%3cg%20id='Group_2513'%20data-name='Group%202513'%3e%3cpath%20id='Path_3885'%20data-name='Path%203885'%20d='M28.6,264.583H9.979a1,1,0,0,0-1-1H3.4a1,1,0,1,0,0,2h2.31a1.071,1.071,0,0,0-.011.126l1.274,10.052a3.573,3.573,0,0,0-.74,2.177,3.65,3.65,0,0,0,3.646,3.645H28.209a1,1,0,1,0,0-2H9.875a1.64,1.64,0,0,1-1.433-.852l20.3-2.76a1,1,0,0,0,.865-.992v-9.4A1,1,0,0,0,28.6,264.583Zm-1,9.523-18.51,2.517-1.272-10.04H27.6Z'%20fill='%23000000'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/g%3e%3cg%20id='Group_2528'%20data-name='Group%202528'%3e%3cg%20id='Group_2527'%20data-name='Group%202527'%3e%3cg%20id='Group_2526'%20data-name='Group%202526'%3e%3cg%20id='Group_2525'%20data-name='Group%202525'%3e%3cg%20id='Group_2524'%20data-name='Group%202524'%3e%3cg%20id='Group_2523'%20data-name='Group%202523'%3e%3cg%20id='Group_2522'%20data-name='Group%202522'%3e%3cg%20id='Group_2521'%20data-name='Group%202521'%3e%3cpath%20id='Path_3886'%20data-name='Path%203886'%20d='M10.4,282a3.208,3.208,0,1,0,3.208,3.208A3.212,3.212,0,0,0,10.4,282Zm0,4.417a1.208,1.208,0,1,1,1.208-1.209A1.209,1.209,0,0,1,10.4,286.417Z'%20fill='%23000000'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/g%3e%3cg%20id='Group_2536'%20data-name='Group%202536'%3e%3cg%20id='Group_2535'%20data-name='Group%202535'%3e%3cg%20id='Group_2534'%20data-name='Group%202534'%3e%3cg%20id='Group_2533'%20data-name='Group%202533'%3e%3cg%20id='Group_2532'%20data-name='Group%202532'%3e%3cg%20id='Group_2531'%20data-name='Group%202531'%3e%3cg%20id='Group_2530'%20data-name='Group%202530'%3e%3cg%20id='Group_2529'%20data-name='Group%202529'%3e%3cpath%20id='Path_3887'%20data-name='Path%203887'%20d='M26.4,282a3.208,3.208,0,1,0,3.208,3.208A3.212,3.212,0,0,0,26.4,282Zm0,4.417a1.208,1.208,0,1,1,1.208-1.209A1.21,1.21,0,0,1,26.4,286.417Z'%20fill='%23000000'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e",RAe=()=>{const e=lr(),{isRTL:t}=rt();cd();const[n,s]=N.useState(!1),[a,i]=N.useState(!1),[o,l]=N.useState(!1),d=Wt({defaultValues:{email:"",password:""}}),u=async m=>{i(!0);try{if(await new Promise(p=>setTimeout(p,1500)),m.email&&m.password)be.success(t?"تم تسجيل الدخول بنجاح":"Login successful"),l(!0),setTimeout(()=>e("/"),2e3);else throw new Error("Invalid credentials")}catch{be.error(t?"خطأ في تسجيل الدخول":"Login failed")}finally{i(!1)}},h=()=>r.jsxs("div",{className:"relative w-[420px] h-[420px] mx-auto select-none",children:[r.jsx("img",{src:EAe,alt:"hourglass",className:"absolute top-0 left-1/2 -translate-x-1/2 w-12 md:w-16"}),r.jsx("img",{src:TAe,alt:"compass",className:"absolute top-1/4 right-0 w-14 md:w-20"}),r.jsx("img",{src:OAe,alt:"museum",className:"absolute top-1/2 left-0 w-16 md:w-24 -translate-y-1/2"}),r.jsx("img",{src:IAe,alt:"medal",className:"absolute bottom-1/4 left-1/3 w-12 md:w-16 animate-pulse"}),r.jsx("img",{src:MAe,alt:"tickets",className:"absolute bottom-0 left-1/2 -translate-x-1/2 w-14 md:w-20"}),r.jsx("img",{src:LAe,alt:"palette",className:"absolute top-1/3 left-1/4 w-14 md:w-20"}),r.jsx("img",{src:$Ae,alt:"present",className:"absolute bottom-1/3 right-1/4 w-14 md:w-20"}),r.jsx("img",{src:DAe,alt:"cart",className:"absolute top-2/3 right-0 w-16 md:w-24 -translate-y-1/2"})]});return r.jsxs("div",{className:"min-h-screen flex",children:[r.jsx("div",{className:`${t?"order-2":"order-1"} transition-all duration-700 ease-in-out bg-background flex items-center justify-center p-8
                    ${o?"w-0 overflow-hidden opacity-0":"flex-1"}`,children:r.jsxs("div",{className:"w-full max-w-md space-y-6",children:[r.jsxs("div",{className:"text-center space-y-2",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-xl gradient-primary mb-4",children:r.jsx("svg",{className:"w-6 h-6 text-primary-foreground",fill:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{d:"M19 7h-3V6a4 4 0 0 0-8 0v1H5a1 1 0 0 0-1 1v11a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V8a1 1 0 0 0-1-1zM10 6a2 2 0 0 1 4 0v1h-4V6zm6 13a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V9h2v1a1 1 0 0 0 2 0V9h4v1a1 1 0 0 0 2 0V9h2v10z"})})}),r.jsx("h1",{className:"text-3xl font-bold text-foreground",children:t?"مرحباً بك":"Welcome Back"}),r.jsx("p",{className:"text-muted-foreground",children:t?"سجل دخولك للوصول إلى لوحة التحكم":"Sign in to access your admin dashboard"})]}),r.jsxs(Y,{className:"border-border/50 shadow-lg",children:[r.jsx(Pe,{children:r.jsx(Ie,{className:"text-center",children:t?"تسجيل الدخول":"Sign In"})}),r.jsx(ee,{children:r.jsx(Kt,{...d,children:r.jsxs("form",{onSubmit:d.handleSubmit(u),className:"space-y-4",children:[r.jsx(ae,{control:d.control,name:"email",rules:{required:t?"البريد الإلكتروني مطلوب":"Email is required",pattern:{value:/\S+@\S+\.\S+/,message:t?"صيغة البريد الإلكتروني غير صحيحة":"Invalid email format"}},render:({field:m})=>r.jsxs(ne,{children:[r.jsx(re,{children:t?"البريد الإلكتروني":"Email Address"}),r.jsx(se,{children:r.jsx(Oe,{type:"email",placeholder:t?"مثال: admin@asala.com":"e.g., admin@asala.com",...m,className:"h-11"})}),r.jsx(fe,{})]})}),r.jsx(ae,{control:d.control,name:"password",rules:{required:t?"كلمة المرور مطلوبة":"Password is required",minLength:{value:6,message:t?"كلمة المرور يجب أن تكون 6 أحرف على الأقل":"Password must be at least 6 characters"}},render:({field:m})=>r.jsxs(ne,{children:[r.jsx(re,{children:t?"كلمة المرور":"Password"}),r.jsx(se,{children:r.jsxs("div",{className:"relative",children:[r.jsx(Oe,{type:n?"text":"password",placeholder:t?"أدخل كلمة المرور":"Enter your password",...m,className:"h-11 pr-10"}),r.jsx(B,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>s(!n),children:n?r.jsx(dV,{className:"h-4 w-4"}):r.jsx(Fr,{className:"h-4 w-4"})})]})}),r.jsx(fe,{})]})}),r.jsx(B,{type:"submit",className:"w-full h-11 text-base font-medium",disabled:a,children:a?r.jsxs(r.Fragment,{children:[r.jsx(dn,{className:"mr-2 h-4 w-4 animate-spin"}),t?"جاري تسجيل الدخول...":"Signing In..."]}):t?"تسجيل الدخول":"Sign In"})]})})})]}),r.jsx("div",{className:"text-center text-sm text-muted-foreground",children:r.jsxs("p",{children:[t?"نسيت كلمة المرور؟":"Forgot your password?"," ",r.jsx("button",{className:"text-primary hover:underline",children:t?"إعادة تعيين":"Reset here"})]})})]})}),r.jsx("div",{className:`gradient-primary flex items-center justify-center p-8 transition-all duration-700 ease-in-out ${t?"order-1":"order-2"}
                    ${o?"flex-[2]":"flex-1"}`,children:r.jsx("div",{className:"text-center",children:o?r.jsx("div",{className:"animate-fade-in-up space-y-6",children:r.jsx("h1",{className:"text-4xl md:text-6xl font-bold text-primary-foreground",children:t?"أهلاً وسهلاً":"Welcome"})}):r.jsxs(r.Fragment,{children:[r.jsx(h,{}),r.jsxs("div",{className:"mt-8 space-y-4",children:[r.jsx("h2",{className:"text-2xl font-bold text-primary-foreground",children:t?"لوحة تحكم أصالة":"Asala Admin Dashboard"}),r.jsx("p",{className:"text-primary-foreground/80 max-w-md mx-auto leading-relaxed",children:t?"منصة إدارية شاملة لإدارة المتاجر والمنتجات والعملاء بكفاءة عالية ومرونة تامة":"A comprehensive admin platform for managing stores, products, and customers with high efficiency and complete flexibility"})]})]})})})]})},zAe=()=>{const e=ba();return N.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),r.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),r.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},FAe=new $H,BAe=()=>r.jsx(BH,{client:FAe,children:r.jsx(nZ,{children:r.jsx(sZ,{children:r.jsx(aZ,{children:r.jsxs(yH,{children:[r.jsx(nW,{}),r.jsx(LW,{}),r.jsxs(ZG,{children:[r.jsx(iZ,{}),r.jsxs(FG,{children:[r.jsx(Bt,{path:"/login",element:r.jsx(RAe,{})}),r.jsx(Bt,{path:"/",element:r.jsx(KY,{})}),r.jsx(Bt,{path:"/orders",element:r.jsx(YY,{})}),r.jsx(Bt,{path:"/products",element:r.jsx(rX,{})}),r.jsx(Bt,{path:"/products/create",element:r.jsx(hte,{})}),r.jsx(Bt,{path:"/products/:id/edit",element:r.jsx(pte,{})}),r.jsx(Bt,{path:"/products/:id",element:r.jsx(fte,{})}),r.jsx(Bt,{path:"/posts",element:r.jsx(yte,{})}),r.jsx(Bt,{path:"/posts/create",element:r.jsx(jte,{})}),r.jsx(Bt,{path:"/posts/:id/edit",element:r.jsx(wte,{})}),r.jsx(Bt,{path:"/posts/:id",element:r.jsx(bte,{})}),r.jsx(Bt,{path:"/customers",element:r.jsx(WX,{})}),r.jsx(Bt,{path:"/providers",element:r.jsx(ZX,{})}),r.jsx(Bt,{path:"/providers/create",element:r.jsx(AJ,{})}),r.jsx(Bt,{path:"/providers/:id/edit",element:r.jsx(EJ,{})}),r.jsx(Bt,{path:"/providers/:id",element:r.jsx(kJ,{})}),r.jsx(Bt,{path:"/analytics",element:r.jsx(MJ,{})}),r.jsx(Bt,{path:"/languages",element:r.jsx(qJ,{})}),r.jsx(Bt,{path:"/categories",element:r.jsx(HJ,{})}),r.jsx(Bt,{path:"/categories/tree",element:r.jsx(GJ,{})}),r.jsx(Bt,{path:"/product-categories",element:r.jsx(JJ,{})}),r.jsx(Bt,{path:"/product-categories/tree",element:r.jsx(eee,{})}),r.jsx(Bt,{path:"/messages",element:r.jsx(see,{})}),r.jsx(Bt,{path:"/post-types",element:r.jsx(lee,{})}),r.jsx(Bt,{path:"/regions",element:r.jsx(mee,{})}),r.jsx(Bt,{path:"/locations",element:r.jsx(fee,{})}),r.jsx(Bt,{path:"/locations/create",element:r.jsx(kee,{})}),r.jsx(Bt,{path:"/locations/:id",element:r.jsx(Eee,{})}),r.jsx(Bt,{path:"/locations/edit/:id",element:r.jsx(Oee,{})}),r.jsx(Bt,{path:"/employees",element:r.jsx(Mee,{})}),r.jsx(Bt,{path:"/roles",element:r.jsx(Ree,{})}),r.jsx(Bt,{path:"/roles/:roleId/permissions",element:r.jsx(ate,{})}),r.jsx(Bt,{path:"/permissions",element:r.jsx(lte,{})}),r.jsx(Bt,{path:"/currencies",element:r.jsx(mte,{})}),r.jsx(Bt,{path:"/map-selector",element:r.jsx(Ste,{})}),r.jsx(Bt,{path:"/statistics",element:r.jsx(kAe,{})}),r.jsx(Bt,{path:"/settings",element:r.jsx(BJ,{})}),r.jsx(Bt,{path:"*",element:r.jsx(zAe,{})})]})]})]})})})})});FM(document.getElementById("root")).render(r.jsx(BAe,{}));
